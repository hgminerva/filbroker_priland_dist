webpackJsonp(["main"],{

/***/ "../../../../../src/$$_lazy_route_resource lazy recursive":
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncatched exception popping up in devtools
	return Promise.resolve().then(function() {
		throw new Error("Cannot find module '" + req + "'.");
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "../../../../../src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "../../../../../src/app/account/account.change.password.html":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "../../../../../src/app/account/account.change.password.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AccountChangePassword; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var AccountChangePassword = (function () {
    function AccountChangePassword() {
    }
    AccountChangePassword = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/account/account.change.password.html"),
            styles: [__webpack_require__("../../../../../src/app/account/account.style.css")],
        })
    ], AccountChangePassword);
    return AccountChangePassword;
}());



/***/ }),

/***/ "../../../../../src/app/account/account.login.html":
/***/ (function(module, exports) {

module.exports = "<!-- Navigation -->\r\n<nav class=\"navbar navbar-light bg-light static-top\">\r\n    <div class=\"container\">\r\n        <a routerLink=\"/\" class=\"navbar-brand custom-narbar-brand\">\r\n            <img src=\"../../assets/landing/img/filbroker logo.png\" />\r\n        </a>\r\n        <a routerLink=\"/account/register\" class=\"btn btn-primary\">Sign Up!</a>\r\n    </div>\r\n</nav>\r\n\r\n<br>\r\n<br>\r\n<br>\r\n\r\n<div class=\"container\">\r\n    <form>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-3\"></div>\r\n            <div class=\"col-md-6\">\r\n                <h2>Please Login</h2>\r\n                <hr>\r\n            </div>\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-3\"></div>\r\n            <div class=\"col-md-6\">\r\n                <div class=\"form-group has-danger\">\r\n                    <label class=\"sr-only\" for=\"username\">Username</label>\r\n                    <div class=\"input-group mb-2 mr-sm-2 mb-sm-0\">\r\n                        <div class=\"input-group-addon\" style=\"width: 150px\">\r\n                            <i class=\"fa fa-at\"></i>&nbsp;&nbsp;Username</div>\r\n                        <input type=\"text\" name=\"username\" class=\"form-control\" id=\"username\"\r\n                            [(ngModel)]=\"user.username\" required autofocus>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n                <div class=\"form-control-feedback\">\r\n                    <span class=\"text-danger align-middle\">\r\n                        {{user.usernameErrorMessage}}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-3\"></div>\r\n            <div class=\"col-md-6\">\r\n                <div class=\"form-group\">\r\n                    <label class=\"sr-only\" for=\"password\">Password</label>\r\n                    <div class=\"input-group mb-2 mr-sm-2 mb-sm-0\">\r\n                        <div class=\"input-group-addon\" style=\"width: 150px\">\r\n                            <i class=\"fa fa-key\"></i>&nbsp;&nbsp;Password</div>\r\n                        <input type=\"password\" name=\"password\" class=\"form-control\" id=\"password\"\r\n                            [(ngModel)]=\"user.password\" required>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n                <div class=\"form-control-feedback\">\r\n                    <span class=\"text-danger align-middle\">\r\n                        {{user.passwordErrorMessage}}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-3\"></div>\r\n            <div class=\"col-md-6\" style=\"padding-top: .35rem\">\r\n                <div class=\"form-check mb-2 mr-sm-2 mb-sm-0\">\r\n                    <label class=\"form-check-label\">\r\n                        <input class=\"form-check-input\" name=\"remember\" type=\"checkbox\">\r\n                        <span style=\"padding-bottom: .15rem\">Remember me</span>\r\n                    </label>\r\n                    <a routerLink=\"/account/register\" class=\"pull-right\">Register</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row\" style=\"padding-top: 1rem\">\r\n            <div class=\"col-md-3\"></div>\r\n            <div class=\"col-md-6\">\r\n                <button type=\"submit\" id=\"btnLogin\" class=\"btn btn-success\" (click)=\"btnLoginClick()\">\r\n                    <i class=\"fa fa-sign-in\"></i> {{login}}</button>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</div>\r\n\r\n<br>\r\n<br>\r\n<br>\r\n\r\n<!-- Footer -->\r\n<footer class=\"footer bg-light\">\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-6 h-100 text-center text-lg-left my-auto\">\r\n                <ul class=\"list-inline mb-2\">\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">About</a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">&sdot;</li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">Contact</a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">&sdot;</li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">Terms of Use</a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">&sdot;</li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">Privacy Policy</a>\r\n                    </li>\r\n                </ul>\r\n                <p class=\"text-muted small mb-4 mb-lg-0\">&copy; Filbroker 2018. All Rights Reserved.</p>\r\n            </div>\r\n            <div class=\"col-lg-6 h-100 text-center text-lg-right my-auto\">\r\n                <ul class=\"list-inline mb-0\">\r\n                    <li class=\"list-inline-item mr-3\">\r\n                        <a href=\"#\">\r\n                            <i class=\"fa fa-facebook fa-2x fa-fw\"></i>\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"list-inline-item mr-3\">\r\n                        <a href=\"#\">\r\n                            <i class=\"fa fa-twitter fa-2x fa-fw\"></i>\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">\r\n                            <i class=\"fa fa-instagram fa-2x fa-fw\"></i>\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</footer>"

/***/ }),

/***/ "../../../../../src/app/account/account.login.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AccountLogin; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__account_service__ = __webpack_require__("../../../../../src/app/account/account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var AccountLogin = (function () {
    function AccountLogin(accountService, router, toastr, viewContainer) {
        this.accountService = accountService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.title = 'Account Login';
        this.user = {
            fullname: "",
            username: "",
            password: "",
            confirmPassword: "",
            token: ""
        };
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    AccountLogin.prototype.ngOnInit = function () {
        if (localStorage.getItem("username") == null) {
            this.login = "Login";
        }
        else {
            this.router.navigate(['/menu']);
        }
    };
    AccountLogin.prototype.ngOnDestroy = function () {
        if (this.loginSub != null)
            this.loginSub.unsubscribe();
    };
    AccountLogin.prototype.btnLoginClick = function () {
        var _this = this;
        var btnLogin = document.getElementById("btnLogin");
        btnLogin.setAttribute("disabled", "true");
        btnLogin.innerHTML = "<i class='fa fa-sign-in'></i> Logging in...";
        var inpUsername = document.getElementById("username");
        var inpPassword = document.getElementById("password");
        inpUsername.setAttribute("disabled", "true");
        inpPassword.setAttribute("disabled", "true");
        this.accountService.login(this.user.username, this.user.password);
        this.loginSub = this.accountService.loginObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Login successful.");
                setTimeout(function () {
                    _this.router.navigate(['/menu']);
                }, 1000);
            }
            else if (data == 0) {
                _this.toastr.error("Login failed.");
                btnLogin.removeAttribute("disabled");
                btnLogin.innerHTML = "<i class='fa fa-sign-in'></i> Login";
                inpUsername.removeAttribute("disabled");
                inpPassword.removeAttribute("disabled");
            }
            if (_this.loginSub != null)
                _this.loginSub.unsubscribe();
        });
    };
    AccountLogin.prototype.loginClick = function () {
        if (localStorage.getItem("username") == null) {
            this.router.navigate(['/account/login']);
        }
        else {
            localStorage.removeItem('access_token');
            localStorage.removeItem('expires_in');
            localStorage.removeItem('token_type');
            localStorage.removeItem('username');
            this.login = "Login";
        }
    };
    AccountLogin = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/account/account.login.html"),
            styles: [__webpack_require__("../../../../../src/app/account/account.style.css")],
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__account_service__["a" /* AccountService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"]])
    ], AccountLogin);
    return AccountLogin;
}());



/***/ }),

/***/ "../../../../../src/app/account/account.register.html":
/***/ (function(module, exports) {

module.exports = "<!-- Navigation -->\r\n<nav class=\"navbar navbar-light bg-light static-top\">\r\n    <div class=\"container\">\r\n        <a routerLink=\"/\" class=\"navbar-brand custom-narbar-brand\">\r\n            <img src=\"../../assets/landing/img/filbroker logo.png\" />\r\n        </a>\r\n        <a routerLink=\"/account/login\" class=\"btn btn-primary\">Sign In!</a>\r\n    </div>\r\n</nav>\r\n\r\n<br>\r\n<br>\r\n<br>\r\n\r\n<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\">\r\n            <h2>Register</h2>\r\n            <hr>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\">\r\n            <div class=\"form-group has-danger\">\r\n                <label class=\"sr-only\" for=\"fullname\">Fullname</label>\r\n                <div class=\"input-group mb-2 mr-sm-2 mb-sm-0\">\r\n                    <div class=\"input-group-addon\" style=\"width: 180px\">\r\n                        <i class=\"fa fa-user\"></i>&nbsp;&nbsp;Fullname</div>\r\n                    <input type=\"text\" name=\"fullname\" class=\"form-control\" id=\"fullname\" [(ngModel)]=\"user.fullname\"\r\n                        required autofocus>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-md-3\">\r\n            <div class=\"form-control-feedback\">\r\n                <span class=\"text-danger align-middle\">\r\n                    {{user.fullnameErrorMessage}}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\">\r\n            <div class=\"form-group has-danger\">\r\n                <label class=\"sr-only\" for=\"username\">Username</label>\r\n                <div class=\"input-group mb-2 mr-sm-2 mb-sm-0\">\r\n                    <div class=\"input-group-addon\" style=\"width: 180px\">\r\n                        <i class=\"fa fa-key\"></i>&nbsp;&nbsp;Username</div>\r\n                    <input type=\"text\" name=\"username\" class=\"form-control\" id=\"username\" [(ngModel)]=\"user.username\"\r\n                        required autofocus>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-md-3\">\r\n            <div class=\"form-control-feedback\">\r\n                <span class=\"text-danger align-middle\">\r\n                    {{user.usernameErrorMessage}}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\">\r\n            <div class=\"form-group\">\r\n                <label class=\"sr-only\" for=\"password\">Password</label>\r\n                <div class=\"input-group mb-2 mr-sm-2 mb-sm-0\">\r\n                    <div class=\"input-group-addon\" style=\"width: 180px\">\r\n                        <i class=\"fa fa-lock\"></i>&nbsp;&nbsp;Password</div>\r\n                    <input type=\"password\" name=\"password\" class=\"form-control\" id=\"password\"\r\n                        [(ngModel)]=\"user.password\" required>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-md-3\">\r\n            <div class=\"form-control-feedback\">\r\n                <span class=\"text-danger align-middle\">\r\n                    {{user.passwordErrorMessage}}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\">\r\n            <div class=\"form-group\">\r\n                <label class=\"sr-only\" for=\"confirmPassword\">Confirm Password</label>\r\n                <div class=\"input-group mb-2 mr-sm-2 mb-sm-0\">\r\n                    <div class=\"input-group-addon\" style=\"width: 180px\">\r\n                        <i class=\"fa fa-lock\"></i>&nbsp;&nbsp;Confirm Password</div>\r\n                    <input type=\"password\" name=\"confirmPassword\" class=\"form-control\" id=\"confirmPassword\"\r\n                        [(ngModel)]=\"user.confirmPassword\" required>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-md-3\">\r\n            <div class=\"form-control-feedback\">\r\n                <span class=\"text-danger align-middle\">\r\n                    {{user.confirmPasswordErrorMessage}}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\" style=\"padding-top: 1rem\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\">\r\n            <button type=\"submit\" class=\"btn btn-success\" (click)=\"btnRegisterClick()\">\r\n                <i class=\"fa fa-sign-in\"></i> {{register}}</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<br>\r\n<br>\r\n<br>\r\n\r\n<!-- Footer -->\r\n<footer class=\"footer bg-light\">\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-6 h-100 text-center text-lg-left my-auto\">\r\n                <ul class=\"list-inline mb-2\">\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">About</a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">&sdot;</li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">Contact</a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">&sdot;</li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">Terms of Use</a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">&sdot;</li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">Privacy Policy</a>\r\n                    </li>\r\n                </ul>\r\n                <p class=\"text-muted small mb-4 mb-lg-0\">&copy; Filbroker 2018. All Rights Reserved.</p>\r\n            </div>\r\n            <div class=\"col-lg-6 h-100 text-center text-lg-right my-auto\">\r\n                <ul class=\"list-inline mb-0\">\r\n                    <li class=\"list-inline-item mr-3\">\r\n                        <a href=\"#\">\r\n                            <i class=\"fa fa-facebook fa-2x fa-fw\"></i>\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"list-inline-item mr-3\">\r\n                        <a href=\"#\">\r\n                            <i class=\"fa fa-twitter fa-2x fa-fw\"></i>\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">\r\n                            <i class=\"fa fa-instagram fa-2x fa-fw\"></i>\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</footer>"

/***/ }),

/***/ "../../../../../src/app/account/account.register.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AccountRegister; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__account_service__ = __webpack_require__("../../../../../src/app/account/account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var AccountRegister = (function () {
    function AccountRegister(accountService, router, toastr, viewContainer) {
        this.accountService = accountService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.title = 'Account Register';
        this.register = "Register";
        this.user = {
            fullname: "",
            username: "",
            password: "",
            confirmPassword: "",
            token: ""
        };
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    AccountRegister.prototype.ngOnInit = function () {
        if (localStorage.getItem("username") == null) {
            this.login = "Login";
        }
        else {
            this.router.navigate(['/menu']);
        }
    };
    AccountRegister.prototype.ngOnDestroy = function () {
        if (this.registerSub != null)
            this.registerSub.unsubscribe();
    };
    AccountRegister.prototype.btnRegisterClick = function () {
        var _this = this;
        this.accountService.register(this.user);
        this.registerMessageSub = this.accountService.registerErrorMessageObservable.subscribe(function (dataString) {
            var stringMessages = [];
            if (dataString.length > 0) {
                for (var i = 0; i < dataString.length; i++) {
                    if (dataString[i].successMessageArray != null) {
                        var successMessageArray = dataString[i].successMessageArray;
                        for (var ss = 0; ss < successMessageArray.length; ss++) {
                            stringMessages.push(successMessageArray[ss].message);
                        }
                    }
                    if (dataString[i].mainErrorMessageArray != null) {
                        var mainErrorMessageArray = dataString[i].mainErrorMessageArray;
                        for (var mn = 0; mn < mainErrorMessageArray.length; mn++) {
                            stringMessages.push(mainErrorMessageArray[mn].message);
                        }
                    }
                    if (dataString[i].fullnameErrorMessageArray != null) {
                        var fullnameErrorMessageArray = dataString[i].fullnameErrorMessageArray;
                        for (var fn = 0; fn < fullnameErrorMessageArray.length; fn++) {
                            stringMessages.push(fullnameErrorMessageArray[fn].message);
                        }
                    }
                    if (dataString[i].usernameErrorMessageArray != null) {
                        var usernameErrorMessageArray = dataString[i].usernameErrorMessageArray;
                        for (var un = 0; un < usernameErrorMessageArray.length; un++) {
                            stringMessages.push(usernameErrorMessageArray[un].message);
                        }
                    }
                    if (dataString[i].passwordErrorMessageArray != null) {
                        var passwordErrorMessageArray = dataString[i].passwordErrorMessageArray;
                        for (var ps = 0; ps < passwordErrorMessageArray.length; ps++) {
                            stringMessages.push(passwordErrorMessageArray[ps].message);
                        }
                    }
                    if (dataString[i].confirmPasswordErrorMessageArray != null) {
                        var confirmPasswordErrorMessageArray = dataString[i].confirmPasswordErrorMessageArray;
                        for (var cps = 0; cps < confirmPasswordErrorMessageArray.length; cps++) {
                            stringMessages.push(confirmPasswordErrorMessageArray[cps].message);
                        }
                    }
                }
            }
            _this.registerSub = _this.accountService.registerObservable.subscribe(function (dataNumber) {
                if (dataNumber == 1) {
                    _this.toastr.success(stringMessages.join("\n\n"));
                    setTimeout(function () {
                        _this.router.navigate(['/account/login']);
                    }, 1000);
                }
                else if (dataNumber == 0) {
                    _this.toastr.error(stringMessages.join("\n\n"));
                }
            });
        });
    };
    AccountRegister.prototype.loginClick = function () {
        if (localStorage.getItem("username") == null) {
            this.router.navigate(['/account/login']);
        }
        else {
            localStorage.removeItem('access_token');
            localStorage.removeItem('expires_in');
            localStorage.removeItem('token_type');
            localStorage.removeItem('username');
            this.login = "Login";
        }
    };
    AccountRegister = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/account/account.register.html"),
            styles: [__webpack_require__("../../../../../src/app/account/account.style.css")],
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__account_service__["a" /* AccountService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"]])
    ], AccountRegister);
    return AccountRegister;
}());



/***/ }),

/***/ "../../../../../src/app/account/account.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AccountService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




// message box


var AccountService = (function () {
    function AccountService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        this.loginSource = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["Subject"]();
        this.loginObservable = this.loginSource.asObservable();
        this.registerSource = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["Subject"]();
        this.registerObservable = this.registerSource.asObservable();
        this.registerErrorMessageSource = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["Subject"]();
        this.registerErrorMessageObservable = this.registerErrorMessageSource.asObservable();
        this.user = {
            fullname: "",
            username: "",
            password: "",
            confirmPassword: "",
            token: ""
        };
    }
    AccountService.prototype.login = function (username, password) {
        var _this = this;
        // let url = 'http://filbrokerwebsite-priland.azurewebsites.net/token';
        var url = 'http://filbrokerwebsite-priland.azurewebsites.net/token';
        var body = "username=" + username + "&password=" + password + "&grant_type=password";
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/x-www-form-urlencoded' });
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        this.http.post(url, body, options).subscribe(function (response) {
            localStorage.setItem('access_token', response.json().access_token);
            localStorage.setItem('expires_in', response.json().expires_in);
            localStorage.setItem('token_type', response.json().token_type);
            localStorage.setItem('username', response.json().userName);
            _this.getUserRights(response.json().userName);
            _this.loginSource.next(1);
        }, function (error) {
            _this.loginSource.next(0);
        });
    };
    AccountService.prototype.getUserRights = function (username) {
        // let url = 'http://filbrokerwebsite-priland.azurewebsites.net/api/MstUserRight/ListPerUserByUsername/' + username;
        var url = 'http://filbrokerwebsite-priland.azurewebsites.net/api/MstUserRight/ListPerUserByUsername/' + username;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        var userRights = new Array();
        this.http.get(url, options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    userRights.push({
                        id: results[i].Id,
                        userId: results[i].UserId,
                        user: username,
                        pageId: results[i].PageId,
                        page: results[i].Page,
                        pageUrl: results[i].PageURL,
                        canEdit: results[i].CanEdit,
                        canSave: results[i].CanSave,
                        canLock: results[i].CanLock,
                        canUnlock: results[i].CanUnLock,
                        canPrint: results[i].CanPrint,
                        canDelete: results[i].CanDelete
                    });
                }
                localStorage.setItem('userRights', JSON.stringify(userRights));
            }
        });
    };
    AccountService.prototype.register = function (user) {
        var _this = this;
        var regObj = {
            FullName: user.fullname,
            UserName: user.username,
            Email: user.username,
            Password: user.password,
            ConfirmPassword: user.confirmPassword
        };
        var registerMessageObservableArray = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        var successMessageArray = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        var mainErrorMessageArray = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        var fullnameErrorMessageArray = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        var usernameErrorMessageArray = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        var passwordErrorMessageArray = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        var confirmPasswordErrorMessageArray = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/account/register";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/account/register";
        this.http.post(url, JSON.stringify(regObj), this.options).subscribe(function (response) {
            if (response != null) {
                successMessageArray.push({
                    message: "Register Successful"
                });
                registerMessageObservableArray.push({
                    successMessageArray: successMessageArray,
                    mainErrorMessageArray: null,
                    fullnameErrorMessageArray: null,
                    usernameErrorMessageArray: null,
                    passwordErrorMessageArray: null,
                    confirmPasswordErrorMessageArray: null
                });
                _this.registerErrorMessageSource.next(registerMessageObservableArray);
                _this.registerSource.next(1);
            }
        }, function (error) {
            var errMessage = error.json();
            if (errMessage != null) {
                if (error.json().ModelState[""] != null) {
                    var mainErrorMessageLength = error.json().ModelState[""].length;
                    for (var i = 0; i < mainErrorMessageLength; i++) {
                        mainErrorMessageArray.push({
                            message: error.json().ModelState[""][i]
                        });
                    }
                }
                if (error.json().ModelState["model.FullName"] != null) {
                    var fullnameErrorMessageLength = error.json().ModelState["model.FullName"].length;
                    for (var i = 0; i < fullnameErrorMessageLength; i++) {
                        fullnameErrorMessageArray.push({
                            message: error.json().ModelState["model.FullName"][i]
                        });
                    }
                }
                if (error.json().ModelState["model.UserName"] != null) {
                    var usernameErrorMessageLength = error.json().ModelState["model.UserName"].length;
                    for (var i = 0; i < usernameErrorMessageLength; i++) {
                        usernameErrorMessageArray.push({
                            message: error.json().ModelState["model.UserName"][i]
                        });
                    }
                }
                if (error.json().ModelState["model.Password"] != null) {
                    var passwordErrorMessageLength = error.json().ModelState["model.Password"].length;
                    for (var i = 0; i < passwordErrorMessageLength; i++) {
                        passwordErrorMessageArray.push({
                            message: error.json().ModelState["model.Password"][i]
                        });
                    }
                }
                if (error.json().ModelState["model.ConfirmPassword"] != null) {
                    var confirmPasswordErrorMessageLength = error.json().ModelState["model.ConfirmPassword"].length;
                    for (var i = 0; i < confirmPasswordErrorMessageLength; i++) {
                        confirmPasswordErrorMessageArray.push({
                            message: error.json().ModelState["model.ConfirmPassword"][i]
                        });
                    }
                }
                registerMessageObservableArray.push({
                    successMessageArray: null,
                    mainErrorMessageArray: mainErrorMessageArray,
                    fullnameErrorMessageArray: fullnameErrorMessageArray,
                    usernameErrorMessageArray: usernameErrorMessageArray,
                    passwordErrorMessageArray: passwordErrorMessageArray,
                    confirmPasswordErrorMessageArray: confirmPasswordErrorMessageArray
                });
                _this.registerErrorMessageSource.next(registerMessageObservableArray);
                _this.registerSource.next(0);
            }
        });
    };
    AccountService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], AccountService);
    return AccountService;
}());



/***/ }),

/***/ "../../../../../src/app/account/account.style.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "body {\r\n  font-family: 'Lato', 'Helvetica Neue', Helvetica, Arial, sans-serif;\r\n}\r\n\r\nh1,\r\nh2,\r\nh3,\r\nh4,\r\nh5,\r\nh6 {\r\n  font-family: 'Lato', 'Helvetica Neue', Helvetica, Arial, sans-serif;\r\n  font-weight: 700;\r\n}\r\n\r\nheader.masthead {\r\n  position: relative;\r\n  background-color: #202122;\r\n  background: url(" + __webpack_require__("../../../../../src/assets/landing_template/img/dahlia.jpg") + ") no-repeat center center;\r\n  background-size: cover;\r\n  padding-top: 8rem;\r\n  padding-bottom: 8rem;\r\n}\r\n\r\nheader.masthead .overlay {\r\n  position: absolute;\r\n  background-color: #212529;\r\n  height: 100%;\r\n  width: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  opacity: 0.8;\r\n}\r\n\r\nheader.masthead h1 {\r\n  font-size: 2rem;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  header.masthead {\r\n    padding-top: 18rem;\r\n    padding-bottom: 18rem;\r\n  }\r\n  header.masthead h1 {\r\n    font-size: 3rem;\r\n  }\r\n}\r\n\r\n.showcase .showcase-text {\r\n  padding: 3rem;\r\n}\r\n\r\n.showcase .showcase-img {\r\n  min-height: 30rem;\r\n  background-size: cover;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .showcase .showcase-text {\r\n    padding: 7rem;\r\n  }\r\n}\r\n\r\n.features-icons {\r\n  padding-top: 7rem;\r\n  padding-bottom: 7rem;\r\n}\r\n\r\n.features-icons .features-icons-item {\r\n  max-width: 20rem;\r\n}\r\n\r\n.features-icons .features-icons-item .features-icons-icon {\r\n  height: 7rem;\r\n}\r\n\r\n.features-icons .features-icons-item .features-icons-icon i {\r\n  font-size: 4.5rem;\r\n}\r\n\r\n.features-icons .features-icons-item:hover .features-icons-icon i {\r\n  font-size: 5rem;\r\n}\r\n\r\n.testimonials {\r\n  padding-top: 7rem;\r\n  padding-bottom: 7rem;\r\n}\r\n\r\n.testimonials .testimonial-item {\r\n  max-width: 18rem;\r\n}\r\n\r\n.testimonials .testimonial-item img {\r\n  max-width: 12rem;\r\n  box-shadow: 0px 5px 5px 0px #adb5bd;\r\n}\r\n\r\n.call-to-action {\r\n  position: relative;\r\n  background-color: #343a40;\r\n  background: url(" + __webpack_require__("../../../../../src/assets/landing_template/img/bg-masthead.jpg") + ") no-repeat center center;\r\n  background-size: cover;\r\n  padding-top: 7rem;\r\n  padding-bottom: 7rem;\r\n}\r\n\r\n.call-to-action .overlay {\r\n  position: absolute;\r\n  background-color: #212529;\r\n  height: 100%;\r\n  width: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  opacity: 0.3;\r\n}\r\n\r\nfooter.footer {\r\n  padding-top: 4rem;\r\n  padding-bottom: 4rem;\r\n}\r\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/app.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/app.component.html":
/***/ (function(module, exports) {

module.exports = "<router-outlet></router-outlet>\r\n\r\n"

/***/ }),

/***/ "../../../../../src/app/app.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var AppComponent = (function () {
    function AppComponent() {
        this.title = 'app';
    }
    AppComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-root',
            template: __webpack_require__("../../../../../src/app/app.component.html"),
            styles: [__webpack_require__("../../../../../src/app/app.component.css")]
        })
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "../../../../../src/app/app.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__ = __webpack_require__("../../../platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_platform_browser_animations__ = __webpack_require__("../../../platform-browser/esm5/animations.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__app_toast_options__ = __webpack_require__("../../../../../src/app/app.toast.options.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_wijmo_wijmo_angular2_grid__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.grid.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_wijmo_wijmo_angular2_grid___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_wijmo_wijmo_angular2_grid__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_wijmo_wijmo_angular2_grid_filter__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.grid.filter.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_wijmo_wijmo_angular2_grid_filter___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_wijmo_wijmo_angular2_grid_filter__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_wijmo_wijmo_angular2_input__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.input.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_wijmo_wijmo_angular2_input___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_wijmo_wijmo_angular2_input__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_wijmo_wijmo_angular2_viewer__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.viewer.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_wijmo_wijmo_angular2_viewer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_wijmo_wijmo_angular2_viewer__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_ng2_pdf_viewer__ = __webpack_require__("../../../../ng2-pdf-viewer/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_ng2_pdf_viewer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_ng2_pdf_viewer__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__app_component__ = __webpack_require__("../../../../../src/app/app.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__home_home_landing__ = __webpack_require__("../../../../../src/app/home/home.landing.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__account_account_login__ = __webpack_require__("../../../../../src/app/account/account.login.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__account_account_register__ = __webpack_require__("../../../../../src/app/account/account.register.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__account_account_change_password__ = __webpack_require__("../../../../../src/app/account/account.change.password.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__menu_menu_index__ = __webpack_require__("../../../../../src/app/menu/menu.index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__menu_menu_dashboard__ = __webpack_require__("../../../../../src/app/menu/menu.dashboard.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__footer_footer_index__ = __webpack_require__("../../../../../src/app/footer/footer.index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__broker_broker_list__ = __webpack_require__("../../../../../src/app/broker/broker.list.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__broker_broker_detail__ = __webpack_require__("../../../../../src/app/broker/broker.detail.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__checklist_checklist_list__ = __webpack_require__("../../../../../src/app/checklist/checklist.list.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__checklist_checklist_detail__ = __webpack_require__("../../../../../src/app/checklist/checklist.detail.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__commission_commission_list__ = __webpack_require__("../../../../../src/app/commission/commission.list.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__commission_commission_detail__ = __webpack_require__("../../../../../src/app/commission/commission.detail.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__customer_customer_list__ = __webpack_require__("../../../../../src/app/customer/customer.list.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__customer_customer_detail__ = __webpack_require__("../../../../../src/app/customer/customer.detail.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__project_project_list__ = __webpack_require__("../../../../../src/app/project/project.list.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__project_project_detail__ = __webpack_require__("../../../../../src/app/project/project.detail.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__soldUnit_soldUnit_list__ = __webpack_require__("../../../../../src/app/soldUnit/soldUnit.list.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__soldUnit_soldUnit_detail__ = __webpack_require__("../../../../../src/app/soldUnit/soldUnit.detail.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__unit_unit_list__ = __webpack_require__("../../../../../src/app/unit/unit.list.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__unit_unit_detail__ = __webpack_require__("../../../../../src/app/unit/unit.detail.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__user_user_list__ = __webpack_require__("../../../../../src/app/user/user.list.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__user_user_detail__ = __webpack_require__("../../../../../src/app/user/user.detail.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__unit_unit_query__ = __webpack_require__("../../../../../src/app/unit/unit.query.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__settings_settings_index__ = __webpack_require__("../../../../../src/app/settings/settings.index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__reports_reports_index__ = __webpack_require__("../../../../../src/app/reports/reports.index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__pdf_pdf_index__ = __webpack_require__("../../../../../src/app/pdf/pdf.index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42__collection_collection_component__ = __webpack_require__("../../../../../src/app/collection/collection.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_43__collection_collection_detail_component__ = __webpack_require__("../../../../../src/app/collection/collection-detail.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44__account_account_service__ = __webpack_require__("../../../../../src/app/account/account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_45__project_project_service__ = __webpack_require__("../../../../../src/app/project/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_46__broker_broker_service__ = __webpack_require__("../../../../../src/app/broker/broker.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_47__checklist_checklist_service__ = __webpack_require__("../../../../../src/app/checklist/checklist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_48__commission_commission_service__ = __webpack_require__("../../../../../src/app/commission/commission.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_49__customer_customer_service__ = __webpack_require__("../../../../../src/app/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_50__settings_settings_service__ = __webpack_require__("../../../../../src/app/settings/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_51__soldUnit_soldUnit_service__ = __webpack_require__("../../../../../src/app/soldUnit/soldUnit.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_52__unit_unit_service__ = __webpack_require__("../../../../../src/app/unit/unit.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_53__user_user_service__ = __webpack_require__("../../../../../src/app/user/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_54__reports_reports_service__ = __webpack_require__("../../../../../src/app/reports/reports.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_55__footer_footer_service__ = __webpack_require__("../../../../../src/app/footer/footer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_56__pdf_pdf_service__ = __webpack_require__("../../../../../src/app/pdf/pdf.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_57__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_58__collection_collection_service__ = __webpack_require__("../../../../../src/app/collection/collection.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
// Angular





// Toastr




// Wijmo




// pdf viewer

// My Components






























// My Services















var routes = [
    { path: '', component: __WEBPACK_IMPORTED_MODULE_15__home_home_landing__["a" /* HomeLanding */] },
    { path: 'account/login', component: __WEBPACK_IMPORTED_MODULE_16__account_account_login__["a" /* AccountLogin */] },
    { path: 'account/register', component: __WEBPACK_IMPORTED_MODULE_17__account_account_register__["a" /* AccountRegister */] },
    { path: 'account/changePassword', component: __WEBPACK_IMPORTED_MODULE_18__account_account_change_password__["a" /* AccountChangePassword */] },
    { path: 'menu', component: __WEBPACK_IMPORTED_MODULE_20__menu_menu_dashboard__["a" /* MenuDashboard */] },
    { path: 'broker', component: __WEBPACK_IMPORTED_MODULE_22__broker_broker_list__["a" /* BrokerList */] },
    { path: 'broker/:id', component: __WEBPACK_IMPORTED_MODULE_23__broker_broker_detail__["a" /* BrokerDetail */] },
    { path: 'checklist', component: __WEBPACK_IMPORTED_MODULE_24__checklist_checklist_list__["a" /* ChecklistList */] },
    { path: 'checklist/:id', component: __WEBPACK_IMPORTED_MODULE_25__checklist_checklist_detail__["a" /* ChecklistDetail */] },
    { path: 'commission', component: __WEBPACK_IMPORTED_MODULE_26__commission_commission_list__["a" /* CommissionList */] },
    { path: 'commission/:id', component: __WEBPACK_IMPORTED_MODULE_27__commission_commission_detail__["a" /* CommissionDetail */] },
    { path: 'customer', component: __WEBPACK_IMPORTED_MODULE_28__customer_customer_list__["a" /* CustomerList */] },
    { path: 'customer/:id', component: __WEBPACK_IMPORTED_MODULE_29__customer_customer_detail__["a" /* CustomerDetail */] },
    { path: 'project', component: __WEBPACK_IMPORTED_MODULE_30__project_project_list__["a" /* ProjectList */] },
    { path: 'project/:id', component: __WEBPACK_IMPORTED_MODULE_31__project_project_detail__["a" /* ProjectDetail */] },
    { path: 'soldUnit', component: __WEBPACK_IMPORTED_MODULE_32__soldUnit_soldUnit_list__["a" /* SoldUnitList */] },
    { path: 'soldUnit/:id', component: __WEBPACK_IMPORTED_MODULE_33__soldUnit_soldUnit_detail__["a" /* SoldUnitDetail */] },
    { path: 'unit', component: __WEBPACK_IMPORTED_MODULE_34__unit_unit_list__["a" /* UnitList */] },
    { path: 'unit/:id', component: __WEBPACK_IMPORTED_MODULE_35__unit_unit_detail__["a" /* UnitDetail */] },
    { path: 'user', component: __WEBPACK_IMPORTED_MODULE_36__user_user_list__["a" /* UserList */] },
    { path: 'user/:id', component: __WEBPACK_IMPORTED_MODULE_37__user_user_detail__["a" /* UserDetail */] },
    { path: 'settings', component: __WEBPACK_IMPORTED_MODULE_39__settings_settings_index__["a" /* SettingsIndex */] },
    { path: 'reports', component: __WEBPACK_IMPORTED_MODULE_40__reports_reports_index__["a" /* ReportsIndex */] },
    { path: 'pdf/:report/:id', component: __WEBPACK_IMPORTED_MODULE_41__pdf_pdf_index__["a" /* PDFIndex */] },
    { path: 'collection', component: __WEBPACK_IMPORTED_MODULE_42__collection_collection_component__["a" /* CollectionComponent */] },
    { path: 'collectionDetail/:id', component: __WEBPACK_IMPORTED_MODULE_43__collection_collection_detail_component__["a" /* CollectionDetailComponent */] }
];
var AppModule = (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_14__app_component__["a" /* AppComponent */],
                __WEBPACK_IMPORTED_MODULE_15__home_home_landing__["a" /* HomeLanding */],
                __WEBPACK_IMPORTED_MODULE_16__account_account_login__["a" /* AccountLogin */], __WEBPACK_IMPORTED_MODULE_17__account_account_register__["a" /* AccountRegister */], __WEBPACK_IMPORTED_MODULE_18__account_account_change_password__["a" /* AccountChangePassword */],
                __WEBPACK_IMPORTED_MODULE_19__menu_menu_index__["a" /* MenuIndex */], __WEBPACK_IMPORTED_MODULE_20__menu_menu_dashboard__["a" /* MenuDashboard */],
                __WEBPACK_IMPORTED_MODULE_21__footer_footer_index__["a" /* FooterIndex */],
                __WEBPACK_IMPORTED_MODULE_22__broker_broker_list__["a" /* BrokerList */], __WEBPACK_IMPORTED_MODULE_23__broker_broker_detail__["a" /* BrokerDetail */],
                __WEBPACK_IMPORTED_MODULE_24__checklist_checklist_list__["a" /* ChecklistList */], __WEBPACK_IMPORTED_MODULE_25__checklist_checklist_detail__["a" /* ChecklistDetail */],
                __WEBPACK_IMPORTED_MODULE_26__commission_commission_list__["a" /* CommissionList */], __WEBPACK_IMPORTED_MODULE_27__commission_commission_detail__["a" /* CommissionDetail */],
                __WEBPACK_IMPORTED_MODULE_28__customer_customer_list__["a" /* CustomerList */], __WEBPACK_IMPORTED_MODULE_29__customer_customer_detail__["a" /* CustomerDetail */],
                __WEBPACK_IMPORTED_MODULE_30__project_project_list__["a" /* ProjectList */], __WEBPACK_IMPORTED_MODULE_31__project_project_detail__["a" /* ProjectDetail */],
                __WEBPACK_IMPORTED_MODULE_32__soldUnit_soldUnit_list__["a" /* SoldUnitList */], __WEBPACK_IMPORTED_MODULE_33__soldUnit_soldUnit_detail__["a" /* SoldUnitDetail */],
                __WEBPACK_IMPORTED_MODULE_34__unit_unit_list__["a" /* UnitList */], __WEBPACK_IMPORTED_MODULE_35__unit_unit_detail__["a" /* UnitDetail */], __WEBPACK_IMPORTED_MODULE_38__unit_unit_query__["a" /* UnitQuery */],
                __WEBPACK_IMPORTED_MODULE_36__user_user_list__["a" /* UserList */], __WEBPACK_IMPORTED_MODULE_37__user_user_detail__["a" /* UserDetail */],
                __WEBPACK_IMPORTED_MODULE_39__settings_settings_index__["a" /* SettingsIndex */],
                __WEBPACK_IMPORTED_MODULE_40__reports_reports_index__["a" /* ReportsIndex */],
                __WEBPACK_IMPORTED_MODULE_41__pdf_pdf_index__["a" /* PDFIndex */],
                __WEBPACK_IMPORTED_MODULE_42__collection_collection_component__["a" /* CollectionComponent */],
                __WEBPACK_IMPORTED_MODULE_43__collection_collection_detail_component__["a" /* CollectionDetailComponent */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_4__angular_router__["c" /* RouterModule */].forRoot(routes),
                __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__["ToastModule"].forRoot(),
                __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormsModule"],
                __WEBPACK_IMPORTED_MODULE_3__angular_http__["c" /* HttpModule */],
                __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__["BrowserModule"],
                __WEBPACK_IMPORTED_MODULE_5__angular_platform_browser_animations__["a" /* BrowserAnimationsModule */],
                __WEBPACK_IMPORTED_MODULE_9_wijmo_wijmo_angular2_grid__["WjGridModule"],
                __WEBPACK_IMPORTED_MODULE_10_wijmo_wijmo_angular2_grid_filter__["WjGridFilterModule"],
                __WEBPACK_IMPORTED_MODULE_11_wijmo_wijmo_angular2_input__["WjInputModule"],
                __WEBPACK_IMPORTED_MODULE_12_wijmo_wijmo_angular2_viewer__["WjViewerModule"],
                __WEBPACK_IMPORTED_MODULE_13_ng2_pdf_viewer__["PdfViewerModule"]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_4__angular_router__["c" /* RouterModule */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_44__account_account_service__["a" /* AccountService */],
                __WEBPACK_IMPORTED_MODULE_45__project_project_service__["a" /* ProjectService */],
                { provide: __WEBPACK_IMPORTED_MODULE_7_ng2_toastr__["ToastOptions"], useClass: __WEBPACK_IMPORTED_MODULE_8__app_toast_options__["a" /* AppToastOptions */] },
                __WEBPACK_IMPORTED_MODULE_46__broker_broker_service__["a" /* BrokerService */],
                __WEBPACK_IMPORTED_MODULE_47__checklist_checklist_service__["a" /* ChecklistService */],
                __WEBPACK_IMPORTED_MODULE_48__commission_commission_service__["a" /* CommissionService */],
                __WEBPACK_IMPORTED_MODULE_49__customer_customer_service__["a" /* CustomerService */],
                __WEBPACK_IMPORTED_MODULE_50__settings_settings_service__["a" /* SettingsService */],
                __WEBPACK_IMPORTED_MODULE_51__soldUnit_soldUnit_service__["a" /* SoldUnitService */],
                __WEBPACK_IMPORTED_MODULE_52__unit_unit_service__["a" /* UnitService */],
                __WEBPACK_IMPORTED_MODULE_53__user_user_service__["a" /* UserService */],
                __WEBPACK_IMPORTED_MODULE_54__reports_reports_service__["a" /* ReportsService */],
                __WEBPACK_IMPORTED_MODULE_55__footer_footer_service__["a" /* FooterService */],
                __WEBPACK_IMPORTED_MODULE_56__pdf_pdf_service__["a" /* PDFService */],
                __WEBPACK_IMPORTED_MODULE_57__security_security_service__["a" /* SecurityService */],
                __WEBPACK_IMPORTED_MODULE_58__collection_collection_service__["a" /* CollectionService */]
            ],
            bootstrap: [__WEBPACK_IMPORTED_MODULE_14__app_component__["a" /* AppComponent */]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "../../../../../src/app/app.toast.options.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppToastOptions; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_ng2_toastr__);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AppToastOptions = (function (_super) {
    __extends(AppToastOptions, _super);
    function AppToastOptions() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.maxShown = 1;
        return _this;
    }
    return AppToastOptions;
}(__WEBPACK_IMPORTED_MODULE_0_ng2_toastr__["ToastOptions"]));



/***/ }),

/***/ "../../../../../src/app/broker/broker.detail.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n\r\n<br>\r\n<br>\r\n\r\n<div class=\"content-wrapper\">\r\n\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/broker\">Broker List</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- detail operations, print, lock, unlock, save, close -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 50%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 49%;\" align=\"right\">\r\n                            <button [disabled]=\"!broker.isLocked\" class=\"btn btn-primary\" (click)=\"btnPrintBrokerClick()\" id=\"btnPrintBroker\">\r\n                                <i class=\"fa fa-print fa-fw\"></i> Print\r\n                            </button>\r\n                            <button [disabled]=\"broker.isLocked\" class=\"btn btn-primary\" (click)=\"btnLockBrokerClick()\" id=\"btnLockBroker\">\r\n                                <i class=\"fa fa-lock fa-fw\"></i> Lock\r\n                            </button>\r\n                            <button [disabled]=\"!broker.isLocked\" class=\"btn btn-primary\" (click)=\"btnUnlockBrokerClick()\" id=\"btnUnlockBroker\">\r\n                                <i class=\"fa fa-unlock fa-fw\"></i> Unlock\r\n                            </button>\r\n                            <button [disabled]=\"broker.isLocked\" class=\"btn btn-primary\" (click)=\"btnSaveBrokerClick()\" id=\"btnSaveBroker\">\r\n                                <i class=\"fa fa-save fa-fw\"></i> Save\r\n                            </button>\r\n                            <button class=\"btn btn-danger\" routerLink=\"/broker\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- detail -->\r\n            <div class=\"card-body\">\r\n                <ul class=\"nav nav-tabs\" role=\"tablist\" style=\"width:100%\">\r\n                    <li class=\"nav-item\">\r\n                        <a [ngClass]=\"{'active': tabDetail1[0], 'nav-link': true }\" (click)=\"tabDetail1Click(0)\" data-toggle=\"tab\" role=\"tab\">Broker Information</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a [ngClass]=\"{'active': tabDetail1[1], 'nav-link': true }\" (click)=\"tabDetail1Click(1)\" data-toggle=\"tab\" role=\"tab\">Realty Firm Information</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a [ngClass]=\"{'active': tabDetail1[2], 'nav-link': true }\" (click)=\"tabDetail1Click(2)\" data-toggle=\"tab\" role=\"tab\">Attachments</a>\r\n                    </li>\r\n                </ul>\r\n                <br>\r\n                <div class=\"tab-content\" style=\"width:100%\">\r\n\r\n                    <!-- Information -->\r\n                    <div [ngClass]=\"{'active': tabDetail1[0], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Code</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.brokerCode\" [disabled]=true type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Last Name</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.lastName\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">First Name</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.firstName\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Middle Name</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.middleName\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">License No.</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.licenseNumber\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Address</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [disabled]=\"broker.isLocked\" [(ngModel)]=\"broker.address\" rows=\"3\" class=\"form-control\">\r\n                                            </textarea>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Phone No.</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.telephoneNumber\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div> \r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Mobile No.</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.mobileNumber\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Email Address</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.emailAddress\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Status</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbStatus [itemsSource]=\"cmbStatusData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'value'\"\r\n                                            [selectedValuePath]=\"'value'\" [isDisabled]=\"broker.isLocked\" [(ngModel)]=\"broker.status\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Remarks</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [disabled]=\"broker.isLocked\" [(ngModel)]=\"broker.remarks\" rows=\"5\" class=\"form-control\">\r\n                                                </textarea>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Picture</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-sm-8\">\r\n                                                <img [src]=\"this.broker.picture\" class=\"rounded\" style=\"width: 100%;\">\r\n                                            </div>\r\n                                            <div class=\"col-sm-4\">\r\n                                                <label class=\"btn btn-primary\" [hidden]=\"broker.isLocked\">\r\n                                                    <input type=\"file\" (change)=\"btnUploadPictureClick($event)\" name=\"btnUploadPicture\" accept=\"image/*\" style=\"display:none;\"> Upload Pic\r\n                                                </label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Birth Date</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-date #calBirthDate [(text)]=\"broker.birthDate\" [isDisabled]=\"broker.isLocked\" format=\"M/d/yyyy\">\r\n                                        </wj-input-date>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Civil Status</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbCivilStatus [itemsSource]=\"cmbCivilStatusData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'value'\"\r\n                                            [selectedValuePath]=\"'value'\" [isDisabled]=\"broker.isLocked\" [(ngModel)]=\"broker.civilStatus\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Gender</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbGender [itemsSource]=\"cmbGenderData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'value'\"\r\n                                            [selectedValuePath]=\"'value'\" [isDisabled]=\"broker.isLocked\" [(ngModel)]=\"broker.gender\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Religion</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.religion\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">TIN</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.tin\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Realty Firm -->\r\n                    <div [ngClass]=\"{'active': tabDetail1[1], 'tab-pane': true }\" role=\"tabpanel\">\r\n\r\n                        <div class=\"row\">\r\n\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Firm</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.realtyFirm\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Telepohne No.</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.realtyFirmTelephoneNumber\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Mobile No.</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.realtyFirmMobileNumber\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Fax No.</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.realtyFirmFaxNumber\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Address</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [disabled]=\"broker.isLocked\" [(ngModel)]=\"broker.realtyFirmAddress\" rows=\"5\" class=\"form-control\">\r\n                                                </textarea>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Email Address</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.realtyFirmEmailAddress\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Website</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.realtyFirmWebsite\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">TIN</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.realtyFirmTIN\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Organization</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"broker.organization\" [disabled]=\"broker.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <!-- Attachments -->\r\n                    <div [ngClass]=\"{'active': tabDetail1[2], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Attachment 1</label>\r\n                                    <div class=\"col-sm-5\">\r\n                                        <input [(ngModel)]=\"broker.attachment1\" disabled type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                    <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                        <input type=\"file\" (change)=\"btnOpenBrokerAttachment1Click($event)\" name=\"btnOpenBrokerAttachment1\" accept=\"image/*\" [disabled]=\"broker.isLocked\"\r\n                                            style=\"display:none;\">\r\n                                        <i class=\"fa fa-floppy-o fa-fw\"></i>\r\n                                    </label>\r\n                                    <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                        <a [href]=\"broker.attachment1\" target=\"blank\" style=\"color:white;\">\r\n                                            <i class=\"fa fa-search fa-fw\"></i>\r\n                                        </a>\r\n                                    </label>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Attachment 2</label>\r\n                                    <div class=\"col-sm-5\">\r\n                                        <input [(ngModel)]=\"broker.attachment2\" disabled type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                    <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                        <input type=\"file\" (change)=\"btnOpenBrokerAttachment2Click($event)\" name=\"btnOpenBrokerAttachment2\" accept=\"image/*\" [disabled]=\"broker.isLocked\"\r\n                                            style=\"display:none;\">\r\n                                        <i class=\"fa fa-floppy-o fa-fw\"></i>\r\n                                    </label>\r\n                                    <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                        <a [href]=\"broker.attachment2\" target=\"blank\" style=\"color:white;\">\r\n                                            <i class=\"fa fa-search fa-fw\"></i>\r\n                                        </a>\r\n                                    </label>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Attachment 3</label>\r\n                                    <div class=\"col-sm-5\">\r\n                                        <input [(ngModel)]=\"broker.attachment3\" disabled type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                    <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                        <input type=\"file\" (change)=\"btnOpenBrokerAttachment3Click($event)\" name=\"btnOpenBrokerAttachment3\" accept=\"image/*\" [disabled]=\"broker.isLocked\"\r\n                                            style=\"display:none;\">\r\n                                        <i class=\"fa fa-floppy-o fa-fw\"></i>\r\n                                    </label>\r\n                                    <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                        <a [href]=\"broker.attachment3\" target=\"blank\" style=\"color:white;\">\r\n                                            <i class=\"fa fa-search fa-fw\"></i>\r\n                                        </a>\r\n                                    </label>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Attachment 4</label>\r\n                                    <div class=\"col-sm-5\">\r\n                                        <input [(ngModel)]=\"broker.attachment4\" disabled type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                    <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                        <input type=\"file\" (change)=\"btnOpenBrokerAttachment4Click($event)\" name=\"btnOpenBrokerAttachment4\" accept=\"image/*\" [disabled]=\"broker.isLocked\"\r\n                                            style=\"display:none;\">\r\n                                        <i class=\"fa fa-floppy-o fa-fw\"></i>\r\n                                    </label>\r\n                                    <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                        <a [href]=\"broker.attachment4\" target=\"blank\" style=\"color:white;\">\r\n                                            <i class=\"fa fa-search fa-fw\"></i>\r\n                                        </a>\r\n                                    </label>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Attachment 5</label>\r\n                                    <div class=\"col-sm-5\">\r\n                                        <input [(ngModel)]=\"broker.attachment5\" disabled type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                    <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                        <input type=\"file\" (change)=\"btnOpenBrokerAttachment5Click($event)\" name=\"btnOpenBrokerAttachment5\" accept=\"image/*\" [disabled]=\"broker.isLocked\"\r\n                                            style=\"display:none;\">\r\n                                        <i class=\"fa fa-floppy-o fa-fw\"></i>\r\n                                    </label>\r\n                                    <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                        <a [href]=\"broker.attachment5\" target=\"blank\" style=\"color:white;\">\r\n                                            <i class=\"fa fa-search fa-fw\"></i>\r\n                                        </a>\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <!-- Tab Content -->\r\n\r\n\r\n            </div>\r\n            <!-- Card Body -->\r\n\r\n        </div>\r\n        <!-- <div class=\"card\"> -->\r\n\r\n    </div>\r\n    <!-- <div class=\"container-fluid\"> -->\r\n\r\n    <app-footer [data]=\"broker\"></app-footer>\r\n\r\n</div>\r\n<!-- <div class=\"content-wrapper\"> -->"

/***/ }),

/***/ "../../../../../src/app/broker/broker.detail.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BrokerDetail; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__broker_service__ = __webpack_require__("../../../../../src/app/broker/broker.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// service(s)


var BrokerDetail = (function () {
    // =======
    // angular
    // =======
    //constructor
    function BrokerDetail(brokerService, router, toastr, viewContainer, activatedRoute, securityService, location) {
        this.brokerService = brokerService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.activatedRoute = activatedRoute;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        // userrights
        this.canEdit = false;
        this.canSave = false;
        this.canLock = false;
        this.canUnlock = false;
        this.canPrint = false;
        this.canDelete = false;
        // =================
        // public properties
        // =================
        this.title = 'Broker Detail';
        // model(s)
        this.broker = {
            id: 0,
            brokerCode: "",
            lastName: "",
            firstName: "",
            middleName: "",
            fullName: "",
            licenseNumber: "",
            birthDate: "",
            civilStatus: "SINGLE",
            gender: "",
            address: "",
            telephoneNumber: "",
            mobileNumber: "",
            religion: "",
            emailAddress: "",
            facebook: "",
            tin: "",
            realtyFirm: "",
            realtyFirmAddress: "",
            realtyFirmTelephoneNumber: "",
            realtyFirmMobileNumber: "",
            realtyFirmFaxNumber: "",
            realtyFirmEmailAddress: "",
            realtyFirmWebsite: "",
            realtyFirmTIN: "",
            organization: "",
            remarks: "",
            picture: "",
            attachment1: "",
            attachment2: "",
            attachment3: "",
            attachment4: "",
            attachment5: "",
            status: "ACTIVE",
            isLocked: false,
            createdBy: 1,
            createdDateTime: "",
            updatedBy: 1,
            updatedDateTime: "",
        };
        // detail tab index (if large number of fields)
        this.tabDetail1 = new Array(true, false, false);
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    BrokerDetail.prototype.ngOnInit = function () {
        var _this = this;
        if (this.securityService.openPage("BROKER DETAIL") == true) {
            this.getBroker();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
        this.getUserRights();
        if (!this.canPrint) {
            document.getElementById("btnPrintBroker").hidden = true;
        }
        if (!this.canLock) {
            document.getElementById("btnLockBroker").hidden = true;
        }
        if (!this.canUnlock) {
            document.getElementById("btnUnlockBroker").hidden = true;
        }
        if (!this.canSave) {
            document.getElementById("btnSaveBroker").hidden = true;
        }
    };
    BrokerDetail.prototype.ngOnDestroy = function () {
        if (this.brokerSub != null)
            this.brokerSub.unsubscribe();
        if (this.brokerSavedSub != null)
            this.brokerSavedSub.unsubscribe();
        if (this.brokerLockedSub != null)
            this.brokerLockedSub.unsubscribe();
        if (this.brokerUnlockedSub != null)
            this.brokerUnlockedSub.unsubscribe();
        if (this.brokerPictureSub != null)
            this.brokerPictureSub.unsubscribe();
        if (this.dropDownsSub != null)
            this.dropDownsSub.unsubscribe();
    };
    // ===============
    // private methods
    // ===============
    // ===============
    // Get User Rights
    // ===============
    BrokerDetail.prototype.getUserRights = function () {
        var userRightsData = localStorage.getItem('userRights');
        var userRights = JSON.parse(userRightsData);
        for (var i = 0; i < userRights.length; i++) {
            if (userRights[i].page == 'BROKER DETAIL') {
                this.canEdit = userRights[i].canEdit;
                this.canSave = userRights[i].canSave;
                this.canLock = userRights[i].canLock;
                this.canUnlock = userRights[i].canUnlock;
                this.canPrint = userRights[i].canPrint;
                this.canDelete = userRights[i].canDelete;
            }
        }
    };
    BrokerDetail.prototype.getIdParameter = function () {
        var id = 0;
        this.activatedRoute.params.subscribe(function (params) {
            id = params['id'];
        });
        return id;
    };
    // ==============
    // public methods
    // ==============
    // detail
    BrokerDetail.prototype.getBroker = function () {
        var _this = this;
        this.brokerService.getBroker(this.getIdParameter());
        this.brokerSub = this.brokerService.brokerObservable
            .subscribe(function (data) {
            _this.broker.id = data.id;
            _this.broker.brokerCode = data.brokerCode;
            _this.broker.lastName = data.lastName;
            _this.broker.firstName = data.firstName;
            _this.broker.middleName = data.middleName;
            _this.broker.fullName = data.fullName;
            _this.broker.licenseNumber = data.licenseNumber;
            _this.broker.birthDate = data.birthDate;
            _this.broker.civilStatus = data.civilStatus;
            _this.broker.gender = data.gender;
            _this.broker.address = data.address;
            _this.broker.telephoneNumber = data.telephoneNumber;
            _this.broker.mobileNumber = data.mobileNumber;
            _this.broker.religion = data.religion;
            _this.broker.emailAddress = data.emailAddress;
            _this.broker.tin = data.tin;
            _this.broker.realtyFirm = data.realtyFirm;
            _this.broker.realtyFirmAddress = data.realtyFirmAddress;
            _this.broker.realtyFirmTelephoneNumber = data.realtyFirmTelephoneNumber;
            _this.broker.realtyFirmMobileNumber = data.realtyFirmMobileNumber;
            _this.broker.realtyFirmFaxNumber = data.realtyFirmFaxNumber;
            _this.broker.realtyFirmEmailAddress = data.realtyFirmEmailAddress;
            _this.broker.realtyFirmWebsite = data.realtyFirmWebsite;
            _this.broker.realtyFirmTIN = data.realtyFirmTIN;
            _this.broker.organization = data.organization;
            _this.broker.remarks = data.remarks;
            _this.broker.picture = data.picture;
            _this.broker.attachment1 = data.attachment1;
            _this.broker.attachment2 = data.attachment2;
            _this.broker.attachment3 = data.attachment3;
            _this.broker.attachment4 = data.attachment4;
            _this.broker.attachment5 = data.attachment5;
            _this.broker.status = data.status;
            _this.broker.isLocked = data.isLocked;
            _this.broker.createdBy = data.createdBy;
            _this.broker.createdDateTime = data.createdDateTime;
            _this.broker.updatedBy = data.updatedBy;
            _this.broker.updatedDateTime = data.updatedDateTime;
            _this.getDropdowns(data);
        });
    };
    // combo boxes
    BrokerDetail.prototype.getDropdowns = function (defaultValues) {
        var _this = this;
        this.brokerService.getDropDowns();
        this.dropDownsSub = this.brokerService.dropDownsObservable.subscribe(function (data) {
            var statuses = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            var civilStatuses = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            var genders = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].category == "BROKER STATUS") {
                        statuses.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                    if (data[i].category == "GENDER") {
                        genders.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                    if (data[i].category == "CIVIL STATUS") {
                        civilStatuses.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                }
            }
            _this.cmbStatusData = statuses;
            _this.cmbGenderData = genders;
            _this.cmbCivilStatusData = civilStatuses;
            setTimeout(function () { _this.broker.status = defaultValues.status; }, 100);
            setTimeout(function () { _this.broker.gender = defaultValues.gender; }, 100);
            setTimeout(function () { _this.broker.civilStatus = defaultValues.civilStatus; }, 100);
        });
    };
    // ======
    // events
    // ======
    // detail operations
    BrokerDetail.prototype.btnSaveBrokerClick = function () {
        var _this = this;
        var btnSaveBroker = document.getElementById("btnSaveBroker");
        btnSaveBroker.setAttribute("disabled", "disabled");
        btnSaveBroker.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.brokerService.saveBroker(this.broker);
        this.brokerSavedSub = this.brokerService.brokerSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveBroker.removeAttribute("disabled");
                btnSaveBroker.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveBroker.removeAttribute("disabled");
                btnSaveBroker.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    BrokerDetail.prototype.btnLockBrokerClick = function () {
        var _this = this;
        var btnLockBroker = document.getElementById("btnLockBroker");
        btnLockBroker.setAttribute("disabled", "disabled");
        btnLockBroker.innerHTML = "<i class='fa fa-plus fa-fw'></i> Locking...";
        this.brokerService.lockBroker(this.broker);
        this.brokerLockedSub = this.brokerService.brokerLockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Locking successful.");
                _this.broker.isLocked = true;
                btnLockBroker.removeAttribute("disabled");
                btnLockBroker.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
            else if (data == 0) {
                _this.toastr.error("Locking failed.");
                btnLockBroker.removeAttribute("disabled");
                btnLockBroker.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
        });
    };
    BrokerDetail.prototype.btnUnlockBrokerClick = function () {
        var _this = this;
        var btnUnlockBroker = document.getElementById("btnUnlockBroker");
        btnUnlockBroker.setAttribute("disabled", "disabled");
        btnUnlockBroker.innerHTML = "<i class='fa fa-plus fa-fw'></i> Unlocking...";
        this.brokerService.unlockBroker(this.broker);
        this.brokerUnlockedSub = this.brokerService.brokerUnlockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Unlocking successful.");
                _this.broker.isLocked = false;
                btnUnlockBroker.removeAttribute("disabled");
                btnUnlockBroker.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
            else if (data == 0) {
                _this.toastr.error("Unlocking failed.");
                btnUnlockBroker.removeAttribute("disabled");
                btnUnlockBroker.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
        });
    };
    BrokerDetail.prototype.btnPrintBrokerClick = function () {
        this.router.navigate(['/pdf', 'broker', this.broker.id]);
    };
    BrokerDetail.prototype.btnUploadPictureClick = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.brokerService.uploadBrokerPicture(target.files[0], "BROKER-" + this.broker.brokerCode + "-" + Date.now());
            this.brokerPictureSub = this.brokerService.brokerPictureObservable
                .subscribe(function (data) {
                _this.broker.picture = data.fileUrl;
            });
        }
    };
    // detail tab index click
    BrokerDetail.prototype.tabDetail1Click = function (index) {
        for (var i = 0; i <= this.tabDetail1.length - 1; i++) {
            if (index == i)
                this.tabDetail1[i] = true;
            else
                this.tabDetail1[i] = false;
        }
    };
    // attachments
    BrokerDetail.prototype.btnOpenBrokerAttachment1Click = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.brokerService.uploadBrokerPicture(target.files[0], "BROKERFILE1-" + this.broker.brokerCode + "-" + Date.now());
            this.brokerPictureSub = this.brokerService.brokerPictureObservable
                .subscribe(function (data) {
                _this.broker.attachment1 = data.fileUrl;
            });
        }
    };
    BrokerDetail.prototype.btnOpenBrokerAttachment2Click = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.brokerService.uploadBrokerPicture(target.files[0], "BROKERFILE2-" + this.broker.brokerCode + "-" + Date.now());
            this.brokerPictureSub = this.brokerService.brokerPictureObservable
                .subscribe(function (data) {
                _this.broker.attachment2 = data.fileUrl;
            });
        }
    };
    BrokerDetail.prototype.btnOpenBrokerAttachment3Click = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.brokerService.uploadBrokerPicture(target.files[0], "BROKERFILE3-" + this.broker.brokerCode + "-" + Date.now());
            this.brokerPictureSub = this.brokerService.brokerPictureObservable
                .subscribe(function (data) {
                _this.broker.attachment3 = data.fileUrl;
            });
        }
    };
    BrokerDetail.prototype.btnOpenBrokerAttachment4Click = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.brokerService.uploadBrokerPicture(target.files[0], "BROKERFILE4-" + this.broker.brokerCode + "-" + Date.now());
            this.brokerPictureSub = this.brokerService.brokerPictureObservable
                .subscribe(function (data) {
                _this.broker.attachment4 = data.fileUrl;
            });
        }
    };
    BrokerDetail.prototype.btnOpenBrokerAttachment5Click = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.brokerService.uploadBrokerPicture(target.files[0], "BROKERFILE5-" + this.broker.brokerCode + "-" + Date.now());
            this.brokerPictureSub = this.brokerService.brokerPictureObservable
                .subscribe(function (data) {
                _this.broker.attachment5 = data.fileUrl;
            });
        }
    };
    BrokerDetail = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/broker/broker.detail.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__broker_service__["a" /* BrokerService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], BrokerDetail);
    return BrokerDetail;
}());



/***/ }),

/***/ "../../../../../src/app/broker/broker.list.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- buttons -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button class=\"btn btn-primary\" (click)=\"btnAddBrokerClick()\" id=\"btnAddBroker\">\r\n                                <i class=\"fa fa-plus fa-fw\"></i> Add\r\n                            </button>\r\n                            <button class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- flex grid -->\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdBroker [itemsSource]=\"fgdBrokerCollection\" [selectionMode]=\"3\" [frozenColumns]=\"2\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column *ngIf=\"canEdit\" [hidden]=\"true\" [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\" >\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditBrokerClick()\" data-toggle=\"modal\" data-backdrop=\"static\"\r\n                                data-keyboard=\"false\" data-target=\"#project-detail-modal\" id=\"btnEditBroker\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column *ngIf=\"canDelete\" [hidden]=canDelete [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteBrokerClick()\" id=\"btnDeleteBroker\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Code'\" [binding]=\"'brokerCode'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Name'\" [binding]=\"'fullName'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Address'\" [binding]=\"'address'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Phone No.'\" [binding]=\"'telephoneNumber'\" [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Mobile No.'\" [binding]=\"'mobileNumber'\" [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'L'\" [binding]=\"'isLocked'\" [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n\r\n            <!-- navigation buttons -->\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdBrokerCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdBrokerCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdBrokerCollection.pageIndex + 1 }} / {{ fgdBrokerCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdBrokerCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdBrokerCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- user and time stamp -->\r\n    <app-footer [data]=\"fgdBrokerCollection\"></app-footer>\r\n</div>\r\n\r\n<!-- delete broker prompt modal -->\r\n<div id=\"mdlBrokerDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlBrokerDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{fgdBrokerCollection.currentItem != null ? fgdBrokerCollection.currentItem.fullName : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnOkBrokerDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkBrokerDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok</button>\r\n                <button type=\"button\" id=\"btnCloseBrokerDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseBrokerDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/broker/broker.list.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BrokerList; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__broker_service__ = __webpack_require__("../../../../../src/app/broker/broker.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// services


// wijmo

// message box

var BrokerList = (function () {
    // =======
    // angular
    // =======
    // constructor
    function BrokerList(brokerService, toastr, viewContainer, router, securityService, location) {
        this.brokerService = brokerService;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.router = router;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        // user rights
        this.canEdit = false;
        this.canSave = false;
        this.canLock = false;
        this.canUnlock = false;
        this.canPrint = false;
        this.canDelete = false;
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'Broker List';
        // model(s)
        this.broker = {
            id: 0,
            brokerCode: "",
            lastName: "",
            firstName: "",
            middleName: "",
            fullName: "",
            licenseNumber: "",
            birthDate: this.currentDateString,
            civilStatus: "SINGLE",
            gender: "",
            address: "",
            telephoneNumber: "",
            mobileNumber: "",
            religion: "",
            emailAddress: "",
            facebook: "",
            tin: "",
            realtyFirm: "",
            realtyFirmAddress: "",
            realtyFirmTelephoneNumber: "",
            realtyFirmMobileNumber: "",
            realtyFirmFaxNumber: "",
            realtyFirmEmailAddress: "",
            realtyFirmWebsite: "",
            realtyFirmTIN: "",
            organization: "",
            remarks: "",
            picture: "",
            attachment1: "",
            attachment2: "",
            attachment3: "",
            attachment4: "",
            attachment5: "",
            status: "ACTIVE",
            isLocked: false,
            createdBy: 0,
            createdDateTime: this.currentDateString,
            updatedBy: 0,
            updatedDateTime: this.currentDateString,
        };
        // modals
        this.mdlBrokerDeleteShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    BrokerList.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdBrokerData = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        this.fgdBrokerCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](this.fgdBrokerData);
        if (this.securityService.openPage("BROKER LIST") == true) {
            this.getBrokers();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
        this.getUserRights();
    };
    BrokerList.prototype.ngOnDestroy = function () {
        if (this.brokersSub != null)
            this.brokersSub.unsubscribe();
        if (this.brokerDeletedSub != null)
            this.brokerDeletedSub.unsubscribe();
    };
    // ===============
    // Get User Rights
    // ===============
    BrokerList.prototype.getUserRights = function () {
        var userRightsData = localStorage.getItem('userRights');
        var userRights = JSON.parse(userRightsData);
        for (var i = 0; i < userRights.length; i++) {
            if (userRights[i].page == 'BROKER LIST') {
                this.canEdit = userRights[i].canEdit;
                this.canSave = userRights[i].canSave;
                this.canLock = userRights[i].canLock;
                this.canUnlock = userRights[i].canUnlock;
                this.canPrint = userRights[i].canPrint;
                this.canDelete = userRights[i].canDelete;
            }
        }
    };
    // ==============
    // public methods
    // ==============
    // list
    BrokerList.prototype.getBrokers = function () {
        var _this = this;
        this.brokerService.getBrokers();
        this.brokersSub = this.brokerService.brokersObservable.subscribe(function (data) {
            _this.fgdBrokerData = data;
            _this.fgdBrokerCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](_this.fgdBrokerData);
            _this.fgdBrokerCollection.pageSize = 15;
            _this.fgdBrokerCollection.trackChanges = true;
        });
    };
    // ======
    // events
    // ======
    // list operations
    BrokerList.prototype.btnAddBrokerClick = function () {
        var btnAddBroker = document.getElementById("btnAddBroker");
        btnAddBroker.setAttribute("disabled", "disabled");
        btnAddBroker.innerHTML = "<i class='fa fa-plus fa-fw'></i> Adding...";
        this.brokerService.addBroker(this.broker);
    };
    BrokerList.prototype.btnEditBrokerClick = function () {
        var selectedBroker = this.fgdBrokerCollection.currentItem;
        this.router.navigate(['/broker', selectedBroker.id]);
    };
    BrokerList.prototype.btnDeleteBrokerClick = function () {
        this.mdlBrokerDeleteShow = true;
    };
    // delete broker modal operations
    BrokerList.prototype.btnOkBrokerDeleteModalClick = function () {
        var _this = this;
        var btnOkBrokerDeleteModal = document.getElementById("btnOkBrokerDeleteModal");
        var btnCloseBrokerDeleteModal = document.getElementById("btnCloseBrokerDeleteModal");
        btnOkBrokerDeleteModal.setAttribute("disabled", "disabled");
        btnCloseBrokerDeleteModal.setAttribute("disabled", "disabled");
        var selectedBroker = this.fgdBrokerCollection.currentItem;
        this.brokerService.deleteBroker(selectedBroker.id);
        this.brokerDeletedSub = this.brokerService.brokerDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdBrokerCollection.remove(selectedBroker);
                btnOkBrokerDeleteModal.removeAttribute("disabled");
                btnCloseBrokerDeleteModal.removeAttribute("disabled");
                _this.mdlBrokerDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkBrokerDeleteModal.removeAttribute("disabled");
                btnCloseBrokerDeleteModal.removeAttribute("disabled");
            }
        });
    };
    BrokerList.prototype.btnCloseBrokerDeleteModalClick = function () {
        this.mdlBrokerDeleteShow = false;
    };
    BrokerList = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/broker/broker.list.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__broker_service__["a" /* BrokerService */],
            __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], BrokerList);
    return BrokerList;
}());



/***/ }),

/***/ "../../../../../src/app/broker/broker.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BrokerService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// wijmo

// async

var BrokerService = (function () {
    // =======
    // angular
    // =======
    // constructor
    function BrokerService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        // broker list
        this.brokersSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.brokersObservable = this.brokersSource.asObservable();
        // broker list operations
        this.brokerDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.brokerDeletedObservable = this.brokerDeletedSource.asObservable();
        // broker detail
        this.brokerSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.brokerObservable = this.brokerSource.asObservable();
        // broker detail operations
        this.brokerSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.brokerSavedObservable = this.brokerSavedSource.asObservable();
        this.brokerLockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.brokerLockedObservable = this.brokerLockedSource.asObservable();
        this.brokerUnlockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.brokerUnlockedObservable = this.brokerUnlockedSource.asObservable();
        // Blob, picture
        this.brokerPictureSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.brokerPictureObservable = this.brokerPictureSource.asObservable();
        // combo boxes
        this.dropDownsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsObservable = this.dropDownsSource.asObservable();
    }
    // ==============
    // public methods
    // ==============
    // list
    BrokerService.prototype.getBrokers = function () {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstBroker/List";
        var brokers = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    brokers.push({
                        id: results[i].Id,
                        brokerCode: results[i].BrokerCode,
                        lastName: results[i].LastName,
                        firstName: results[i].FirstName,
                        middleName: results[i].MiddleName,
                        fullName: results[i].FullName,
                        licenseNumber: results[i].LicenseNumber,
                        birthDate: results[i].BirthDate,
                        civilStatus: results[i].CivilStatus,
                        gender: results[i].Gender,
                        address: results[i].Address,
                        telephoneNumber: results[i].TelephoneNumber,
                        mobileNumber: results[i].MobileNumber,
                        religion: results[i].Religion,
                        emailAddress: results[i].EmailAddress,
                        facebook: results[i].Facebook,
                        tIN: results[i].TIN,
                        realtyFirm: results[i].RealtyFirm,
                        realtyFirmAddress: results[i].RealtyFirmAddress,
                        realtyFirmTelephoneNumber: results[i].RealtyFirmTelephoneNumber,
                        realtyFirmMobileNumber: results[i].RealtyFirmMobileNumber,
                        realtyFirmFaxNumber: results[i].RealtyFirmFaxNumber,
                        realtyFirmEmailAddress: results[i].RealtyFirmEmailAddress,
                        realtyFirmWebsite: results[i].RealtyFirmWebsite,
                        realtyFirmTIN: results[i].RealtyFirmTIN,
                        organization: results[i].Organization,
                        remarks: results[i].Remarks,
                        picture: results[i].Picture,
                        attachment1: results[i].Attachment1 == null ? "" : results[i].Attachment1,
                        attachment2: results[i].Attachment2 == null ? "" : results[i].Attachment2,
                        attachment3: results[i].Attachment3 == null ? "" : results[i].Attachment3,
                        attachment4: results[i].Attachment4 == null ? "" : results[i].Attachment4,
                        attachment5: results[i].Attachment5 == null ? "" : results[i].Attachment5,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.brokersSource.next(brokers);
            }
            else {
                _this.brokersSource.next(brokers);
                _this.toastr.error("No brokers.");
            }
        });
    };
    // detail
    BrokerService.prototype.getBroker = function (id) {
        var _this = this;
        var broker;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstBroker/Detail/" + id;
        this.http.get(url, this.options).subscribe(function (response) {
            var results = response.json();
            if (results != null) {
                broker = {
                    id: results.Id,
                    brokerCode: results.BrokerCode,
                    lastName: results.LastName,
                    firstName: results.FirstName,
                    middleName: results.MiddleName,
                    fullName: results.FullName,
                    licenseNumber: results.LicenseNumber,
                    birthDate: results.BirthDate,
                    civilStatus: results.CivilStatus,
                    gender: results.Gender,
                    address: results.Address,
                    telephoneNumber: results.TelephoneNumber,
                    mobileNumber: results.MobileNumber,
                    religion: results.Religion,
                    emailAddress: results.EmailAddress,
                    facebook: results.Facebook,
                    tin: results.TIN,
                    realtyFirm: results.RealtyFirm,
                    realtyFirmAddress: results.RealtyFirmAddress,
                    realtyFirmTelephoneNumber: results.RealtyFirmTelephoneNumber,
                    realtyFirmMobileNumber: results.RealtyFirmMobileNumber,
                    realtyFirmFaxNumber: results.RealtyFirmFaxNumber,
                    realtyFirmEmailAddress: results.RealtyFirmEmailAddress,
                    realtyFirmWebsite: results.RealtyFirmWebsite,
                    realtyFirmTIN: results.RealtyFirmTIN,
                    organization: results.Organization,
                    remarks: results.Remarks,
                    picture: results.Picture,
                    attachment1: results.Attachment1 == null ? "" : results.Attachment1,
                    attachment2: results.Attachment2 == null ? "" : results.Attachment2,
                    attachment3: results.Attachment3 == null ? "" : results.Attachment3,
                    attachment4: results.Attachment4 == null ? "" : results.Attachment4,
                    attachment5: results.Attachment5 == null ? "" : results.Attachment5,
                    status: results.Status,
                    isLocked: results.IsLocked,
                    createdBy: results.CreatedBy,
                    createdDateTime: results.CreatedDateTime,
                    updatedBy: results.UpdatedBy,
                    updatedDateTime: results.UpdatedDateTime,
                };
                _this.brokerSource.next(broker);
            }
            else {
                _this.toastr.error("No data.");
                setTimeout(function () {
                    _this.router.navigate(["/broker"]);
                }, 1000);
            }
        });
    };
    // detail combo boxes
    BrokerService.prototype.getDropDowns = function () {
        var _this = this;
        var dropDowns = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    dropDowns.push({
                        id: results[i].Id,
                        category: results[i].Category,
                        description: results[i].Description,
                        value: results[i].Value
                    });
                }
                _this.dropDownsSource.next(dropDowns);
            }
            else {
                _this.dropDownsSource.next(dropDowns);
                _this.toastr.error("No dropdowns.");
            }
        });
    };
    // list operations 
    BrokerService.prototype.addBroker = function (broker) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstBroker/Add";
        this.http.post(url, JSON.stringify(broker), this.options).subscribe(function (response) {
            var id = response.json();
            console.log(id);
            if (id > 0) {
                _this.toastr.success("Add successful.");
                setTimeout(function () {
                    _this.router.navigate(['/broker', id]);
                }, 1000);
            }
            else {
                _this.toastr.error("Add failed.");
            }
        }, function (error) {
            _this.toastr.error("Server error.");
        });
    };
    BrokerService.prototype.deleteBroker = function (id) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstBroker/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.brokerDeletedSource.next(1);
        }, function (error) {
            _this.brokerDeletedSource.next(0);
        });
    };
    BrokerService.prototype.uploadBrokerPicture = function (file, fileName) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/Blob/Upload";
        var blob;
        var formData = new FormData();
        formData.append("image", file, fileName);
        this.http
            .post(url, formData)
            .subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                blob = {
                    fileName: results[0].FileName,
                    fileUrl: results[0].FileUrl,
                    fileSizeInBytes: results[0].FileSizeInBytes,
                    fileSizeInKb: results[0].FileSizeInKb,
                };
                _this.brokerPictureSource.next(blob);
                _this.toastr.success("Upload successful.");
            }
            else {
                _this.brokerPictureSource.next(blob);
                _this.toastr.error("Uploading failed.");
            }
        }, function (error) {
            _this.brokerPictureSource.next(blob);
            _this.toastr.error("Server error.");
        });
    };
    // detail operations
    BrokerService.prototype.saveBroker = function (broker) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstBroker/Save";
        this.http.put(url, JSON.stringify(broker), this.options).subscribe(function (response) {
            _this.brokerSavedSource.next(1);
        }, function (error) {
            _this.brokerSavedSource.next(0);
        });
    };
    BrokerService.prototype.lockBroker = function (broker) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstBroker/Lock";
        this.http.put(url, JSON.stringify(broker), this.options).subscribe(function (response) {
            _this.brokerLockedSource.next(1);
        }, function (error) {
            _this.brokerLockedSource.next(0);
        });
    };
    BrokerService.prototype.unlockBroker = function (broker) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstBroker/Unlock";
        this.http.put(url, JSON.stringify(broker), this.options).subscribe(function (response) {
            _this.brokerUnlockedSource.next(1);
        }, function (error) {
            _this.brokerUnlockedSource.next(0);
        });
    };
    BrokerService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], BrokerService);
    return BrokerService;
}());



/***/ }),

/***/ "../../../../../src/app/checklist/checklist.detail.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n\r\n<br>\r\n<br>\r\n\r\n<div class=\"content-wrapper\">\r\n\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/checklist\">Checklist List</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- detail operations -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button id=\"btnPrintChecklist\" [disabled]=\"!checklist.isLocked\" class=\"btn btn-primary\" (click)=\"btnPrintChecklistClick()\" id=\"btnPrintChecklist\">\r\n                                <i class=\"fa fa-print fa-fw\"></i> Print\r\n                            </button>\r\n                            <button id=\"btnLockChecklist\" [disabled]=\"checklist.isLocked\" class=\"btn btn-primary\" (click)=\"btnLockChecklistClick()\" id=\"btnLockChecklist\">\r\n                                <i class=\"fa fa-lock fa-fw\"></i> Lock\r\n                            </button>\r\n                            <button id=\"btnUnlockChecklist\" [disabled]=\"!checklist.isLocked\" class=\"btn btn-primary\" (click)=\"btnUnlockChecklistClick()\" id=\"btnUnlockChecklist\">\r\n                                <i class=\"fa fa-unlock fa-fw\"></i> Unlock\r\n                            </button>\r\n                            <button id=\"btnSaveChecklist\" [disabled]=\"checklist.isLocked\" class=\"btn btn-primary\" (click)=\"btnSaveChecklistClick()\" id=\"btnSaveChecklist\">\r\n                                <i class=\"fa fa-save fa-fw\"></i> Save\r\n                            </button>\r\n                            <button id=\"btnCloseChecklist\" class=\"btn btn-danger\" routerLink=\"/checklist\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- detail -->\r\n            <div class=\"card-body\">\r\n\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Checklist Code</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"checklist.checklistCode\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Checklist</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"checklist.checklist\" [disabled]=\"checklist.isLocked\" type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Date</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-input-date #calChecklistDate [(text)]=\"checklist.checklistDate\" [isDisabled]=\"checklist.isLocked\" format=\"M/d/yyyy\">\r\n                                </wj-input-date>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Project</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"checklist.project\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Remarks</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <textarea [(ngModel)]=\"checklist.remarks\" rows=\"5\" class=\"form-control\" [disabled]=\"checklist.isLocked\">\r\n                                </textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Status</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbChecklistStatus [itemsSource]=\"cmbChecklistStatusData\" [isDisabled]=\"checklist.isLocked\" [isEditable]=\"false\"\r\n                                    [isRequired]=\"true\" [displayMemberPath]=\"'description'\" [selectedValuePath]=\"'value'\" [(ngModel)]=\"checklist.status\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <!-- <div class=\"card-body\"> -->\r\n\r\n        </div>\r\n        <!-- <div class=\"card\"> -->\r\n        <br />\r\n        <div class=\"card\">\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h6>Checklist Requirement</h6>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button [disabled]=\"checklist.isLocked\" type=\"button\" class=\"btn btn-primary\" (click)=\"btnAddChecklistRequirementsClick()\">\r\n                                <i class=\"fa fa-plus\"></i> Add\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdChecklistRequirements [itemsSource]=\"fgdChecklistRequirementsCollection\" [selectionMode]=\"3\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column *ngIf=\"canEdit\" [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" [disabled]=\"checklist.isLocked\" (click)=\"btnEditChecklistRequirementsClick()\" id=\"btnEditChecklistRequirements\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column *ngIf=\"canDelete\" [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" [disabled]=\"checklist.isLocked\" (click)=\"btnDeleteChecklistRequirementsClick()\" id=\"btnDeleteChecklistRequirements\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'No'\" [binding]=\"'requirementNo'\" [isReadOnly]=\"true\" [width]=\"70\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Requirement'\" [binding]=\"'requirement'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Category'\" [binding]=\"'category'\" [isReadOnly]=\"true\" [width]=\"200\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Type'\" [binding]=\"'type'\" [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'A'\" [binding]=\"'withAttachments'\" [isReadOnly]=\"true\" [width]=\"70\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-md-12 btn-group\">\r\n                    <button type=\"button\" class=\"btn btn-info\" (click)=\"fgdChecklistRequirementsCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-info\" (click)=\"fgdChecklistRequirementsCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-info\" disabled style=\"width:100px\">\r\n                        {{ fgdChecklistRequirementsCollection.pageIndex + 1 }} / {{ fgdChecklistRequirementsCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-info\" (click)=\"fgdChecklistRequirementsCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-info\" (click)=\"fgdChecklistRequirementsCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n    <!-- <div class=\"container-fluid\"> -->\r\n\r\n    <app-footer [data]=\"checklist\"></app-footer>\r\n\r\n</div>\r\n<!-- <div class=\"content-wrapper\"> -->\r\n\r\n\r\n\r\n\r\n<!-- delete checklist requirement prompt modal -->\r\n<div id=\"mdlChecklistRequirementDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlChecklistRequirementDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete Requirement</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{fgdChecklistRequirementsCollection.currentItem != null ? fgdChecklistRequirementsCollection.currentItem.requirement\r\n                : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button id=\"btnOkChecklistRequirementDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkChecklistRequirementDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok\r\n                </button>\r\n                <button id=\"btnCloseChecklistRequirementDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseChecklistRequirementDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<!-- edit checklist requirement modal  -->\r\n<div id=\"mdlChecklistRequirementEdit\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlChecklistRequirementEditShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Edit Checklist Requirement</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">No.</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input [(ngModel)]=\"checklistRequirement.requirementNo\" disabled type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Requirement</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input [(ngModel)]=\"checklistRequirement.requirement\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Category</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input [(ngModel)]=\"checklistRequirement.category\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Type</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <wj-combo-box #cmbChecklistRequirementType [itemsSource]=\"cmbChecklistRequirementTypeData\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                            [displayMemberPath]=\"'value'\" [selectedValuePath]=\"'value'\" [(ngModel)]=\"checklistRequirement.type\">\r\n                        </wj-combo-box>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">With Attachments</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input type=\"checkbox\" [(ngModel)]=\"checklistRequirement.withAttachments\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSaveChecklistRequirementEdit\" class=\"btn btn-success\" (click)=\"btnSaveChecklistRequirementEditClick()\" id=\"btnSaveChecklistRequirementEdit\">\r\n                    <i class=\"fa fa-check fa-fw\"></i> Save</button>\r\n                <button type=\"button\" id=\"btnCloseChecklistRequirementEdit\" class=\"btn btn-danger\" (click)=\"btnCloseChecklistRequirementEditClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/checklist/checklist.detail.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ChecklistDetail; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__checklist_service__ = __webpack_require__("../../../../../src/app/checklist/checklist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// service(s)


var ChecklistDetail = (function () {
    // =======
    // angular
    // =======
    // constructor
    function ChecklistDetail(checklistService, router, toastr, viewContainer, activatedRoute, securityService, location) {
        this.checklistService = checklistService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.activatedRoute = activatedRoute;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        // user rights
        this.canEdit = false;
        this.canSave = false;
        this.canLock = false;
        this.canUnlock = false;
        this.canPrint = false;
        this.canDelete = false;
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'Checklist Detail';
        // model(s)
        this.checklist = {
            id: 0,
            checklistCode: "",
            checklist: "",
            checklistDate: this.currentDateString,
            projectId: 0,
            project: "",
            remarks: "",
            status: "ACTIVE",
            isLocked: false,
            createdBy: 1,
            createdDateTime: this.currentDateString,
            updatedBy: 1,
            updatedDateTime: this.currentDateString
        };
        this.checklistRequirement = {
            id: 0,
            checkListId: 0,
            checkList: "",
            requirementNo: 0,
            requirement: "",
            category: "",
            type: "SECONDARY",
            withAttachments: false,
        };
        // modal(s)
        this.mdlChecklistRequirementDeleteShow = false;
        this.mdlChecklistRequirementEditShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    ChecklistDetail.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdChecklistRequirementsData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdChecklistRequirementsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdChecklistRequirementsData);
        if (this.securityService.openPage("CHECKLIST DETAIL") == true) {
            this.getChecklist();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
        this.getUserRights();
        if (!this.canPrint) {
            document.getElementById("btnPrintChecklist").hidden = true;
        }
        if (!this.canLock) {
            document.getElementById("btnLockChecklist").hidden = true;
        }
        if (!this.canUnlock) {
            document.getElementById("btnUnlockChecklist").hidden = true;
        }
        if (!this.canSave) {
            document.getElementById("btnSaveChecklist").hidden = true;
            document.getElementById("btnSaveChecklistRequirementEdit").hidden = true;
        }
    };
    ChecklistDetail.prototype.ngOnDestroy = function () {
        if (this.checklistSub != null)
            this.checklistSub.unsubscribe();
        if (this.checklistSavedSub != null)
            this.checklistSavedSub.unsubscribe();
        if (this.checklistLockedSub != null)
            this.checklistLockedSub.unsubscribe();
        if (this.checklistUnlockedSub != null)
            this.checklistUnlockedSub.unsubscribe();
        if (this.checklistStatusSub != null)
            this.checklistStatusSub.unsubscribe();
        if (this.checklistRequirementsSub != null)
            this.checklistRequirementsSub.unsubscribe();
        if (this.checklistRequirementSavedSub != null)
            this.checklistRequirementSavedSub.unsubscribe();
        if (this.checklistRequirementDeletedSub != null)
            this.checklistRequirementDeletedSub.unsubscribe();
    };
    // ===============
    // private methods
    // ===============
    // ===============
    // Get User Rights
    // ===============
    ChecklistDetail.prototype.getUserRights = function () {
        var userRightsData = localStorage.getItem('userRights');
        var userRights = JSON.parse(userRightsData);
        for (var i = 0; i < userRights.length; i++) {
            if (userRights[i].page == 'CHECKLIST DETAIL') {
                this.canEdit = userRights[i].canEdit;
                this.canSave = userRights[i].canSave;
                this.canLock = userRights[i].canLock;
                this.canUnlock = userRights[i].canUnlock;
                this.canPrint = userRights[i].canPrint;
                this.canDelete = userRights[i].canDelete;
            }
        }
    };
    ChecklistDetail.prototype.getIdParameter = function () {
        var id = 0;
        this.activatedRoute.params.subscribe(function (params) {
            id = params["id"];
        });
        return id;
    };
    // ==============
    // public methods
    // ==============
    // detail
    ChecklistDetail.prototype.getChecklist = function () {
        var _this = this;
        this.checklistService.getChecklist(this.getIdParameter());
        this.checklistSub = this.checklistService.checklistObservable
            .subscribe(function (data) {
            _this.checklist.id = data.id;
            _this.checklist.checklistCode = data.checklistCode;
            _this.checklist.checklist = data.checklist;
            _this.checklist.checklistDate = data.checklistDate;
            _this.checklist.projectId = data.projectId;
            _this.checklist.project = data.project;
            _this.checklist.remarks = data.remarks;
            _this.checklist.status = data.status;
            _this.checklist.isLocked = data.isLocked;
            _this.checklist.createdBy = data.createdBy;
            _this.checklist.createdDateTime = data.createdDateTime;
            _this.checklist.updatedBy = data.updatedBy;
            _this.checklist.updatedDateTime = data.updatedDateTime;
            _this.getChecklistStatus(data);
            _this.getChecklistRequirements();
        });
    };
    // detail combo boxes
    ChecklistDetail.prototype.getChecklistStatus = function (detail) {
        var _this = this;
        this.checklistService.getDropDowns();
        this.checklistStatusSub = this.checklistService.dropDownsObservable.subscribe(function (data) {
            var checklistStatuses = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].category == "CHECKLIST STATUS") {
                        checklistStatuses.push({
                            id: data[i].id,
                            category: data[i].category,
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                }
            }
            _this.cmbChecklistStatusData = checklistStatuses;
            setTimeout(function () {
                _this.checklist.status = detail.status;
            }, 100);
        });
    };
    // detail line1 (requirements) 
    ChecklistDetail.prototype.getChecklistRequirements = function () {
        var _this = this;
        this.checklistService.getChecklistRequirementsPerChecklist(this.checklist.id);
        this.checklistRequirementsSub = this.checklistService.checklistRequirementsObservable.subscribe(function (data) {
            // Clean up data
            _this.fgdChecklistRequirementsData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            _this.fgdChecklistRequirementsData = data;
            // Refresh collection view
            _this.fgdChecklistRequirementsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdChecklistRequirementsData);
            _this.fgdChecklistRequirementsCollection.pageSize = 15;
            _this.fgdChecklistRequirementsCollection.trackChanges = true;
            // Destroy subscription
            if (_this.checklistRequirementsSub != null)
                _this.checklistRequirementsSub.unsubscribe();
        });
    };
    // detail line1 (requirements) combo boxes
    ChecklistDetail.prototype.getRequirementType = function (defaultValue) {
        var _this = this;
        this.checklistService.getDropDowns();
        this.checklistStatusSub = this.checklistService.dropDownsObservable.subscribe(function (data) {
            var requirementTypes = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].category == "REQUIREMENT TYPE") {
                        requirementTypes.push({
                            id: data[i].id,
                            category: data[i].category,
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                }
            }
            _this.cmbChecklistRequirementTypeData = requirementTypes;
            setTimeout(function () {
                _this.checklistRequirement.type = defaultValue;
            }, 100);
        });
    };
    // ======
    // events
    // ======
    // detail operations
    ChecklistDetail.prototype.btnSaveChecklistClick = function () {
        var _this = this;
        var btnSaveChecklist = document.getElementById("btnSaveChecklist");
        btnSaveChecklist.setAttribute("disabled", "disabled");
        btnSaveChecklist.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.checklistService.saveChecklist(this.checklist);
        this.checklistSavedSub = this.checklistService.checklistSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveChecklist.removeAttribute("disabled");
                btnSaveChecklist.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveChecklist.removeAttribute("disabled");
                btnSaveChecklist.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    ChecklistDetail.prototype.btnLockChecklistClick = function () {
        var _this = this;
        var btnLockChecklist = document.getElementById("btnLockChecklist");
        btnLockChecklist.setAttribute("disabled", "disabled");
        btnLockChecklist.innerHTML = "<i class='fa fa-plus fa-fw'></i> Locking...";
        this.checklistService.lockChecklist(this.checklist);
        this.checklistLockedSub = this.checklistService.checklistLockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Locking successful.");
                _this.checklist.isLocked = true;
                btnLockChecklist.removeAttribute("disabled");
                btnLockChecklist.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
            else if (data == 0) {
                _this.toastr.error("Locking failed.");
                btnLockChecklist.removeAttribute("disabled");
                btnLockChecklist.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
        });
    };
    ChecklistDetail.prototype.btnUnlockChecklistClick = function () {
        var _this = this;
        var btnUnlockChecklist = document.getElementById("btnUnlockChecklist");
        btnUnlockChecklist.setAttribute("disabled", "disabled");
        btnUnlockChecklist.innerHTML = "<i class='fa fa-plus fa-fw'></i> Unlocking...";
        this.checklistService.unlockChecklist(this.checklist);
        this.checklistUnlockedSub = this.checklistService.checklistUnlockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Unlocking successful.");
                _this.checklist.isLocked = false;
                btnUnlockChecklist.removeAttribute("disabled");
                btnUnlockChecklist.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
            else if (data == 0) {
                _this.toastr.error("Unlocking failed.");
                btnUnlockChecklist.removeAttribute("disabled");
                btnUnlockChecklist.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
        });
    };
    ChecklistDetail.prototype.btnPrintChecklistClick = function () {
        this.router.navigate(['/pdf', 'checklist', this.checklist.id]);
    };
    // detail line1 (requirements) list operations
    ChecklistDetail.prototype.btnAddChecklistRequirementsClick = function () {
        var requirementNo = 0;
        for (var _i = 0, _a = this.fgdChecklistRequirementsData; _i < _a.length; _i++) {
            var item = _a[_i];
            if (item.requirementNo > requirementNo)
                requirementNo = item.requirementNo;
        }
        this.checklistRequirement.id = 0;
        this.checklistRequirement.checkListId = this.checklist.id;
        this.checklistRequirement.requirementNo = requirementNo + 1;
        this.checklistRequirement.requirement = "";
        this.checklistRequirement.category = "";
        this.checklistRequirement.type = "SECONDARY";
        this.checklistRequirement.withAttachments = false;
        this.mdlChecklistRequirementEditShow = true;
        this.getRequirementType("SECONDARY");
    };
    ChecklistDetail.prototype.btnEditChecklistRequirementsClick = function () {
        var selectedChecklistRequirement = this.fgdChecklistRequirementsCollection.currentItem;
        this.checklistRequirement.id = selectedChecklistRequirement.id;
        this.checklistRequirement.checkListId = selectedChecklistRequirement.checkListId;
        this.checklistRequirement.requirementNo = selectedChecklistRequirement.requirementNo;
        this.checklistRequirement.requirement = selectedChecklistRequirement.requirement;
        this.checklistRequirement.category = selectedChecklistRequirement.category;
        this.checklistRequirement.type = selectedChecklistRequirement.type;
        this.checklistRequirement.withAttachments = selectedChecklistRequirement.withAttachments;
        this.mdlChecklistRequirementEditShow = true;
        this.getRequirementType(selectedChecklistRequirement.type);
    };
    ChecklistDetail.prototype.btnDeleteChecklistRequirementsClick = function () {
        this.mdlChecklistRequirementDeleteShow = true;
    };
    // detail line1 (requirements) delete modal operations
    ChecklistDetail.prototype.btnOkChecklistRequirementDeleteModalClick = function () {
        var _this = this;
        var btnOkChecklistRequirementDeleteModal = document.getElementById("btnOkChecklistRequirementDeleteModal");
        var btnCloseChecklistRequirementDeleteModal = document.getElementById("btnCloseChecklistRequirementDeleteModal");
        btnOkChecklistRequirementDeleteModal.setAttribute("disabled", "disabled");
        btnCloseChecklistRequirementDeleteModal.setAttribute("disabled", "disabled");
        var selectedChecklistRequirement = this.fgdChecklistRequirementsCollection.currentItem;
        this.checklistService.deleteChecklistRequirement(selectedChecklistRequirement.id);
        this.checklistRequirementDeletedSub = this.checklistService.checklistRequirementsDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdChecklistRequirementsCollection.remove(selectedChecklistRequirement);
                btnOkChecklistRequirementDeleteModal.removeAttribute("disabled");
                btnCloseChecklistRequirementDeleteModal.removeAttribute("disabled");
                _this.mdlChecklistRequirementDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkChecklistRequirementDeleteModal.removeAttribute("disabled");
                btnCloseChecklistRequirementDeleteModal.removeAttribute("disabled");
            }
        });
    };
    ChecklistDetail.prototype.btnCloseChecklistRequirementDeleteModalClick = function () {
        this.mdlChecklistRequirementDeleteShow = false;
    };
    // detail line1 (requirements) edit modal operations
    ChecklistDetail.prototype.btnSaveChecklistRequirementEditClick = function () {
        var _this = this;
        var btnSaveChecklistRequirementEdit = document.getElementById("btnSaveChecklistRequirementEdit");
        var btnCloseChecklistRequirementEdit = document.getElementById("btnCloseChecklistRequirementEdit");
        btnSaveChecklistRequirementEdit.setAttribute("disabled", "disabled");
        btnSaveChecklistRequirementEdit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        btnCloseChecklistRequirementEdit.setAttribute("disabled", "disabled");
        this.checklistService.saveChecklistRequirement(this.checklistRequirement);
        this.checklistRequirementSavedSub = this.checklistService.checklistRequirementsSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveChecklistRequirementEdit.removeAttribute("disabled");
                btnSaveChecklistRequirementEdit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseChecklistRequirementEdit.removeAttribute("disabled");
                _this.mdlChecklistRequirementEditShow = false;
                _this.getChecklistRequirements();
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveChecklistRequirementEdit.removeAttribute("disabled");
                btnSaveChecklistRequirementEdit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseChecklistRequirementEdit.removeAttribute("disabled");
            }
        });
    };
    ChecklistDetail.prototype.btnCloseChecklistRequirementEditClick = function () {
        this.mdlChecklistRequirementEditShow = false;
    };
    ChecklistDetail = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/checklist/checklist.detail.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__checklist_service__["a" /* ChecklistService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], ChecklistDetail);
    return ChecklistDetail;
}());



/***/ }),

/***/ "../../../../../src/app/checklist/checklist.list.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- buttons -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button class=\"btn btn-primary\" (click)=\"btnAddChecklistClick()\" id=\"btnAddChecklist\">\r\n                                <i class=\"fa fa-plus fa-fw\"></i> Add\r\n                            </button>\r\n                            <button id=\"btnCloseChecklist\" class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- filters -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 25%;\">\r\n                            <div class=\"input-group\">\r\n                                <span class=\"input-group-addon\">\r\n                                    Project:\r\n                                </span>\r\n                                <wj-combo-box #cmbProjects [itemsSource]=\"cmbProjectsData\" [placeholder]=\"'Select Project'\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'project'\" [selectedValuePath]=\"'id'\" (selectedIndexChanged)=\"cmbProjectsChange()\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"width: 75%;\"></td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- flexgrid -->\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdChecklist [itemsSource]=\"fgdChecklistCollection\" [selectionMode]=\"3\" [frozenColumns]=\"2\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column *ngIf=\"canEdit\" [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditChecklistClick()\" id=\"btnEditChecklist\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column *ngIf=\"canDelete\" [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteChecklistClick()\" id=\"btnDeleteChecklist\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Code'\" [binding]=\"'checklistCode'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Checklist'\" [binding]=\"'checklist'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'checklistDate'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Remarks'\" [binding]=\"'remarks'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'L'\" [binding]=\"'isLocked'\" [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n\r\n            <!-- navigation buttons -->\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdChecklistCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdChecklistCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdChecklistCollection.pageIndex + 1 }} / {{ fgdChecklistCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdChecklistCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdChecklistCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- user and time stamp -->\r\n    <app-footer [data]=\"fgdChecklistCollection\"></app-footer>\r\n</div>\r\n\r\n<!-- delete checklist prompt modal -->\r\n<div id=\"mdlChecklistDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlChecklistDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete Checklist</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{fgdChecklistCollection.currentItem != null ? fgdChecklistCollection.currentItem.checklist : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button id=\"btnOkChecklistDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkChecklistDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok\r\n                </button>\r\n                <button id=\"btnCloseChecklistDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseChecklistDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/checklist/checklist.list.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ChecklistList; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__checklist_service__ = __webpack_require__("../../../../../src/app/checklist/checklist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box 

// service(s)


var ChecklistList = (function () {
    // =======
    // angular
    // =======
    //constructor
    function ChecklistList(checklistService, toastr, viewContainer, router, securityService, location) {
        this.checklistService = checklistService;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.router = router;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        // userrights
        this.canEdit = false;
        this.canSave = false;
        this.canLock = false;
        this.canUnlock = false;
        this.canPrint = false;
        this.canDelete = false;
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'Checklist List';
        // model(s)
        this.checklist = {
            id: 0,
            checklistCode: "",
            checklist: "",
            checklistDate: this.currentDateString,
            projectId: 0,
            project: "",
            remarks: "",
            status: "ACTIVE",
            isLocked: false,
            createdBy: 1,
            createdDateTime: this.currentDateString,
            updatedBy: 1,
            updatedDateTime: this.currentDateString
        };
        // modals
        this.mdlChecklistDeleteShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    ChecklistList.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdChecklistData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdChecklistCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdChecklistData);
        if (this.securityService.openPage("CHECKLIST") == true) {
            this.getProjects();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
        this.getUserRights();
    };
    ChecklistList.prototype.ngOnDestroy = function () {
        if (this.checklistsSub != null)
            this.checklistsSub.unsubscribe();
        if (this.projectsSub != null)
            this.projectsSub.unsubscribe();
        if (this.checklistDeletedSub != null)
            this.checklistDeletedSub.unsubscribe();
    };
    // ===============
    // Get User Rights
    // ===============
    ChecklistList.prototype.getUserRights = function () {
        var userRightsData = localStorage.getItem('userRights');
        var userRights = JSON.parse(userRightsData);
        for (var i = 0; i < userRights.length; i++) {
            if (userRights[i].page == 'CHECKLIST') {
                this.canEdit = userRights[i].canEdit;
                this.canSave = userRights[i].canSave;
                this.canLock = userRights[i].canLock;
                this.canUnlock = userRights[i].canUnlock;
                this.canPrint = userRights[i].canPrint;
                this.canDelete = userRights[i].canDelete;
            }
        }
    };
    // ==============
    // public methods
    // ==============
    // filters
    ChecklistList.prototype.getProjects = function () {
        var _this = this;
        this.checklistService.getProjects();
        this.projectsSub = this.checklistService.projectsObservable.subscribe(function (data) {
            if (data.length > 0) {
                _this.cmbProjectsData = data;
            }
        });
    };
    // list
    ChecklistList.prototype.getChecklistPerProjectId = function (projectId) {
        var _this = this;
        var checklist = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.checklistService.getChecklistPerProjectId(projectId);
        this.checklistsSub = this.checklistService.checklistsObservable.subscribe(function (data) {
            _this.fgdChecklistData = data;
            _this.fgdChecklistCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdChecklistData);
            _this.fgdChecklistCollection.pageSize = 15;
            _this.fgdChecklistCollection.trackChanges = true;
        });
    };
    // ======
    // events
    // ======
    // filter events
    ChecklistList.prototype.cmbProjectsChange = function () {
        var index = this.cmbProjects["selectedIndex"];
        var projectId = this.cmbProjectsData[index]["id"];
        var project = this.cmbProjectsData[index]["project"];
        this.checklist.projectId = projectId;
        this.checklist.project = project;
        this.getChecklistPerProjectId(projectId);
    };
    // list events
    ChecklistList.prototype.btnAddChecklistClick = function () {
        var btnAddChecklist = document.getElementById("btnAddChecklist");
        btnAddChecklist.setAttribute("disabled", "disabled");
        btnAddChecklist.innerHTML = "<i class='fa fa-plus fa-fw'></i> Adding...";
        this.checklistService.addChecklist(this.checklist, btnAddChecklist);
    };
    ChecklistList.prototype.btnDeleteChecklistClick = function () {
        this.mdlChecklistDeleteShow = true;
    };
    ChecklistList.prototype.btnEditChecklistClick = function () {
        var selectedChecklist = this.fgdChecklistCollection.currentItem;
        this.router.navigate(['/checklist', selectedChecklist.id]);
    };
    // delete checklist modal events
    ChecklistList.prototype.btnOkChecklistDeleteModalClick = function () {
        var _this = this;
        var btnOkChecklistDeleteModal = document.getElementById("btnOkChecklistDeleteModal");
        var btnCloseChecklistDeleteModal = document.getElementById("btnCloseChecklistDeleteModal");
        var selectedChecklist = this.fgdChecklistCollection.currentItem;
        btnOkChecklistDeleteModal.setAttribute("disabled", "disabled");
        btnCloseChecklistDeleteModal.setAttribute("disabled", "disabled");
        this.checklistService.deleteChecklist(selectedChecklist.id);
        this.checklistDeletedSub = this.checklistService.checklistDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdChecklistCollection.remove(selectedChecklist);
                btnOkChecklistDeleteModal.removeAttribute("disabled");
                btnCloseChecklistDeleteModal.removeAttribute("disabled");
                _this.mdlChecklistDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkChecklistDeleteModal.removeAttribute("disabled");
                btnCloseChecklistDeleteModal.removeAttribute("disabled");
            }
        });
    };
    ChecklistList.prototype.btnCloseChecklistDeleteModalClick = function () {
        this.mdlChecklistDeleteShow = false;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("cmbProjects"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], ChecklistList.prototype, "cmbProjects", void 0);
    ChecklistList = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/checklist/checklist.list.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__checklist_service__["a" /* ChecklistService */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], ChecklistList);
    return ChecklistList;
}());



/***/ }),

/***/ "../../../../../src/app/checklist/checklist.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ChecklistService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// wijmo

// async

var ChecklistService = (function () {
    // =======
    // angular
    // =======
    // constructor
    function ChecklistService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        // filters
        this.projectsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.projectsObservable = this.projectsSource.asObservable();
        // list 
        this.checklistsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.checklistsObservable = this.checklistsSource.asObservable();
        // detail
        this.checklistSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.checklistObservable = this.checklistSource.asObservable();
        // list operations
        this.checklistDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.checklistDeletedObservable = this.checklistDeletedSource.asObservable();
        // detail operations
        this.checklistSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.checklistSavedObservable = this.checklistSavedSource.asObservable();
        this.checklistLockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.checklistLockedObservable = this.checklistLockedSource.asObservable();
        this.checklistUnlockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.checklistUnlockedObservable = this.checklistUnlockedSource.asObservable();
        // dropdown list
        this.dropDownsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsObservable = this.dropDownsSource.asObservable();
        // detail line1 (requirements)
        this.checklistRequirementsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.checklistRequirementsObservable = this.checklistRequirementsSource.asObservable();
        // detail line1 (requirements) operations
        this.checklistRequirementsDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.checklistRequirementsDeletedObservable = this.checklistRequirementsDeletedSource.asObservable();
        this.checklistRequirementsSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.checklistRequirementsSavedObservable = this.checklistRequirementsSavedSource.asObservable();
    }
    // ==============
    // public methods
    // ==============
    // filters
    ChecklistService.prototype.getProjects = function () {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/List";
        var projects = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    projects.push({
                        id: results[i].Id,
                        projectCode: results[i].ProjectCode,
                        project: results[i].Project,
                        address: results[i].Address,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.projectsSource.next(projects);
            }
            else {
                _this.toastr.error("No projects.");
            }
        });
    };
    // list
    ChecklistService.prototype.getChecklistPerProjectId = function (projectId) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstChecklist/ListPerProjectId/" + projectId;
        var checklist = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    checklist.push({
                        id: results[i].Id,
                        checklistCode: results[i].ChecklistCode,
                        checklist: results[i].Checklist,
                        checklistDate: results[i].ChecklistDate,
                        projectId: results[i].ProjectId,
                        remarks: results[i].Remarks,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.checklistsSource.next(checklist);
            }
            else {
                _this.checklistsSource.next(checklist);
                _this.toastr.error("No checklist for this project.");
            }
        });
    };
    // list operations
    ChecklistService.prototype.addChecklist = function (checklist, btnAddChecklist) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstCheckList/Add";
        this.http.post(url, JSON.stringify(checklist), this.options).subscribe(function (response) {
            var id = response.json();
            if (id > 0) {
                _this.toastr.success("Add Successful.");
                setTimeout(function () {
                    _this.router.navigate(['/checklist', id]);
                }, 1000);
            }
            else {
                _this.toastr.error("Add Failed.");
                btnAddChecklist.removeAttribute("disabled");
                btnAddChecklist.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
            }
        }, function (error) {
            _this.toastr.error("Server error.");
            btnAddChecklist.removeAttribute("disabled");
            btnAddChecklist.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
        });
    };
    ChecklistService.prototype.deleteChecklist = function (id) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstCheckList/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.checklistDeletedSource.next(1);
        }, function (error) {
            _this.checklistDeletedSource.next(0);
        });
    };
    ChecklistService.prototype.getChecklist = function (id) {
        var _this = this;
        var checklist;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstCheckList/Detail/" + id;
        this.http.get(url, this.options).subscribe(function (response) {
            var result = response.json();
            if (result != null) {
                checklist = {
                    id: result.Id,
                    checklistCode: result.ChecklistCode,
                    checklist: result.Checklist,
                    checklistDate: result.ChecklistDate,
                    projectId: result.ProjectId,
                    project: result.Project,
                    remarks: result.Remarks,
                    status: result.Status,
                    isLocked: result.IsLocked,
                    createdBy: result.CreatedBy,
                    createdDateTime: result.CreatedDateTime,
                    updatedBy: result.UpdatedBy,
                    updatedDateTime: result.UpdatedDateTime
                };
                _this.checklistSource.next(checklist);
            }
            else {
                _this.toastr.error("No checklist.");
                setTimeout(function () {
                    _this.router.navigate(["/checklist"]);
                }, 1000);
            }
        });
    };
    // detail operations
    ChecklistService.prototype.saveChecklist = function (checklist) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstCheckList/Save";
        this.http.put(url, JSON.stringify(checklist), this.options).subscribe(function (response) {
            _this.checklistSavedSource.next(1);
        }, function (error) {
            _this.checklistSavedSource.next(0);
        });
    };
    ChecklistService.prototype.lockChecklist = function (checklist) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstCheckList/Lock";
        this.http.put(url, JSON.stringify(checklist), this.options).subscribe(function (response) {
            _this.checklistLockedSource.next(1);
        }, function (error) {
            _this.checklistLockedSource.next(0);
        });
    };
    ChecklistService.prototype.unlockChecklist = function (checklist) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstCheckList/UnLock";
        this.http.put(url, JSON.stringify(checklist), this.options).subscribe(function (reponse) {
            _this.checklistUnlockedSource.next(1);
        }, function (error) {
            _this.checklistUnlockedSource.next(0);
        });
    };
    // detail combo boxes
    ChecklistService.prototype.getDropDowns = function () {
        var _this = this;
        var dropDowns = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    dropDowns.push({
                        id: results[i].Id,
                        category: results[i].Category,
                        description: results[i].Description,
                        value: results[i].Value
                    });
                }
                _this.dropDownsSource.next(dropDowns);
            }
            else {
                _this.dropDownsSource.next(dropDowns);
                _this.toastr.error("No dropdowns.");
            }
        });
    };
    // detail item1 (requirements) list
    ChecklistService.prototype.getChecklistRequirementsPerChecklist = function (id) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstCheckListRequirement/ListPerChecklist/" + id;
        var checklistRequirements = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    checklistRequirements.push({
                        id: results[i].Id,
                        checkListId: results[i].CheckListId,
                        checkList: results[i].CheckList,
                        requirementNo: results[i].RequirementNo,
                        requirement: results[i].Requirement,
                        category: results[i].Category,
                        type: results[i].Type,
                        withAttachments: results[i].WithAttachments,
                    });
                }
                _this.checklistRequirementsSource.next(checklistRequirements);
            }
            else {
                _this.checklistRequirementsSource.next(checklistRequirements);
                _this.toastr.error("No requirement for this checklist.");
            }
        });
    };
    // detail item1 (requirements) list operations
    ChecklistService.prototype.saveChecklistRequirement = function (checklistRequirement) {
        var _this = this;
        if (checklistRequirement.id == 0) {
            var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstCheckListRequirement/Add";
            this.http.post(url, JSON.stringify(checklistRequirement), this.options).subscribe(function (response) {
                _this.checklistRequirementsSavedSource.next(1);
            }, function (error) {
                _this.checklistRequirementsSavedSource.next(0);
            });
        }
        else {
            var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstCheckListRequirement/Save";
            this.http.put(url, JSON.stringify(checklistRequirement), this.options).subscribe(function (response) {
                _this.checklistRequirementsSavedSource.next(1);
            }, function (error) {
                _this.checklistRequirementsSavedSource.next(0);
            });
        }
    };
    ChecklistService.prototype.deleteChecklistRequirement = function (id) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstCheckListRequirement/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.checklistRequirementsDeletedSource.next(1);
        }, function (error) {
            _this.checklistRequirementsDeletedSource.next(0);
        });
    };
    ChecklistService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], ChecklistService);
    return ChecklistService;
}());



/***/ }),

/***/ "../../../../../src/app/collection/collection-detail.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/collection/collection-detail.component.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br><br>\r\n<div class=\"content-wrapper\">\r\n\r\n    <div class=\"container-fluid\">\r\n        <!-- crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/collection\">Collection</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n        <div class=\"card\">\r\n            <!-- detail operations, e.g., save, lock, unlock, etc. -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 39%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 60%;\" align=\"right\">\r\n                            <button id=\"btnPrintCollectionDetail\" class=\"btn btn-primary\"\r\n                                (click)=\"btnPrintCollectionDetailClick()\">\r\n                                <i class=\"fa fa-print fa-fw\"></i> Print\r\n                            </button>\r\n                            <button id=\"btnLockCollection\" [disabled]=\"CollectionDetail.IsLocked\"\r\n                                class=\"btn btn-primary\" (click)=\"btnLockCollectionClick()\">\r\n                                <i class=\"fa fa-lock fa-fw\"></i> Lock\r\n                            </button>\r\n                            <button id=\"btnUnlockCollection\" [disabled]=\"!CollectionDetail.IsLocked\"\r\n                                class=\"btn btn-primary\" (click)=\"btnUnlockCollectionClick()\">\r\n                                <i class=\"fa fa-unlock fa-fw\"></i> Unlock\r\n                            </button>\r\n                            <button id=\"btnSaveCollection\" [disabled]=\"CollectionDetail.IsLocked\"\r\n                                class=\"btn btn-primary\" (click)=\"btnSaveCollectionClick()\">\r\n                                <i class=\"fa fa-save fa-fw\"></i> Save\r\n                            </button>\r\n                            <button id=\"btnCloseCollectionDetail\" class=\"btn btn-danger\" routerLink=\"/CollectionDetail\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n            <!-- <div class=\"card-header\"> -->\r\n            <br><br>\r\n            <!-- detail fields -->\r\n            <div class=\"card-body\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Collection No.</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"CollectionDetail.CollectionNumber\" disabled type=\"text\"\r\n                                    class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Date</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-input-date #calCollectionDetailDate [(text)]=\"CollectionDetail.CollectionDate\"\r\n                                    [isDisabled]=\"CollectionDetail.IsLocked\" [isDisabled]=\"CollectionDetail.IsLocked\"\r\n                                    format=\"M/d/yyyy\" [(ngModel)]=\"CollectionDetail.CollectionDate\">\r\n                                </wj-input-date>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Customer</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbCustomer [itemsSource]=\"cmbCustomersData\"\r\n                                    [isDisabled]=\"CollectionDetail.IsLocked\" [isDisabled]=\"CollectionDetail.IsLocked\"\r\n                                    [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'fullName'\"\r\n                                    [selectedValuePath]=\"'id'\" [(ngModel)]=\"CollectionDetail.CustomerId\"\r\n                                    style=\"width: 100%;\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Particulars</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <textarea [disabled]=\"CollectionDetail.IsLocked\"\r\n                                    [(ngModel)]=\"CollectionDetail.Particulars\" rows=\"3\" class=\"form-control\"\r\n                                    [(ngModel)]=\"CollectionDetail.Particulars\">\r\n                                </textarea>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Prepared By</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbPreparedBy [itemsSource]=\"cmbUsersData\" [isDisabled]=\"true\"\r\n                                    [isDisabled]=\"CollectionDetail.IsLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'fullName'\" [selectedValuePath]=\"'id'\"\r\n                                    [(ngModel)]=\"CollectionDetail.PreparedBy\" style=\"width: 100%;\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Checked By</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbCheckedBy [itemsSource]=\"cmbUsersData\" [isEditable]=\"false\"\r\n                                    [isRequired]=\"true\" [isDisabled]=\"CollectionDetail.IsLocked\"\r\n                                    [displayMemberPath]=\"'fullName'\" [selectedValuePath]=\"'id'\"\r\n                                    [(ngModel)]=\"CollectionDetail.CheckedBy\" style=\"width: 100%;\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Approved By</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbApprovedBy [itemsSource]=\"cmbUsersData\" [isEditable]=\"false\"\r\n                                    [isRequired]=\"true\" [displayMemberPath]=\"'fullName'\" [selectedValuePath]=\"'id'\"\r\n                                    [isDisabled]=\"CollectionDetail.IsLocked\" [(ngModel)]=\"CollectionDetail.ApprovedBy\"\r\n                                    style=\"width: 100%;\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!--  <div class=\"card-body\"> -->\r\n        </div>\r\n        <br>\r\n        <!-- <div class=\"card\"> -->\r\n        <div class=\"card\">\r\n            <!-- Collection Detail -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h5>Collection Payment</h5>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button class=\"btn btn-primary\" id=\"btnAddCollectionPayment\" [disabled]=\"CollectionDetail.IsLocked\" \r\n                                (click)=\"btnAddCollectionPaymentShowModalClick()\">\r\n                                <i class=\"fa fa-plus fa-fw\"></i> Add\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n            <!-- flexgrid -->\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdCollectionPayment [itemsSource]=\"fgdCollectionPaymentCollectionView\"\r\n                    [selectionMode]=\"3\" [frozenColumns]=\"2\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column  *ngIf=\"!CollectionDetail.IsLocked\" [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditCollectionPaymentClick()\"\r\n                                id=\"btnEditCollection\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column *ngIf=\"!CollectionDetail.IsLocked\" [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteCollectionPaymentClick()\"\r\n                                id=\"btnDeleteCollectionPayment\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column *ngIf=\"false\" [header]=\"'Id'\" [binding]=\"'Id'\" [isReadOnly]=\"true\"\r\n                        [width]=\"'*'\">\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column *ngIf=\"false\" [header]=\"'CollectionId'\" [binding]=\"'CollectionId'\"\r\n                        [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column *ngIf=\"false\" [header]=\"'SoldUnitId'\" [binding]=\"'SoldUnitId'\"\r\n                        [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Sold Unit'\" [binding]=\"'SoldUnit'\" [isReadOnly]=\"true\"\r\n                        [width]=\"'*'\">\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Project'\" [binding]=\"'Project'\" [isReadOnly]=\"true\" [width]=\"'*'\">\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'PayType'\" [binding]=\"'PayType'\" [isReadOnly]=\"true\" [width]=\"'*'\">\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Amount'\" [binding]=\"'Amount'\" [isReadOnly]=\"true\" [width]=\"'*'\">\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'CheckNumber'\" [binding]=\"'CheckNumber'\" [isReadOnly]=\"true\"\r\n                        [width]=\"'*'\">\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Check Date'\" [binding]=\"'CheckDate'\" [isReadOnly]=\"true\" [width]=\"'*'\">\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'CheckBank'\" [binding]=\"'CheckBank'\" [isReadOnly]=\"true\"\r\n                        [width]=\"'*'\">\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'OtherInformation'\" [binding]=\"'OtherInformation'\"\r\n                        [isReadOnly]=\"true\" [width]=\"'*'\">\r\n                    </wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n\r\n            <!-- navigation buttons -->\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\"\r\n                        (click)=\"fgdCollectionPaymentCollectionView.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\"\r\n                        (click)=\"fgdCollectionPaymentCollectionView.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        <!-- {{ fgdCollectionPaymentCollectionView.pageIndex + 1 }} / {{ fgdCollectionPaymentCollectionView.pageCount }} -->\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\"\r\n                        (click)=\"fgdCollectionPaymentCollectionView.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\"\r\n                        (click)=\"fgdCollectionPaymentCollectionView.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n    <!-- <div class=\"container-fluid\"> -->\r\n    <!-- flexgrid -->\r\n</div>\r\n\r\n<!-- Collection Payment modal -->\r\n<div id=\"mdlAddCollectionPayment\" class=\"modal fade\" role=\"dialog\"\r\n    [ngStyle]=\"{'display': mdlAddCollectionPaymentShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">New Collection Payment</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"card-body\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-6\">\r\n                            <div class=\"form-group row\">\r\n                                <label class=\"col-sm-4 col-form-label text-right\">Sold Unit</label>\r\n                                <div class=\"col-sm-8\">\r\n                                    <wj-combo-box #cmbSoldUnit [itemsSource]=\"cmbSoldUnitData\" [isRequired]=\"true\"\r\n                                        [displayMemberPath]=\"'SoldUnit'\" [selectedValuePath]=\"'Id'\"\r\n                                        [(ngModel)]=\"CollecitonPayment.SoldUnitId\" style=\"width: 100%;\">\r\n                                    </wj-combo-box>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"form-group row\">\r\n                                <label class=\"col-sm-4 col-form-label text-right\">Pay Type</label>\r\n                                <div class=\"col-sm-8\">\r\n                                    <wj-combo-box #cmbPayType [itemsSource]=\"cmbPayTypeData\" [isRequired]=\"true\"\r\n                                        [displayMemberPath]=\"'Description'\" [selectedValuePath]=\"'Description'\"\r\n                                        [(ngModel)]=\"CollecitonPayment.PayType\" style=\"width: 100%;\">\r\n                                    </wj-combo-box>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"form-group row\">\r\n                                <label class=\"col-sm-4 col-form-label text-right\">Amount</label>\r\n                                <div class=\"col-sm-8\">\r\n                                    <input [(ngModel)]=\"CollecitonPayment.Amount\" type=\"number\" class=\"form-control\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-md-6\">\r\n\r\n                            <div class=\"form-group row\">\r\n                                <label class=\"col-sm-4 col-form-label text-right\">Check No.</label>\r\n                                <div class=\"col-sm-8\">\r\n                                    <input [(ngModel)]=\"CollecitonPayment.CheckNumber\" type=\"text\" class=\"form-control\">\r\n                                </div> \r\n                            </div>\r\n                            <div class=\"form-group row\">\r\n                                <label class=\"col-sm-4 col-form-label text-right\">Check Date</label>\r\n                                <div class=\"col-sm-8\">\r\n                                    <wj-input-date #calCollectionPaymentChecklDate\r\n                                        [(text)]=\"CollecitonPayment.CheckDate\" format=\"M/d/yyyy\"\r\n                                        [(ngModel)]=\"CollecitonPayment.CheckDate\">\r\n                                    </wj-input-date>\r\n                                </div> \r\n                            </div>\r\n                            <div class=\"form-group row\">\r\n                                <label class=\"col-sm-4 col-form-label text-right\">Check Bank</label>\r\n                                <div class=\"col-sm-8\">\r\n                                    <input [(ngModel)]=\"CollecitonPayment.CheckBank\" type=\"text\" class=\"form-control\">\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"form-group row\">\r\n                                <label class=\"col-sm-5 col-form-label text-right\">Other Information</label>\r\n                                <div class=\"col-sm-7\">\r\n                                    <input [(ngModel)]=\"CollecitonPayment.OtherInformation\" type=\"text\"\r\n                                        class=\"form-control\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSaveCollectionPaymentModal\" class=\"btn btn-primary\"\r\n                    (click)=\"btnSaveCollectionPaymentModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i>Save</button>\r\n                <button type=\"button\" id=\"btnCloseCollectionPaymenteModal\" class=\"btn btn-danger\"\r\n                    (click)=\"btnCloseCollectionPaymenteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- delete sold unit modal -->\r\n<div id=\"mdlCollectionPaymentDelete\" class=\"modal fade\" role=\"dialog\"\r\n    [ngStyle]=\"{'display': mdlDeleteCollectionPaymentShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete Collection Payment</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{currentSoldUnit}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnOkCollectionPaymentDeleteModal\" class=\"btn btn-danger\"\r\n                    (click)=\"btnOkCollectionPaymentDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok</button>\r\n                <button type=\"button\" id=\"btnCloseCollectionPaymentDeleteModal\" class=\"btn btn-primary\"\r\n                    (click)=\"btnCloseCollectionPaymentDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/collection/collection-detail.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CollectionDetailComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo_angular2_input__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.input.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo_angular2_input___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo_angular2_input__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__collection_service__ = __webpack_require__("../../../../../src/app/collection/collection.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var CollectionDetailComponent = (function () {
    function CollectionDetailComponent(collectionService, activatedRoute, location, toastr) {
        this.collectionService = collectionService;
        this.activatedRoute = activatedRoute;
        this.location = location;
        this.toastr = toastr;
        this.title = "Collection Detail";
        this.mdlAddCollectionPaymentShow = false;
        this.saveAction = "";
        this.CollectionDetail = {
            Id: 0,
            CollectionNumber: "",
            CollectionDate: "",
            CustomerId: 0,
            Customer: "",
            Particulars: "",
            PreparedBy: 0,
            CheckedBy: 0,
            ApprovedBy: 0,
            IsLocked: false,
            CreatedBy: 0,
            CreatedDateTime: "",
            UpdatedBy: 0,
            UpdatedDateTime: ""
        };
        this.CollecitonPayment = {
            Id: 0,
            CollectionId: 0,
            SoldUnitId: 0,
            PayType: "",
            Amount: 0,
            CheckNumber: "",
            CheckDate: new Date,
            CheckBank: "",
            OtherInformation: "",
        };
        this.currentSoldUnit = "";
    }
    CollectionDetailComponent.prototype.ngOnInit = function () {
        var _this = this;
        setTimeout(function () {
            _this.getCollectionDetail();
        }, 3000);
    };
    CollectionDetailComponent.prototype.getCmbCustomers = function (collectionDetail) {
        var _this = this;
        this.collectionService.getCustomers();
        this.cmbCustomersSub = this.collectionService.customersObservable.subscribe(function (data) {
            var collectionCustomerData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    collectionCustomerData.push({
                        id: data[i].id,
                        customerCode: data[i].customerCode,
                        fullName: data[i].fullName
                    });
                }
            }
            _this.cmbCustomersData = collectionCustomerData;
            setTimeout(function () {
                _this.CollectionDetail.CustomerId = collectionDetail.CustomerId;
            }, 100);
        });
        this.getCmbUser(collectionDetail);
    };
    CollectionDetailComponent.prototype.getCmbUser = function (user) {
        var _this = this;
        this.collectionService.getUsers();
        this.cmbUsersSub = this.collectionService.usersObservable.subscribe(function (data) {
            var userData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    userData.push({
                        id: data[i].id,
                        fullName: data[i].fullName
                    });
                }
            }
            _this.cmbUsersData = userData;
            setTimeout(function () {
                _this.CollectionDetail.PreparedBy = user.PreparedBy;
                _this.CollectionDetail.CheckedBy = user.CheckedBy;
                _this.CollectionDetail.ApprovedBy = user.ApprovedBy;
                _this.CollectionDetail.UpdatedBy = user.UpdatedBy;
                _this.CollectionDetail.CreatedBy = user.CreatedBy;
            }, 100);
        });
    };
    CollectionDetailComponent.prototype.getIdParameter = function () {
        var id = 0;
        this.activatedRoute.params.subscribe(function (params) {
            id = params['id'];
        });
        return id;
    };
    CollectionDetailComponent.prototype.getCollectionDetail = function () {
        var _this = this;
        this.collectionService.getCollectionDetail(this.getIdParameter());
        this.collectionDetailSub = this.collectionService.collectionDetailObservable.subscribe(function (data) {
            _this.CollectionDetail.Id = data.Id;
            _this.CollectionDetail.CollectionNumber = data.CollectionNumber;
            _this.CollectionDetail.CollectionDate = data.CollectionDate;
            _this.CollectionDetail.Particulars = data.Particulars;
            _this.CollectionDetail.IsLocked = data.IsLocked;
            _this.CollectionDetail.CreatedDateTime = data.CreatedDateTime;
            _this.CollectionDetail.UpdatedDateTime = data.UpdatedDateTime;
            _this.getCmbCustomers(data);
        });
        this.geCollectionPaymentList();
    };
    CollectionDetailComponent.prototype.btnSaveCollectionClick = function () {
        var _this = this;
        var btnSaveCollection = document.getElementById("btnSaveCollection");
        btnSaveCollection.setAttribute("disabled", "disabled");
        btnSaveCollection.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.collectionService.saveCollection(this.CollectionDetail);
        this.collectionSavedSub = this.collectionService.collectionSaveObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveCollection.removeAttribute("disabled");
                btnSaveCollection.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveCollection.removeAttribute("disabled");
                btnSaveCollection.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    CollectionDetailComponent.prototype.btnLockCollectionClick = function () {
        var _this = this;
        var btnLockCollection = document.getElementById("btnLockCollection");
        btnLockCollection.setAttribute("disabled", "disabled");
        btnLockCollection.innerHTML = "<i class='fa fa-plus fa-fw'></i> Locking...";
        this.collectionService.lockCollection(this.CollectionDetail);
        this.collectionLockedSub = this.collectionService.collectionLockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Locking successful.");
                _this.CollectionDetail.IsLocked = true;
                btnLockCollection.removeAttribute("disabled");
                btnLockCollection.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
            else if (data == 0) {
                _this.toastr.error("Locking failed.");
                btnLockCollection.removeAttribute("disabled");
                btnLockCollection.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
        });
    };
    CollectionDetailComponent.prototype.btnUnlockCollectionClick = function () {
        var _this = this;
        var btnUnlockCollection = document.getElementById("btnUnlockCollection");
        btnUnlockCollection.setAttribute("disabled", "disabled");
        btnUnlockCollection.innerHTML = "<i class='fa fa-plus fa-fw'></i> Unlocking...";
        this.collectionService.unLockCollection(this.CollectionDetail);
        this.collectionUnlockedSub = this.collectionService.collectionUnLockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Unlocking successful.");
                _this.CollectionDetail.IsLocked = false;
                btnUnlockCollection.removeAttribute("disabled");
                btnUnlockCollection.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
            else if (data == 0) {
                _this.toastr.error("Unlocking failed.");
                btnUnlockCollection.removeAttribute("disabled");
                btnUnlockCollection.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
        });
    };
    CollectionDetailComponent.prototype.geCollectionPaymentList = function () {
        var _this = this;
        this.collectionService.getCollectionPayments(this.getIdParameter());
        this.collectionPaymentSub = this.collectionService.collectionPaymentSourceObservable.subscribe(function (data) {
            setTimeout(function () {
                _this.fgdCollectionPaymentData = data;
                _this.fgdCollectionPaymentCollectionView = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdCollectionPaymentData);
                _this.fgdCollectionPaymentCollectionView.pageSize = 15;
                _this.fgdCollectionPaymentCollectionView.trackChanges = true;
            }, 3000);
        });
    };
    CollectionDetailComponent.prototype.btnAddCollectionPaymentShowModalClick = function () {
        this.saveAction = "Add";
        this.mdlAddCollectionPaymentShow = true;
        this.CollecitonPayment.CollectionId = this.CollectionDetail.Id;
        this.getCmbSoldUnitsAdd();
        this.getSysDropDown("");
    };
    CollectionDetailComponent.prototype.btnCloseCollectionPaymenteModalClick = function () {
        this.resetCollectionPaymentClick();
        this.mdlAddCollectionPaymentShow = false;
    };
    CollectionDetailComponent.prototype.getCmbSoldUnitEdit = function (soldUnitId) {
        var _this = this;
        this.collectionService.getSoldUnits(this.CollectionDetail.CustomerId);
        this.cmbSoldUnitSub = this.collectionService.soldUnitsObservable.subscribe(function (data) {
            var soldUnitData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    soldUnitData.push({
                        Id: data[i].Id,
                        SoldUnit: data[i].SoldUnit,
                        Project: data[i].Project,
                    });
                }
            }
            _this.cmbSoldUnitData = soldUnitData;
            setTimeout(function () {
                _this.CollecitonPayment.SoldUnitId = soldUnitId;
            }, 100);
        });
        var payType = this.fgdCollectionPaymentCollectionView.currentItem.PayType;
        this.getSysDropDown(payType);
    };
    CollectionDetailComponent.prototype.getCmbSoldUnitsAdd = function () {
        var _this = this;
        this.collectionService.getSoldUnits(this.CollectionDetail.CustomerId);
        this.cmbSoldUnitSub = this.collectionService.soldUnitsObservable.subscribe(function (data) {
            var soldUnitData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    soldUnitData.push({
                        Id: data[i].Id,
                        SoldUnit: data[i].SoldUnit,
                        Project: data[i].Project,
                    });
                }
            }
            _this.cmbSoldUnitData = soldUnitData;
        });
    };
    CollectionDetailComponent.prototype.getSysDropDown = function (payType) {
        var _this = this;
        this.collectionService.getSysDropDown();
        this.cmbPayTypeSub = this.collectionService.sysDropDownSourceObservable.subscribe(function (data) {
            var sysDropDownData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    sysDropDownData.push({
                        Id: data[i].Id,
                        Description: data[i].Description
                    });
                }
            }
            _this.cmbPayTypeData = sysDropDownData;
            setTimeout(function () {
                _this.CollecitonPayment.PayType = payType;
            }, 100);
        });
        this.getCurrentPayment();
    };
    CollectionDetailComponent.prototype.btnSaveCollectionPaymentModalClick = function () {
        if (this.saveAction == "Add") {
            this.saveCollectionPayment();
        }
        if (this.saveAction == "Edit") {
            this.updateCollecitonPayment();
        }
    };
    CollectionDetailComponent.prototype.saveCollectionPayment = function () {
        var _this = this;
        var btnSaveCollectionPaymentModal = document.getElementById("btnSaveCollectionPaymentModal");
        btnSaveCollectionPaymentModal.setAttribute("disabled", "disabled");
        btnSaveCollectionPaymentModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.collectionService.addCollectionPayment(this.CollecitonPayment);
        this.collectionPaymentSavedSub = this.collectionService.saveCollectionPaymentObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveCollectionPaymentModal.removeAttribute("disabled");
                btnSaveCollectionPaymentModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                _this.mdlAddCollectionPaymentShow = false;
                _this.geCollectionPaymentList();
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveCollectionPaymentModal.removeAttribute("disabled");
                btnSaveCollectionPaymentModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    CollectionDetailComponent.prototype.updateCollecitonPayment = function () {
        var _this = this;
        var btnSaveCollectionPaymentModal = document.getElementById("btnSaveCollectionPaymentModal");
        btnSaveCollectionPaymentModal.setAttribute("disabled", "disabled");
        btnSaveCollectionPaymentModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.collectionService.updateCollectionPayment(this.CollecitonPayment);
        this.updateCollectionPaymentSub = this.collectionService.updateCollectionPaymentObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveCollectionPaymentModal.removeAttribute("disabled");
                btnSaveCollectionPaymentModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                _this.mdlAddCollectionPaymentShow = false;
                _this.geCollectionPaymentList();
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveCollectionPaymentModal.removeAttribute("disabled");
                btnSaveCollectionPaymentModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    CollectionDetailComponent.prototype.btnDeleteCollectionPaymentClick = function () {
        this.mdlDeleteCollectionPaymentShow = true;
        this.currentSoldUnit = this.fgdCollectionPaymentCollectionView.currentItem.SoldUnit;
    };
    CollectionDetailComponent.prototype.btnCloseCollectionPaymentDeleteModalClick = function () {
        this.mdlDeleteCollectionPaymentShow = false;
    };
    CollectionDetailComponent.prototype.btnOkCollectionPaymentDeleteModalClick = function () {
        var _this = this;
        var btnOkCollectionPaymentDeleteModal = document.getElementById("btnOkCollectionPaymentDeleteModal");
        var btnCloseCollectionPaymentDeleteModal = document.getElementById("btnCloseCollectionPaymentDeleteModal");
        var selectedCollectionPayment = this.fgdCollectionPaymentCollectionView.currentItem;
        btnOkCollectionPaymentDeleteModal.setAttribute("disabled", "disabled");
        btnCloseCollectionPaymentDeleteModal.setAttribute("disabled", "disabled");
        this.collectionService.deleteCollectionPayment(selectedCollectionPayment.Id);
        this.collectionPaymentDeletedSub = this.collectionService.collectionPaymentDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdCollectionPaymentCollectionView.remove(selectedCollectionPayment);
                btnOkCollectionPaymentDeleteModal.removeAttribute("disabled");
                btnCloseCollectionPaymentDeleteModal.removeAttribute("disabled");
                _this.mdlDeleteCollectionPaymentShow = false;
                _this.resetCollectionPaymentClick();
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkCollectionPaymentDeleteModal.removeAttribute("disabled");
                btnCloseCollectionPaymentDeleteModal.removeAttribute("disabled");
            }
        });
    };
    CollectionDetailComponent.prototype.btnEditCollectionPaymentClick = function () {
        var currentSoldUnit = this.fgdCollectionPaymentCollectionView.currentItem.SoldUnitId;
        this.saveAction = "Edit";
        this.getCmbSoldUnitEdit(currentSoldUnit);
    };
    CollectionDetailComponent.prototype.getCurrentPayment = function () {
        this.CollecitonPayment.Id = this.fgdCollectionPaymentCollectionView.currentItem.Id;
        this.CollecitonPayment.CollectionId = this.fgdCollectionPaymentCollectionView.currentItem.CollectionId;
        this.CollecitonPayment.Amount = this.fgdCollectionPaymentCollectionView.currentItem.Amount;
        this.CollecitonPayment.CheckNumber = this.fgdCollectionPaymentCollectionView.currentItem.CheckNumber;
        this.CollecitonPayment.CheckDate = this.fgdCollectionPaymentCollectionView.currentItem.CheckDate;
        this.CollecitonPayment.CheckBank = this.fgdCollectionPaymentCollectionView.currentItem.CheckBank;
        this.CollecitonPayment.OtherInformation = this.fgdCollectionPaymentCollectionView.currentItem.OtherInformation;
        this.mdlAddCollectionPaymentShow = true;
    };
    CollectionDetailComponent.prototype.resetCollectionPaymentClick = function () {
        this.CollecitonPayment.Id = 0;
        this.CollecitonPayment.CollectionId = 0;
        this.CollecitonPayment.SoldUnitId = 0;
        this.CollecitonPayment.PayType = "";
        this.CollecitonPayment.Amount = 0;
        this.CollecitonPayment.CheckNumber = "";
        this.CollecitonPayment.CheckDate = new Date();
        this.CollecitonPayment.CheckBank = "";
        this.CollecitonPayment.OtherInformation = "";
    };
    CollectionDetailComponent.prototype.ngOnDestroy = function () {
        if (this.cmbCustomersSub != null)
            this.cmbCustomersSub.unsubscribe();
        if (this.cmbUsersSub != null)
            this.cmbUsersSub.unsubscribe();
        if (this.collectionDetailSub != null)
            this.collectionDetailSub.unsubscribe();
        if (this.collectionLockedSub != null)
            this.cmbCustomersSub.unsubscribe();
        if (this.collectionUnlockedSub != null)
            this.collectionUnlockedSub.unsubscribe();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('cmbCustomer'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo_angular2_input__["WjComboBox"])
    ], CollectionDetailComponent.prototype, "cboCustomer", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('cmbSoldUnit'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo_angular2_input__["WjComboBox"])
    ], CollectionDetailComponent.prototype, "cmbSoldUnit", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('cmbSoldUnitProject'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo_angular2_input__["WjComboBox"])
    ], CollectionDetailComponent.prototype, "cmbSoldUnitProject", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('cmbPayType'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo_angular2_input__["WjComboBox"])
    ], CollectionDetailComponent.prototype, "cmbPayType", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('cmbPreparedBy'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo_angular2_input__["WjComboBox"])
    ], CollectionDetailComponent.prototype, "cmbPreparedBy", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('cmbCheckedBy'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo_angular2_input__["WjComboBox"])
    ], CollectionDetailComponent.prototype, "cmbCheckedBy", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('cmbApprovedBy'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo_angular2_input__["WjComboBox"])
    ], CollectionDetailComponent.prototype, "cmbApprovedBy", void 0);
    CollectionDetailComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-collection-detail',
            template: __webpack_require__("../../../../../src/app/collection/collection-detail.component.html"),
            styles: [__webpack_require__("../../../../../src/app/collection/collection-detail.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_6__collection_service__["a" /* CollectionService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"],
            __WEBPACK_IMPORTED_MODULE_5_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], CollectionDetailComponent);
    return CollectionDetailComponent;
}());



/***/ }),

/***/ "../../../../../src/app/collection/collection.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/collection/collection.component.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<!-- bread crumbs -->\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n  <div class=\"container-fluid\">\r\n\r\n    <!-- bread crumbs -->\r\n    <ol class=\"breadcrumb\">\r\n      <li class=\"breadcrumb-item\">\r\n        <a routerLink=\"/menu\">Menu</a>\r\n      </li>\r\n      <li class=\"breadcrumb-item active\">{{title}}</li>\r\n    </ol>\r\n\r\n    <div class=\"card\">\r\n\r\n      <!-- buttons -->\r\n      <div class=\"card-header\">\r\n        <table border=\"0\" style=\"width: 100%;\">\r\n          <tr>\r\n            <td style=\"width: 59%;\">\r\n              <h4>{{title}}</h4>\r\n            </td>\r\n            <td style=\"width: 1%;\"></td>\r\n            <td style=\"width: 40%;\" align=\"right\">\r\n              <button id=\"btnAddCollection\" class=\"btn btn-primary\" id=\"btnAddCollection\" (click)=\"btnAddCollectionClick()\">\r\n                <i class=\"fa fa-plus fa-fw\"></i> Add\r\n              </button>\r\n              <button id=\"btnCloseCollection\" class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                <i class=\"fa fa-close fa-fw\"></i> Close\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n\r\n      <!-- filters -->\r\n      <div class=\"card-header\">\r\n        <table border=\"0\" style=\"width: 100%;\">\r\n          <tr>\r\n            <td style=\"width: 25%;\">\r\n              <div class=\"input-group\">\r\n                <span class=\"input-group-addon\">\r\n                  Date Start:\r\n                </span>\r\n                <wj-input-date #calDateStart [(ngModel)]=\"calDateStartData\" (textChanged)=\"geCollectionList()\"\r\n                  format=\"M/d/yyyy\">\r\n                </wj-input-date>\r\n              </div>\r\n            </td>\r\n            <td style=\"width: 1%;\"></td>\r\n            <td style=\"width: 25%;\">\r\n              <div class=\"input-group\">\r\n                <span class=\"input-group-addon\">\r\n                  Date End:\r\n                </span>\r\n                <wj-input-date #calDateEnd [(ngModel)]=\"calDateEndData\" (textChanged)=\"geCollectionList()\"\r\n                  format=\"M/d/yyyy\">\r\n                </wj-input-date>\r\n              </div>\r\n            </td>\r\n            <td style=\"width: 49%;\"></td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n      <!-- flexgrid -->\r\n      <div class=\"card-body\">\r\n        <wj-flex-grid #fgdCollection [itemsSource]=\"fgdCollectionCollectionView\" [selectionMode]=\"3\"\r\n          [frozenColumns]=\"2\">\r\n          <wj-flex-grid-filter></wj-flex-grid-filter>\r\n          <wj-flex-grid-column  [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n            <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n              <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditCollectionClick()\"\r\n                id=\"btnEditCollection\">\r\n                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n              </button>\r\n            </ng-template>\r\n          </wj-flex-grid-column>\r\n          <wj-flex-grid-column [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n            <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n              <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteCollectionClick()\"\r\n                id=\"btnDeleteCollection\">\r\n                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n              </button>\r\n            </ng-template>\r\n          </wj-flex-grid-column>\r\n          <wj-flex-grid-column *ngIf=\"false\" [header]=\"'Id'\" [binding]=\"'Id'\" [isReadOnly]=\"true\" [width]=\"'*'\">\r\n          </wj-flex-grid-column>\r\n          <wj-flex-grid-column [header]=\"'Collect No.'\" [binding]=\"'CollectionNumber'\" [isReadOnly]=\"true\"\r\n            [width]=\"100\"></wj-flex-grid-column>\r\n          <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'CollectionDate'\" [isReadOnly]=\"true\" [width]=\"'*'\">\r\n          </wj-flex-grid-column>\r\n          <wj-flex-grid-column [header]=\"'Customer'\" [binding]=\"'Customer'\" [isReadOnly]=\"true\" [width]=\"'*'\">\r\n          </wj-flex-grid-column>\r\n          <wj-flex-grid-column [header]=\"'Particulars'\" [binding]=\"'Particulars'\" [isReadOnly]=\"true\" [width]=\"'*'\">\r\n          </wj-flex-grid-column>\r\n          <wj-flex-grid-column [header]=\"'L'\" [binding]=\"'IsLocked'\" [isReadOnly]=\"true\" [width]=\"50\">\r\n          </wj-flex-grid-column>\r\n        </wj-flex-grid>\r\n      </div>\r\n\r\n      <!-- navigation buttons -->\r\n      <div class=\"card-footer\">\r\n        <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n          <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCollectionCollectionView.moveToFirstPage()\">\r\n            <i class=\"fa fa-fast-backward\"></i> First\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCollectionCollectionView.moveToPreviousPage()\">\r\n            <i class=\"fa fa-step-backward\"></i> Previous\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n            <!-- {{ fgdCollectionCollectionView.pageIndex + 1 }} / {{ fgdCollectionCollectionView.pageCount }} -->\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCollectionCollectionView.moveToNextPage()\">\r\n            Next\r\n            <i class=\"fa fa-step-forward\"></i>\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCollectionCollectionView.moveToLastPage()\">\r\n            Last\r\n            <i class=\"fa fa-fast-forward\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <!-- user and time stamp -->\r\n  <app-footer [data]=\"fgdCollectionCollectionView\"></app-footer>\r\n</div>\r\n\r\n<!-- delete sold unit modal -->\r\n<div id=\"mdlCollectionDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlDeleteCollectionShow ? 'block' : 'none', 'opacity': 1}\">\r\n  <div class=\"modal-dialog modal-lg\">\r\n      <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n              <h4 class=\"modal-title\">Delete Collection</h4>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n              Delete {{currentCollectionNumber}}?\r\n          </div>\r\n          <div class=\"modal-footer\" align=\"right\">\r\n              <button type=\"button\" id=\"btnOkCollectionDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkCollectionDeleteModalClick()\">\r\n                  <i class=\"fa fa-trash fa-fw\"></i> Ok</button>\r\n              <button type=\"button\" id=\"btnCloseCollectionDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseCollectionDeleteModalClick()\">\r\n                  <i class=\"fa fa-close fa-fw\"></i> Close</button>\r\n          </div>\r\n      </div>\r\n  </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/collection/collection.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CollectionComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__collection_service__ = __webpack_require__("../../../../../src/app/collection/collection.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var CollectionComponent = (function () {
    function CollectionComponent(router, collectionService, toastr) {
        this.router = router;
        this.collectionService = collectionService;
        this.toastr = toastr;
        this.title = "Collection";
        this.calDateStartData = new Date();
        this.calDateEndData = new Date();
        this.mdlDeleteCollectionShow = false;
        this.collectionModel = {
            Id: 0,
            CollectionNumber: "",
            CollectionDate: "",
            CustomerId: 0,
            Customer: "",
            Particulars: "",
            PreparedBy: 0,
            CheckedBy: 0,
            ApprovedBy: 0,
            IsLocked: false,
            CreatedBy: 0,
            CreatedDateTime: "",
            UpdatedBy: 0,
            UpdatedDateTime: ""
        };
    }
    CollectionComponent.prototype.ngOnInit = function () {
        this.geCollectionList();
    };
    CollectionComponent.prototype.geCollectionList = function () {
        var _this = this;
        var dateStart = [this.calDateStartData.getFullYear(), this.calDateStartData.getMonth() + 1, this.calDateStartData.getDate()].join('-');
        var dateEnd = [this.calDateEndData.getFullYear(), this.calDateEndData.getMonth() + 1, this.calDateEndData.getDate()].join('-');
        this.collectionService.getCollectionList(dateStart, dateEnd);
        this.collectionSub = this.collectionService.collectionListObservable.subscribe(function (data) {
            _this.fgdCollectionData = data;
            _this.fgdCollectionCollectionView = new __WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo__["CollectionView"](_this.fgdCollectionData);
            _this.fgdCollectionCollectionView.pageSize = 15;
            _this.fgdCollectionCollectionView.trackChanges = true;
        });
    };
    CollectionComponent.prototype.btnAddCollectionClick = function () {
        var btnAddCollection = document.getElementById("btnAddCollection");
        btnAddCollection.setAttribute("disabled", "true");
        btnAddCollection.innerHTML = "<i class='fa fa-plus fa-fw'></i> Adding...";
        this.collectionService.addCollection(btnAddCollection);
    };
    CollectionComponent.prototype.btnEditCollectionClick = function () {
        var _this = this;
        var selectedCollection = this.fgdCollectionCollectionView.currentItem;
        setTimeout(function () {
            _this.router.navigate(['/collectionDetail/', selectedCollection.Id]);
        }, 1000);
    };
    CollectionComponent.prototype.btnDeleteCollectionClick = function () {
        this.mdlDeleteCollectionShow = true;
        this.currentCollectionNumber = this.fgdCollectionCollectionView.currentItem.CollectionNumber;
    };
    CollectionComponent.prototype.btnCloseCollectionDeleteModalClick = function () {
        this.mdlDeleteCollectionShow = false;
    };
    CollectionComponent.prototype.btnOkCollectionDeleteModalClick = function () {
        var _this = this;
        var btnOkCollectionDeleteModal = document.getElementById("btnOkCollectionDeleteModal");
        var btnCloseCollectionDeleteModal = document.getElementById("btnCloseCollectionDeleteModal");
        var selectedCollection = this.fgdCollectionCollectionView.currentItem;
        btnOkCollectionDeleteModal.setAttribute("disabled", "disabled");
        btnCloseCollectionDeleteModal.setAttribute("disabled", "disabled");
        this.collectionService.deleteCollection(selectedCollection.Id);
        this.collectionsDeletedSub = this.collectionService.collectionDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdCollectionCollectionView.remove(selectedCollection);
                btnOkCollectionDeleteModal.removeAttribute("disabled");
                btnCloseCollectionDeleteModal.removeAttribute("disabled");
                _this.mdlDeleteCollectionShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkCollectionDeleteModal.removeAttribute("disabled");
                btnCloseCollectionDeleteModal.removeAttribute("disabled");
            }
        });
    };
    CollectionComponent.prototype.ngOnDestroy = function () {
        if (this.collectionSub != null)
            this.collectionSub.unsubscribe();
        if (this.collectionsDeletedSub != null)
            this.collectionsDeletedSub.unsubscribe();
    };
    CollectionComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-collection',
            template: __webpack_require__("../../../../../src/app/collection/collection.component.html"),
            styles: [__webpack_require__("../../../../../src/app/collection/collection.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__collection_service__["a" /* CollectionService */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], CollectionComponent);
    return CollectionComponent;
}());



/***/ }),

/***/ "../../../../../src/app/collection/collection.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CollectionService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var CollectionService = (function () {
    function CollectionService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        this.collectionListSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.collectionListObservable = this.collectionListSource.asObservable();
        this.collectionDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.collectionDeletedObservable = this.collectionDeletedSource.asObservable();
        this.customersSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.customersObservable = this.customersSource.asObservable();
        this.soldUnitsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitsObservable = this.soldUnitsSource.asObservable();
        this.sysDropDownSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.sysDropDownSourceObservable = this.sysDropDownSource.asObservable();
        this.usersSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.usersObservable = this.usersSource.asObservable();
        this.collectionDetailSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.collectionDetailObservable = this.collectionDetailSource.asObservable();
        this.collectionSaveSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.collectionSaveObservable = this.collectionSaveSource.asObservable();
        this.updateCollectionPaymentSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.updateCollectionPaymentObservable = this.updateCollectionPaymentSource.asObservable();
        this.collectionLockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.collectionLockedObservable = this.collectionLockedSource.asObservable();
        this.collectionUnLockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.collectionUnLockedObservable = this.collectionUnLockedSource.asObservable();
        this.collectionPaymentSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.collectionPaymentSourceObservable = this.collectionPaymentSource.asObservable();
        this.saveCollectionPaymentSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.saveCollectionPaymentObservable = this.saveCollectionPaymentSource.asObservable();
        this.collectionPaymentDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.collectionPaymentDeletedObservable = this.collectionPaymentDeletedSource.asObservable();
    }
    CollectionService.prototype.getCollectionList = function (dateStart, dateEnd) {
        var _this = this;
        var collectionListObservableArray = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCollection/CollectionFillterByDate/" + dateStart + "/" + dateEnd;
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    collectionListObservableArray.push({
                        Id: results[i].Id,
                        CollectionNumber: results[i].CollectionNumber,
                        CollectionDate: results[i].CollectionDate,
                        CustomerId: results[i].CustomerId,
                        Customer: results[i].Customer,
                        Particulars: results[i].Particulars,
                        PreparedBy: results[i].PreparedBy,
                        CheckedBy: results[i].CheckedBy,
                        ApprovedBy: results[i].ApprovedBy,
                        IsLocked: results[i].IsLocked,
                        CreatedBy: results[i].CreatedBy,
                        CreatedDateTime: results[i].CreatedDateTime,
                        UpdatedBy: results[i].UpdatedBy,
                        UpdatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.collectionListSource.next(collectionListObservableArray);
            }
            else {
                _this.collectionListSource.next(collectionListObservableArray);
                _this.toastr.error("No Collection.");
            }
        });
    };
    CollectionService.prototype.addCollection = function (btnAddCollection) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCollection/Add";
        this.http.post(url, JSON.stringify(""), this.options).subscribe(function (response) {
            var id = response.json();
            if (id > 0) {
                _this.toastr.success("Add successful.");
                setTimeout(function () {
                    _this.router.navigate(['/collectionDetail/', id]);
                }, 1000);
            }
            else {
                _this.toastr.error("Add failed.");
                btnAddCollection.removeAttribute("disabled");
                btnAddCollection.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
            }
        }, function (error) {
            _this.toastr.error("Server error.");
            btnAddCollection.removeAttribute("disabled");
            btnAddCollection.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
        });
    };
    CollectionService.prototype.deleteCollection = function (id) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCollection/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.collectionDeletedSource.next(1);
        }, function (error) {
            _this.collectionDeletedSource.next(0);
        });
    };
    CollectionService.prototype.getCustomers = function () {
        var _this = this;
        var customers = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCollection/CustomerList";
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    customers.push({
                        id: results[i].Id,
                        fullName: results[i].FullName
                    });
                }
                _this.customersSource.next(customers);
            }
            else {
                _this.toastr.error("No customers.");
            }
        });
    };
    CollectionService.prototype.getSoldUnits = function (customerId) {
        var _this = this;
        var soldUnits = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCollectionPayment/SoldUnits/" + customerId;
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnits.push({
                        Id: results[i].Id,
                        SoldUnit: results[i].SoldUnitNumber + "-" + results[i].Project + "-" + results[i].UnitCode
                    });
                }
                _this.soldUnitsSource.next(soldUnits);
            }
            else {
                _this.toastr.error("No Sold Units.");
            }
        });
    };
    CollectionService.prototype.getSysDropDown = function () {
        var _this = this;
        var sysDropDown = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCollectionPayment/SysDropDown";
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    sysDropDown.push({
                        Id: results[i].Id,
                        Description: results[i].Description
                    });
                }
                _this.sysDropDownSource.next(sysDropDown);
            }
            else {
                _this.toastr.error("No SysDropDown.");
            }
        });
    };
    CollectionService.prototype.getUsers = function () {
        var _this = this;
        var users = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCollection/UserList";
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    users.push({
                        id: results[i].Id,
                        fullName: results[i].FullName
                    });
                }
                _this.usersSource.next(users);
            }
            else {
                _this.toastr.error("No brokers.");
            }
        });
    };
    CollectionService.prototype.getCollectionDetail = function (id) {
        var _this = this;
        var collectionDetailData;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCollection/Detail/" + id;
        this.http.get(url, this.options).subscribe(function (response) {
            var result = response.json();
            if (result != null) {
                collectionDetailData = {
                    Id: result.Id,
                    CollectionNumber: result.CollectionNumber,
                    CollectionDate: result.CollectionDate,
                    CustomerId: result.CustomerId,
                    Customer: result.Customer,
                    Particulars: result.Particulars,
                    PreparedBy: result.PreparedBy,
                    CheckedBy: result.CheckedBy,
                    ApprovedBy: result.ApprovedBy,
                    IsLocked: result.IsLocked,
                    CreatedBy: result.CreatedBy,
                    CreatedDateTime: result.CreatedDateTime,
                    UpdatedBy: result.UpdatedBy,
                    UpdatedDateTime: result.UpdatedDateTime
                };
                _this.collectionDetailSource.next(collectionDetailData);
            }
            else {
                _this.toastr.error("No Collection Detail.");
            }
        });
    };
    CollectionService.prototype.saveCollection = function (collection) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCollection/Save";
        this.http.put(url, JSON.stringify(collection), this.options).subscribe(function (response) {
            _this.collectionSaveSource.next(1);
        }, function (error) {
            _this.collectionSaveSource.next(0);
        });
    };
    CollectionService.prototype.lockCollection = function (collection) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCollection/Lock";
        this.http.put(url, JSON.stringify(collection), this.options).subscribe(function (response) {
            _this.collectionLockedSource.next(1);
        }, function (error) {
            _this.collectionLockedSource.next(0);
        });
    };
    CollectionService.prototype.unLockCollection = function (collection) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCollection/UnLock";
        this.http.put(url, JSON.stringify(collection), this.options).subscribe(function (response) {
            _this.collectionUnLockedSource.next(1);
        }, function (error) {
            _this.collectionUnLockedSource.next(0);
        });
    };
    CollectionService.prototype.saveCollectionPayment = function (collection) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCollection/Lock";
        this.http.put(url, JSON.stringify(collection), this.options).subscribe(function (response) {
            _this.collectionSaveSource.next(1);
        }, function (error) {
            _this.collectionSaveSource.next(0);
        });
    };
    CollectionService.prototype.getCollectionPayments = function (collectionId) {
        var _this = this;
        var collectionPayment = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCollectionPayment/CollectionPayment/" + collectionId;
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    collectionPayment.push({
                        Id: results[i].Id,
                        CollectionId: results[i].CollectionId,
                        SoldUnitId: results[i].SoldUnitId,
                        SoldUnit: results[i].SoldUnit,
                        Project: results[i].Project,
                        PayType: results[i].PayType,
                        Amount: results[i].Amount,
                        CheckNumber: results[i].CheckNumber,
                        CheckDate: results[i].CheckDate,
                        CheckBank: results[i].CheckBank,
                        OtherInformation: results[i].OtherInformation
                    });
                }
                _this.collectionPaymentSource.next(collectionPayment);
            }
            else {
                _this.toastr.error("No Payment.");
            }
        });
    };
    CollectionService.prototype.addCollectionPayment = function (collectionPayment) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCollectionPayment/Add";
        this.http.post(url, JSON.stringify(collectionPayment), this.options).subscribe(function (response) {
            _this.saveCollectionPaymentSource.next(1);
        }, function (error) {
            _this.saveCollectionPaymentSource.next(0);
        });
    };
    CollectionService.prototype.deleteCollectionPayment = function (id) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCollectionPayment/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.collectionPaymentDeletedSource.next(1);
        }, function (error) {
            _this.collectionPaymentDeletedSource.next(0);
        });
    };
    CollectionService.prototype.updateCollectionPayment = function (collectionPayment) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCollectionPayment/Update";
        this.http.put(url, JSON.stringify(collectionPayment), this.options).subscribe(function (response) {
            _this.updateCollectionPaymentSource.next(1);
        }, function (error) {
            _this.updateCollectionPaymentSource.next(0);
        });
    };
    CollectionService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], CollectionService);
    return CollectionService;
}());



/***/ }),

/***/ "../../../../../src/app/commission/commission.detail.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/unit\">Commission Request List</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- detail operations, e.g., print, lock, unlock, etc. -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button id=\"btnPrintCommission\" [disabled]=\"!commission.isLocked\" class=\"btn btn-primary\" (click)=\"btnPrintCommissionClick()\" id=\"btnPrintCommission\">\r\n                                <i class=\"fa fa-print fa-fw\"></i> Print\r\n                            </button>\r\n                            <button id=\"btnLockCommission\" [disabled]=\"commission.isLocked\" class=\"btn btn-primary\" (click)=\"btnLockCommissionClick()\" id=\"btnLockCommission\">\r\n                                <i class=\"fa fa-lock fa-fw\"></i> Lock\r\n                            </button>\r\n                            <button id=\"btnUnlockCommission\" [disabled]=\"!commission.isLocked\" class=\"btn btn-primary\" (click)=\"btnUnlockCommissionClick()\" id=\"btnUnlockCommission\"> \r\n                                <i class=\"fa fa-unlock fa-fw\"></i> Unlock\r\n                            </button>\r\n                            <button id=\"btnSaveCommission\" [disabled]=\"commission.isLocked\" class=\"btn btn-primary\" (click)=\"btnSaveCommissionClick()\" id=\"btnSaveCommission\">\r\n                                <i class=\"fa fa-save fa-fw\"></i> Save\r\n                            </button>\r\n                            <button id=\"btnCloseCommission\" class=\"btn btn-danger\" routerLink=\"/commission\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n            <!-- <div class=\"card-header\"> -->\r\n\r\n            <!-- detail fields -->\r\n            <div class=\"card-body\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Commission Req. No.</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"commission.commissionRequestNumber\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Date</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-input-date #calCommissionRequestDate [(text)]=\"commission.commissionRequestDate\" [isDisabled]=\"commission.isLocked\" format=\"M/d/yyyy\">\r\n                                </wj-input-date>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Broker</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbBroker [itemsSource]=\"cmbBrokerData\" [isDisabled]=\"commission.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'realtyFirm'\" [selectedValuePath]=\"'id'\" [(ngModel)]=\"commission.brokerId\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Sold Unit No.</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbSoldUnit [itemsSource]=\"cmbSoldUnitData\" [isDisabled]=\"commission.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'soldUnitNumber'\" [selectedValuePath]=\"'id'\" [(ngModel)]=\"commission.soldUnitId\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Commission No.</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbCommissionNumber [itemsSource]=\"cmbCommissionNumberData\" [isDisabled]=\"commission.isLocked\" [isEditable]=\"false\"\r\n                                    [isRequired]=\"true\" [displayMemberPath]=\"'value'\" [selectedValuePath]=\"'value'\" [(ngModel)]=\"commission.commissionNumber\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Amount</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-input-number [(value)]=\"commission.amount\" [isDisabled]=\"commission.isLocked\">\r\n                                </wj-input-number>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Status</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbStatus [itemsSource]=\"cmbStatusData\" [isDisabled]=\"commission.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'value'\" [selectedValuePath]=\"'value'\" [(ngModel)]=\"commission.status\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Remarks</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <textarea [disabled]=\"commission.isLocked\" [(ngModel)]=\"commission.remarks\" rows=\"3\" class=\"form-control\">\r\n                                </textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Prepared By</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbPreparedBy [itemsSource]=\"cmbUserData\" [isDisabled]=\"commission.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'fullName'\" [selectedValuePath]=\"'id'\" [(ngModel)]=\"commission.preparedBy\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Checked By</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbCheckedBy [itemsSource]=\"cmbUserData\" [isDisabled]=\"commission.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'fullName'\" [selectedValuePath]=\"'id'\" [(ngModel)]=\"commission.checkedBy\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Approved By</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbApprovedBy [itemsSource]=\"cmbUserData\" [isDisabled]=\"commission.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'fullName'\" [selectedValuePath]=\"'id'\" [(ngModel)]=\"commission.approvedBy\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <!-- <div class=\"col-md-6\"> -->\r\n                </div>\r\n                <!-- <div class=\"row\"> -->\r\n            </div>\r\n            <!-- <div class=\"card-body\"> -->\r\n        </div>\r\n        <!-- <div class=\"card\"> -->\r\n\r\n    </div>\r\n    <!-- <div class=\"container-fluid\"> -->\r\n\r\n    <app-footer [data]=\"commission\"></app-footer>\r\n\r\n</div>\r\n<!-- <div class=\"content-wrapper\"> -->"

/***/ }),

/***/ "../../../../../src/app/commission/commission.detail.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CommissionDetail; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__commission_service__ = __webpack_require__("../../../../../src/app/commission/commission.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box 

// service(s)


var CommissionDetail = (function () {
    // =======
    // angular
    // =======
    // constructor
    function CommissionDetail(commissionService, router, toastr, viewContainer, activatedRoute, securityService, location) {
        this.commissionService = commissionService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.activatedRoute = activatedRoute;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        // user rights
        this.canEdit = false;
        this.canSave = false;
        this.canLock = false;
        this.canUnlock = false;
        this.canPrint = false;
        this.canDelete = false;
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'Commission Detail';
        // model(s)
        this.commission = {
            id: 0,
            commissionRequestNumber: "",
            commissionRequestDate: this.currentDateString,
            brokerId: 0,
            broker: "",
            soldUnitId: 0,
            soldUnit: "",
            commissionNumber: "",
            amount: 0,
            remarks: "",
            preparedBy: 0,
            preparedByUser: "",
            checkedBy: 0,
            checkedByUser: "",
            approvedBy: 0,
            approvedByUser: "",
            status: "NEW",
            isLocked: false,
            createdBy: 0,
            createdDateTime: this.currentDateString,
            updatedBy: 0,
            updatedDateTime: this.currentDateString
        };
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    CommissionDetail.prototype.ngOnInit = function () {
        var _this = this;
        if (this.securityService.openPage("COMMISSION DETAIL") == true) {
            this.getCommission();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
        this.getUserRights();
        if (!this.canPrint) {
            document.getElementById("btnPrintCommission").hidden = true;
        }
        if (!this.canLock) {
            document.getElementById("btnLockCommission").hidden = true;
        }
        if (!this.canUnlock) {
            document.getElementById("btnUnlockCommission").hidden = true;
        }
        if (!this.canSave) {
            document.getElementById("btnSaveCommission").hidden = true;
        }
    };
    CommissionDetail.prototype.ngOnDestroy = function () {
        if (this.commissionSub != null)
            this.commissionSub.unsubscribe();
        if (this.commissionSavedSub != null)
            this.commissionSavedSub.unsubscribe();
        if (this.commissionLockedSub != null)
            this.commissionLockedSub.unsubscribe();
        if (this.commissionUnlockedSub != null)
            this.commissionUnlockedSub.unsubscribe();
        if (this.cmbBrokerSub != null)
            this.cmbBrokerSub.unsubscribe();
        if (this.cmbSoldUnitSub != null)
            this.cmbSoldUnitSub.unsubscribe();
        if (this.cmbDropDownsSub != null)
            this.cmbDropDownsSub.unsubscribe();
        if (this.cmbUserSub != null)
            this.cmbUserSub.unsubscribe();
    };
    // ===============
    // private methods
    // ===============
    // ===============
    // Get User Rights
    // ===============
    CommissionDetail.prototype.getUserRights = function () {
        var userRightsData = localStorage.getItem('userRights');
        var userRights = JSON.parse(userRightsData);
        for (var i = 0; i < userRights.length; i++) {
            if (userRights[i].page == 'COMMISSION DETAIL') {
                this.canEdit = userRights[i].canEdit;
                this.canSave = userRights[i].canSave;
                this.canLock = userRights[i].canLock;
                this.canUnlock = userRights[i].canUnlock;
                this.canPrint = userRights[i].canPrint;
                this.canDelete = userRights[i].canDelete;
            }
        }
    };
    CommissionDetail.prototype.getIdParameter = function () {
        var id = 0;
        this.activatedRoute.params.subscribe(function (params) {
            id = params['id'];
        });
        return id;
    };
    // ==============
    // public methods
    // ==============
    // detail
    CommissionDetail.prototype.getCommission = function () {
        var _this = this;
        this.commissionService.getCommission(this.getIdParameter());
        this.commissionSub = this.commissionService.commissionObservable
            .subscribe(function (data) {
            _this.commission.id = data.id;
            _this.commission.commissionRequestNumber = data.commissionRequestNumber;
            _this.commission.commissionRequestDate = data.commissionRequestDate;
            _this.commission.brokerId = data.brokerId;
            _this.commission.broker = data.broker;
            _this.commission.soldUnitId = data.soldUnitId;
            _this.commission.soldUnit = data.soldUnit;
            _this.commission.commissionNumber = data.commissionNumber;
            _this.commission.amount = data.amount;
            _this.commission.remarks = data.remarks;
            _this.commission.preparedBy = data.preparedBy;
            _this.commission.preparedByUser = data.preparedByUser;
            _this.commission.checkedBy = data.checkedBy;
            _this.commission.checkedByUser = data.checkedByUser;
            _this.commission.approvedBy = data.approvedBy;
            _this.commission.approvedByUser = data.approvedByUser;
            _this.commission.status = data.status;
            _this.commission.isLocked = data.isLocked;
            _this.commission.createdBy = data.createdBy;
            _this.commission.createdDateTime = data.createdDateTime;
            _this.commission.updatedBy = data.updatedBy;
            _this.commission.updatedDateTime = data.updatedDateTime;
            _this.getCmbBrokerData(data);
            _this.getCmbSoldUnitData(data);
            _this.getCmbDropDownsData(data);
            _this.getCmbUserData(data);
        });
    };
    // combo boxes
    CommissionDetail.prototype.getCmbBrokerData = function (defaultValue) {
        var _this = this;
        this.commissionService.getBrokers();
        this.cmbBrokerSub = this.commissionService.brokersObservable.subscribe(function (data) {
            _this.cmbBrokerData = data;
            setTimeout(function () { _this.commission.brokerId = defaultValue.brokerId; }, 100);
        });
    };
    CommissionDetail.prototype.getCmbSoldUnitData = function (defaultValue) {
        var _this = this;
        this.commissionService.getSoldUnits();
        this.cmbSoldUnitSub = this.commissionService.soldUnitsObservable.subscribe(function (data) {
            _this.cmbSoldUnitData = data;
            setTimeout(function () { _this.commission.soldUnitId = defaultValue.soldUnitId; }, 100);
        });
    };
    CommissionDetail.prototype.getCmbDropDownsData = function (defaultValue) {
        var _this = this;
        var commissionNumbers = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        var statuses = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.commissionService.getDropDowns();
        this.cmbDropDownsSub = this.commissionService.dropDownsObservable.subscribe(function (data) {
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].category == "COMMISSION STATUS") {
                        statuses.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                    if (data[i].category == "COMMISSION NUMBERS") {
                        commissionNumbers.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                }
            }
            _this.cmbCommissionNumberData = commissionNumbers;
            _this.cmbStatusData = statuses;
            setTimeout(function () { _this.commission.commissionNumber = defaultValue.commissionNumber; }, 100);
            setTimeout(function () { _this.commission.status = defaultValue.status; }, 100);
        });
    };
    CommissionDetail.prototype.getCmbUserData = function (defaultValue) {
        var _this = this;
        this.commissionService.getUsers();
        this.cmbUserSub = this.commissionService.usersObservable.subscribe(function (data) {
            _this.cmbUserData = data;
            setTimeout(function () { _this.commission.preparedBy = defaultValue.preparedBy; }, 100);
            setTimeout(function () { _this.commission.checkedBy = defaultValue.checkedBy; }, 100);
            setTimeout(function () { _this.commission.approvedBy = defaultValue.approvedBy; }, 100);
        });
    };
    // ======
    // events
    // ======
    // detail operations
    CommissionDetail.prototype.btnSaveCommissionClick = function () {
        var _this = this;
        var btnSaveCommission = document.getElementById("btnSaveCommission");
        btnSaveCommission.setAttribute("disabled", "disabled");
        btnSaveCommission.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.commissionService.saveCommission(this.commission);
        this.commissionSavedSub = this.commissionService.commissionSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveCommission.removeAttribute("disabled");
                btnSaveCommission.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveCommission.removeAttribute("disabled");
                btnSaveCommission.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    CommissionDetail.prototype.btnLockCommissionClick = function () {
        var _this = this;
        var btnLockCommission = document.getElementById("btnLockCommission");
        btnLockCommission.setAttribute("disabled", "disabled");
        btnLockCommission.innerHTML = "<i class='fa fa-plus fa-fw'></i> Locking...";
        this.commissionService.lockCommission(this.commission);
        this.commissionLockedSub = this.commissionService.commissionLockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Locking successful.");
                _this.commission.isLocked = true;
                btnLockCommission.removeAttribute("disabled");
                btnLockCommission.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
            else if (data == 0) {
                _this.toastr.error("Locking failed.");
                btnLockCommission.removeAttribute("disabled");
                btnLockCommission.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
        });
    };
    CommissionDetail.prototype.btnUnlockCommissionClick = function () {
        var _this = this;
        var btnUnlockCommission = document.getElementById("btnUnlockCommission");
        btnUnlockCommission.setAttribute("disabled", "disabled");
        btnUnlockCommission.innerHTML = "<i class='fa fa-plus fa-fw'></i> Unlocking...";
        this.commissionService.unlockCommission(this.commission);
        this.commissionUnlockedSub = this.commissionService.commissionUnlockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Unlocking successful.");
                _this.commission.isLocked = false;
                btnUnlockCommission.removeAttribute("disabled");
                btnUnlockCommission.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
            else if (data == 0) {
                _this.toastr.error("Unlocking failed.");
                btnUnlockCommission.removeAttribute("disabled");
                btnUnlockCommission.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
        });
    };
    CommissionDetail.prototype.btnPrintCommissionClick = function () {
        this.toastr.success("Not yet implemented.");
    };
    CommissionDetail = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/commission/commission.detail.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__commission_service__["a" /* CommissionService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], CommissionDetail);
    return CommissionDetail;
}());



/***/ }),

/***/ "../../../../../src/app/commission/commission.list.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- buttons -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button id=\"btnAddCommission\" class=\"btn btn-primary\" (click)=\"btnAddCommissionClick()\">\r\n                                <i class=\"fa fa-plus fa-fw\"></i> Add\r\n                            </button>\r\n                            <button id=\"btnCloseCommission\" class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- filters -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 25%;\">\r\n                            <div class=\"input-group\">\r\n                                <span class=\"input-group-addon\">\r\n                                    Date Start:\r\n                                </span>\r\n                                <wj-input-date #calDateStart [(ngModel)]=\"calDateStartData\" (textChanged)=\"getCommissions()\" format=\"M/d/yyyy\">\r\n                                </wj-input-date>\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 25%;\">\r\n                            <div class=\"input-group\">\r\n                                <span class=\"input-group-addon\">\r\n                                    Date End:\r\n                                </span>\r\n                                <wj-input-date #calDateEnd [(ngModel)]=\"calDateEndData\" (textChanged)=\"getCommissions()\" format=\"M/d/yyyy\">\r\n                                </wj-input-date>\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"width: 49%;\"></td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- flexgrid -->\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdCommission [itemsSource]=\"fgdCommissionCollection\" [selectionMode]=\"3\" [frozenColumns]=\"2\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column *ngIf=\"canEdit\" [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditCommissionClick()\" id=\"btnEditCommission\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column *ngIf=\"canDelete\" [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteCommissionClick()\" id=\"btnDeleteCommission\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Number'\" [binding]=\"'commissionRequestNumber'\" [isReadOnly]=\"true\" [width]=\"120\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'commissionRequestDate'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Broker'\" [binding]=\"'broker'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Sold Unit'\" [binding]=\"'soldUnit'\" [isReadOnly]=\"true\" [width]=\"120\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Remarks'\" [binding]=\"'remarks'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Amount'\" [binding]=\"'amount'\" [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'L'\" [binding]=\"'isLocked'\" [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n\r\n            <!-- navigation buttons -->\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCommissionCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCommissionCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdCommissionCollection.pageIndex + 1 }} / {{ fgdCommissionCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCommissionCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCommissionCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- user and time stamp -->\r\n    <app-footer [data]=\"fgdCommissionCollection\"></app-footer>\r\n</div>\r\n\r\n<!-- delete commission modal -->\r\n<div id=\"mdlCommissionDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlCommissionDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete Commission Request</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete Commission Request No. {{fgdCommissionCollection.currentItem != null ? fgdCommissionCollection.currentItem.commissionRequestNumber\r\n                : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnOkCommissionDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkCommissionDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok</button>\r\n                <button type=\"button\" id=\"btnCloseCommissionDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseCommissionDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/commission/commission.list.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CommissionList; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__commission_service__ = __webpack_require__("../../../../../src/app/commission/commission.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box 

// service(s)


var CommissionList = (function () {
    // =======
    // angular
    // =======
    // constructor
    function CommissionList(commissionService, toastr, viewContainer, router, securityService, location) {
        this.commissionService = commissionService;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.router = router;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        // user rights
        this.canEdit = false;
        this.canSave = false;
        this.canLock = false;
        this.canUnlock = false;
        this.canPrint = false;
        this.canDelete = false;
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'Commission Request List';
        // model(s)
        this.commission = {
            id: 0,
            commissionRequestNumber: "",
            commissionRequestDate: this.currentDateString,
            brokerId: 0,
            broker: "",
            soldUnitId: 0,
            soldUnit: "",
            commissionNumber: "",
            amount: 0,
            remarks: "",
            preparedBy: 0,
            preparedByUser: "",
            checkedBy: 0,
            checkedByUser: "",
            approvedBy: 0,
            approvedByUser: "",
            status: "NEW",
            isLocked: false,
            createdBy: 0,
            createdDateTime: this.currentDateString,
            updatedBy: 0,
            updatedDateTime: this.currentDateString
        };
        // filters
        this.calDateStartData = new Date();
        this.calDateEndData = new Date();
        // modals
        this.mdlCommissionDeleteShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    CommissionList.prototype.getUserRights = function () {
        var userRightsData = localStorage.getItem('userRights');
        var userRights = JSON.parse(userRightsData);
        for (var i = 0; i < userRights.length; i++) {
            if (userRights[i].page == 'COMMISSION LIST') {
                this.canEdit = userRights[i].canEdit;
                this.canSave = userRights[i].canSave;
                this.canLock = userRights[i].canLock;
                this.canUnlock = userRights[i].canUnlock;
                this.canPrint = userRights[i].canPrint;
                this.canDelete = userRights[i].canDelete;
            }
        }
    };
    // ng
    CommissionList.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdCommissionData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdCommissionCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdCommissionData);
        if (this.securityService.openPage("COMMISSION LIST") == true) {
            this.getCommissions();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
        this.getUserRights();
    };
    CommissionList.prototype.ngOnDestroy = function () {
        if (this.commissionsSub != null)
            this.commissionsSub.unsubscribe();
        if (this.commissionsDeletedSub != null)
            this.commissionsDeletedSub.unsubscribe();
    };
    // ==============
    // public methods
    // ==============
    CommissionList.prototype.getCommissions = function () {
        var _this = this;
        var dateStart = [this.calDateStartData.getFullYear(), this.calDateStartData.getMonth() + 1, this.calDateStartData.getDate()].join('-');
        var dateEnd = [this.calDateEndData.getFullYear(), this.calDateEndData.getMonth() + 1, this.calDateEndData.getDate()].join('-');
        var soldUnits = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.commissionService.getCommissionsPerDates(dateStart, dateEnd);
        this.commissionsSub = this.commissionService.commissionsObservable.subscribe(function (data) {
            _this.fgdCommissionData = data;
            _this.fgdCommissionCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdCommissionData);
            _this.fgdCommissionCollection.pageSize = 15;
            _this.fgdCommissionCollection.trackChanges = true;
        });
    };
    // ======
    // events
    // ======
    // list operations
    CommissionList.prototype.btnAddCommissionClick = function () {
        var btnAddCommission = document.getElementById("btnAddCommission");
        btnAddCommission.setAttribute("disabled", "true");
        btnAddCommission.innerHTML = "<i class='fa fa-plus fa-fw'></i> Adding...";
        this.commissionService.addCommission(this.commission, btnAddCommission);
    };
    CommissionList.prototype.btnEditCommissionClick = function () {
        var selectedCommission = this.fgdCommissionCollection.currentItem;
        this.router.navigate(['/commission', selectedCommission.id]);
    };
    CommissionList.prototype.btnDeleteCommissionClick = function () {
        this.mdlCommissionDeleteShow = true;
    };
    // delete modal events
    CommissionList.prototype.btnOkCommissionDeleteModalClick = function () {
        var _this = this;
        var btnOkCommissionDeleteModal = document.getElementById("btnOkCommissionDeleteModal");
        var btnCloseCommissionDeleteModal = document.getElementById("btnCloseCommissionDeleteModal");
        var selectedCommission = this.fgdCommissionCollection.currentItem;
        btnOkCommissionDeleteModal.setAttribute("disabled", "disabled");
        btnCloseCommissionDeleteModal.setAttribute("disabled", "disabled");
        this.commissionService.deleteCommission(selectedCommission.id);
        this.commissionsDeletedSub = this.commissionService.commissionDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdCommissionCollection.remove(selectedCommission);
                btnOkCommissionDeleteModal.removeAttribute("disabled");
                btnCloseCommissionDeleteModal.removeAttribute("disabled");
                _this.mdlCommissionDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkCommissionDeleteModal.removeAttribute("disabled");
                btnCloseCommissionDeleteModal.removeAttribute("disabled");
            }
        });
    };
    CommissionList.prototype.btnCloseCommissionDeleteModalClick = function () {
        this.mdlCommissionDeleteShow = false;
    };
    CommissionList = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/commission/commission.list.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__commission_service__["a" /* CommissionService */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], CommissionList);
    return CommissionList;
}());



/***/ }),

/***/ "../../../../../src/app/commission/commission.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CommissionService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// wijmo

// async

var CommissionService = (function () {
    // =======
    // angular
    // =======
    function CommissionService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        // list and detail
        this.commissionsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.commissionsObservable = this.commissionsSource.asObservable();
        this.commissionSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.commissionObservable = this.commissionSource.asObservable();
        // detail operations
        this.commissionSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.commissionSavedObservable = this.commissionSavedSource.asObservable();
        this.commissionLockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.commissionLockedObservable = this.commissionLockedSource.asObservable();
        this.commissionUnlockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.commissionUnlockedObservable = this.commissionUnlockedSource.asObservable();
        // list opertations
        this.commissionDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.commissionDeletedObservable = this.commissionDeletedSource.asObservable();
        // combo boxes
        this.soldUnitsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitsObservable = this.soldUnitsSource.asObservable();
        this.brokersSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.brokersObservable = this.brokersSource.asObservable();
        this.usersSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.usersObservable = this.usersSource.asObservable();
        this.dropDownsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsObservable = this.dropDownsSource.asObservable();
    }
    // ==============
    // public methods
    // ==============
    // list and detail
    CommissionService.prototype.getCommissionsPerDates = function (dateStart, dateEnd) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCommissionRequest/ListPerDates/" + dateStart + "/" + dateEnd;
        var commissionRequest = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    commissionRequest.push({
                        id: results[i].Id,
                        commissionRequestNumber: results[i].CommissionRequestNumber,
                        commissionRequestDate: results[i].CommissionRequestDate,
                        brokerId: results[i].BrokerId,
                        broker: results[i].Broker,
                        soldUnitId: results[i].SoldUnitId,
                        soldUnit: results[i].SoldUnit,
                        commissionNumber: results[i].CommissionNumber,
                        amount: results[i].Amount,
                        remarks: results[i].Remarks,
                        preparedBy: results[i].PreparedBy,
                        preparedByUser: results[i].PreparedByUser,
                        checkedBy: results[i].CheckedBy,
                        checkedByUser: results[i].CheckedByUser,
                        approvedBy: results[i].ApprovedBy,
                        approvedByUser: results[i].ApprovedByUser,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.commissionsSource.next(commissionRequest);
            }
            else {
                _this.commissionsSource.next(commissionRequest);
                _this.toastr.error("No commissions for this date range.");
            }
        });
    };
    CommissionService.prototype.getCommission = function (id) {
        var _this = this;
        var commission;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCommissionRequest/Detail/" + id;
        this.http.get(url, this.options).subscribe(function (response) {
            var result = response.json();
            if (result != null) {
                commission = {
                    id: result.Id,
                    commissionRequestNumber: result.CommissionRequestNumber,
                    commissionRequestDate: result.CommissionRequestDate,
                    brokerId: result.BrokerId,
                    broker: result.Broker,
                    soldUnitId: result.SoldUnitId,
                    soldUnit: result.SoldUnit,
                    commissionNumber: result.CommissionNumber,
                    amount: result.Amount,
                    remarks: result.Remarks,
                    preparedBy: result.PreparedBy,
                    preparedByUser: result.PreparedByUser,
                    checkedBy: result.CheckedBy,
                    checkedByUser: result.CheckedByUser,
                    approvedBy: result.ApprovedBy,
                    approvedByUser: result.ApprovedByUser,
                    status: result.Status,
                    isLocked: result.IsLocked,
                    createdBy: result.CreatedBy,
                    createdDateTime: result.CreatedDateTime,
                    updatedBy: result.UpdatedBy,
                    updatedDateTime: result.UpdatedDateTime
                };
                _this.commissionSource.next(commission);
            }
            else {
                _this.toastr.error("No commission request.");
                setTimeout(function () {
                    _this.router.navigate(["/commission"]);
                }, 1000);
            }
        });
    };
    // combo boxes
    CommissionService.prototype.getSoldUnits = function () {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/List";
        var soldUnits = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnits.push({
                        id: results[i].Id,
                        soldUnitNumber: results[i].SoldUnitNumber,
                        soldUnitDate: results[i].SoldUnitDate,
                        projectId: results[i].ProjectId,
                        project: results[i].Project,
                        unitId: results[i].UnitId,
                        unit: results[i].Unit,
                        customerId: results[i].CustomerId,
                        customer: results[i].Customer,
                        brokerId: results[i].BrokerId,
                        broker: results[i].Broker,
                        checklistId: results[i].ChecklistId,
                        checklist: results[i].Checklist,
                        price: results[i].Price,
                        totalInvestment: results[i].TotalInvestment,
                        paymentOptions: results[i].PaymentOptions,
                        financing: results[i].Financing,
                        remarks: results[i].Remarks,
                        preparedBy: results[i].PreparedBy,
                        preparedByUser: results[i].PreparedByUser,
                        checkedBy: results[i].CheckedBy,
                        checkedByUser: results[i].CheckedByUser,
                        approvedBy: results[i].ApprovedBy,
                        approvedByUser: results[i].ApprovedByUser,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.soldUnitsSource.next(soldUnits);
            }
            else {
                _this.soldUnitsSource.next(soldUnits);
                _this.toastr.error("No sold units.");
            }
        });
    };
    CommissionService.prototype.getBrokers = function () {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstBroker/List";
        var brokers = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    brokers.push({
                        id: results[i].Id,
                        fullName: results[i].FullName,
                        realtyFirm: results[i].RealtyFirm
                    });
                }
                _this.brokersSource.next(brokers);
            }
            else {
                _this.toastr.error("No brokers.");
            }
        });
    };
    CommissionService.prototype.getUsers = function () {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUser/List";
        var users = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    users.push({
                        id: results[i].Id,
                        fullName: results[i].FullName
                    });
                }
                _this.usersSource.next(users);
            }
            else {
                _this.toastr.error("No users.");
            }
        });
    };
    CommissionService.prototype.getDropDowns = function () {
        var _this = this;
        var dropDowns = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    dropDowns.push({
                        id: results[i].Id,
                        category: results[i].Category,
                        description: results[i].Description,
                        value: results[i].Value
                    });
                }
                _this.dropDownsSource.next(dropDowns);
            }
            else {
                _this.dropDownsSource.next(dropDowns);
                _this.toastr.error("No dropdowns.");
            }
        });
    };
    // list operations
    CommissionService.prototype.addCommission = function (commission, btnAddCommission) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCommissionRequest/Add";
        this.http.post(url, JSON.stringify(commission), this.options).subscribe(function (response) {
            var id = response.json();
            if (id > 0) {
                _this.toastr.success("Add successful.");
                setTimeout(function () {
                    _this.router.navigate(['/commission', id]);
                }, 1000);
            }
            else {
                _this.toastr.error("Add failed.");
                btnAddCommission.removeAttribute("disabled");
                btnAddCommission.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
            }
        }, function (error) {
            _this.toastr.error("Server error.");
            btnAddCommission.removeAttribute("disabled");
            btnAddCommission.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
        });
    };
    CommissionService.prototype.deleteCommission = function (id) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCommissionRequest/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.commissionDeletedSource.next(1);
        }, function (error) {
            _this.commissionDeletedSource.next(0);
        });
    };
    // detail operations
    CommissionService.prototype.saveCommission = function (commission) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCommissionRequest/Save";
        this.http.put(url, JSON.stringify(commission), this.options).subscribe(function (response) {
            _this.commissionSavedSource.next(1);
        }, function (error) {
            _this.commissionSavedSource.next(0);
        });
    };
    CommissionService.prototype.lockCommission = function (commission) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCommissionRequest/Lock";
        this.http.put(url, JSON.stringify(commission), this.options).subscribe(function (response) {
            _this.commissionLockedSource.next(1);
        }, function (error) {
            _this.commissionLockedSource.next(0);
        });
    };
    CommissionService.prototype.unlockCommission = function (commission) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnCommissionRequest/Unlock";
        this.http.put(url, JSON.stringify(commission), this.options).subscribe(function (response) {
            _this.commissionUnlockedSource.next(1);
        }, function (error) {
            _this.commissionUnlockedSource.next(0);
        });
    };
    CommissionService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], CommissionService);
    return CommissionService;
}());



/***/ }),

/***/ "../../../../../src/app/customer/customer.detail.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n\r\n<br>\r\n<br>\r\n\r\n<div class=\"content-wrapper\">\r\n\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/broker\">Customer List</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- detail operations, print, lock, unlock, save, close -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 50%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 49%;\" align=\"right\">\r\n                            <button [disabled]=\"!customer.isLocked\" class=\"btn btn-primary\" (click)=\"btnPrintCustomerClick()\" id=\"btnPrintCustomer\">\r\n                                <i class=\"fa fa-print fa-fw\"></i> Print\r\n                            </button>\r\n                            <button [disabled]=\"customer.isLocked\" class=\"btn btn-primary\" (click)=\"btnLockCustomerClick()\" id=\"btnLockCustomer\">\r\n                                <i class=\"fa fa-lock fa-fw\"></i> Lock\r\n                            </button>\r\n                            <button [disabled]=\"!customer.isLocked\" class=\"btn btn-primary\" (click)=\"btnUnlockCustomerClick()\" id=\"btnUnlockCustomer\">\r\n                                <i class=\"fa fa-unlock fa-fw\"></i> Unlock\r\n                            </button>\r\n                            <button [disabled]=\"customer.isLocked\" class=\"btn btn-primary\" (click)=\"btnSaveCustomerClick()\" id=\"btnSaveCustomer\">\r\n                                <i class=\"fa fa-save fa-fw\"></i> Save\r\n                            </button>\r\n                            <button class=\"btn btn-danger\" routerLink=\"/customer\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n            <!-- <div class=\"card-header\"> -->\r\n\r\n            <div class=\"card-body\">\r\n                <ul class=\"nav nav-tabs\" role=\"tablist\">\r\n                    <li class=\"\">\r\n                        <a [ngClass]=\"{'active': tabDetail1[0], 'nav-link': true }\" (click)=\"tabDetail1Click(0)\" data-toggle=\"tab\" role=\"tab\">Customer Information</a>\r\n                    </li>\r\n                    <li class=\"\">\r\n                        <a [ngClass]=\"{'active': tabDetail1[1], 'nav-link': true }\" (click)=\"tabDetail1Click(1)\" data-toggle=\"tab\" role=\"tab\">Employment Information</a>\r\n                    </li>\r\n                </ul>\r\n                <br>\r\n                <div class=\"tab-content\">\r\n                    <div [ngClass]=\"{'active': tabDetail1[0], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Code</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.customerCode\" [disabled]=true type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Last Name</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.lastName\" [disabled]=\"customer.isLocked\" (input)=\"txtLastNameKeyup()\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">First Name</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.firstName\" [disabled]=\"customer.isLocked\" (input)=\"txtFirstNameKeyup()\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Middle Name</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.middleName\" [disabled]=\"customer.isLocked\" (input)=\"txtLastNameKeyup()\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Phone No.</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.telephoneNumber\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Mobile No.</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.mobileNumber\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Street Address</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [disabled]=\"customer.isLocked\" [(ngModel)]=\"customer.address\" rows=\"4\" class=\"form-control\">\r\n                                        </textarea>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">City</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.city\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Province</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.province\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Country</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.country\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Zip Code</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.zipCode\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Status</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbStatus [itemsSource]=\"cmbStatusData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'value'\"\r\n                                            [selectedValuePath]=\"'value'\" [isDisabled]=\"customer.isLocked\" [(ngModel)]=\"customer.status\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Email Address</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.emailAddress\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Citizen</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.citizen\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Remarks</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [disabled]=\"customer.isLocked\" [(ngModel)]=\"customer.remarks\" rows=\"8\" class=\"form-control\">\r\n                                        </textarea>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- <div customer info column 1> -->\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Picture</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-sm-8\">\r\n                                                <img [src]=\"this.customer.picture\" class=\"rounded\" style=\"width: 100%;\">\r\n                                            </div>\r\n                                            <div class=\"col-sm-4\">\r\n                                                <label class=\"btn btn-primary pull-right\" [hidden]=\"customer.isLocked\">\r\n                                                    <input type=\"file\" (change)=\"btnUploadPictureClick($event)\" name=\"btnUploadPicture\" accept=\"image/*\" style=\"display:none;\"> Upload\r\n                                                </label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Civil Status</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbCivilStatus [itemsSource]=\"cmbCivilStatusData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'value'\"\r\n                                            [selectedValuePath]=\"'value'\" [isDisabled]=\"customer.isLocked\" [(ngModel)]=\"customer.civilStatus\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Gender</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbGender [itemsSource]=\"cmbGenderData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'value'\"\r\n                                            [selectedValuePath]=\"'value'\" [isDisabled]=\"customer.isLocked\" [(ngModel)]=\"customer.gender\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Birth Date</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-date #calBirthDate [(text)]=\"customer.birthDate\" [isDisabled]=\"customer.isLocked\" format=\"M/d/yyyy\">\r\n                                        </wj-input-date>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">TIN</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.tin\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Spouse Last Name</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.spouseLastName\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Spouse First Name</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.spouseFirstName\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Spouse Middle Name</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.spouseMiddleName\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Spouse Birth Date</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-date #calBirthDate [(text)]=\"customer.spouseBirthDate\" [isDisabled]=\"customer.isLocked\" format=\"M/d/yyyy\">\r\n                                        </wj-input-date>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Spouse Citizen</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.spouseCitizen\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Spouse Employer</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.spouseEmployer\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Spouse TIN</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.spouseTIN\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- <div customer info column 2> -->\r\n                        </div>\r\n                    </div>\r\n                    <!-- <div tabpanel:customer info> -->\r\n                    <div [ngClass]=\"{'active': tabDetail1[1], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">ID Type</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbIDType [itemsSource]=\"cmbIDTypeData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'value'\"\r\n                                            [selectedValuePath]=\"'value'\" [isDisabled]=\"customer.isLocked\" [(ngModel)]=\"customer.idType\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">ID Number</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.idNumber\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Employer</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.employer\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Employer Industry</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.employerIndustry\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">No. of Years Employed</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.noOfYearsEmployed\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Position</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.position\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Employment Status</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbEmploymentStatus [itemsSource]=\"cmbEmploymentStatusData\" [(ngModel)]=\"customer.employmentStatus\" [isEditable]=\"false\"\r\n                                            [isRequired]=\"true\" [displayMemberPath]=\"'value'\" [selectedValuePath]=\"'value'\" [isDisabled]=\"customer.isLocked\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Street Address</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [disabled]=\"customer.isLocked\" [(ngModel)]=\"customer.employerAddress\" rows=\"4\" class=\"form-control\">\r\n                                        </textarea>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- <div employment info column 1> -->\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">City</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.employerCity\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Province</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.employerProvince\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Country</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.employerCountry\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Zip Code</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.employerZipCode\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Telephone No.</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.employerTelephoneNumber\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Mobile No.</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"customer.employerMobileNumber\" [disabled]=\"customer.isLocked\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- <div employment info column 2> -->\r\n                        </div>\r\n                    </div>\r\n                    <!-- <div tabpanel:employment info> -->\r\n                </div>\r\n                <!-- <div class=\"tab-content\"> -->\r\n            </div>\r\n            <!-- <div class=\"card-body\"> -->\r\n\r\n        </div>\r\n        <!-- <div class=\"card\"> -->\r\n\r\n    </div>\r\n    <!-- <div class=\"container-fluid\"> -->\r\n\r\n    <app-footer [data]=\"customer\"></app-footer>\r\n\r\n</div>\r\n<!-- <div class=\"content-wrapper\"> -->"

/***/ }),

/***/ "../../../../../src/app/customer/customer.detail.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomerDetail; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__customer_service__ = __webpack_require__("../../../../../src/app/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// service(s)


var CustomerDetail = (function () {
    // =======
    // angular
    // =======
    // constructor
    function CustomerDetail(customerService, router, toastr, viewContainer, activatedRoute, securityService, location) {
        this.customerService = customerService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.activatedRoute = activatedRoute;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        // default date
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'Customer Detail';
        //userRight
        this.canEdit = false;
        this.canSave = false;
        this.canLock = false;
        this.canUnlock = false;
        this.canPrint = false;
        this.canDelete = false;
        // model(s)
        this.customer = {
            id: 0,
            customerCode: "",
            lastName: "",
            firstName: "",
            middleName: "",
            fullName: "",
            civilStatus: "SINGLE",
            gender: "MALE",
            birthDate: "",
            citizen: "",
            tin: "",
            idType: "DRIVERS LICENSE",
            idNumber: "",
            address: "",
            city: "",
            province: "",
            country: "",
            zipCode: "",
            emailAddress: "",
            telephoneNumber: "",
            mobileNumber: "",
            employer: "",
            employerIndustry: "",
            noOfYearsEmployed: 0,
            position: "",
            employmentStatus: "PERMANENT",
            employerAddress: "",
            employerCity: "",
            employerProvince: "",
            employerCountry: "",
            employerZipCode: "",
            employerTelephoneNumber: "",
            employerMobileNumber: "",
            spouseLastName: "",
            spouseFirstName: "",
            spouseMiddleName: "",
            spouseBirthDate: this.currentDateString,
            spouseCitizen: "",
            spouseEmployer: "",
            spouseTIN: "",
            remarks: "",
            status: "ACTIVE",
            picture: "",
            isLocked: false,
            createdBy: 0,
            createdDateTime: "",
            updatedBy: 0,
            updatedDateTime: ""
        };
        // tab index (for large number of fields)
        this.tabDetail1 = new Array(true, false);
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    CustomerDetail.prototype.getUserRights = function () {
        var userRightsData = localStorage.getItem('userRights');
        var userRights = JSON.parse(userRightsData);
        for (var i = 0; i < userRights.length; i++) {
            if (userRights[i].page == 'CUSTOMER DETAIL') {
                this.canEdit = userRights[i].canEdit;
                this.canSave = userRights[i].canSave;
                this.canLock = userRights[i].canLock;
                this.canUnlock = userRights[i].canUnlock;
                this.canPrint = userRights[i].canPrint;
                this.canDelete = userRights[i].canDelete;
            }
        }
    };
    // ng
    CustomerDetail.prototype.ngOnInit = function () {
        var _this = this;
        if (this.securityService.openPage("CUSTOMER DETAIL") == true) {
            this.getCustomer();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
        this.getUserRights();
        if (!this.canPrint) {
            document.getElementById("btnPrintCustomer").hidden = true;
        }
        if (!this.canLock) {
            document.getElementById("btnLockCustomer").hidden = true;
        }
        if (!this.canUnlock) {
            document.getElementById("btnUnlockCustomer").hidden = true;
        }
        if (!this.canSave) {
            document.getElementById("btnSaveCustomer").hidden = true;
        }
    };
    CustomerDetail.prototype.ngOnDestroy = function () {
        if (this.customerSub != null)
            this.customerSub.unsubscribe();
        if (this.customerSavedSub != null)
            this.customerSavedSub.unsubscribe();
        if (this.customerLockedSub != null)
            this.customerLockedSub.unsubscribe();
        if (this.customerUnlockedSub != null)
            this.customerUnlockedSub.unsubscribe();
        if (this.dropDownsSub != null)
            this.dropDownsSub.unsubscribe();
        if (this.customerPictureSub != null)
            this.customerPictureSub.unsubscribe();
    };
    // ===============
    // private methods
    // ===============
    CustomerDetail.prototype.getIdParameter = function () {
        var id = 0;
        this.activatedRoute.params.subscribe(function (params) {
            id = params['id'];
        });
        return id;
    };
    // ==============
    // public methods
    // ==============
    // detail
    CustomerDetail.prototype.getCustomer = function () {
        var _this = this;
        this.customerService.getCustomer(this.getIdParameter());
        this.customerSub = this.customerService.customerObservable
            .subscribe(function (data) {
            _this.customer.id = data.id;
            _this.customer.customerCode = data.customerCode;
            _this.customer.lastName = data.lastName;
            _this.customer.firstName = data.firstName;
            _this.customer.middleName = data.middleName;
            _this.customer.fullName = data.fullName;
            _this.customer.civilStatus = data.civilStatus;
            _this.customer.gender = data.gender;
            _this.customer.birthDate = data.birthDate;
            _this.customer.citizen = data.citizen;
            _this.customer.tin = data.tin;
            _this.customer.idType = data.idType;
            _this.customer.idNumber = data.idNumber;
            _this.customer.address = data.address;
            _this.customer.city = data.city;
            _this.customer.province = data.province;
            _this.customer.country = data.country;
            _this.customer.zipCode = data.zipCode;
            _this.customer.emailAddress = data.emailAddress;
            _this.customer.telephoneNumber = data.telephoneNumber;
            _this.customer.mobileNumber = data.mobileNumber;
            _this.customer.employer = data.employer;
            _this.customer.employerIndustry = data.employerIndustry;
            _this.customer.noOfYearsEmployed = data.noOfYearsEmployed;
            _this.customer.position = data.position;
            _this.customer.employmentStatus = data.employmentStatus;
            _this.customer.employerAddress = data.employerAddress;
            _this.customer.employerCity = data.employerCity;
            _this.customer.employerProvince = data.employerProvince;
            _this.customer.employerCountry = data.employerCountry;
            _this.customer.employerZipCode = data.employerZipCode;
            _this.customer.employerTelephoneNumber = data.employerTelephoneNumber;
            _this.customer.employerMobileNumber = data.employerMobileNumber;
            _this.customer.spouseLastName = data.spouseLastName;
            _this.customer.spouseFirstName = data.spouseFirstName;
            _this.customer.spouseMiddleName = data.spouseMiddleName;
            _this.customer.spouseBirthDate = data.spouseBirthDate;
            _this.customer.spouseCitizen = data.spouseCitizen;
            _this.customer.spouseEmployer = data.spouseEmployer;
            _this.customer.spouseTIN = data.spouseTIN;
            _this.customer.remarks = data.remarks;
            _this.customer.status = data.status;
            _this.customer.picture = data.picture;
            _this.customer.isLocked = data.isLocked;
            _this.customer.createdBy = data.createdBy;
            _this.customer.createdDateTime = data.createdDateTime;
            _this.customer.updatedBy = data.updatedBy;
            _this.customer.updatedDateTime = data.updatedDateTime;
            _this.getDropDowns(data);
        });
    };
    // detail combo boxes
    CustomerDetail.prototype.getDropDowns = function (defaultValues) {
        var _this = this;
        this.customerService.getDropDowns();
        this.dropDownsSub = this.customerService.dropDownsObservable.subscribe(function (data) {
            var statuses = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            var civilStatuses = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            var genders = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            var idTypes = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            var employmentStatuses = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].category == "CUSTOMER STATUS") {
                        statuses.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                    if (data[i].category == "GENDER") {
                        genders.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                    if (data[i].category == "CIVIL STATUS") {
                        civilStatuses.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                    if (data[i].category == "ID TYPE") {
                        idTypes.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                    if (data[i].category == "EMPLOYMENT STATUS") {
                        employmentStatuses.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                }
            }
            _this.cmbStatusData = statuses;
            _this.cmbCivilStatusData = civilStatuses;
            _this.cmbGenderData = genders;
            _this.cmbIDTypeData = idTypes;
            _this.cmbEmploymentStatusData = employmentStatuses;
            setTimeout(function () { _this.customer.status = defaultValues.status; }, 100);
            setTimeout(function () { _this.customer.civilStatus = defaultValues.civilStatus; }, 100);
            setTimeout(function () { _this.customer.gender = defaultValues.gender; }, 100);
            setTimeout(function () { _this.customer.idType = defaultValues.idType; }, 100);
            setTimeout(function () { _this.customer.employmentStatus = defaultValues.employmentStatus; }, 100);
        });
    };
    // ======
    // events
    // ======
    // detail operations
    CustomerDetail.prototype.btnSaveCustomerClick = function () {
        var _this = this;
        var btnSaveCustomer = document.getElementById("btnSaveCustomer");
        btnSaveCustomer.setAttribute("disabled", "disabled");
        btnSaveCustomer.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.customerService.saveCustomer(this.customer);
        this.customerSavedSub = this.customerService.customerSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveCustomer.removeAttribute("disabled");
                btnSaveCustomer.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveCustomer.removeAttribute("disabled");
                btnSaveCustomer.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    CustomerDetail.prototype.btnLockCustomerClick = function () {
        var _this = this;
        var btnLockCustomer = document.getElementById("btnLockCustomer");
        btnLockCustomer.setAttribute("disabled", "disabled");
        btnLockCustomer.innerHTML = "<i class='fa fa-plus fa-fw'></i> Locking...";
        this.customerService.lockCustomer(this.customer);
        this.customerLockedSub = this.customerService.customerLockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Locking successful.");
                _this.customer.isLocked = true;
                btnLockCustomer.removeAttribute("disabled");
                btnLockCustomer.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
            else if (data == 0) {
                _this.toastr.error("Locking failed.");
                btnLockCustomer.removeAttribute("disabled");
                btnLockCustomer.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
        });
    };
    CustomerDetail.prototype.btnUnlockCustomerClick = function () {
        var _this = this;
        var btnUnlockCustomer = document.getElementById("btnUnlockCustomer");
        btnUnlockCustomer.setAttribute("disabled", "disabled");
        btnUnlockCustomer.innerHTML = "<i class='fa fa-plus fa-fw'></i> Unlocking...";
        this.customerService.unlockCustomer(this.customer);
        this.customerUnlockedSub = this.customerService.customerUnlockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Unlocking successful.");
                _this.customer.isLocked = false;
                btnUnlockCustomer.removeAttribute("disabled");
                btnUnlockCustomer.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
            else if (data == 0) {
                _this.toastr.error("Unlocking failed.");
                btnUnlockCustomer.removeAttribute("disabled");
                btnUnlockCustomer.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
        });
    };
    CustomerDetail.prototype.btnPrintCustomerClick = function () {
        this.router.navigate(['/pdf', 'customer', this.customer.id]);
    };
    CustomerDetail.prototype.btnUploadPictureClick = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.customerService.uploadCustomerPicture(target.files[0], "CUSTOMER-" + this.customer.customerCode + "-" + Date.now());
            this.customerPictureSub = this.customerService.customerPictureObservable
                .subscribe(function (data) {
                _this.customer.picture = data.fileUrl;
            });
        }
    };
    // detail tab event (for multiple detail number of fields)
    CustomerDetail.prototype.tabDetail1Click = function (index) {
        for (var i = 0; i <= this.tabDetail1.length - 1; i++) {
            if (index == i)
                this.tabDetail1[i] = true;
            else
                this.tabDetail1[i] = false;
        }
    };
    //  full name events
    CustomerDetail.prototype.txtFirstNameKeyup = function () {
        this.customer.fullName = this.customer.lastName + ", " + this.customer.firstName + " " + this.customer.middleName;
    };
    CustomerDetail.prototype.txtMiddleNameKeyup = function () {
        this.customer.fullName = this.customer.lastName + ", " + this.customer.firstName + " " + this.customer.middleName;
    };
    CustomerDetail.prototype.txtLastNameKeyup = function () {
        this.customer.fullName = this.customer.lastName + ", " + this.customer.firstName + " " + this.customer.middleName;
    };
    CustomerDetail = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/customer/customer.detail.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], CustomerDetail);
    return CustomerDetail;
}());



/***/ }),

/***/ "../../../../../src/app/customer/customer.list.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a href=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- buttons -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button id=\"btnCSVReport\" class=\"btn btn-primary\" (click)=\"btnCSVReportClick()\">\r\n                                <i class=\"fa fa-file-excel-o fa-fw\"></i> CSV\r\n                            </button>\r\n                            <button class=\"btn btn-primary\" (click)=\"btnAddCustomerClick()\" id=\"btnAddCustomer\">\r\n                                <i class=\"fa fa-plus fa-fw\"></i> Add\r\n                            </button>\r\n                            <button class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- flxegrid -->\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdCustomers [itemsSource]=\"fgdCustomersCollection\" [selectionMode]=\"3\" [frozenColumns]=\"2\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column *ngIf=\"canEdit\" [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditCustomerClick()\" id=\"btnEditCustomer\"> \r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column *ngIf=\"canDelete\" [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteCustomerClick()\" id=\"btnDeleteCustomer\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Code'\" [binding]=\"'customerCode'\" [isReadOnly]=\"true\" [width]=\"70\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Name'\" [binding]=\"'fullName'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Address'\" [binding]=\"'address'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Phone No.'\" [binding]=\"'telephoneNumber'\" [isReadOnly]=\"true\" [width]=\"200\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'L'\" [binding]=\"'isLocked'\" [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n\r\n            <!-- navigation buttons -->\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCustomersCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCustomersCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdCustomersCollection.pageIndex + 1 }} / {{ fgdCustomersCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCustomersCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdCustomersCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- user and time stamp -->\r\n    <app-footer [data]=\"fgdCustomersCollection\"></app-footer>\r\n</div>\r\n\r\n<!-- delete customer modal -->\r\n<div id=\"mdlCustomerDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlCustomerDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete Customer</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{fgdCustomersCollection.currentItem != null ? fgdCustomersCollection.currentItem.fullName : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button id=\"btnOkCustomerDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkCustomerDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok\r\n                </button>\r\n                <button id=\"btnCloseCustomerDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseCustomerDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/customer/customer.list.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomerList; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__customer_service__ = __webpack_require__("../../../../../src/app/customer/customer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// service(s)


var CustomerList = (function () {
    // =======
    // angular
    // =======
    //constructor
    function CustomerList(customerService, toastr, viewContainer, router, securityService, location) {
        this.customerService = customerService;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.router = router;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        // User Rights
        this.canEdit = false;
        this.canSave = false;
        this.canLock = false;
        this.canUnlock = false;
        this.canPrint = false;
        this.canDelete = false;
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'Customer List';
        // model(s)
        this.customer = {
            id: 0,
            customerCode: "",
            lastName: "",
            firstName: "",
            middleName: "",
            fullName: "",
            civilStatus: "SINGLE",
            gender: "MALE",
            birthDate: this.currentDateString,
            citizen: "FILIPINO",
            tin: "",
            idType: "DRIVERS LICENSE",
            idNumber: "",
            address: "",
            city: "",
            province: "",
            country: "",
            zipCode: "",
            emailAddress: "",
            telephoneNumber: "",
            mobileNumber: "",
            employer: "",
            employerIndustry: "",
            noOfYearsEmployed: 0,
            position: "",
            employmentStatus: "PERMANENT",
            employerAddress: "",
            employerCity: "",
            employerProvince: "",
            employerCountry: "",
            employerZipCode: "",
            employerTelephoneNumber: "",
            employerMobileNumber: "",
            spouseLastName: "",
            spouseFirstName: "",
            spouseMiddleName: "",
            spouseBirthDate: this.currentDateString,
            spouseCitizen: "",
            spouseEmployer: "",
            spouseTIN: "",
            remarks: "",
            status: "ACTIVE",
            picture: "",
            isLocked: false,
            createdBy: 0,
            createdDateTime: this.currentDateString,
            updatedBy: 0,
            updatedDateTime: this.currentDateString
        };
        // modals
        this.mdlCustomerDeleteShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    CustomerList.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdCustomersData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdCustomersCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdCustomersData);
        if (this.securityService.openPage("CUSTOMER LIST") == true) {
            this.getCustomers();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
        this.getUserRights();
    };
    CustomerList.prototype.ngOnDestroy = function () {
        if (this.customersSub != null)
            this.customersSub.unsubscribe();
        if (this.customersDeletedSub != null)
            this.customersDeletedSub.unsubscribe();
    };
    //================
    // Get User Rights
    //================
    CustomerList.prototype.getUserRights = function () {
        var userRightsData = localStorage.getItem('userRights');
        var userRights = JSON.parse(userRightsData);
        for (var i = 0; i < userRights.length; i++) {
            if (userRights[i].page == 'CUSTOMER LIST') {
                this.canEdit = userRights[i].canEdit;
                this.canSave = userRights[i].canSave;
                this.canLock = userRights[i].canLock;
                this.canUnlock = userRights[i].canUnlock;
                this.canPrint = userRights[i].canPrint;
                this.canDelete = userRights[i].canDelete;
            }
        }
    };
    // ==============
    // public methods
    // ==============
    // customer list
    CustomerList.prototype.getCustomers = function () {
        var _this = this;
        var customers = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.customerService.getCustomers();
        this.customersSub = this.customerService.customersObservable.subscribe(function (data) {
            if (data.length > 0) {
                _this.fgdCustomersData = data;
                _this.fgdCustomersCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdCustomersData);
                _this.fgdCustomersCollection.pageSize = 15;
                _this.fgdCustomersCollection.trackChanges = true;
            }
        });
    };
    // ======
    // events
    // ======
    // customer list operations
    CustomerList.prototype.btnAddCustomerClick = function () {
        var btnAddCustomer = document.getElementById("btnAddCustomer");
        btnAddCustomer.setAttribute("disabled", "true");
        btnAddCustomer.innerHTML = "<i class='fa fa-plus fa-fw'></i> Adding...";
        this.customerService.addCustomer(this.customer, btnAddCustomer);
    };
    CustomerList.prototype.btnEditCustomerClick = function () {
        var selectedCustomer = this.fgdCustomersCollection.currentItem;
        this.router.navigate(['/customer', selectedCustomer.id]);
    };
    CustomerList.prototype.btnDeleteCustomerClick = function () {
        this.mdlCustomerDeleteShow = true;
        if (!this.canDelete) {
            document.getElementById("btnOkCustomerDeleteModal").hidden = true;
        }
    };
    // customer delete modal operations
    CustomerList.prototype.btnOkCustomerDeleteModalClick = function () {
        var _this = this;
        var btnOkCustomerDeleteModal = document.getElementById("btnOkCustomerDeleteModal");
        var btnCloseCustomerDeleteModal = document.getElementById("btnCloseCustomerDeleteModal");
        var selectedCustomer = this.fgdCustomersCollection.currentItem;
        btnOkCustomerDeleteModal.setAttribute("disabled", "disabled");
        btnCloseCustomerDeleteModal.setAttribute("disabled", "disabled");
        this.customerService.deleteCustomer(selectedCustomer.id);
        this.customersDeletedSub = this.customerService.customerDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdCustomersCollection.remove(selectedCustomer);
                btnOkCustomerDeleteModal.removeAttribute("disabled");
                btnCloseCustomerDeleteModal.removeAttribute("disabled");
                _this.mdlCustomerDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkCustomerDeleteModal.removeAttribute("disabled");
                btnCloseCustomerDeleteModal.removeAttribute("disabled");
            }
        });
    };
    CustomerList.prototype.btnCloseCustomerDeleteModalClick = function () {
        this.mdlCustomerDeleteShow = false;
    };
    CustomerList.prototype.btnCSVReportClick = function () {
        var fileName = "customer.csv";
        var collection = this.fgdCustomersCollection;
        var data = "Customer List" + "\r\n\n";
        var columns = "";
        // csv columns
        for (var s in collection.items[0])
            columns += s + ",";
        columns = columns.slice(0, -1);
        data += columns + "\r\n";
        // csv records
        collection.moveToFirstPage();
        for (var p = 0; p < collection.pageCount; p++) {
            for (var i = 0; i < collection.items.length; i++) {
                var row = "";
                for (var s in collection.items[i]) {
                    row += "\"" + collection.items[i][s] + "\",";
                }
                row.slice(0, row.length - 1);
                data += row + "\r\n";
            }
            collection.moveToNextPage();
        }
        // Create the csv blob
        var csvData = new Blob([data], { type: 'text/csv;charset=utf-8;' });
        // Create a link then click the link to down load the csv blob
        var csvURL = window.URL.createObjectURL(csvData);
        var csvLink = document.createElement('a');
        csvLink.href = csvURL;
        csvLink.setAttribute('download', fileName);
        csvLink.click();
    };
    CustomerList = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/customer/customer.list.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__customer_service__["a" /* CustomerService */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], CustomerList);
    return CustomerList;
}());



/***/ }),

/***/ "../../../../../src/app/customer/customer.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomerService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// wijmo

// async

var CustomerService = (function () {
    // =======
    // angular
    // =======
    // constructor
    function CustomerService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        // default date
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        // customer list
        this.customersSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.customersObservable = this.customersSource.asObservable();
        // customer list operations
        this.customerDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.customerDeletedObservable = this.customerDeletedSource.asObservable();
        // customer detail
        this.customerSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.customerObservable = this.customerSource.asObservable();
        // customer operations
        this.customerSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.customerSavedObservable = this.customerSavedSource.asObservable();
        this.customerLockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.customerLockedObservable = this.customerLockedSource.asObservable();
        this.customerUnlockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.customerUnlockedObservable = this.customerUnlockedSource.asObservable();
        // Blob, picture
        this.customerPictureSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.customerPictureObservable = this.customerPictureSource.asObservable();
        // combo boxes
        this.dropDownsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsObservable = this.dropDownsSource.asObservable();
    }
    // ==============
    // public methods
    // ==============
    // customer list
    CustomerService.prototype.getCustomers = function () {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstCustomer/List";
        var customers = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    customers.push({
                        id: results[i].Id,
                        customerCode: results[i].CustomerCode,
                        lastName: results[i].LastName,
                        firstName: results[i].FirstName,
                        middleName: results[i].MiddleName,
                        fullName: results[i].FullName,
                        civilStatus: results[i].CivilStatus,
                        gender: results[i].Gender,
                        birthDate: results[i].BirthDate,
                        citizen: results[i].Citizen,
                        tin: results[i].TIN,
                        idType: results[i].IdType,
                        idNumber: results[i].IdNumber,
                        address: results[i].Address,
                        city: results[i].City,
                        province: results[i].Province,
                        country: results[i].Country,
                        zipCode: results[i].ZipCode,
                        emailAddress: results[i].EmailAddress,
                        telephoneNumber: results[i].TelephoneNumber,
                        mobileNumber: results[i].MobileNumber,
                        employer: results[i].Employer,
                        employerIndustry: results[i].EmployerIndustry,
                        noOfYearsEmployed: results[i].NoOfYearsEmployed,
                        position: results[i].Position,
                        employmentStatus: results[i].EmploymentStatus,
                        employerAddress: results[i].EmployerAddress,
                        employerCity: results[i].EmployerCity,
                        employerProvince: results[i].EmployerProvince,
                        employerCountry: results[i].EmployerCountry,
                        employerZipCode: results[i].EmployerZipCode,
                        employerTelephoneNumber: results[i].EmployerTelephoneNumber,
                        employerMobileNumber: results[i].EmployerMobileNumber,
                        spouseLastName: results[i].SpouseLastName,
                        spouseFirstName: results[i].SpouseFirstName,
                        spouseMiddleName: results[i].SpouseMiddleName,
                        spouseBirthDate: results[i].SpouseBirthDate,
                        spouseCitizen: results[i].SpouseCitizen,
                        spouseEmployer: results[i].SpouseEmployer,
                        spouseTIN: results[i].SpouseTIN,
                        remarks: results[i].Remarks,
                        status: results[i].Status,
                        picture: results[i].Picture,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.customersSource.next(customers);
            }
            else {
                _this.customersSource.next(customers);
                _this.toastr.error("No customers.");
            }
        });
    };
    // customer list operations
    CustomerService.prototype.addCustomer = function (customer, btnAddCustomer) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstCustomer/Add";
        this.http.post(url, JSON.stringify(customer), this.options).subscribe(function (response) {
            var id = response.json();
            if (id > 0) {
                _this.toastr.success("Add successful.");
                setTimeout(function () {
                    _this.router.navigate(['/customer', id]);
                }, 1000);
            }
            else {
                _this.toastr.error("Add failed.");
                btnAddCustomer.removeAttribute("disabled");
                btnAddCustomer.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
            }
        }, function (error) {
            _this.toastr.error("Server error.");
            btnAddCustomer.removeAttribute("disabled");
            btnAddCustomer.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
        });
    };
    CustomerService.prototype.deleteCustomer = function (id) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstCustomer/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.customerDeletedSource.next(1);
        }, function (error) {
            _this.customerDeletedSource.next(0);
        });
    };
    // customer detail
    CustomerService.prototype.getCustomer = function (id) {
        var _this = this;
        var customer;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstCustomer/Detail/" + id;
        this.http.get(url, this.options).subscribe(function (response) {
            var result = response.json();
            if (result != null) {
                customer = {
                    id: result.Id,
                    customerCode: result.CustomerCode,
                    lastName: result.LastName,
                    firstName: result.FirstName,
                    middleName: result.MiddleName,
                    fullName: result.FullName,
                    civilStatus: result.CivilStatus,
                    gender: result.Gender,
                    birthDate: result.BirthDate,
                    citizen: result.Citizen,
                    tin: result.TIN,
                    idType: result.IdType,
                    idNumber: result.IdNumber,
                    address: result.Address,
                    city: result.City,
                    province: result.Province,
                    country: result.Country,
                    zipCode: result.ZipCode,
                    emailAddress: result.EmailAddress,
                    telephoneNumber: result.TelephoneNumber,
                    mobileNumber: result.MobileNumber,
                    employer: result.Employer,
                    employerIndustry: result.EmployerIndustry,
                    noOfYearsEmployed: result.NoOfYearsEmployed,
                    position: result.Position,
                    employmentStatus: result.EmploymentStatus,
                    employerAddress: result.EmployerAddress,
                    employerCity: result.EmployerCity,
                    employerProvince: result.EmployerProvince,
                    employerCountry: result.EmployerCountry,
                    employerZipCode: result.EmployerZipCode,
                    employerTelephoneNumber: result.EmployerTelephoneNumber,
                    employerMobileNumber: result.EmployerMobileNumber,
                    spouseLastName: result.SpouseLastName,
                    spouseFirstName: result.SpouseFirstName,
                    spouseMiddleName: result.SpouseMiddleName,
                    spouseBirthDate: result.SpouseBirthDate == "" ? _this.currentDateString : result.SpouseBirthDate,
                    spouseCitizen: result.SpouseCitizen,
                    spouseEmployer: result.SpouseEmployer,
                    spouseTIN: result.SpouseTIN,
                    remarks: result.Remarks,
                    status: result.Status,
                    picture: result.Picture,
                    isLocked: result.IsLocked,
                    createdBy: result.CreatedBy,
                    createdDateTime: result.CreatedDateTime,
                    updatedBy: result.UpdatedBy,
                    updatedDateTime: result.UpdatedDateTime
                };
                _this.customerSource.next(customer);
            }
            else {
                _this.toastr.error("No data.");
                setTimeout(function () {
                    _this.router.navigate(["/customer"]);
                }, 1000);
            }
        });
    };
    // customer detail operations
    CustomerService.prototype.saveCustomer = function (project) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstCustomer/Save";
        this.http.put(url, JSON.stringify(project), this.options).subscribe(function (response) {
            _this.customerSavedSource.next(1);
        }, function (error) {
            _this.customerSavedSource.next(0);
        });
    };
    CustomerService.prototype.lockCustomer = function (project) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstCustomer/Lock";
        this.http.put(url, JSON.stringify(project), this.options).subscribe(function (response) {
            _this.customerLockedSource.next(1);
        }, function (error) {
            _this.customerLockedSource.next(0);
        });
    };
    CustomerService.prototype.unlockCustomer = function (project) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstCustomer/Unlock";
        this.http.put(url, JSON.stringify(project), this.options).subscribe(function (response) {
            _this.customerUnlockedSource.next(1);
        }, function (error) {
            _this.customerUnlockedSource.next(0);
        });
    };
    CustomerService.prototype.uploadCustomerPicture = function (file, fileName) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/Blob/Upload";
        var blob;
        var formData = new FormData();
        formData.append("image", file, fileName);
        this.http
            .post(url, formData)
            .subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                blob = {
                    fileName: results[0].FileName,
                    fileUrl: results[0].FileUrl,
                    fileSizeInBytes: results[0].FileSizeInBytes,
                    fileSizeInKb: results[0].FileSizeInKb,
                };
                _this.customerPictureSource.next(blob);
                _this.toastr.success("Upload successful.");
            }
            else {
                _this.customerPictureSource.next(blob);
                _this.toastr.error("Uploading failed.");
            }
        }, function (error) {
            _this.customerPictureSource.next(blob);
            _this.toastr.error("Server error.");
        });
    };
    // combo boxes
    CustomerService.prototype.getDropDowns = function () {
        var _this = this;
        var dropDowns = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    dropDowns.push({
                        id: results[i].Id,
                        category: results[i].Category,
                        description: results[i].Description,
                        value: results[i].Value
                    });
                }
                _this.dropDownsSource.next(dropDowns);
            }
            else {
                _this.toastr.error("No data.");
            }
        });
    };
    CustomerService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], CustomerService);
    return CustomerService;
}());



/***/ }),

/***/ "../../../../../src/app/footer/footer.index.html":
/***/ (function(module, exports) {

module.exports = "<footer class=\"app-footer\">\r\n    <div class=\"container-fluid\">\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-6\">\r\n                <b>{{company}}</b> {{version}}\r\n                <br />\r\n                {{support}}\r\n            </div>\r\n            <div class=\"col-lg-6\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-lg-4\">\r\n                        <b>Created By: </b> {{ getCreatedBy() }}\r\n                        <br />\r\n                        <b>Created Date: </b> {{ getCreatedDateTime() }}\r\n                    </div>\r\n                    <div class=\"col-lg-8\">\r\n                        <b>Updated By: </b> {{ getUpdatedBy() }}\r\n                        <br />\r\n                        <b>Updated Date: </b> {{ getUpdatedDateTime() }}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</footer>"

/***/ }),

/***/ "../../../../../src/app/footer/footer.index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FooterIndex; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__footer_service__ = __webpack_require__("../../../../../src/app/footer/footer.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// Angular

// Services

var FooterIndex = (function () {
    function FooterIndex(footerService) {
        this.footerService = footerService;
        this.company = "";
        this.version = "Filbroker v1.0.20190311.ORE";
        this.support = "Innosoft Solutions +63 917 812 3982 (support@innosoft.ph)";
    }
    FooterIndex.prototype.ngOnInit = function () {
        this.getUsers();
    };
    FooterIndex.prototype.ngOnDestroy = function () {
        if (this.usersSub != null)
            this.usersSub.unsubscribe();
    };
    FooterIndex.prototype.getUsers = function () {
        var _this = this;
        this.footerService.getUsers();
        this.usersSub = this.footerService.usersObservable.subscribe(function (data) {
            _this.usersData = data;
        });
    };
    FooterIndex.prototype.getCreatedBy = function () {
        var createdBy = "";
        if (this.data != null && this.usersData != null) {
            if (this.usersData.length > 0) {
                for (var i = 0; i <= this.usersData.length - 1; i++) {
                    if (this.data.currentItem != null) {
                        if (this.usersData[i].id == this.data.currentItem.createdBy) {
                            createdBy = this.usersData[i].fullName;
                        }
                    }
                    else {
                        if (this.usersData[i].id == this.data.createdBy) {
                            createdBy = this.usersData[i].fullName;
                        }
                    }
                }
            }
        }
        return createdBy;
    };
    FooterIndex.prototype.getUpdatedBy = function () {
        var updatedBy = "";
        if (this.data != null && this.usersData != null) {
            if (this.usersData.length > 0) {
                for (var i = 0; i <= this.usersData.length - 1; i++) {
                    if (this.data.currentItem != null) {
                        if (this.usersData[i].id == this.data.currentItem.updatedBy) {
                            updatedBy = this.usersData[i].fullName;
                        }
                    }
                    else {
                        if (this.usersData[i].id == this.data.updatedBy) {
                            updatedBy = this.usersData[i].fullName;
                        }
                    }
                }
            }
        }
        return updatedBy;
    };
    FooterIndex.prototype.getCreatedDateTime = function () {
        var createdDateTime = "";
        if (this.data != null) {
            if (this.data.currentItem != null) {
                createdDateTime = this.data.currentItem.createdDateTime;
            }
            else {
                createdDateTime = this.data.createdDateTime;
            }
        }
        return createdDateTime;
    };
    FooterIndex.prototype.getUpdatedDateTime = function () {
        var updatedDateTime = "";
        if (this.data != null) {
            if (this.data.currentItem != null) {
                updatedDateTime = this.data.currentItem.updatedDateTime;
            }
            else {
                updatedDateTime = this.data.updatedDateTime;
            }
        }
        return updatedDateTime;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], FooterIndex.prototype, "data", void 0);
    FooterIndex = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: "app-footer",
            template: __webpack_require__("../../../../../src/app/footer/footer.index.html"),
            styles: [__webpack_require__("../../../../../src/app/footer/footer.style.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__footer_service__["a" /* FooterService */]])
    ], FooterIndex);
    return FooterIndex;
}());



/***/ }),

/***/ "../../../../../src/app/footer/footer.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FooterService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// Angular



// Wijmo

// Async

var FooterService = (function () {
    function FooterService(router, http) {
        this.router = router;
        this.http = http;
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        this.usersSource = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.usersObservable = this.usersSource.asObservable();
    }
    FooterService.prototype.getUsers = function () {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUser/List";
        var users = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    users.push({
                        id: results[i].Id,
                        fullName: results[i].FullName
                    });
                }
                _this.usersSource.next(users);
            }
        });
    };
    FooterService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], FooterService);
    return FooterService;
}());



/***/ }),

/***/ "../../../../../src/app/footer/footer.style.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".app-footer {\r\n    background-color: #212529;\r\n    color: gray;\r\n    padding: 1em;\r\n    font-size: 70%;\r\n    position: fixed;\r\n    bottom: 0;\r\n    width: 100%;\r\n    padding-right: 250px;\r\n    z-index: 1000;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n}", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/home/home.landing.html":
/***/ (function(module, exports) {

module.exports = "<!-- Navigation -->\r\n<nav class=\"navbar navbar-light bg-light fixed-top custom-navbar\">\r\n    <div class=\"container\">\r\n        <a routerLink=\"/\" class=\"navbar-brand custom-narbar-brand\">\r\n            <img src=\"../../assets/landing/img/filbroker logo.png\" />\r\n        </a>\r\n        <a routerLink=\"account/login\" class=\"btn btn-primary\">Sign In</a>\r\n    </div>\r\n</nav>\r\n\r\n<!-- Masthead -->\r\n<header class=\"masthead text-white text-center\">\r\n    <div class=\"overlay\"></div>\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col-xl-9 mx-auto\">\r\n                <br /><br /><br /><br /><br /><br />\r\n            </div>\r\n            <div class=\"col-md-10 col-lg-8 col-xl-7 mx-auto\">\r\n                <a routerLink=\"/account/login\" class=\"btn btn-lg btn-primary\">Get Started!</a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</header>\r\n\r\n<!-- Icons Grid -->\r\n<!-- <section class=\"features-icons text-center\">\r\n    <div class=\"container\">\r\n        <h3>About Filbroker</h3>\r\n        <p class=\"lead mb-0\">Priland Development Corporation is a Cebuano real estate development company that emerged from the outlook to raise\r\n            and develop a contemporary community in Cebu and to fill in the gap on what the real estate market really needs.\r\n            Thus, we seek to provide diversified projects in prominent locations and ensure the sustainability of such developments.\r\n            We made it our mission to build your aspirations to life and to redefine the quality of life in Cebu, one home\r\n            at a time.</p>\r\n    </div>\r\n</section> -->\r\n\r\n<!-- Image Showcases -->\r\n<section class=\"showcase bg-light \">\r\n    <div class=\"container-fluid p-0\">\r\n        <div class=\"row no-gutters\">\r\n\r\n            <div class=\"col-lg-7 order-lg-2 text-white showcase-img\" style=\"background-image: url('../../assets/landing_template/img/dashboard.png');\"></div>\r\n            <div class=\"col-lg-5 order-lg-1 my-auto showcase-text\">\r\n                <img src=\"../../assets/landing/img/filbroker logo.png\" width=\"400\" />\r\n                <br /><br />\r\n                <p class=\"lead mb-0\">Manages real-eastate assets with ease using the cloud.</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n<!-- Testimonials -->\r\n<section class=\"testimonials text-center\">\r\n    <div class=\"container\">\r\n        <h2 class=\"mb-5\">About Us</h2>\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-4\">\r\n                <div class=\"testimonial-item mx-auto mb-5 mb-lg-0\">\r\n                    <img class=\"img-fluid rounded-circle mb-3\" src=\"../../assets/landing_template/img/jerico.png\" alt=\"\">\r\n                    <h5>Jerico Cañete</h5>\r\n                    <p class=\"font-weight-light mb-0\">Chief Executive Officer (CEO)</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-lg-4\">\r\n                <div class=\"testimonial-item mx-auto mb-5 mb-lg-0\">\r\n                    <img class=\"img-fluid rounded-circle mb-3\" src=\"../../assets/landing_template/img/HG.jpg\" alt=\"\">\r\n                    <h5>Harold Glenn Minerva</h5>\r\n                    <p class=\"font-weight-light mb-0\">Chief Operating Officer (COO)</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-lg-4\">\r\n                <div class=\"testimonial-item mx-auto mb-5 mb-lg-0\">\r\n                    <img class=\"img-fluid rounded-circle mb-3\" src=\"../../assets/landing_template/img/noah.jpg\" alt=\"\">\r\n                    <h5>Noah Oliver Rigonan</h5>\r\n                    <p class=\"font-weight-light mb-0\">Chief Technical Officer (CTO)</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n\r\n<section id=\"contact\" class=\"contact-section\">\r\n    <div class=\"container\">\r\n        <br />\r\n        <div class=\"row\">\r\n            <div class=\"col-md-5\">\r\n                <div class=\"text-white\">\r\n                    <h2 class=\"\">Contact Us!</h2>\r\n                    <br />\r\n                    <p>\r\n                        Ready to subscribe with us? That's great! Give us a call or send us an email and we will get back to you as soon as possible!\r\n                    </p>\r\n                    <br />\r\n                    <br />\r\n                    <p>\r\n                        <i class=\"fa fa-mobile fa-fw\"></i> &nbsp; 0936-338-2541 (TM) / 0932-609-4459 (Sun)\r\n                        <br />\r\n                        <i class=\"fa fa-phone fa-fw\"></i> &nbsp; (032) 263-2912 / (032) 520-7245 / (032) 415-1507\r\n                        <br />\r\n                        <i class=\"fa fa-envelope-o fa-fw\" data-wow-delay=\".1s\"></i> &nbsp; info@innosoft.ph\r\n                    </p>\r\n                    <br /> For More Information, visit:\r\n                    <br />\r\n                    <a href=\"http://www.innosoft.ph\" target=\"_blank\">\r\n                        <span class=\"label label-info\">\r\n                            www.innosoft.ph</span>\r\n                    </a>\r\n                    <br />\r\n                    <br />\r\n                </div>\r\n            </div>\r\n            <div class=\"col-md-7\">\r\n                <iframe src=\"https://www.google.com/maps/embed?pb=!1m26!1m12!1m3!1d3925.3294653199337!2d123.88335311472697!3d10.315496020352837!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m11!3e6!4m3!3m2!1d10.3155472!2d123.8854789!4m5!1s0x33a99eb4d4f75c7b%3A0x91d2680e9eae4ce6!2sInnosoft+Solutions%2C+V+Rama+Ave%2C+Cebu+City%2C+6000+Cebu!3m2!1d10.3154656!2d123.88562189999999!5e0!3m2!1sen!2sph!4v1524815768895\"\r\n                    style=\"width: 100%; height: 450px;\" frameborder=\"0\" allowfullscreen></iframe>\r\n            </div>\r\n        </div>\r\n        <br />\r\n    </div>\r\n</section>\r\n\r\n<!-- Footer -->\r\n<footer class=\"footer bg-light\">\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-6 h-100 text-center text-lg-left my-auto\">\r\n                <ul class=\"list-inline mb-2\">\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">About</a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">&sdot;</li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">Contact</a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">&sdot;</li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">Terms of Use</a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">&sdot;</li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">Privacy Policy</a>\r\n                    </li>\r\n                </ul>\r\n                <p class=\"text-muted small mb-4 mb-lg-0\">&copy; Filbroker 2018. All Rights Reserved.</p>\r\n            </div>\r\n            <div class=\"col-lg-6 h-100 text-center text-lg-right my-auto\">\r\n                <ul class=\"list-inline mb-0\">\r\n                    <li class=\"list-inline-item mr-3\">\r\n                        <a href=\"#\">\r\n                            <i class=\"fa fa-facebook fa-2x fa-fw\"></i>\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"list-inline-item mr-3\">\r\n                        <a href=\"#\">\r\n                            <i class=\"fa fa-twitter fa-2x fa-fw\"></i>\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">\r\n                        <a href=\"#\">\r\n                            <i class=\"fa fa-instagram fa-2x fa-fw\"></i>\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</footer>"

/***/ }),

/***/ "../../../../../src/app/home/home.landing.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HomeLanding; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var HomeLanding = (function () {
    function HomeLanding(toastr, vcr, router) {
        this.toastr = toastr;
        this.vcr = vcr;
        this.router = router;
        this.title = 'Home';
        this.login = "Login";
        this.toastr.setRootViewContainerRef(vcr);
    }
    HomeLanding.prototype.ngOnInit = function () {
        if (localStorage.getItem("username") == null) {
            this.login = "Login";
        }
        else {
            this.login = "Logout (" + localStorage.getItem("username") + ")";
        }
    };
    HomeLanding.prototype.loginClick = function () {
        if (localStorage.getItem("username") == null) {
            this.router.navigate(['/account/login']);
        }
        else {
            localStorage.removeItem('access_token');
            localStorage.removeItem('expires_in');
            localStorage.removeItem('token_type');
            localStorage.removeItem('username');
            this.login = "Login";
        }
    };
    HomeLanding = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/home/home.landing.html"),
            styles: [__webpack_require__("../../../../../src/app/home/home.style.css")],
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */]])
    ], HomeLanding);
    return HomeLanding;
}());



/***/ }),

/***/ "../../../../../src/app/home/home.style.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "body {\r\n  font-family: 'Lato', 'Helvetica Neue', Helvetica, Arial, sans-serif;\r\n}\r\n\r\nh1,\r\nh2,\r\nh3,\r\nh4,\r\nh5,\r\nh6 {\r\n  font-family: 'Lato', 'Helvetica Neue', Helvetica, Arial, sans-serif;\r\n  font-weight: 700;\r\n}\r\n\r\nheader.masthead {\r\n  position: relative;\r\n  background-color: #202122;\r\n  background: url(" + __webpack_require__("../../../../../src/assets/landing_template/img/dahlia.jpg") + ") no-repeat center center;\r\n  background-size: cover;\r\n  padding-top: 8rem;\r\n  padding-bottom: 8rem;\r\n}\r\n\r\nheader.masthead .overlay {\r\n  position: absolute;\r\n  background-color: #212529;\r\n  height: 100%;\r\n  width: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  opacity: 0.8;\r\n}\r\n\r\nheader.masthead h1 {\r\n  font-size: 2rem;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  header.masthead {\r\n    padding-top: 18rem;\r\n    padding-bottom: 18rem;\r\n  }\r\n  header.masthead h1 {\r\n    font-size: 3rem;\r\n  }\r\n}\r\n\r\n.showcase .showcase-text {\r\n  padding: 3rem;\r\n}\r\n\r\n.showcase .showcase-img {\r\n  min-height: 30rem;\r\n  background-size: cover;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .showcase .showcase-text {\r\n    padding: 7rem;\r\n  }\r\n}\r\n\r\n.features-icons {\r\n  padding-top: 7rem;\r\n  padding-bottom: 7rem;\r\n}\r\n\r\n.features-icons .features-icons-item {\r\n  max-width: 20rem;\r\n}\r\n\r\n.features-icons .features-icons-item .features-icons-icon {\r\n  height: 7rem;\r\n}\r\n\r\n.features-icons .features-icons-item .features-icons-icon i {\r\n  font-size: 4.5rem;\r\n}\r\n\r\n.features-icons .features-icons-item:hover .features-icons-icon i {\r\n  font-size: 5rem;\r\n}\r\n\r\n.testimonials {\r\n  padding-top: 7rem;\r\n  padding-bottom: 7rem;\r\n}\r\n\r\n.testimonials .testimonial-item {\r\n  max-width: 18rem;\r\n}\r\n\r\n.testimonials .testimonial-item img {\r\n  max-width: 12rem;\r\n  box-shadow: 0px 5px 5px 0px #adb5bd;\r\n}\r\n\r\n.call-to-action {\r\n  position: relative;\r\n  background-color: #343a40;\r\n  background: url(" + __webpack_require__("../../../../../src/assets/landing_template/img/bg-masthead.jpg") + ") no-repeat center center;\r\n  background-size: cover;\r\n  padding-top: 7rem;\r\n  padding-bottom: 7rem;\r\n}\r\n\r\n.call-to-action .overlay {\r\n  position: absolute;\r\n  background-color: #212529;\r\n  height: 100%;\r\n  width: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  opacity: 0.3;\r\n}\r\n\r\nfooter.footer {\r\n  padding-top: 4rem;\r\n  padding-bottom: 4rem;\r\n}\r\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/menu/menu.dashboard.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a href=\"/menu\">Menu</a>\r\n            </li>\r\n        </ol>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-md-4\">\r\n                <button class=\"btn btn-light btn-block\" routerLink=\"/project\" style=\"height: 200px\">\r\n                    <img class=\"svg-icon-style\" src=\"../../assets/svg/inspection.svg\" />\r\n                    <br />\r\n                    <h4>Project</h4>\r\n                </button>\r\n                <button class=\"btn btn-light btn-block\" routerLink=\"/unit\" style=\"height: 200px\">\r\n                    <img class=\"svg-icon-style\" src=\"../../assets/svg/home.svg\" />\r\n                    <br />\r\n                    <h4>Unit</h4>\r\n                </button>\r\n                <button class=\"btn btn-light btn-block\" routerLink=\"/checklist\" style=\"height: 200px\">\r\n                    <img class=\"svg-icon-style\" src=\"../../assets/svg/checkmark.svg\" />\r\n                    <br />\r\n                    <h4>Checklist</h4>\r\n                </button>\r\n            </div>\r\n            <div class=\"col-md-4\">\r\n                <button class=\"btn btn-light btn-block\" routerLink=\"/customer\" style=\"height: 200px\">\r\n                    <img class=\"svg-icon-style\" src=\"../../assets/svg/businesswoman.svg\" />\r\n                    <br />\r\n                    <h4>Customer</h4>\r\n                </button>\r\n                <button class=\"btn btn-light btn-block\" routerLink=\"/broker\" style=\"height: 200px\">\r\n                    <img class=\"svg-icon-style\" src=\"../../assets/svg/handshake.svg\" />\r\n                    <br />\r\n                    <h4>broker</h4>\r\n                </button>\r\n                <button class=\"btn btn-light btn-block\" routerLink=\"/reports\" style=\"height: 200px\">\r\n                    <img class=\"svg-icon-style\" src=\"../../assets/svg/print.svg\" />\r\n                    <br />\r\n                    <h4>Reports</h4>\r\n                </button>\r\n            </div>\r\n            <div class=\"col-md-4\">\r\n                <button class=\"btn btn-light btn-block\" routerLink=\"/soldUnit\" style=\"height: 200px\">\r\n                    <img class=\"svg-icon-style\" src=\"../../assets/svg/sales_performance.svg\" />\r\n                    <br />\r\n                    <h4>Sold Unit</h4>\r\n                </button>\r\n                <button class=\"btn btn-light btn-block\" routerLink=\"/commission\" style=\"height: 200px\">\r\n                    <img class=\"svg-icon-style\" src=\"../../assets/svg/money_transfer.svg\" />\r\n                    <br />\r\n                    <h4>Commission</h4>\r\n                </button>\r\n                <button class=\"btn btn-light btn-block\" routerLink=\"/user\" style=\"height: 200px\">\r\n                    <img class=\"svg-icon-style\" src=\"../../assets/svg/key.svg\" />\r\n                    <br />\r\n                    <h4>User</h4>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <app-footer [data]=\"\"></app-footer>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/menu/menu.dashboard.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuDashboard; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular

// wijmo




// services

var MenuDashboard = (function () {
    function MenuDashboard(securityService, toastr, viewContainer, router) {
        this.securityService = securityService;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.router = router;
        this.title = 'Dashboard';
        this.unitQuery = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    MenuDashboard.prototype.ngOnInit = function () {
        var data = new __WEBPACK_IMPORTED_MODULE_1_wijmo_wijmo__["ObservableArray"]();
        data.push({
            menu1: "project",
            menu2: "customer",
            menu3: "soldUnit"
        });
        data.push({
            menu1: "unit",
            menu2: "broker",
            menu3: "commission"
        });
        data.push({
            menu1: "checklist",
            menu2: "reports",
            menu3: "user"
        });
        this.menuData = data;
        this.menuCollection = new __WEBPACK_IMPORTED_MODULE_1_wijmo_wijmo__["CollectionView"](this.menuData);
    };
    MenuDashboard = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/menu/menu.dashboard.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */]])
    ], MenuDashboard);
    return MenuDashboard;
}());



/***/ }),

/***/ "../../../../../src/app/menu/menu.index.html":
/***/ (function(module, exports) {

module.exports = "<nav class=\"navbar navbar-expand-lg bg-light fixed-top custom-navbar\" id=\"mainNav\">\r\n  <a class=\"navbar-brand custom-narbar-brand\" routerLink=\"/\">\r\n    <img src=\"../../assets/landing/img/filbroker logo.png\" />\r\n  </a>\r\n\r\n  <button class=\"navbar-toggler navbar-toggler-right\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarResponsive\"\r\n    aria-controls=\"navbarResponsive\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n    <span class=\"navbar-toggler-icon\">\r\n      <i class=\"fa fa-bars\" style=\"font-size: 30px; color: #212529;\"></i>\r\n    </span>\r\n  </button>\r\n\r\n  <div class=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n    <ul class=\"navbar-nav navbar-sidenav collapse\" id=\"exampleAccordion\" [class.collapse]=\"isCollapsed3\">\r\n\r\n      <li class=\"nav-item\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Dashboard\">\r\n        <a class=\"nav-link\" routerLink=\"/menu\">\r\n          <img class=\"\" src=\"../../assets/svg/grid.svg\" height=\"35\" />\r\n          <span class=\"nav-link-text\">Dashboard</span>\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Components\">\r\n        <a class=\"nav-link nav-link-collapse collapsed\" data-toggle=\"collapse\" data-parent=\"#exampleAccordion\" (click)=\"isCollapsed1 = !isCollapsed1\">\r\n          <img class=\"\" src=\"../../assets/svg/inspection.svg\" height=\"35\" />\r\n          <span class=\"nav-link-text\"> Project Setup</span>\r\n        </a>\r\n        <ul class=\"sidenav-second-level collapse\" [class.collapse]=\"isCollapsed1\">\r\n          <li>\r\n            <a routerLink=\"/project\">Project</a>\r\n          </li>\r\n          <li>\r\n            <a routerLink=\"/unit\">Unit</a>\r\n          </li>\r\n          <li>\r\n            <a routerLink=\"/checklist\">Checklist</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n\r\n      <li class=\"nav-item\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Dashboard\">\r\n        <a class=\"nav-link\" routerLink=\"/customer\">\r\n          <img class=\"\" src=\"../../assets/svg/businessman.svg\" height=\"35\" />\r\n          <span class=\"nav-link-text\">Customer</span>\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Dashboard\">\r\n        <a class=\"nav-link\" routerLink=\"/broker\">\r\n          <img class=\"\" src=\"../../assets/svg/handshake.svg\" height=\"35\" />\r\n          <span class=\"nav-link-text\">Broker</span>\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Dashboard\">\r\n        <a class=\"nav-link\" routerLink=\"/soldUnit\">\r\n          <img class=\"\" src=\"../../assets/svg/sales_performance.svg\" height=\"35\" />\r\n          <span class=\"nav-link-text\">Sold Unit</span>\r\n        </a>\r\n      </li>\r\n      <li class=\"nav-item\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Dashboard\">\r\n        <a class=\"nav-link\" routerLink=\"/collection\">\r\n          <img class=\"\" src=\"../../assets/svg/cash.svg\" height=\"35\" />\r\n          <span class=\"nav-link-text\">Collection</span>\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Dashboard\">\r\n        <a class=\"nav-link\" routerLink=\"/commission\">\r\n          <img class=\"\" src=\"../../assets/svg/money_transfer.svg\" height=\"35\" />\r\n          <span class=\"nav-link-text\">Commission</span>\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Example Pages\">\r\n        <a class=\"nav-link nav-link-collapse collapsed\" data-toggle=\"collapse\" data-parent=\"#exampleAccordion\" (click)=\"isCollapsed2 = !isCollapsed2\">\r\n          <img class=\"\" src=\"../../assets/svg/print.svg\" height=\"35\" />\r\n          <span class=\"nav-link-text\">Reports</span>\r\n        </a>\r\n        <ul class=\"sidenav-second-level collapse\" [class.collapse]=\"isCollapsed2\">\r\n          <li>\r\n            <a routerLink=\"/reports\">Sold Units</a>\r\n          </li>\r\n          <li>\r\n            <a routerLink=\"/reports\">Checklist</a>\r\n          </li>\r\n          <li>\r\n            <a routerLink=\"/reports\">Activities</a>\r\n          </li>\r\n          <li>\r\n            <a routerLink=\"/reports\">Commissions</a>\r\n          </li>\r\n          <li>\r\n            <a routerLink=\"/reports\">Customer</a>\r\n          </li>\r\n          <li>\r\n            <a routerLink=\"/reports\">Broker</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n\r\n      <li class=\"nav-item\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Link\">\r\n        <a class=\"nav-link\" routerLink=\"/user\">\r\n          <img class=\"\" src=\"../../assets/svg/key.svg\" height=\"35\" />\r\n          <span class=\"nav-link-text\">User</span>\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Link\">\r\n        <a class=\"nav-link\" routerLink=\"/settings\">\r\n          <img class=\"\" src=\"../../assets/svg/settings.svg\" height=\"35\" />\r\n          <span class=\"nav-link-text\">Settings</span>\r\n        </a>\r\n      </li>\r\n\r\n    </ul>\r\n    \r\n    <!-- <ul class=\"navbar-nav sidenav-toggler\">\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link text-center\" id=\"sidenavToggler\" (click)=\"isCollapsed3 = !isCollapsed3\">\r\n          <i class=\"fa fa-fw fa-angle-left\"></i>\r\n        </a>\r\n      </li>\r\n    </ul> -->\r\n\r\n    <ul class=\"navbar-nav ml-auto\">\r\n      <!--<li class=\"nav-item dropdown\">\r\n          <a class=\"nav-link dropdown-toggle mr-lg-2\" id=\"messagesDropdown\" href=\"#\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n            <i class=\"fa fa-fw fa-envelope\"></i>\r\n            <span class=\"d-lg-none\">Messages\r\n              <span class=\"badge badge-pill badge-primary\">0 New</span>\r\n            </span>\r\n            <span class=\"indicator text-primary d-none d-lg-block\">\r\n              <i class=\"fa fa-fw fa-circle\"></i>\r\n            </span>\r\n          </a>\r\n          <div class=\"dropdown-menu\" aria-labelledby=\"messagesDropdown\">\r\n            <h6 class=\"dropdown-header\">New Messages:</h6>\r\n            <div class=\"dropdown-divider\"></div>\r\n            <a class=\"dropdown-item\" href=\"#\">\r\n              <strong>David Miller</strong>\r\n              <span class=\"small float-right text-muted\">11:21 AM</span>\r\n              <div class=\"dropdown-message small\">Hey there! This new version of SB Admin is pretty awesome! These messages clip off when they reach the end of the box so they don't overflow over to the sides!</div>\r\n            </a>\r\n            <div class=\"dropdown-divider\"></div>\r\n            <a class=\"dropdown-item\" href=\"#\">\r\n              <strong>Jane Smith</strong>\r\n              <span class=\"small float-right text-muted\">11:21 AM</span>\r\n              <div class=\"dropdown-message small\">I was wondering if you could meet for an appointment at 3:00 instead of 4:00. Thanks!</div>\r\n            </a>\r\n            <div class=\"dropdown-divider\"></div>\r\n            <a class=\"dropdown-item\" href=\"#\">\r\n              <strong>John Doe</strong>\r\n              <span class=\"small float-right text-muted\">11:21 AM</span>\r\n              <div class=\"dropdown-message small\">I've sent the final files over to you for review. When you're able to sign off of them let me know and we can discuss distribution.</div>\r\n            </a>\r\n            <div class=\"dropdown-divider\"></div>\r\n            <a class=\"dropdown-item small\" href=\"#\">View all messages</a>\r\n          </div>\r\n        </li>\r\n        <li class=\"nav-item dropdown\">\r\n          <a class=\"nav-link dropdown-toggle mr-lg-2\" id=\"alertsDropdown\" href=\"#\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n            <i class=\"fa fa-fw fa-bell\"></i>\r\n            <span class=\"d-lg-none\">Alerts\r\n              <span class=\"badge badge-pill badge-warning\">6 New</span>\r\n            </span>\r\n            <span class=\"indicator text-warning d-none d-lg-block\">\r\n              <i class=\"fa fa-fw fa-circle\"></i>\r\n            </span>\r\n          </a>\r\n          <div class=\"dropdown-menu\" aria-labelledby=\"alertsDropdown\">\r\n            <h6 class=\"dropdown-header\">New Alerts:</h6>\r\n            <div class=\"dropdown-divider\"></div>\r\n            <a class=\"dropdown-item\" href=\"#\">\r\n              <span class=\"text-success\">\r\n                <strong>\r\n                  <i class=\"fa fa-long-arrow-up fa-fw\"></i>Status Update</strong>\r\n              </span>\r\n              <span class=\"small float-right text-muted\">11:21 AM</span>\r\n              <div class=\"dropdown-message small\">This is an automated server response message. All systems are online.</div>\r\n            </a>\r\n            <div class=\"dropdown-divider\"></div>\r\n            <a class=\"dropdown-item\" href=\"#\">\r\n              <span class=\"text-danger\">\r\n                <strong>\r\n                  <i class=\"fa fa-long-arrow-down fa-fw\"></i>Status Update</strong>\r\n              </span>\r\n              <span class=\"small float-right text-muted\">11:21 AM</span>\r\n              <div class=\"dropdown-message small\">This is an automated server response message. All systems are online.</div>\r\n            </a>\r\n            <div class=\"dropdown-divider\"></div>\r\n            <a class=\"dropdown-item\" href=\"#\">\r\n              <span class=\"text-success\">\r\n                <strong>\r\n                  <i class=\"fa fa-long-arrow-up fa-fw\"></i>Status Update</strong>\r\n              </span>\r\n              <span class=\"small float-right text-muted\">11:21 AM</span>\r\n              <div class=\"dropdown-message small\">This is an automated server response message. All systems are online.</div>\r\n            </a>\r\n            <div class=\"dropdown-divider\"></div>\r\n            <a class=\"dropdown-item small\" href=\"#\">View all alerts</a>\r\n          </div>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <form class=\"form-inline my-2 my-lg-0 mr-lg-2\">\r\n            <div class=\"input-group\">\r\n              <input class=\"form-control\" type=\"text\" placeholder=\"Search for...\">\r\n              <span class=\"input-group-btn\">\r\n                <button class=\"btn btn-primary\" type=\"button\">\r\n                  <i class=\"fa fa-search\"></i>\r\n                </button>\r\n              </span>\r\n            </div>\r\n          </form>\r\n        </li> -->\r\n      <!-- <li class=\"nav-item\">\r\n            <a href=\"#about\" class=\"nav-link\">About</a>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n            <a href=\"#contact\" class=\"nav-link\">Contact Us</a>\r\n        </li> -->\r\n      <li class=\"nav-item\">\r\n        <img class=\"\" src=\"../../assets/svg/businessman.svg\" height=\"35\" />\r\n        <a (click)=\"loginClick()\" class=\"nav-link-text\">{{login}}</a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</nav>"

/***/ }),

/***/ "../../../../../src/app/menu/menu.index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuIndex; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// Angular



var MenuIndex = (function () {
    function MenuIndex(toastr, vcr, router) {
        this.toastr = toastr;
        this.vcr = vcr;
        this.router = router;
        this.title = 'Menu';
        this.login = "Login";
        this.isCollapsed1 = true;
        this.isCollapsed2 = true;
        this.toastr.setRootViewContainerRef(vcr);
    }
    MenuIndex.prototype.ngOnInit = function () {
        if (localStorage.getItem("username") == null) {
            this.router.navigate(['/account/login']);
        }
        else {
            this.login = "Logout (" + localStorage.getItem("username") + ")";
        }
    };
    MenuIndex.prototype.loginClick = function () {
        if (localStorage.getItem("username") == null) {
            this.router.navigate(['/account/login']);
        }
        else {
            localStorage.removeItem('access_token');
            localStorage.removeItem('expires_in');
            localStorage.removeItem('token_type');
            localStorage.removeItem('username');
            localStorage.removeItem('userRights');
            this.toastr.success("Logout successful.");
            setTimeout(function () {
                // this.router.navigate(['/']);
                location.reload();
            }, 1000);
        }
    };
    MenuIndex = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'menu-root',
            template: __webpack_require__("../../../../../src/app/menu/menu.index.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */]])
    ], MenuIndex);
    return MenuIndex;
}());



/***/ }),

/***/ "../../../../../src/app/model/model.mst.unit.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MstUnit; });
var MstUnit = (function () {
    function MstUnit() {
    }
    return MstUnit;
}());



/***/ }),

/***/ "../../../../../src/app/pdf/pdf.index.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n\r\n<br>\r\n<br>\r\n\r\n<div class=\"content-wrapper\">\r\n\r\n    <div class=\"container-fluid\">\r\n        \r\n        <div class=\"col-lg-12\">\r\n            <table border=\"0\" style=\"width: 100%;\">\r\n                <tr>\r\n                    <td style=\"width: 59%;\">\r\n                        <h4>{{title}}</h4>\r\n                    </td>\r\n                    <td style=\"width: 1%;\"></td>\r\n                    <td style=\"width: 40%;\" align=\"right\">\r\n                        <button class=\"btn btn-primary\" (click)=\"btnPrintPDFClick()\" id=\"btnPrintPDF\">\r\n                            <i class=\"fa fa-print fa-fw\"></i> Print\r\n                        </button>\r\n                        <button class=\"btn btn-danger\" (click)=\"btnClosePDFClick()\" id=\"btnClosePDF\">\r\n                            <i class=\"fa fa-close fa-fw\"></i> Close\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n\r\n        <div class=\"col-lg-12\">\r\n            <pdf-viewer [src]=\"pdfUrl\" [render-text]=\"true\" style=\"display: block;\"></pdf-viewer>\r\n            <iframe id=\"printPDF\" name=\"printPDF\" style=\"width:0;height:0;border:0; border:none;\"></iframe>\r\n        </div>\r\n\r\n    </div> \r\n    \r\n    <app-footer [data]=\"\"></app-footer>\r\n\r\n</div> "

/***/ }),

/***/ "../../../../../src/app/pdf/pdf.index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PDFIndex; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pdf_service__ = __webpack_require__("../../../../../src/app/pdf/pdf.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// services

var PDFIndex = (function () {
    // =======
    // angular
    // =======
    function PDFIndex(pdfService, activatedRoute, location) {
        this.pdfService = pdfService;
        this.activatedRoute = activatedRoute;
        this.location = location;
        this.title = "PDF";
        this.report = "";
        this.id = 0;
    }
    PDFIndex.prototype.ngOnInit = function () {
        var _this = this;
        this.activatedRoute.params.subscribe(function (params) {
            _this.report = params['report'];
            _this.id = params['id'];
            if (_this.report == "customer")
                _this.getPDFCustomer(_this.id);
            if (_this.report == "broker")
                _this.getPDFBroker(_this.id);
            if (_this.report == "checklist")
                _this.getPDFChecklist(_this.id);
            if (_this.report == "soldunitproposal")
                _this.getPDFSoldUnitProposal(_this.id);
            if (_this.report == "soldunitcontract")
                _this.getPDFSoldUnitContract(_this.id);
            if (_this.report == "soldunitequityschedule")
                _this.getPDFSoldUnitEquitySchedule(_this.id);
            if (_this.report == "reservationagreement")
                _this.getPDFSoldUnitReservationAgreement(_this.id);
            if (_this.report == "buyersundertaking")
                _this.getPDFSoldUnitBuyersUndertaking(_this.id);
        });
    };
    PDFIndex.prototype.ngOnDestroy = function () {
        if (this.pdfCustomerSub != null)
            this.pdfCustomerSub.unsubscribe();
        if (this.pdfBrokerSub != null)
            this.pdfBrokerSub.unsubscribe();
        if (this.pdfChecklistSub != null)
            this.pdfChecklistSub.unsubscribe();
        if (this.pdfSoldUnitProposalSub != null)
            this.pdfSoldUnitProposalSub.unsubscribe();
        if (this.pdfSoldUnitContractSub != null)
            this.pdfSoldUnitContractSub.unsubscribe();
        if (this.pdfSoldUnitEquityScheduleSub != null)
            this.pdfSoldUnitEquityScheduleSub.unsubscribe();
    };
    // ==============
    // public methods
    // ==============
    PDFIndex.prototype.getPDFCustomer = function (id) {
        var _this = this;
        this.pdfService.getPDFCustomer(id);
        this.pdfCustomerSub = this.pdfService.pdfCustomerObservable.subscribe(function (data) {
            _this.pdfUrl = URL.createObjectURL(data);
            var printPDF = document.getElementById("printPDF");
            printPDF.setAttribute("src", _this.pdfUrl);
        });
    };
    PDFIndex.prototype.getPDFBroker = function (id) {
        var _this = this;
        this.pdfService.getPDFBroker(id);
        this.pdfBrokerSub = this.pdfService.pdfBrokerObservable.subscribe(function (data) {
            _this.pdfUrl = URL.createObjectURL(data);
            var printPDF = document.getElementById("printPDF");
            printPDF.setAttribute("src", _this.pdfUrl);
        });
    };
    PDFIndex.prototype.getPDFChecklist = function (id) {
        var _this = this;
        this.pdfService.getPDFChecklist(id);
        this.pdfChecklistSub = this.pdfService.pdfChecklistObservable.subscribe(function (data) {
            _this.pdfUrl = URL.createObjectURL(data);
            var printPDF = document.getElementById("printPDF");
            printPDF.setAttribute("src", _this.pdfUrl);
        });
    };
    PDFIndex.prototype.getPDFSoldUnitProposal = function (id) {
        var _this = this;
        this.pdfService.getPDFSoldUnitProposal(id);
        this.pdfSoldUnitProposalSub = this.pdfService.pdfSoldUnitProposalObservable.subscribe(function (data) {
            _this.pdfUrl = URL.createObjectURL(data);
            var printPDF = document.getElementById("printPDF");
            printPDF.setAttribute("src", _this.pdfUrl);
        });
    };
    PDFIndex.prototype.getPDFSoldUnitContract = function (id) {
        var _this = this;
        this.pdfService.getPDFSoldUnitContract(id);
        this.pdfSoldUnitContractSub = this.pdfService.pdfSoldUnitContractObservable.subscribe(function (data) {
            _this.pdfUrl = URL.createObjectURL(data);
            var printPDF = document.getElementById("printPDF");
            printPDF.setAttribute("src", _this.pdfUrl);
        });
    };
    PDFIndex.prototype.getPDFSoldUnitEquitySchedule = function (id) {
        var _this = this;
        this.pdfService.getPDFSoldUnitEquitySchedule(id);
        this.pdfSoldUnitEquityScheduleSub = this.pdfService.pdfSoldUnitEquityScheduleObservable.subscribe(function (data) {
            _this.pdfUrl = URL.createObjectURL(data);
            var printPDF = document.getElementById("printPDF");
            printPDF.setAttribute("src", _this.pdfUrl);
        });
    };
    PDFIndex.prototype.getPDFSoldUnitReservationAgreement = function (id) {
        var _this = this;
        this.pdfService.getPDFSoldUnitReservationAgreement(id);
        this.pdfSoldUnitReservationAgreementSub = this.pdfService.pdfSoldUnitReservationAgreementObservable.subscribe(function (data) {
            _this.pdfUrl = URL.createObjectURL(data);
            var printPDF = document.getElementById("printPDF");
            printPDF.setAttribute("src", _this.pdfUrl);
        });
    };
    PDFIndex.prototype.getPDFSoldUnitBuyersUndertaking = function (id) {
        var _this = this;
        this.pdfService.getPDFSoldUnitBuyersUndertaking(id);
        this.pdfSoldUnitBuyersUndertakingSub = this.pdfService.pdfSoldUnitBuyersUndertakingObservable.subscribe(function (data) {
            _this.pdfUrl = URL.createObjectURL(data);
            var printPDF = document.getElementById("printPDF");
            printPDF.setAttribute("src", _this.pdfUrl);
        });
    };
    // ======
    // events
    // ======
    PDFIndex.prototype.btnPrintPDFClick = function () {
        window.frames["printPDF"].focus();
        window.frames["printPDF"].print();
    };
    PDFIndex.prototype.btnClosePDFClick = function () {
        this.location.back();
    };
    PDFIndex = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/pdf/pdf.index.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__pdf_service__["a" /* PDFService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], PDFIndex);
    return PDFIndex;
}());



/***/ }),

/***/ "../../../../../src/app/pdf/pdf.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PDFService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// async

var PDFService = (function () {
    // =======
    // angular
    // =======
    // constructor
    function PDFService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        this.pdfCustomerSource = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.pdfCustomerObservable = this.pdfCustomerSource.asObservable();
        this.pdfBrokerSource = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.pdfBrokerObservable = this.pdfBrokerSource.asObservable();
        this.pdfChecklistSource = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.pdfChecklistObservable = this.pdfChecklistSource.asObservable();
        this.pdfSoldUnitProposalSource = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.pdfSoldUnitProposalObservable = this.pdfSoldUnitProposalSource.asObservable();
        this.pdfSoldUnitContractSource = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.pdfSoldUnitContractObservable = this.pdfSoldUnitContractSource.asObservable();
        this.pdfSoldUnitEquityScheduleSource = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.pdfSoldUnitEquityScheduleObservable = this.pdfSoldUnitEquityScheduleSource.asObservable();
        this.pdfSoldUnitReservationAgreementSource = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.pdfSoldUnitReservationAgreementObservable = this.pdfSoldUnitReservationAgreementSource.asObservable();
        this.pdfSoldUnitBuyersUndertakingSource = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.pdfSoldUnitBuyersUndertakingObservable = this.pdfSoldUnitBuyersUndertakingSource.asObservable();
    }
    // ==============
    // public methods
    // ==============
    PDFService.prototype.getPDFCustomer = function (id) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/PDF/Customer/" + id;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/PDF/Customer/" + id;
        console.log(url);
        this.http.get(url, { responseType: __WEBPACK_IMPORTED_MODULE_1__angular_http__["e" /* ResponseContentType */].Blob }).subscribe(function (response) {
            var pdf = new Blob([response.blob()], { type: 'application/pdf' });
            _this.pdfCustomerSource.next(pdf);
        });
    };
    PDFService.prototype.getPDFBroker = function (id) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/PDF/Broker/" + id;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/PDF/Broker/" + id;
        console.log(url);
        this.http.get(url, { responseType: __WEBPACK_IMPORTED_MODULE_1__angular_http__["e" /* ResponseContentType */].Blob }).subscribe(function (response) {
            var pdf = new Blob([response.blob()], { type: 'application/pdf' });
            _this.pdfBrokerSource.next(pdf);
        });
    };
    PDFService.prototype.getPDFChecklist = function (id) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/PDF/Checklist/" + id;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/PDF/Checklist/" + id;
        this.http.get(url, { responseType: __WEBPACK_IMPORTED_MODULE_1__angular_http__["e" /* ResponseContentType */].Blob }).subscribe(function (response) {
            var pdf = new Blob([response.blob()], { type: 'application/pdf' });
            _this.pdfChecklistSource.next(pdf);
        });
    };
    PDFService.prototype.getPDFSoldUnitProposal = function (id) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/PDF/SoldUnitProposal/" + id;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/PDF/SoldUnitProposal/" + id;
        this.http.get(url, { responseType: __WEBPACK_IMPORTED_MODULE_1__angular_http__["e" /* ResponseContentType */].Blob }).subscribe(function (response) {
            var pdf = new Blob([response.blob()], { type: 'application/pdf' });
            _this.pdfSoldUnitProposalSource.next(pdf);
        });
    };
    PDFService.prototype.getPDFSoldUnitContract = function (id) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/PDF/SoldUnitContract/" + id;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/PDF/SoldUnitContract/" + id;
        this.http.get(url, { responseType: __WEBPACK_IMPORTED_MODULE_1__angular_http__["e" /* ResponseContentType */].Blob }).subscribe(function (response) {
            var pdf = new Blob([response.blob()], { type: 'application/pdf' });
            _this.pdfSoldUnitContractSource.next(pdf);
        });
    };
    PDFService.prototype.getPDFSoldUnitEquitySchedule = function (id) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/PDF/SoldUnitEquitySchedule/" + id;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/PDF/SoldUnitEquitySchedule/" + id;
        this.http.get(url, { responseType: __WEBPACK_IMPORTED_MODULE_1__angular_http__["e" /* ResponseContentType */].Blob }).subscribe(function (response) {
            var pdf = new Blob([response.blob()], { type: 'application/pdf' });
            _this.pdfSoldUnitEquityScheduleSource.next(pdf);
        });
    };
    PDFService.prototype.getPDFSoldUnitReservationAgreement = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-greentech-api.azurewebsites.net/api/PDF/ReservationAgreement/" + id;
        this.http.get(url, { responseType: __WEBPACK_IMPORTED_MODULE_1__angular_http__["e" /* ResponseContentType */].Blob }).subscribe(function (response) {
            var pdf = new Blob([response.blob()], { type: 'application/pdf' });
            _this.pdfSoldUnitReservationAgreementSource.next(pdf);
        });
    };
    PDFService.prototype.getPDFSoldUnitBuyersUndertaking = function (id) {
        var _this = this;
        var url = "https://filbrokerwebsite-greentech-api.azurewebsites.net/api/PDF/BuyersUndertaking/" + id;
        this.http.get(url, { responseType: __WEBPACK_IMPORTED_MODULE_1__angular_http__["e" /* ResponseContentType */].Blob }).subscribe(function (response) {
            var pdf = new Blob([response.blob()], { type: 'application/pdf' });
            _this.pdfSoldUnitBuyersUndertakingSource.next(pdf);
        });
    };
    PDFService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], PDFService);
    return PDFService;
}());



/***/ }),

/***/ "../../../../../src/app/project/project.detail.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n\r\n<br>\r\n<br>\r\n\r\n<div class=\"content-wrapper\">\r\n\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a href=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item\">\r\n                <a href=\"/project\">Project List</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- detail operations, e.g., locked, unclocked, save, etc. -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button [disabled]=\"project.isLocked\" class=\"btn btn-primary\" (click)=\"btnLockProjectClick()\" id=\"btnLockProject\">\r\n                                <i class=\"fa fa-lock fa-fw\"></i> Lock\r\n                            </button>\r\n                            <button [disabled]=\"!project.isLocked\" class=\"btn btn-primary\" (click)=\"btnUnlockProjectClick()\" id=\"btnUnlockProject\">\r\n                                <i class=\"fa fa-unlock fa-fw\"></i> Unlock\r\n                            </button>\r\n\r\n                            <button [disabled]=\"project.isLocked\" class=\"btn btn-primary\" (click)=\"btnSaveProjectClick()\" id=\"btnSaveProject\">\r\n                                <i class=\"fa fa-save fa-fw\"></i> Save\r\n                            </button>\r\n                            <button class=\"btn btn-danger\" routerLink=\"/project\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- detail fields -->\r\n            <div class=\"card-body\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Project Code</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [disabled]=\"project.isLocked\" [(ngModel)]=\"project.projectCode\" type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Project</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [disabled]=\"project.isLocked\" [(ngModel)]=\"project.project\" type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Address</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <textarea [disabled]=\"project.isLocked\" [(ngModel)]=\"project.address\" rows=\"5\" class=\"form-control\"></textarea>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Status</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbProjectStatus [isDisabled]=\"project.isLocked\" [itemsSource]=\"cmbProjectStatusData\" [isEditable]=\"false\"\r\n                                    [isRequired]=\"true\" [displayMemberPath]=\"'description'\" [selectedValuePath]=\"'value'\" [(ngModel)]=\"project.status\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Logo</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-sm-8\">\r\n                                        <img [src]=\"this.project.projectLogo\" class=\"rounded\" style=\"width: 100%;\">\r\n                                    </div>\r\n                                    <div class=\"col-sm-4\">\r\n                                        <label class=\"btn btn-primary pull-right\" [hidden]=\"project.isLocked\">\r\n                                            <input type=\"file\" (change)=\"btnUploadProjectLogoClick($event)\" name=\"btnUploadProjectLogo\" accept=\"image/*\" style=\"display:none;\"> Upload\r\n                                        </label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- <div class=\"card-body\"> -->\r\n\r\n        </div>\r\n        <!-- <div class=\"card\"> -->\r\n        <br />\r\n        <div class=\"card\">\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h6>House Model</h6>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button type=\"button\" class=\"btn btn-primary\" (click)=\"btnAddHouseModelsClick()\">\r\n                                <i class=\"fa fa-plus\"></i> Add\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdHouseModels [itemsSource]=\"fgdHouseModelsCollection\" [selectionMode]=\"3\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" [disabled]=\"project.isLocked\" (click)=\"btnEditHouseModelsClick()\" id=\"btnEditHouseModels\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" [disabled]=\"project.isLocked\" (click)=\"btnDeleteHouseModelsClick()\" id=\"btnDeleteHouseModels\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Code'\" [binding]=\"'houseModelCode'\" [isReadOnly]=\"true\" [width]=\"70\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Model'\" [binding]=\"'houseModel'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'TFA (sqm)'\" [binding]=\"'tfa'\" [isReadOnly]=\"true\" [width]=\"200\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Price'\" [binding]=\"'price'\" [isReadOnly]=\"true\" [width]=\"200\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-md-12 btn-group\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdHouseModelsCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdHouseModelsCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdHouseModelsCollection.pageIndex + 1 }} / {{ fgdHouseModelsCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdHouseModelsCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdHouseModelsCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n    <!-- <div class=\"container-fluid\"> -->\r\n\r\n    <app-footer [data]=\"project\"></app-footer>\r\n\r\n</div>\r\n<!-- <div class=\"content-wrapper\"> -->\r\n\r\n\r\n\r\n\r\n<!-- delete house model prompt modal-->\r\n<div id=\"mdlHouseModelDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlHouseModelDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete House Model</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{fgdHouseModelsCollection.currentItem != null ? fgdHouseModelsCollection.currentItem.houseModel : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button id=\"btnOkHouseModelDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkHouseModelDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok\r\n                </button>\r\n                <button id=\"btnCloseHouseModelDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseHouseModelDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<!-- edit house model modal-->\r\n<div id=\"mdlHouseModelEdit\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlHouseModelEditShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Edit House Model</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Code</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input [(ngModel)]=\"houseModel.houseModelCode\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">House Model</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input [(ngModel)]=\"houseModel.houseModel\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Total Floor Area (sqm)</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <wj-input-number [(value)]=\"houseModel.tfa\">\r\n                        </wj-input-number>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Price</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <wj-input-number [(value)]=\"houseModel.price\">\r\n                        </wj-input-number>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSaveHouseModelEditModal\" class=\"btn btn-success\" (click)=\"btnSaveHouseModelEditModalClick()\">\r\n                    <i class=\"fa fa-check fa-fw\"></i> Save</button>\r\n                <button type=\"button\" id=\"btnCloseHouseModelEditModal\" class=\"btn btn-danger\" (click)=\"btnCloseHouseModelEditModalClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/project/project.detail.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProjectDetail; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__project_service__ = __webpack_require__("../../../../../src/app/project/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// service(s)


// wijmo

// message box

var ProjectDetail = (function () {
    // =======
    // angular
    // =======
    // constructor
    function ProjectDetail(projectService, router, toastr, viewContainer, activatedRoute, location, securityService) {
        this.projectService = projectService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.activatedRoute = activatedRoute;
        this.location = location;
        this.securityService = securityService;
        // user rights
        this.canEdit = false;
        this.canSave = false;
        this.canLock = false;
        this.canUnlock = false;
        this.canPrint = false;
        this.canDelete = false;
        // =================
        // public properties
        // =================
        this.title = 'Project Detail';
        // model(s)
        this.project = {
            id: 0,
            projectCode: "",
            project: "",
            address: "",
            status: "",
            projectLogo: "",
            isLocked: false,
            createdBy: 1,
            createdDateTime: "",
            updatedBy: 1,
            updatedDateTime: ""
        };
        this.houseModel = {
            id: 0,
            houseModelCode: "",
            houseModel: "",
            projectId: 0,
            project: "",
            tfa: 0,
            price: 0,
            isLocked: true,
            createdBy: 0,
            createdDateTime: "",
            updatedBy: 0,
            updatedDateTime: ""
        };
        // detail line1 (house model) modals
        this.mdlHouseModelDeleteShow = false;
        this.mdlHouseModelEditShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    ProjectDetail.prototype.getUserRights = function () {
        var userRightsData = localStorage.getItem('userRights');
        var userRights = JSON.parse(userRightsData);
        for (var i = 0; i < userRights.length; i++) {
            if (userRights[i].page == 'PROJECT DETAIL') {
                this.canEdit = userRights[i].canEdit;
                this.canSave = userRights[i].canSave;
                this.canLock = userRights[i].canLock;
                this.canUnlock = userRights[i].canUnlock;
                this.canPrint = userRights[i].canPrint;
                this.canDelete = userRights[i].canDelete;
            }
        }
    };
    // ng
    ProjectDetail.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdHouseModelsData = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        this.fgdHouseModelsCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](this.fgdHouseModelsData);
        if (this.securityService.openPage("PROJECT DETAIL") == true) {
            this.getProject();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
        this.getUserRights();
        if (!this.canPrint) {
        }
        if (!this.canLock) {
            document.getElementById("btnLockProject").hidden = true;
        }
        if (!this.canUnlock) {
            document.getElementById("btnUnlockProject").hidden = true;
        }
        if (!this.canSave) {
            document.getElementById("btnSaveProject").hidden = true;
            document.getElementById("btnSaveHouseModelEditModal").hidden = true;
        }
    };
    ProjectDetail.prototype.ngOnDestroy = function () {
        if (this.projectSub != null)
            this.projectSub.unsubscribe();
        if (this.projectSavedSub != null)
            this.projectSavedSub.unsubscribe();
        if (this.projectLockedSub != null)
            this.projectLockedSub.unsubscribe();
        if (this.projectUnlockedSub != null)
            this.projectUnlockedSub.unsubscribe();
        if (this.projectStatusSub != null)
            this.projectStatusSub.unsubscribe();
        if (this.houseModelsSub != null)
            this.houseModelsSub.unsubscribe();
        if (this.houseModelSavedSub != null)
            this.houseModelSavedSub.unsubscribe();
        if (this.houseModelDeletedSub != null)
            this.houseModelDeletedSub.unsubscribe();
    };
    // ===============
    // private methods
    // ===============
    ProjectDetail.prototype.getIdParameter = function () {
        var id = 0;
        this.activatedRoute.params.subscribe(function (params) {
            id = params['id'];
        });
        return id;
    };
    // ==============
    // public methods
    // ==============
    // detail and detail line1 (house models)
    ProjectDetail.prototype.getProject = function () {
        var _this = this;
        this.projectService.getProject(this.getIdParameter());
        this.projectSub = this.projectService.projectObservable
            .subscribe(function (data) {
            _this.project.id = data.id;
            _this.project.projectCode = data.projectCode;
            _this.project.project = data.project;
            _this.project.address = data.address;
            _this.project.status = data.status;
            _this.project.projectLogo = data.projectLogo;
            _this.project.isLocked = data.isLocked;
            _this.project.createdBy = data.createdBy;
            _this.project.createdDateTime = data.createdDateTime;
            _this.project.updatedBy = data.updatedBy;
            _this.project.updatedDateTime = data.updatedDateTime;
            _this.getProjectStatus(data.status);
            _this.getHouseModels();
        });
    };
    ProjectDetail.prototype.getHouseModels = function () {
        var _this = this;
        this.projectService.getHouseModelsPerProject(this.project.id);
        this.houseModelsSub = this.projectService.houseModelsObservable.subscribe(function (data) {
            // Clean up data
            _this.fgdHouseModelsData = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
            _this.fgdHouseModelsData = data;
            // Refresh collection view
            _this.fgdHouseModelsCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](_this.fgdHouseModelsData);
            _this.fgdHouseModelsCollection.pageSize = 15;
            _this.fgdHouseModelsCollection.trackChanges = true;
            _this.fgdHouseModelsCollection.refresh();
            // Destroy subscription
            if (_this.houseModelsSub != null)
                _this.houseModelsSub.unsubscribe();
        });
    };
    // combo boxes
    ProjectDetail.prototype.getProjectStatus = function (defaultValue) {
        var _this = this;
        this.projectService.getDropDowns();
        this.projectStatusSub = this.projectService.dropDownsObservable.subscribe(function (data) {
            var projectStatuses = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].category == "PROJECT STATUS") {
                        projectStatuses.push({
                            id: data[i].id,
                            category: data[i].category,
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                }
            }
            _this.cmbProjectStatusData = projectStatuses;
            setTimeout(function () {
                _this.project.status = defaultValue;
            }, 100);
        });
    };
    // ======
    // events
    // ======
    // detail operation
    ProjectDetail.prototype.btnSaveProjectClick = function () {
        var _this = this;
        var btnSaveProject = document.getElementById("btnSaveProject");
        btnSaveProject.setAttribute("disabled", "disabled");
        btnSaveProject.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.projectService.saveProject(this.project);
        this.projectSavedSub = this.projectService.projectSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveProject.removeAttribute("disabled");
                btnSaveProject.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveProject.removeAttribute("disabled");
                btnSaveProject.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    ProjectDetail.prototype.btnLockProjectClick = function () {
        var _this = this;
        var btnLockProject = document.getElementById("btnLockProject");
        btnLockProject.setAttribute("disabled", "disabled");
        btnLockProject.innerHTML = "<i class='fa fa-plus fa-fw'></i> Locking...";
        this.projectService.lockProject(this.project);
        this.projectLockedSub = this.projectService.projectLockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Locking successful.");
                _this.project.isLocked = true;
                btnLockProject.removeAttribute("disabled");
                btnLockProject.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
            else if (data == 0) {
                _this.toastr.error("Locking failed.");
                btnLockProject.removeAttribute("disabled");
                btnLockProject.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
        });
    };
    ProjectDetail.prototype.btnUnlockProjectClick = function () {
        var _this = this;
        var btnUnlockProject = document.getElementById("btnUnlockProject");
        btnUnlockProject.setAttribute("disabled", "disabled");
        btnUnlockProject.innerHTML = "<i class='fa fa-plus fa-fw'></i> Unlocking...";
        this.projectService.unlockProject(this.project);
        this.projectUnlockedSub = this.projectService.projectUnlockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Unlocking successful.");
                _this.project.isLocked = false;
                btnUnlockProject.removeAttribute("disabled");
                btnUnlockProject.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
            else if (data == 0) {
                _this.toastr.error("Unlocking failed.");
                btnUnlockProject.removeAttribute("disabled");
                btnUnlockProject.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
        });
    };
    // detail line1 (house models) operation
    ProjectDetail.prototype.btnAddHouseModelsClick = function () {
        this.houseModel.id = 0;
        this.houseModel.houseModelCode = "";
        this.houseModel.houseModel = "";
        this.houseModel.projectId = this.project.id;
        this.houseModel.project = this.project.project;
        this.houseModel.tfa = 0;
        this.houseModel.price = 0;
        this.houseModel.isLocked = true;
        this.houseModel.createdBy = 0;
        this.houseModel.createdDateTime = "";
        this.houseModel.updatedBy = 0;
        this.houseModel.updatedDateTime = "";
        this.mdlHouseModelEditShow = true;
    };
    ProjectDetail.prototype.btnEditHouseModelsClick = function () {
        var selectedHouseModel = this.fgdHouseModelsCollection.currentItem;
        this.houseModel.id = selectedHouseModel.id;
        this.houseModel.houseModelCode = selectedHouseModel.houseModelCode;
        this.houseModel.houseModel = selectedHouseModel.houseModel;
        this.houseModel.projectId = selectedHouseModel.projectId;
        this.houseModel.project = selectedHouseModel.project;
        this.houseModel.tfa = selectedHouseModel.tfa;
        this.houseModel.price = selectedHouseModel.price;
        this.houseModel.isLocked = selectedHouseModel.isLocked;
        this.houseModel.createdBy = selectedHouseModel.createdBy;
        this.houseModel.createdDateTime = selectedHouseModel.createdDateTime;
        this.houseModel.updatedBy = selectedHouseModel.updatedBy;
        this.houseModel.updatedDateTime = selectedHouseModel.updatedDateTime;
        this.mdlHouseModelEditShow = true;
    };
    ProjectDetail.prototype.btnDeleteHouseModelsClick = function () {
        this.mdlHouseModelDeleteShow = true;
    };
    // detail line1 (house models) delete modal operation
    ProjectDetail.prototype.btnOkHouseModelDeleteModalClick = function () {
        var _this = this;
        var btnOkHouseModelDeleteModal = document.getElementById("btnOkHouseModelDeleteModal");
        var btnCloseHouseModelDeleteModal = document.getElementById("btnCloseHouseModelDeleteModal");
        btnOkHouseModelDeleteModal.setAttribute("disabled", "disabled");
        btnCloseHouseModelDeleteModal.setAttribute("disabled", "disabled");
        var selectedHouseModel = this.fgdHouseModelsCollection.currentItem;
        this.projectService.deleteHouseModel(selectedHouseModel.id);
        this.houseModelDeletedSub = this.projectService.houseModelDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdHouseModelsCollection.remove(selectedHouseModel);
                btnOkHouseModelDeleteModal.removeAttribute("disabled");
                btnCloseHouseModelDeleteModal.removeAttribute("disabled");
                _this.mdlHouseModelDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkHouseModelDeleteModal.removeAttribute("disabled");
                btnCloseHouseModelDeleteModal.removeAttribute("disabled");
            }
        });
    };
    ProjectDetail.prototype.btnCloseHouseModelDeleteModalClick = function () {
        this.mdlHouseModelDeleteShow = false;
    };
    // detail line1 (house models) edit modal operation
    ProjectDetail.prototype.btnSaveHouseModelEditModalClick = function () {
        var _this = this;
        var btnSaveHouseModelEditModal = document.getElementById("btnSaveHouseModelEditModal");
        var btnCloseHouseModelEditModal = document.getElementById("btnCloseHouseModelEditModal");
        btnSaveHouseModelEditModal.setAttribute("disabled", "disabled");
        btnSaveHouseModelEditModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        btnCloseHouseModelEditModal.setAttribute("disabled", "disabled");
        this.projectService.saveHouseModel(this.houseModel);
        this.houseModelSavedSub = this.projectService.houseModelSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveHouseModelEditModal.removeAttribute("disabled");
                btnSaveHouseModelEditModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseHouseModelEditModal.removeAttribute("disabled");
                _this.mdlHouseModelEditShow = false;
                _this.getHouseModels();
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveHouseModelEditModal.removeAttribute("disabled");
                btnSaveHouseModelEditModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseHouseModelEditModal.removeAttribute("disabled");
            }
        });
    };
    ProjectDetail.prototype.btnCloseHouseModelEditModalClick = function () {
        this.mdlHouseModelEditShow = false;
    };
    // upload logo
    ProjectDetail.prototype.btnUploadProjectLogoClick = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.projectService.uploadProjectLogo(target.files[0], "PROJECT-" + this.project.projectCode + "-" + Date.now());
            this.projectLogoSub = this.projectService.projectLogoObservable
                .subscribe(function (data) {
                _this.project.projectLogo = data.fileUrl;
            });
        }
    };
    ProjectDetail = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/project/project.detail.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__project_service__["a" /* ProjectService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"],
            __WEBPACK_IMPORTED_MODULE_4__security_security_service__["a" /* SecurityService */]])
    ], ProjectDetail);
    return ProjectDetail;
}());



/***/ }),

/***/ "../../../../../src/app/project/project.list.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- buttons -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button class=\"btn btn-primary\" (click)=\"btnAddProjectClick()\" id=\"btnAddProject\">\r\n                                <i class=\"fa fa-plus fa-fw\"></i> Add\r\n                            </button>\r\n                            <button class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- flexgrid -->\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdProjects [itemsSource]=\"fgdProjectsCollection\" [selectionMode]=\"3\" [frozenColumns]=\"2\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column *ngIf=\"canEdit\" [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditProjectClick()\" id=\"btnEditProject\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column  *ngIf=\"canDelete\"[header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteProjectClick()\" id=\"btnDeleteProject\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Code'\" [binding]=\"'projectCode'\" [isReadOnly]=\"true\" [width]=\"'1.5*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Project'\" [binding]=\"'project'\" [isReadOnly]=\"true\" [width]=\"'2*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Address'\" [binding]=\"'address'\" [isReadOnly]=\"true\" [width]=\"'3*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Status'\" [binding]=\"'status'\" [isReadOnly]=\"true\" [width]=\"'1.5*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'L'\" [binding]=\"'isLocked'\" [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n\r\n            <!-- navigation buttons -->\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdProjectsCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdProjectsCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdProjectsCollection.pageIndex + 1 }} / {{ fgdProjectsCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdProjectsCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdProjectsCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- user and time stamp -->\r\n    <app-footer [data]=\"fgdProjectsCollection\"></app-footer>\r\n</div>\r\n\r\n<!-- delete project modal -->\r\n<div id=\"mdlProjectDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlProjectDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete Project</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{fgdProjectsCollection.currentItem != null ? fgdProjectsCollection.currentItem.project : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button id=\"btnOkProjectDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkProjectDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok\r\n                </button>\r\n                <button id=\"btnCloseProjectDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseProjectDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/project/project.list.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProjectList; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__project_service__ = __webpack_require__("../../../../../src/app/project/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// service(s)


// wijmo

// message box

var ProjectList = (function () {
    // =============
    // angular class
    // =============
    // constructor
    function ProjectList(projectService, toastr, viewContainer, router, location, securityService) {
        this.projectService = projectService;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.router = router;
        this.location = location;
        this.securityService = securityService;
        // ==================
        // private properties
        // ==================
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // user rights
        this.canEdit = false;
        this.canSave = false;
        this.canLock = false;
        this.canUnlock = false;
        this.canPrint = false;
        this.canDelete = false;
        // =================
        // public properties
        // =================
        this.title = 'Project List';
        this.project = {
            id: 0,
            projectCode: "",
            project: "",
            address: "",
            status: "OPEN",
            projectLogo: "",
            isLocked: false,
            createdBy: 1,
            createdDateTime: this.currentDateString,
            updatedBy: 1,
            updatedDateTime: this.currentDateString
        };
        this.mdlProjectDeleteShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    ProjectList.prototype.getUserRights = function () {
        var userRightsData = localStorage.getItem('userRights');
        var userRights = JSON.parse(userRightsData);
        for (var i = 0; i < userRights.length; i++) {
            if (userRights[i].page == 'PROJECT LIST') {
                this.canEdit = userRights[i].canEdit;
                this.canSave = userRights[i].canSave;
                this.canLock = userRights[i].canLock;
                this.canUnlock = userRights[i].canUnlock;
                this.canPrint = userRights[i].canPrint;
                this.canDelete = userRights[i].canDelete;
            }
        }
    };
    // ng
    ProjectList.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdProjectsData = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        this.fgdProjectsCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](this.fgdProjectsData);
        if (this.securityService.openPage("PROJECT LIST") == true) {
            this.getProjects();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
        this.getUserRights();
    };
    ProjectList.prototype.ngOnDestroy = function () {
        if (this.projectDeletedSub != null)
            this.projectDeletedSub.unsubscribe();
        if (this.projectsSub != null)
            this.projectsSub.unsubscribe();
    };
    // ==============
    // public methods
    // ==============
    // project list
    ProjectList.prototype.getProjects = function () {
        var _this = this;
        var projects = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        this.projectService.getProjects();
        this.projectsSub = this.projectService.projectsObservable.subscribe(function (data) {
            if (data.length > 0) {
                _this.fgdProjectsData = data;
                _this.fgdProjectsCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](_this.fgdProjectsData);
                _this.fgdProjectsCollection.pageSize = 15;
                _this.fgdProjectsCollection.trackChanges = true;
            }
        });
    };
    // ======
    // events
    // ======
    // project list operations
    ProjectList.prototype.btnAddProjectClick = function () {
        var btnAddProject = document.getElementById("btnAddProject");
        btnAddProject.setAttribute("disabled", "true");
        btnAddProject.innerHTML = "<i class='fa fa-plus fa-fw'></i> Adding...";
        this.projectService.addProject(this.project, btnAddProject);
    };
    ProjectList.prototype.btnEditProjectClick = function () {
        var selectedProject = this.fgdProjectsCollection.currentItem;
        this.router.navigate(['/project', selectedProject.id]);
    };
    ProjectList.prototype.btnDeleteProjectClick = function () {
        this.mdlProjectDeleteShow = true;
    };
    // project delete modal operations
    ProjectList.prototype.btnOkProjectDeleteModalClick = function () {
        var _this = this;
        var btnOkProjectDeleteModal = document.getElementById("btnOkProjectDeleteModal");
        var btnCloseProjectDeleteModal = document.getElementById("btnCloseProjectDeleteModal");
        var selectedProject = this.fgdProjectsCollection.currentItem;
        btnOkProjectDeleteModal.setAttribute("disabled", "disabled");
        btnCloseProjectDeleteModal.setAttribute("disabled", "disabled");
        this.projectService.deleteProject(selectedProject.id);
        this.projectDeletedSub = this.projectService.projectDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdProjectsCollection.remove(selectedProject);
                btnOkProjectDeleteModal.removeAttribute("disabled");
                btnCloseProjectDeleteModal.removeAttribute("disabled");
                _this.mdlProjectDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkProjectDeleteModal.removeAttribute("disabled");
                btnCloseProjectDeleteModal.removeAttribute("disabled");
            }
        });
    };
    ProjectList.prototype.btnCloseProjectDeleteModalClick = function () {
        this.mdlProjectDeleteShow = false;
    };
    ProjectList = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/project/project.list.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__project_service__["a" /* ProjectService */],
            __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"],
            __WEBPACK_IMPORTED_MODULE_4__security_security_service__["a" /* SecurityService */]])
    ], ProjectList);
    return ProjectList;
}());



/***/ }),

/***/ "../../../../../src/app/project/project.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProjectService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// wijmo

// async

var ProjectService = (function () {
    // =============
    // angular class
    // =============
    // constructor
    function ProjectService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        // list
        this.projectsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.projectsObservable = this.projectsSource.asObservable();
        // detail
        this.projectSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.projectObservable = this.projectSource.asObservable();
        // detail operations
        this.projectDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.projectDeletedObservable = this.projectDeletedSource.asObservable();
        this.projectSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.projectSavedObservable = this.projectSavedSource.asObservable();
        this.projectLockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.projectLockedObservable = this.projectLockedSource.asObservable();
        this.projectUnlockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.projectUnlockedObservable = this.projectUnlockedSource.asObservable();
        // Blob, logo pictire
        this.projectLogoSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.projectLogoObservable = this.projectLogoSource.asObservable();
        // dropdown list
        this.dropDownsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsObservable = this.dropDownsSource.asObservable();
        // detail lines1 (house models) list
        this.houseModelsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.houseModelsObservable = this.houseModelsSource.asObservable();
        // detail lines1 (house models) operations
        this.houseModelDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.houseModelDeletedObservable = this.houseModelDeletedSource.asObservable();
        this.houseModelSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.houseModelSavedObservable = this.houseModelSavedSource.asObservable();
    }
    // ==============
    // public methods
    // ==============
    // project listing
    ProjectService.prototype.getProjects = function () {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/List";
        var projects = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    projects.push({
                        id: results[i].Id,
                        projectCode: results[i].ProjectCode,
                        project: results[i].Project,
                        address: results[i].Address,
                        status: results[i].Status,
                        projectLogo: results[i].ProjectLogo,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.projectsSource.next(projects);
            }
            else {
                _this.toastr.error("No data.");
            }
        });
    };
    // project listing operations
    ProjectService.prototype.addProject = function (project, btnAddProject) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/Add";
        this.http.post(url, JSON.stringify(project), this.options).subscribe(function (response) {
            var id = response.json();
            if (id > 0) {
                _this.toastr.success("Add successful.");
                setTimeout(function () {
                    _this.router.navigate(['/project', id]);
                }, 1000);
            }
            else {
                _this.toastr.error("Add failed.");
                btnAddProject.removeAttribute("disabled");
                btnAddProject.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
            }
        }, function (error) {
            _this.toastr.error("Server error.");
            btnAddProject.removeAttribute("disabled");
            btnAddProject.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
        });
    };
    ProjectService.prototype.deleteProject = function (id) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.projectDeletedSource.next(1);
        }, function (error) {
            _this.projectDeletedSource.next(0);
        });
    };
    // project detail
    ProjectService.prototype.getProject = function (id) {
        var _this = this;
        var project;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/Detail/" + id;
        this.http.get(url, this.options).subscribe(function (response) {
            var result = response.json();
            if (result != null) {
                project = {
                    id: result.Id,
                    projectCode: result.ProjectCode,
                    project: result.Project,
                    address: result.Address,
                    status: result.Status,
                    projectLogo: result.ProjectLogo,
                    isLocked: result.IsLocked,
                    createdBy: result.CreatedBy,
                    createdDateTime: result.CreatedDateTime,
                    updatedBy: result.UpdatedBy,
                    updatedDateTime: result.UpdatedDateTime
                };
                _this.projectSource.next(project);
            }
            else {
                _this.toastr.error("No data.");
                setTimeout(function () {
                    _this.router.navigate(["/project"]);
                }, 1000);
            }
        });
    };
    // project detail operations
    ProjectService.prototype.saveProject = function (project) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/Save";
        this.http.put(url, JSON.stringify(project), this.options).subscribe(function (response) {
            _this.projectSavedSource.next(1);
        }, function (error) {
            _this.projectSavedSource.next(0);
        });
    };
    ProjectService.prototype.lockProject = function (project) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/Lock";
        this.http.put(url, JSON.stringify(project), this.options).subscribe(function (response) {
            _this.projectLockedSource.next(1);
        }, function (error) {
            _this.projectLockedSource.next(0);
        });
    };
    ProjectService.prototype.unlockProject = function (project) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/Unlock";
        this.http.put(url, JSON.stringify(project), this.options).subscribe(function (response) {
            _this.projectUnlockedSource.next(1);
        }, function (error) {
            _this.projectUnlockedSource.next(0);
        });
    };
    ProjectService.prototype.uploadProjectLogo = function (file, fileName) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/Blob/Upload";
        var blob;
        var formData = new FormData();
        formData.append("image", file, fileName);
        this.http
            .post(url, formData)
            .subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                blob = {
                    fileName: results[0].FileName,
                    fileUrl: results[0].FileUrl,
                    fileSizeInBytes: results[0].FileSizeInBytes,
                    fileSizeInKb: results[0].FileSizeInKb,
                };
                _this.projectLogoSource.next(blob);
                _this.toastr.success("Upload successful.");
            }
            else {
                _this.projectLogoSource.next(blob);
                _this.toastr.error("Uploading failed.");
            }
        }, function (error) {
            _this.projectLogoSource.next(blob);
            _this.toastr.error("Server error.");
        });
    };
    // combo boxes
    ProjectService.prototype.getDropDowns = function () {
        var _this = this;
        var dropDowns = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    dropDowns.push({
                        id: results[i].Id,
                        category: results[i].Category,
                        description: results[i].Description,
                        value: results[i].Value
                    });
                }
                _this.dropDownsSource.next(dropDowns);
            }
            else {
                _this.toastr.error("No data.");
            }
        });
    };
    // get house models per project
    ProjectService.prototype.getHouseModelsPerProject = function (id) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstHouseModel/ListPerProjectId/" + id;
        var houseModels = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    houseModels.push({
                        id: results[i].Id,
                        houseModelCode: results[i].HouseModelCode,
                        houseModel: results[i].HouseModel,
                        projectId: results[i].ProjectId,
                        project: results[i].Project,
                        tfa: results[i].TFA,
                        price: results[i].Price,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime,
                    });
                }
                _this.houseModelsSource.next(houseModels);
            }
            else {
                _this.houseModelsSource.next(houseModels);
                _this.toastr.error("No house models for this project.");
            }
        });
    };
    // house models operation
    ProjectService.prototype.saveHouseModel = function (houseModel) {
        var _this = this;
        if (houseModel.id == 0) {
            var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstHouseModel/Add";
            this.http.post(url, JSON.stringify(houseModel), this.options).subscribe(function (response) {
                _this.houseModelSavedSource.next(1);
            }, function (error) {
                _this.houseModelSavedSource.next(0);
            });
        }
        else {
            var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstHouseModel/Save";
            this.http.put(url, JSON.stringify(houseModel), this.options).subscribe(function (response) {
                _this.houseModelSavedSource.next(1);
            }, function (error) {
                _this.houseModelSavedSource.next(0);
            });
        }
    };
    ProjectService.prototype.deleteHouseModel = function (id) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstHouseModel/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.houseModelDeletedSource.next(1);
        }, function (error) {
            _this.houseModelDeletedSource.next(0);
        });
    };
    ProjectService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], ProjectService);
    return ProjectService;
}());



/***/ }),

/***/ "../../../../../src/app/reports/reports.index.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- buttons-->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button id=\"btnEmailReport\" class=\"btn btn-primary\" (click)=\"btnEmailReportClick()\">\r\n                                <i class=\"fa fa-envelope-o fa-fw\"></i> E-mail\r\n                            </button>\r\n                            <button id=\"btnCSVReport\" class=\"btn btn-primary\" (click)=\"btnCSVReportClick()\">\r\n                                <i class=\"fa fa-file-excel-o fa-fw\"></i> CSV\r\n                            </button>\r\n                            <button id=\"btnCloseReport\" class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- filters -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 25%;\">\r\n                            <div class=\"input-group\">\r\n                                <span class=\"input-group-addon\">\r\n                                    Date Start:\r\n                                </span>\r\n                                <wj-input-date #calDateStart [(ngModel)]=\"calDateStartData\" (textChanged)=\"getReports()\"\r\n                                    format=\"M/d/yyyy\">\r\n                                </wj-input-date>\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 25%;\">\r\n                            <div class=\"input-group\">\r\n                                <span class=\"input-group-addon\">\r\n                                    Date End:\r\n                                </span>\r\n                                <wj-input-date #calDateEnd [(ngModel)]=\"calDateEndData\" (textChanged)=\"getReports()\"\r\n                                    format=\"M/d/yyyy\">\r\n                                </wj-input-date>\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"width: 49%;\"></td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n        </div>\r\n        <br />\r\n\r\n        <!-- tabs -->\r\n        <ul class=\"nav nav-tabs\" role=\"tablist\" style=\"width:100%\">\r\n            <li class=\"nav-item\">\r\n                <a [ngClass]=\"{'active': tabDetail1[0], 'nav-link': true }\" (click)=\"tabDetail1Click(0)\"\r\n                    data-toggle=\"tab\" role=\"tab\">Sold Units</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a [ngClass]=\"{'active': tabDetail1[1], 'nav-link': true }\" (click)=\"tabDetail1Click(1)\"\r\n                    data-toggle=\"tab\" role=\"tab\">Checklist Requirements</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a [ngClass]=\"{'active': tabDetail1[2], 'nav-link': true }\" (click)=\"tabDetail1Click(2)\"\r\n                    data-toggle=\"tab\" role=\"tab\">Activities</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a [ngClass]=\"{'active': tabDetail1[3], 'nav-link': true }\" (click)=\"tabDetail1Click(3)\"\r\n                    data-toggle=\"tab\" role=\"tab\">Commission</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a [ngClass]=\"{'active': tabDetail1[4], 'nav-link': true }\" (click)=\"tabDetail1Click(4)\"\r\n                    data-toggle=\"tab\" role=\"tab\">Customer</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a [ngClass]=\"{'active': tabDetail1[5], 'nav-link': true }\" (click)=\"tabDetail1Click(5)\"\r\n                    data-toggle=\"tab\" role=\"tab\">Broker</a>\r\n            </li>\r\n        </ul>\r\n        <br />\r\n\r\n        <!-- tab content -->\r\n        <div class=\"tab-content\" style=\"width:100%\">\r\n\r\n            <!-- sold unit tab -->\r\n            <div [ngClass]=\"{'active': tabDetail1[0], 'tab-pane': true }\" role=\"tabpanel\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <wj-flex-grid #fgdSoldUnits [itemsSource]=\"fgdSoldUnitsCollection\" [selectionMode]=\"3\">\r\n                            <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                            <wj-flex-grid-column [header]=\"'Number'\" [binding]=\"'soldUnitNumber'\" [isReadOnly]=\"true\"\r\n                                [width]=\"120\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'soldUnitDate'\" [isReadOnly]=\"true\"\r\n                                [width]=\"100\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Project'\" [binding]=\"'project'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Unit'\" [binding]=\"'unit'\" [isReadOnly]=\"true\" [width]=\"100\">\r\n                            </wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Customer'\" [binding]=\"'customer'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Broker'\" [binding]=\"'broker'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Price'\" [binding]=\"'price'\" [isReadOnly]=\"true\"\r\n                                [width]=\"120\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Discount'\" [binding]=\"'discount'\" [isReadOnly]=\"true\"\r\n                                [width]=\"120\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Payment'\" [binding]=\"'pricePayment'\"\r\n                                [isReadOnly]=\"true\" [width]=\"120\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Balance'\" [binding]=\"'priceBalance'\"\r\n                                [isReadOnly]=\"true\" [width]=\"120\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'L'\" [binding]=\"'isLocked'\" [isReadOnly]=\"true\" [width]=\"50\">\r\n                            </wj-flex-grid-column>\r\n                        </wj-flex-grid>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdSoldUnitsCollection.moveToFirstPage()\">\r\n                                <i class=\"fa fa-fast-backward\"></i> First\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdSoldUnitsCollection.moveToPreviousPage()\">\r\n                                <i class=\"fa fa-step-backward\"></i> Previous\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                {{ fgdSoldUnitsCollection.pageIndex + 1 }} / {{ fgdSoldUnitsCollection.pageCount }}\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdSoldUnitsCollection.moveToNextPage()\">\r\n                                Next\r\n                                <i class=\"fa fa-step-forward\"></i>\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdSoldUnitsCollection.moveToLastPage()\">\r\n                                Last\r\n                                <i class=\"fa fa-fast-forward\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- checklist tab -->\r\n            <div [ngClass]=\"{'active': tabDetail1[1], 'tab-pane': true }\" role=\"tabpanel\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <wj-flex-grid #fgdChecklistRequirements [itemsSource]=\"fgdChecklistRequirementsCollection\"\r\n                            [selectionMode]=\"3\">\r\n                            <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                            <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'soldUnitDate'\" [isReadOnly]=\"true\"\r\n                                [width]=\"100\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Project'\" [binding]=\"'project'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Unit'\" [binding]=\"'unit'\" [isReadOnly]=\"true\" [width]=\"100\">\r\n                            </wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Customer'\" [binding]=\"'customer'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'No'\" [binding]=\"'checklistRequirementNo'\"\r\n                                [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Checklist'\" [binding]=\"'checklistRequirement'\"\r\n                                [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Status'\" [binding]=\"'status'\" [isReadOnly]=\"true\"\r\n                                [width]=\"50\"></wj-flex-grid-column>\r\n                        </wj-flex-grid>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdChecklistRequirementsCollection.moveToFirstPage()\">\r\n                                <i class=\"fa fa-fast-backward\"></i> First\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdChecklistRequirementsCollection.moveToPreviousPage()\">\r\n                                <i class=\"fa fa-step-backward\"></i> Previous\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                {{ fgdChecklistRequirementsCollection.pageIndex + 1 }} /\r\n                                {{ fgdChecklistRequirementsCollection.pageCount }}\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdChecklistRequirementsCollection.moveToNextPage()\">\r\n                                Next\r\n                                <i class=\"fa fa-step-forward\"></i>\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdChecklistRequirementsCollection.moveToLastPage()\">\r\n                                Last\r\n                                <i class=\"fa fa-fast-forward\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- activities tab -->\r\n            <div [ngClass]=\"{'active': tabDetail1[2], 'tab-pane': true }\" role=\"tabpanel\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <wj-flex-grid #fgdRequirementActivities [itemsSource]=\"fgdRequirementActivitiesCollection\"\r\n                            [selectionMode]=\"3\">\r\n                            <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                            <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'activityDate'\" [isReadOnly]=\"true\"\r\n                                [width]=\"100\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Activity'\" [binding]=\"'activity'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Remarks'\" [binding]=\"'remarks'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'User'\" [binding]=\"'user'\" [isReadOnly]=\"true\" [width]=\"'*'\">\r\n                            </wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Project'\" [binding]=\"'project'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Unit'\" [binding]=\"'unitCode'\" [isReadOnly]=\"true\"\r\n                                [width]=\"100\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Customer'\" [binding]=\"'customer'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                        </wj-flex-grid>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdRequirementActivitiesCollection.moveToFirstPage()\">\r\n                                <i class=\"fa fa-fast-backward\"></i> First\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdRequirementActivitiesCollection.moveToPreviousPage()\">\r\n                                <i class=\"fa fa-step-backward\"></i> Previous\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                {{ fgdRequirementActivitiesCollection.pageIndex + 1 }} /\r\n                                {{ fgdRequirementActivitiesCollection.pageCount }}\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdRequirementActivitiesCollection.moveToNextPage()\">\r\n                                Next\r\n                                <i class=\"fa fa-step-forward\"></i>\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdRequirementActivitiesCollection.moveToLastPage()\">\r\n                                Last\r\n                                <i class=\"fa fa-fast-forward\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- commission tab -->\r\n            <div [ngClass]=\"{'active': tabDetail1[3], 'tab-pane': true }\" role=\"tabpanel\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <wj-flex-grid #fgdCommissionRequests [itemsSource]=\"fgdCommissionRequestsCollection\"\r\n                            [selectionMode]=\"3\">\r\n                            <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                            <wj-flex-grid-column [header]=\"'Number'\" [binding]=\"'commissionRequestNumber'\"\r\n                                [isReadOnly]=\"true\" [width]=\"120\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'commissionRequestDate'\"\r\n                                [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Broker'\" [binding]=\"'broker'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Sold Unit'\" [binding]=\"'soldUnit'\" [isReadOnly]=\"true\"\r\n                                [width]=\"120\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Remarks'\" [binding]=\"'remarks'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Amount'\" [binding]=\"'amount'\" [isReadOnly]=\"true\"\r\n                                [width]=\"150\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'L'\" [binding]=\"'isLocked'\" [isReadOnly]=\"true\" [width]=\"50\">\r\n                            </wj-flex-grid-column>\r\n                        </wj-flex-grid>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdCommissionRequestsCollection.moveToFirstPage()\">\r\n                                <i class=\"fa fa-fast-backward\"></i> First\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdCommissionRequestsCollection.moveToPreviousPage()\">\r\n                                <i class=\"fa fa-step-backward\"></i> Previous\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                {{ fgdCommissionRequestsCollection.pageIndex + 1 }} /\r\n                                {{ fgdCommissionRequestsCollection.pageCount }}\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdCommissionRequestsCollection.moveToNextPage()\">\r\n                                Next\r\n                                <i class=\"fa fa-step-forward\"></i>\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdCommissionRequestsCollection.moveToLastPage()\">\r\n                                Last\r\n                                <i class=\"fa fa-fast-forward\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Customer List -->\r\n            <div [ngClass]=\"{'active': tabDetail1[4], 'tab-pane': true }\" role=\"tabpanel\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <wj-flex-grid #fgdCustomerList [itemsSource]=\"fgdCustomerListCollection\" [selectionMode]=\"3\">\r\n                            <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                            <wj-flex-grid-column [header]=\"'Code'\" [binding]=\"'customerCode'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'FullName'\" [binding]=\"'fullName'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Gender'\" [binding]=\"'gender'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Address'\" [binding]=\"'address'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Email'\" [binding]=\"'emailAddress'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Tel. No.'\" [binding]=\"'telephoneNumber'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                        </wj-flex-grid>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdCustomerListCollection.moveToFirstPage()\">\r\n                                <i class=\"fa fa-fast-backward\"></i> First\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdCustomerListCollection.moveToPreviousPage()\">\r\n                                <i class=\"fa fa-step-backward\"></i> Previous\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                {{ fgdCustomerListCollection.pageIndex + 1 }} /\r\n                                {{ fgdCustomerListCollection.pageCount }}\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdCustomerListCollection.moveToNextPage()\">\r\n                                Next\r\n                                <i class=\"fa fa-step-forward\"></i>\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdCustomerListCollection.moveToLastPage()\">\r\n                                Last\r\n                                <i class=\"fa fa-fast-forward\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Broker List -->\r\n            <div [ngClass]=\"{'active': tabDetail1[5], 'tab-pane': true }\" role=\"tabpanel\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <wj-flex-grid #fgdBrokerList [itemsSource]=\"fgdBrokerListCollection\" [selectionMode]=\"3\">\r\n                            <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                            <wj-flex-grid-column [header]=\"'Code'\" [binding]=\"'brokerCode'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'FullName'\" [binding]=\"'fullName'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Gender'\" [binding]=\"'gender'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Address'\" [binding]=\"'address'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Email'\" [binding]=\"'emailAddress'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Tel. No.'\" [binding]=\"'telephoneNumber'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                        </wj-flex-grid>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdBrokerListCollection.moveToFirstPage()\">\r\n                                <i class=\"fa fa-fast-backward\"></i> First\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdBrokerListCollection.moveToPreviousPage()\">\r\n                                <i class=\"fa fa-step-backward\"></i> Previous\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                {{ fgdBrokerListCollection.pageIndex + 1 }} / {{ fgdBrokerListCollection.pageCount }}\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdBrokerListCollection.moveToNextPage()\">\r\n                                Next\r\n                                <i class=\"fa fa-step-forward\"></i>\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdBrokerListCollection.moveToLastPage()\">\r\n                                Last\r\n                                <i class=\"fa fa-fast-forward\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- user and time stamp footer -->\r\n    <app-footer [data]=\"\"></app-footer>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/reports/reports.index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ReportsIndex; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__reports_service__ = __webpack_require__("../../../../../src/app/reports/reports.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// services


var ReportsIndex = (function () {
    // =======
    // angular
    // =======
    // constructor
    function ReportsIndex(reportsService, toastr, viewContainer, router, securityService, location) {
        this.reportsService = reportsService;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.router = router;
        this.securityService = securityService;
        this.location = location;
        // =================
        // public properties
        // =================
        this.title = 'Reports';
        this.fgdSoldUnitsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdSoldUnitsData);
        this.fgdRequirementActivitiesCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdRequirementActivitiesData);
        this.fgdChecklistRequirementsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdChecklistRequirementsData);
        this.fgdCommissionRequestsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdCommissionRequestsData);
        this.fgdCustomerListCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdCustomerListData);
        this.fgdBrokerListCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdBrokerListData);
        this.tabDetail1 = new Array(true, false, false, false, false, false);
        // filters
        this.calDateStartData = new Date();
        this.calDateEndData = new Date();
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    ReportsIndex.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdSoldUnitsData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdSoldUnitsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdSoldUnitsData);
        this.fgdCommissionRequestsData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdCommissionRequestsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdCommissionRequestsData);
        this.fgdRequirementActivitiesData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdRequirementActivitiesCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdRequirementActivitiesData);
        if (this.securityService.openPage("REPORTS") == true) {
            this.getReports();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
    };
    ReportsIndex.prototype.ngOnDestroy = function () {
        if (this.soldUnitsSub != null)
            this.soldUnitsSub.unsubscribe();
        if (this.commissionRequestsSub != null)
            this.commissionRequestsSub.unsubscribe();
        if (this.requirementActivitiesSub != null)
            this.requirementActivitiesSub.unsubscribe();
        if (this.checklistRequirementsSub != null)
            this.checklistRequirementsSub.unsubscribe();
        if (this.sendEmailSub != null)
            this.sendEmailSub.unsubscribe();
        if (this.customerListSub != null)
            this.customerListSub.unsubscribe();
        if (this.brokerListSub != null)
            this.brokerListSub.unsubscribe();
    };
    // ==============
    // public methods
    // ==============
    ReportsIndex.prototype.getReports = function () {
        var dateStart = [this.calDateStartData.getFullYear(), this.calDateStartData.getMonth() + 1, this.calDateStartData.getDate()].join('-');
        var dateEnd = [this.calDateEndData.getFullYear(), this.calDateEndData.getMonth() + 1, this.calDateEndData.getDate()].join('-');
        this.getUnitSolds(dateStart, dateEnd);
        this.getCommissionRequests(dateStart, dateEnd);
        this.getRequirementActivities(dateStart, dateEnd);
        this.getChecklistRequirements(dateStart, dateEnd);
        this.getCustomerList(dateStart, dateEnd);
        this.getBrokerList(dateStart, dateEnd);
    };
    ReportsIndex.prototype.getUnitSolds = function (dateStart, dateEnd) {
        var _this = this;
        this.reportsService.getSoldUnitSummary(dateStart, dateEnd);
        this.soldUnitsSub = this.reportsService.soldUnitsObservable.subscribe(function (data) {
            _this.fgdSoldUnitsData = data;
            _this.fgdSoldUnitsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdSoldUnitsData);
            _this.fgdSoldUnitsCollection.pageSize = 15;
            _this.fgdSoldUnitsCollection.trackChanges = true;
        });
    };
    ReportsIndex.prototype.getCommissionRequests = function (dateStart, dateEnd) {
        var _this = this;
        this.reportsService.getCommissionRequestSummary(dateStart, dateEnd);
        this.commissionRequestsSub = this.reportsService.commissionRequestsObservable.subscribe(function (data) {
            _this.fgdCommissionRequestsData = data;
            _this.fgdCommissionRequestsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdCommissionRequestsData);
            _this.fgdCommissionRequestsCollection.pageSize = 15;
            _this.fgdCommissionRequestsCollection.trackChanges = true;
        });
    };
    ReportsIndex.prototype.getRequirementActivities = function (dateStart, dateEnd) {
        var _this = this;
        this.reportsService.getSoldUnitRequirementActivitySummary(dateStart, dateEnd);
        this.requirementActivitiesSub = this.reportsService.soldUnitRequirementActivitiesObservable.subscribe(function (data) {
            _this.fgdRequirementActivitiesData = data;
            _this.fgdRequirementActivitiesCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdRequirementActivitiesData);
            _this.fgdRequirementActivitiesCollection.pageSize = 15;
            _this.fgdRequirementActivitiesCollection.trackChanges = true;
        });
    };
    ReportsIndex.prototype.getChecklistRequirements = function (dateStart, dateEnd) {
        var _this = this;
        this.reportsService.getSoldUnitChecklistSummary(dateStart, dateEnd);
        this.checklistRequirementsSub = this.reportsService.soldUnitChecklistRequirementObservable.subscribe(function (data) {
            _this.fgdChecklistRequirementsData = data;
            _this.fgdChecklistRequirementsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdChecklistRequirementsData);
            _this.fgdChecklistRequirementsCollection.pageSize = 15;
            _this.fgdChecklistRequirementsCollection.trackChanges = true;
        });
    };
    ReportsIndex.prototype.getCustomerList = function (dateStart, dateEnd) {
        var _this = this;
        this.reportsService.getCustomerList(dateStart, dateEnd);
        this.customerListSub = this.reportsService.customerListObservable.subscribe(function (data) {
            _this.fgdCustomerListData = data;
            _this.fgdCustomerListCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdCustomerListData);
            _this.fgdCustomerListCollection.pageSize = 15;
            _this.fgdCustomerListCollection.trackChanges = true;
        });
    };
    ReportsIndex.prototype.getBrokerList = function (dateStart, dateEnd) {
        var _this = this;
        this.reportsService.getBrokerList(dateStart, dateEnd);
        this.brokerListSub = this.reportsService.brokerListObservable.subscribe(function (data) {
            _this.fgdBrokerListData = data;
            _this.fgdBrokerListCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdBrokerListData);
            _this.fgdBrokerListCollection.pageSize = 15;
            _this.fgdBrokerListCollection.trackChanges = true;
        });
    };
    // ======
    // events
    // ======
    // report activity
    ReportsIndex.prototype.generateCSV = function () {
        var data = "";
        var collection;
        var fileName = "";
        if (this.tabDetail1[0] == true) {
            data = 'Sold Unit Summary Report' + '\r\n\n';
            collection = this.fgdSoldUnitsCollection;
            fileName = "report-soldUnit.csv";
        }
        else if (this.tabDetail1[1] == true) {
            data = 'Sold Unit Checklist Requirement Report' + '\r\n\n';
            collection = this.fgdChecklistRequirementsCollection;
            fileName = "report-soldUnitChecklist.csv";
        }
        else if (this.tabDetail1[2] == true) {
            data = 'Sold Unit Checklist Requirement Activity Report' + '\r\n\n';
            collection = this.fgdRequirementActivitiesCollection;
            fileName = "report-soldUnitChecklistActivities.csv";
        }
        else if (this.tabDetail1[3] == true) {
            data = 'Commission Request Summary Report' + '\r\n\n';
            collection = this.fgdCommissionRequestsCollection;
            fileName = "report-commissionRequest.csv";
        }
        else if (this.tabDetail1[4] == true) {
            data = 'Customer List' + '\r\n\n';
            collection = this.fgdCustomerListCollection;
            fileName = "report-customerList.csv";
        }
        else if (this.tabDetail1[5] == true) {
            data = 'Broker List' + '\r\n\n';
            collection = this.fgdBrokerListCollection;
            fileName = "report-brokerList.csv";
        }
        if (data != "") {
            var label = '';
            for (var s in collection.items[0]) {
                label += s + ',';
            }
            label = label.slice(0, -1);
            data += label + '\r\n';
            collection.moveToFirstPage();
            for (var p = 0; p < collection.pageCount; p++) {
                for (var i = 0; i < collection.items.length; i++) {
                    var row = '';
                    for (var s in collection.items[i]) {
                        row += '"' + collection.items[i][s] + '",';
                    }
                    row.slice(0, row.length - 1);
                    data += row + '\r\n';
                }
                collection.moveToNextPage();
            }
        }
        return new Blob([data], { type: 'text/csv;charset=utf-8;' });
    };
    ReportsIndex.prototype.btnCSVReportClick = function () {
        var fileName = "";
        if (this.tabDetail1[0] == true) {
            fileName = "report-soldUnit.csv";
        }
        else if (this.tabDetail1[1] == true) {
            fileName = "report-soldUnitChecklist.csv";
        }
        else if (this.tabDetail1[2] == true) {
            fileName = "report-soldUnitChecklistActivities.csv";
        }
        else if (this.tabDetail1[3] == true) {
            fileName = "report-commissionRequest.csv";
        }
        var csvData = this.generateCSV();
        var csvURL = window.URL.createObjectURL(csvData);
        var tempLink = document.createElement('a');
        tempLink.href = csvURL;
        tempLink.setAttribute('download', fileName);
        tempLink.click();
    };
    ReportsIndex.prototype.btnEmailReportClick = function () {
        var _this = this;
        var csvData = this.generateCSV();
        var fileName = "";
        if (this.tabDetail1[0] == true) {
            fileName = "report-soldUnit.csv";
        }
        else if (this.tabDetail1[1] == true) {
            fileName = "report-soldUnitChecklist.csv";
        }
        else if (this.tabDetail1[2] == true) {
            fileName = "report-soldUnitChecklistActivities.csv";
        }
        else if (this.tabDetail1[3] == true) {
            fileName = "report-commissionRequest.csv";
        }
        this.reportsService.sendEmail(csvData, fileName);
        this.sendEmailSub = this.reportsService.sendEmailObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Email sent.");
            }
            else {
                _this.toastr.error("Error sending email.");
            }
        });
    };
    // detail tab index click
    ReportsIndex.prototype.tabDetail1Click = function (index) {
        var dateStart = [this.calDateStartData.getFullYear(), this.calDateStartData.getMonth() + 1, this.calDateStartData.getDate()].join('-');
        var dateEnd = [this.calDateEndData.getFullYear(), this.calDateEndData.getMonth() + 1, this.calDateEndData.getDate()].join('-');
        for (var i = 0; i <= this.tabDetail1.length - 1; i++) {
            if (index == i)
                this.tabDetail1[i] = true;
            else
                this.tabDetail1[i] = false;
        }
        if (index == 0)
            this.getUnitSolds(dateStart, dateEnd);
        if (index == 1)
            this.getChecklistRequirements(dateStart, dateEnd);
        if (index == 2)
            this.getRequirementActivities(dateStart, dateEnd);
        if (index == 3)
            this.getCommissionRequests(dateStart, dateEnd);
        if (index == 4)
            this.getCustomerList(dateStart, dateEnd);
        if (index == 5)
            this.getBrokerList(dateStart, dateEnd);
    };
    ReportsIndex = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/reports/reports.index.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__reports_service__["a" /* ReportsService */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], ReportsIndex);
    return ReportsIndex;
}());



/***/ }),

/***/ "../../../../../src/app/reports/reports.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ReportsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// wijmo

// async

var ReportsService = (function () {
    // =======
    // angular
    // =======
    // constructor
    function ReportsService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        // sold unit summary list
        this.soldUnitsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitsObservable = this.soldUnitsSource.asObservable();
        // commission request summary list
        this.commissionRequestsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.commissionRequestsObservable = this.commissionRequestsSource.asObservable();
        // sold unit requirement activity summary list
        this.soldUnitRequirementActivitiesSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitRequirementActivitiesObservable = this.soldUnitRequirementActivitiesSource.asObservable();
        // sold unit checklist requirement
        this.soldUnitChecklistRequirementSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitChecklistRequirementObservable = this.soldUnitChecklistRequirementSource.asObservable();
        // sending email
        this.sendEmailSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.sendEmailObservable = this.sendEmailSource.asObservable();
        // customer list
        this.customerListSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.customerListObservable = this.customerListSource.asObservable();
        // broker list
        this.brokerListSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.brokerListObservable = this.brokerListSource.asObservable();
    }
    ReportsService.prototype.getSoldUnitSummary = function (dateStart, dateEnd) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/RepSummary/ListSoldUnitPerDates/" + dateStart + "/" + dateEnd;
        var soldUnits = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnits.push({
                        id: results[i].Id,
                        soldUnitNumber: results[i].SoldUnitNumber,
                        soldUnitDate: results[i].SoldUnitDate,
                        projectId: results[i].ProjectId,
                        project: results[i].Project,
                        unitId: results[i].UnitId,
                        unit: results[i].Unit,
                        customerId: results[i].CustomerId,
                        customer: results[i].Customer,
                        brokerId: results[i].BrokerId,
                        broker: results[i].Broker,
                        agent: results[i].Agent,
                        brokerCoordinator: results[i].BrokerCoordinator,
                        checklistId: results[i].ChecklistId,
                        checklist: results[i].Checklist,
                        price: results[i].Price,
                        equityValue: results[i].EquityValue,
                        equityPercent: results[i].EquityPercent,
                        discount: results[i].Discount,
                        reservation: results[i].Reservation,
                        netEquity: results[i].NetEquity,
                        netEquityInterest: results[i].NetEquityInterest,
                        netEquityNoOfPayments: results[i].NetEquityNoOfPayments,
                        netEquityAmortization: results[i].NetEquityAmortization,
                        balance: results[i].Balance,
                        balanceInterest: results[i].BalanceInterest,
                        balanceNoOfPayments: results[i].BalanceNoOfPayments,
                        balanceAmortization: results[i].BalanceAmortization,
                        totalInvestment: results[i].TotalInvestment,
                        paymentOptions: results[i].PaymentOptions,
                        financing: results[i].Financing,
                        remarks: results[i].Remarks,
                        preparedBy: results[i].PreparedBy,
                        preparedByUser: results[i].PreparedByUser,
                        checkedBy: results[i].CheckedBy,
                        checkedByUser: results[i].CheckedByUser,
                        approvedBy: results[i].ApprovedBy,
                        approvedByUser: results[i].ApprovedByUser,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime,
                        pricePayment: results[i].PricePayment,
                        priceBalance: results[i].PriceBalance
                    });
                }
                _this.soldUnitsSource.next(soldUnits);
            }
            else {
                _this.soldUnitsSource.next(soldUnits);
                _this.toastr.error("No sold units.");
            }
        });
    };
    ReportsService.prototype.getCommissionRequestSummary = function (dateStart, dateEnd) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/RepSummary/ListCommissionRequestPerDates/" + dateStart + "/" + dateEnd;
        var commissionRequests = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    commissionRequests.push({
                        id: results[i].Id,
                        commissionRequestNumber: results[i].CommissionRequestNumber,
                        commissionRequestDate: results[i].CommissionRequestDate,
                        brokerId: results[i].BrokerId,
                        broker: results[i].Broker,
                        soldUnitId: results[i].SoldUnitId,
                        soldUnit: results[i].SoldUnit,
                        commissionNumber: results[i].CommissionNumber,
                        amount: results[i].Amount,
                        remarks: results[i].Remarks,
                        preparedBy: results[i].PreparedBy,
                        preparedByUser: results[i].PreparedByUser,
                        checkedBy: results[i].CheckedBy,
                        checkedByUser: results[i].CheckedByUser,
                        approvedBy: results[i].ApprovedBy,
                        approvedByUser: results[i].ApprovedByUser,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.commissionRequestsSource.next(commissionRequests);
            }
            else {
                _this.commissionRequestsSource.next(commissionRequests);
                _this.toastr.error("No commissions requests.");
            }
        });
    };
    ReportsService.prototype.getSoldUnitRequirementActivitySummary = function (dateStart, dateEnd) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/RepSummary/ListSoldUnitRequirementActivityPerDates/" + dateStart + "/" + dateEnd;
        var soldUnitRequirementActivities = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnitRequirementActivities.push({
                        id: results[i].Id,
                        soldUnitRequirementId: results[i].SoldUnitRequirementId,
                        activityDate: results[i].ActivityDate,
                        activity: results[i].Activity,
                        remarks: results[i].Remarks,
                        userId: results[i].UserId,
                        user: results[i].User,
                        checklistRequirement: results[i].ChecklistRequirement,
                        soldUnitNumber: results[i].SoldUnitNumber,
                        project: results[i].Project,
                        unitCode: results[i].UnitCode,
                        customer: results[i].Customer
                    });
                }
                _this.soldUnitRequirementActivitiesSource.next(soldUnitRequirementActivities);
            }
            else {
                _this.soldUnitRequirementActivitiesSource.next(soldUnitRequirementActivities);
                _this.toastr.error("No sold unit requirement activities.");
            }
        });
    };
    ReportsService.prototype.getSoldUnitChecklistSummary = function (dateStart, dateEnd) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/RepSummary/ListSoldUnitChecklistPerDates/" + dateStart + "/" + dateEnd;
        var soldUnitChecklist = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnitChecklist.push({
                        id: results[i].Id,
                        soldUnitId: results[i].SoldUnitId,
                        checklistRequirementId: results[i].ChecklistRequirementId,
                        checklistRequirement: results[i].ChecklistRequirement,
                        checklistRequirementNo: results[i].ChecklistRequirementNo,
                        checklistCategory: results[i].ChecklistCategory,
                        checklistType: results[i].ChecklistType,
                        checklistWithAttachments: results[i].ChecklistWithAttachments,
                        attachment1: results[i].Attachment1,
                        attachment2: results[i].Attachment2,
                        attachment3: results[i].Attachment3,
                        attachment4: results[i].Attachment4,
                        attachment5: results[i].Attachment5,
                        remarks: results[i].Remarks,
                        status: results[i].Status,
                        statusDate: results[i].StatusDate,
                        soldUnitNumber: results[i].SoldUnitNumber,
                        soldUnitDate: results[i].SoldUnitDate,
                        project: results[i].Project,
                        unit: results[i].Unit,
                        customer: results[i].Customer
                    });
                }
                _this.soldUnitChecklistRequirementSource.next(soldUnitChecklist);
            }
            else {
                _this.soldUnitChecklistRequirementSource.next(soldUnitChecklist);
                _this.toastr.error("No sold unit checklist requirements.");
            }
        });
    };
    ReportsService.prototype.sendEmail = function (attachment, filename) {
        var _this = this;
        var mailgunUrl = "sandbox56506e2182a34cddae6690198eb6627f.mailgun.org";
        var apiKey = "YXBpOmtleS1iYmIxNmY2ZTZmZGU0MGQ2YWJkZTNmOWJiYjAyMTlhZA==";
        var url = "https://api.mailgun.net/v3/" + mailgunUrl + "/messages";
        var formData = new FormData();
        formData.append('to', 'hgminerva@gmail.com');
        formData.append('from', "hgminerva@innosoft.ph");
        formData.append('subject', "PRILAND REPORTS");
        formData.append('text', "See attachments.");
        formData.append('attachment', attachment, filename);
        var emailHeaders = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            "Authorization": "Basic " + apiKey
        });
        var emailOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: emailHeaders });
        this.http.post(url, formData, emailOptions)
            .subscribe(function (result) {
            _this.sendEmailSource.next(1);
        }, function (error) {
            _this.sendEmailSource.next(0);
        });
    };
    // Cutomer List
    ReportsService.prototype.getCustomerList = function (dateStart, dateEnd) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/RepSummary/ListCustomerFilterByUpdateDateTime/" + dateStart + "/" + dateEnd;
        var customerListObservableArray = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    customerListObservableArray.push({
                        id: results[i].Id,
                        customerCode: results[i].CustomerCode,
                        fullName: results[i].LastName + ", " + results[i].FirstName,
                        firstName: results[i].FirstName,
                        lastName: results[i].LastName,
                        gender: results[i].Gender,
                        address: results[i].Address,
                        emailAddress: results[i].EmailAddress,
                        telephoneNumber: results[i].TelephoneNumber
                    });
                }
                _this.customerListSource.next(customerListObservableArray);
            }
        });
    };
    // Cutomer List
    ReportsService.prototype.getBrokerList = function (dateStart, dateEnd) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/RepSummary/ListBrokerFilterByUpdateDateTime/" + dateStart + "/" + dateEnd;
        var brokerListObservableArray = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    brokerListObservableArray.push({
                        id: results[i].Id,
                        brokerCode: results[i].BrokerCode,
                        fullName: results[i].LastName + ", " + results[i].FirstName,
                        gender: results[i].Gender,
                        address: results[i].Address,
                        emailAddress: results[i].EmailAddress,
                        telephoneNumber: results[i].TelephoneNumber
                    });
                }
                _this.brokerListSource.next(brokerListObservableArray);
            }
        });
    };
    ReportsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], ReportsService);
    return ReportsService;
}());



/***/ }),

/***/ "../../../../../src/app/security/security.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SecurityService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var SecurityService = (function () {
    function SecurityService() {
    }
    SecurityService.prototype.openPage = function (page) {
        var openFlag = false;
        if (localStorage.getItem("userRights") != null) {
            try {
                var userRights = JSON.parse(localStorage.getItem("userRights"));
                for (var i = 0; i <= userRights.length - 1; i++) {
                    if (userRights[i].page == page) {
                        openFlag = true;
                    }
                }
            }
            catch (e) {
                console.log(e);
            }
        }
        return openFlag;
    };
    SecurityService.prototype.secureActivity = function (page, activity) {
        return true;
    };
    SecurityService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], SecurityService);
    return SecurityService;
}());



/***/ }),

/***/ "../../../../../src/app/settings/settings.index.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- buttons -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button class=\"btn btn-primary\" (click)=\"btnSaveSettingsClick()\" id=\"btnSaveSettings\">\r\n                                <i class=\"fa fa-save fa-fw\"></i> Save\r\n                            </button>\r\n                            <button class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n \r\n            <!-- fields  -->\r\n            <div class=\"card-body\">\r\n\r\n                <!-- tabs -->\r\n                <ul class=\"nav nav-tabs\" role=\"tablist\" style=\"width:100%\">\r\n                    <li class=\"nav-item\">\r\n                        <a [ngClass]=\"{'active': tabDetail1[0], 'nav-link': true }\" (click)=\"tabDetail1Click(0)\" data-toggle=\"tab\" role=\"tab\">Company and Software</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a [ngClass]=\"{'active': tabDetail1[1], 'nav-link': true }\" (click)=\"tabDetail1Click(1)\" data-toggle=\"tab\" role=\"tab\">User Tagging</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a [ngClass]=\"{'active': tabDetail1[2], 'nav-link': true }\" (click)=\"tabDetail1Click(2)\" data-toggle=\"tab\" role=\"tab\">Foot Notes</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a [ngClass]=\"{'active': tabDetail1[3], 'nav-link': true }\" (click)=\"tabDetail1Click(3)\" data-toggle=\"tab\" role=\"tab\">Sold Unit Proposal</a>\r\n                    </li>\r\n                </ul>\r\n                <br />\r\n\r\n                <!-- tab content -->\r\n                <div class=\"tab-content\" style=\"width:100%\">\r\n                    <div [ngClass]=\"{'active': tabDetail1[0], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-9\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Company</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [(ngModel)]=\"settings.company\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Software Version</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [disabled]=\"true\" [(ngModel)]=\"settings.softwareVersion\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Software Developer</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <input [disabled]=\"true\" [(ngModel)]=\"settings.softwareDeveloper\" type=\"text\" class=\"form-control\">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div [ngClass]=\"{'active': tabDetail1[1], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-9\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Sold Unit Checked By</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbSoldUnitCheckedBy [itemsSource]=\"cmbUsersData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'fullName'\"\r\n                                            [selectedValuePath]=\"'id'\" [(ngModel)]=\"settings.soldUnitCheckedBy\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Sold Unit Approved By</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbSoldUnitApprovedBy [itemsSource]=\"cmbUsersData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'fullName'\"\r\n                                            [selectedValuePath]=\"'id'\" [(ngModel)]=\"settings.soldUnitApprovedBy\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Commission Request Checked By</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbCommissionRequestCheckedBy [itemsSource]=\"cmbUsersData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'fullName'\"\r\n                                            [selectedValuePath]=\"'id'\" [(ngModel)]=\"settings.commissionRequestCheckedBy\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Commission Request Approved By</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-combo-box #cmbCommissionRequestApprovedBy [itemsSource]=\"cmbUsersData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'fullName'\"\r\n                                            [selectedValuePath]=\"'id'\" [(ngModel)]=\"settings.commissionRequestApprovedBy\">\r\n                                        </wj-combo-box>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div [ngClass]=\"{'active': tabDetail1[2], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-9\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Proposal Foot Note</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [(ngModel)]=\"settings.proposalFootNote\" rows=\"8\" style=\"font-family:Courier New\" class=\"form-control\">\r\n                                        </textarea>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Broker Foot Note</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [(ngModel)]=\"settings.brokerFootNote\" rows=\"8\" style=\"font-family:Courier New\" class=\"form-control\">\r\n                                        </textarea>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div [ngClass]=\"{'active': tabDetail1[3], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-9\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Total Investment</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [(ngModel)]=\"settings.totalInvestment\" rows=\"8\" style=\"font-family:Courier New\" class=\"form-control\">\r\n                                                                                </textarea>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Payment Options</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [(ngModel)]=\"settings.paymentOptions\" rows=\"8\" style=\"font-family:Courier New\" class=\"form-control\">\r\n                                        </textarea>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Financing</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <textarea [(ngModel)]=\"settings.financing\" rows=\"8\" style=\"font-family:Courier New\" class=\"form-control\">\r\n                                        </textarea>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <br />\r\n\r\n        <!-- dropdown settings -->\r\n        <div class=\"card\">\r\n            <div class=\"card-header\">\r\n                <p class=\"float-right\">\r\n                    <button type=\"button\" class=\"btn btn-primary\" (click)=\"btnAddDropDownClick()\">\r\n                        <i class=\"fa fa-plus\"></i> Add\r\n                    </button>\r\n                </p>\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdDropDowns [itemsSource]=\"fgdDropDownsCollection\" [selectionMode]=\"3\">\r\n                    <wj-flex-grid-column *ngIf=\"canEdit\" [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditDropDownClick()\" id=\"btnEditDropDown\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column *ngIf=\"canDelete\" [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteDropDownClick()\" id=\"btnDeleteDropDown\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Category'\" [binding]=\"'category'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Description'\" [binding]=\"'description'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Value'\" [binding]=\"'value'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdDropDownsCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdDropDownsCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdDropDownsCollection.pageIndex + 1 }} / {{ fgdDropDownsCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdDropDownsCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdDropDownsCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <app-footer [data]=\"settings\"></app-footer>\r\n\r\n</div>\r\n<!-- <div class=\"content-wrapper\"> -->\r\n\r\n\r\n\r\n\r\n<!-- delete drop down modal -->\r\n<div id=\"mdlDropDownDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlDropDownDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete Drop Down</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{fgdDropDownsCollection.currentItem != null ? fgdDropDownsCollection.currentItem.description : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button id=\"btnOkDropDownDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkDropDownDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok\r\n                </button>\r\n                <button id=\"btnCloseDropDownDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseDropDownDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<!-- edit drop down modal -->\r\n<div id=\"mdlDropDownEdit\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlDropDownEditShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Edit Drop Down</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-3 col-form-label text-right\">Category</label>\r\n                    <div class=\"col-sm-9\">\r\n                        <input [(ngModel)]=\"dropDown.category\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-3 col-form-label text-right\">Description</label>\r\n                    <div class=\"col-sm-9\">\r\n                        <input [(ngModel)]=\"dropDown.description\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-3 col-form-label text-right\">Value</label>\r\n                    <div class=\"col-sm-9\">\r\n                        <input [(ngModel)]=\"dropDown.value\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSaveDropDownEditModal\" class=\"btn btn-success\" (click)=\"btnSaveDropDownEditModalClick()\" id=\"btnSaveDropDownEditModal\">  \r\n                    <i class=\"fa fa-check fa-fw\"></i> Save</button>\r\n                <button type=\"button\" id=\"btnCloseDrownDownEditModal\" class=\"btn btn-danger\" (click)=\"btnCloseDrownDownEditModalClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/settings/settings.index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SettingsIndex; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__settings_service__ = __webpack_require__("../../../../../src/app/settings/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// service(s)


var SettingsIndex = (function () {
    // =======
    // angular
    // =======
    // constructor
    function SettingsIndex(settingsService, router, toastr, viewContainer, activatedRoute, securityService, location) {
        this.settingsService = settingsService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.activatedRoute = activatedRoute;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        // userrights
        this.canEdit = false;
        this.canSave = false;
        this.canLock = false;
        this.canUnlock = false;
        this.canPrint = false;
        this.canDelete = false;
        this.tabDetail1 = new Array(true, false, false, false);
        // =================
        // public properties
        // =================
        this.title = 'Settings';
        // model(s)
        this.settings = {
            id: 0,
            company: "",
            softwareVersion: "",
            softwareDeveloper: "",
            soldUnitCheckedBy: 0,
            soldUnitCheckedByUser: "",
            soldUnitApprovedBy: 0,
            soldUnitApprovedByUser: "",
            commissionRequestCheckedBy: 0,
            commissionRequestCheckedByUser: "",
            commissionRequestApprovedBy: 0,
            commissionRequestApprovedByUser: "",
            proposalFootNote: "",
            brokerFootNote: "",
            totalInvestment: "",
            paymentOptions: "",
            financing: ""
        };
        this.dropDown = {
            id: 0,
            category: "",
            description: "",
            value: ""
        };
        // modal(s)
        this.mdlDropDownDeleteShow = false;
        this.mdlDropDownEditShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    SettingsIndex.prototype.getUserRights = function () {
        var userRightsData = localStorage.getItem('userRights');
        var userRights = JSON.parse(userRightsData);
        for (var i = 0; i < userRights.length; i++) {
            if (userRights[i].page == 'SETTINGS') {
                this.canEdit = userRights[i].canEdit;
                this.canSave = userRights[i].canSave;
                this.canLock = userRights[i].canLock;
                this.canUnlock = userRights[i].canUnlock;
                this.canPrint = userRights[i].canPrint;
                this.canDelete = userRights[i].canDelete;
            }
        }
    };
    // ng
    SettingsIndex.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdDropDownsData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdDropDownsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdDropDownsData);
        if (this.securityService.openPage("SETTINGS") == true) {
            this.getSettings();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
        this.getUserRights();
        if (!this.canSave) {
            document.getElementById("btnSaveSettings").disabled = true;
        }
    };
    SettingsIndex.prototype.ngOnDestroy = function () {
        if (this.settingsSub != null)
            this.settingsSub.unsubscribe();
        if (this.settingsSavedSub != null)
            this.settingsSavedSub.unsubscribe();
        if (this.usersSub != null)
            this.usersSub.unsubscribe();
        if (this.dropDownsSub != null)
            this.dropDownsSub.unsubscribe();
        if (this.dropDownsDeletedSub != null)
            this.dropDownsDeletedSub.unsubscribe();
        if (this.dropDownsSavedSub != null)
            this.dropDownsSavedSub.unsubscribe();
    };
    // ===============
    // private methods
    // ===============
    SettingsIndex.prototype.getIdParameter = function () {
        var id = 0;
        this.activatedRoute.params.subscribe(function (params) {
            id = params['id'];
        });
        return id;
    };
    // ==============
    // public methods
    // ==============
    // detail
    SettingsIndex.prototype.getSettings = function () {
        var _this = this;
        this.settingsService.getSettings();
        this.settingsSub = this.settingsService.settingsObservable
            .subscribe(function (data) {
            _this.settings.id = data.id;
            _this.settings.company = data.company;
            _this.settings.softwareVersion = data.softwareVersion;
            _this.settings.softwareDeveloper = data.softwareDeveloper;
            _this.settings.soldUnitCheckedBy = data.soldUnitCheckedBy;
            _this.settings.soldUnitApprovedBy = data.soldUnitApprovedBy;
            _this.settings.commissionRequestCheckedBy = data.commissionRequestCheckedBy;
            _this.settings.commissionRequestApprovedBy = data.commissionRequestApprovedBy;
            _this.settings.proposalFootNote = data.proposalFootNote;
            _this.settings.brokerFootNote = data.brokerFootNote;
            _this.settings.totalInvestment = data.totalInvestment;
            _this.settings.paymentOptions = data.paymentOptions;
            _this.settings.financing = data.financing;
            _this.getUsers(data);
            _this.getDropDowns();
        });
    };
    // detail comboxes
    SettingsIndex.prototype.getUsers = function (defaultValue) {
        var _this = this;
        this.settingsService.getUsers();
        this.usersSub = this.settingsService.usersObservable.subscribe(function (data) {
            var users = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    users.push({
                        id: data[i].id,
                        username: data[i].username,
                        fullName: data[i].fullName,
                        password: data[i].password,
                        status: data[i].status,
                        aspNet: data[i].aspNetId
                    });
                }
            }
            _this.cmbUsersData = users;
            setTimeout(function () { _this.settings.soldUnitCheckedBy = defaultValue.soldUnitCheckedBy; }, 100);
            setTimeout(function () { _this.settings.soldUnitApprovedBy = defaultValue.soldUnitApprovedBy; }, 100);
            setTimeout(function () { _this.settings.commissionRequestCheckedBy = defaultValue.commissionRequestCheckedBy; }, 100);
            setTimeout(function () { _this.settings.commissionRequestApprovedBy = defaultValue.commissionRequestApprovedBy; }, 100);
        });
    };
    // detail line1 (drop downs)
    SettingsIndex.prototype.getDropDowns = function () {
        var _this = this;
        this.settingsService.getDropDowns();
        this.dropDownsSub = this.settingsService.dropDownsObservable.subscribe(function (data) {
            _this.fgdDropDownsData = data;
            _this.fgdDropDownsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdDropDownsData);
            _this.fgdDropDownsCollection.pageSize = 15;
            _this.fgdDropDownsCollection.trackChanges = true;
        });
    };
    // ======
    // events
    // ======
    // detail operations
    SettingsIndex.prototype.btnSaveSettingsClick = function () {
        var _this = this;
        var btnSaveSettings = document.getElementById("btnSaveSettings");
        btnSaveSettings.setAttribute("disabled", "disabled");
        btnSaveSettings.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.settingsService.saveSettings(this.settings);
        this.settingsSub = this.settingsService.settingsSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveSettings.removeAttribute("disabled");
                btnSaveSettings.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveSettings.removeAttribute("disabled");
                btnSaveSettings.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    // detail line1 (drop downs) list operations
    SettingsIndex.prototype.btnAddDropDownClick = function () {
        this.dropDown.id = 0;
        this.dropDown.category = "";
        this.dropDown.description = "";
        this.dropDown.value = "";
        this.mdlDropDownEditShow = true;
    };
    SettingsIndex.prototype.btnEditDropDownClick = function () {
        var selectedDropDown = this.fgdDropDownsCollection.currentItem;
        this.dropDown.id = selectedDropDown.id;
        this.dropDown.category = selectedDropDown.category;
        this.dropDown.description = selectedDropDown.description;
        this.dropDown.value = selectedDropDown.value;
        this.mdlDropDownEditShow = true;
    };
    SettingsIndex.prototype.btnDeleteDropDownClick = function () {
        this.mdlDropDownDeleteShow = true;
    };
    // detail line1 (drop down) delete modal operations
    SettingsIndex.prototype.btnOkDropDownDeleteModalClick = function () {
        var _this = this;
        var btnOkDropDownDeleteModal = document.getElementById("btnOkDropDownDeleteModal");
        var btnCloseDropDownDeleteModal = document.getElementById("btnCloseDropDownDeleteModal");
        btnOkDropDownDeleteModal.setAttribute("disabled", "disabled");
        btnCloseDropDownDeleteModal.setAttribute("disabled", "disabled");
        var selectedDropDown = this.fgdDropDownsCollection.currentItem;
        this.settingsService.deleteDropDowns(selectedDropDown.id);
        this.dropDownsDeletedSub = this.settingsService.dropDownsDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdDropDownsCollection.remove(selectedDropDown);
                btnOkDropDownDeleteModal.removeAttribute("disabled");
                btnCloseDropDownDeleteModal.removeAttribute("disabled");
                _this.mdlDropDownDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkDropDownDeleteModal.removeAttribute("disabled");
                btnCloseDropDownDeleteModal.removeAttribute("disabled");
            }
        });
    };
    SettingsIndex.prototype.btnCloseDropDownDeleteModalClick = function () {
        this.mdlDropDownDeleteShow = false;
    };
    // detail line1 (user rights) edit modal operations
    SettingsIndex.prototype.btnSaveDropDownEditModalClick = function () {
        var _this = this;
        var btnSaveDropDownEditModal = document.getElementById("btnSaveDropDownEditModal");
        var btnCloseDropDownEditModal = document.getElementById("btnCloseDrownDownEditModal");
        btnSaveDropDownEditModal.setAttribute("disabled", "disabled");
        btnSaveDropDownEditModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        btnCloseDropDownEditModal.setAttribute("disabled", "disabled");
        this.settingsService.saveDropDowns(this.dropDown);
        this.dropDownsSavedSub = this.settingsService.dropDownsSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveDropDownEditModal.removeAttribute("disabled");
                btnSaveDropDownEditModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseDropDownEditModal.removeAttribute("disabled");
                _this.mdlDropDownEditShow = false;
                _this.getDropDowns();
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveDropDownEditModal.removeAttribute("disabled");
                btnSaveDropDownEditModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseDropDownEditModal.removeAttribute("disabled");
            }
        });
    };
    SettingsIndex.prototype.btnCloseDrownDownEditModalClick = function () {
        this.mdlDropDownEditShow = false;
    };
    // detail tab index click
    SettingsIndex.prototype.tabDetail1Click = function (index) {
        for (var i = 0; i <= this.tabDetail1.length - 1; i++) {
            if (index == i)
                this.tabDetail1[i] = true;
            else
                this.tabDetail1[i] = false;
        }
    };
    SettingsIndex = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/settings/settings.index.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__settings_service__["a" /* SettingsService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], SettingsIndex);
    return SettingsIndex;
}());



/***/ }),

/***/ "../../../../../src/app/settings/settings.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SettingsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// wijmo

// async

var SettingsService = (function () {
    // =======
    // angular
    // =======
    function SettingsService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        // detail
        this.settingsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.settingsObservable = this.settingsSource.asObservable();
        this.settingsSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.settingsSavedObservable = this.settingsSavedSource.asObservable();
        // detail combo boxes
        this.usersSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.usersObservable = this.usersSource.asObservable();
        // detail line1 (drop downs)
        this.dropDownsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsObservable = this.dropDownsSource.asObservable();
        this.dropDownsDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsDeletedObservable = this.dropDownsDeletedSource.asObservable();
        this.dropDownsSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsSavedObservable = this.dropDownsSavedSource.asObservable();
    }
    // ==============
    // public methods
    // ==============
    // detail
    SettingsService.prototype.getSettings = function () {
        var _this = this;
        var settings;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/SysSettings/Detail";
        this.http.get(url, this.options).subscribe(function (response) {
            var result = response.json();
            if (result != null) {
                settings = {
                    id: result.Id,
                    company: result.Company,
                    softwareVersion: result.SoftwareVersion,
                    softwareDeveloper: result.SoftwareDeveloper,
                    soldUnitCheckedBy: result.SoldUnitCheckedBy,
                    soldUnitCheckedByUser: "",
                    soldUnitApprovedBy: result.SoldUnitApprovedBy,
                    soldUnitApprovedByUser: "",
                    commissionRequestCheckedBy: result.CommissionRequestCheckedBy,
                    commissionRequestCheckedByUser: "",
                    commissionRequestApprovedBy: result.CommissionRequestApprovedBy,
                    commissionRequestApprovedByUser: "",
                    proposalFootNote: result.ProposalFootNote,
                    brokerFootNote: result.BrokerFootNote,
                    totalInvestment: result.TotalInvestment,
                    paymentOptions: result.PaymentOptions,
                    financing: result.Financing
                };
                _this.settingsSource.next(settings);
            }
            else {
                _this.toastr.error("No data.");
                setTimeout(function () {
                    _this.router.navigate(["/menu"]);
                }, 1000);
            }
        });
    };
    // detail operations
    SettingsService.prototype.saveSettings = function (settings) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/SysSettings/Save";
        this.http.put(url, JSON.stringify(settings), this.options).subscribe(function (response) {
            _this.settingsSavedSource.next(1);
        }, function (error) {
            _this.settingsSavedSource.next(0);
        });
    };
    // detail combo boxes
    SettingsService.prototype.getUsers = function () {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUser/List";
        var users = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    users.push({
                        id: results[i].Id,
                        username: results[i].Username,
                        fullName: results[i].FullName,
                        password: results[i].Password,
                        status: results[i].Status,
                        aspNet: results[i].AspNetId
                    });
                }
                _this.usersSource.next(users);
            }
            else {
                _this.toastr.error("No users.");
            }
        });
    };
    // detail line1 (drop downs) list
    SettingsService.prototype.getDropDowns = function () {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        var dropDowns = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    dropDowns.push({
                        id: results[i].Id,
                        category: results[i].Category,
                        description: results[i].Description,
                        value: results[i].Value
                    });
                }
                _this.dropDownsSource.next(dropDowns);
            }
            else {
                _this.toastr.error("No drop downs.");
            }
        });
    };
    // detail line1 (drop downs) list operations
    SettingsService.prototype.deleteDropDowns = function (id) {
        var _this = this;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.dropDownsDeletedSource.next(1);
        }, function (error) {
            _this.dropDownsDeletedSource.next(0);
        });
    };
    SettingsService.prototype.saveDropDowns = function (dropDown) {
        var _this = this;
        if (dropDown.id == 0) {
            var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/Add";
            this.http.post(url, JSON.stringify(dropDown), this.options).subscribe(function (response) {
                _this.dropDownsSavedSource.next(1);
            }, function (error) {
                _this.dropDownsSavedSource.next(0);
            });
        }
        else {
            var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/Save";
            this.http.put(url, JSON.stringify(dropDown), this.options).subscribe(function (response) {
                _this.dropDownsSavedSource.next(1);
            }, function (error) {
                _this.dropDownsSavedSource.next(0);
            });
        }
    };
    SettingsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], SettingsService);
    return SettingsService;
}());



/***/ }),

/***/ "../../../../../src/app/soldUnit/soldUnit.detail.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<unit-query [isShowing]=\"mdlUnitQueryModalShow\" (pickedUnit)=\"mdlUnitQueryModalClose($event)\"></unit-query>\r\n\r\n<br>\r\n<br>\r\n\r\n<div class=\"content-wrapper\">\r\n\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/soldUnit\">Sold Unit List</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- detail operations, e.g., save, lock, unlock, etc. -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 29%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 70%;\" align=\"right\">\r\n                            <div class=\"btn-group\">\r\n                                <button class=\"btn btn-primary\" type=\"button\" (click)=\"btnPrintSoldUnitClick()\">\r\n                                    <i class=\"fa fa-print fa-fw\"></i> Print\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn btn-primary dropdown-toggle dropdown-toggle-split\"\r\n                                    data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    <span class=\"sr-only\">Toggle Dropdown</span>\r\n                                </button>\r\n                                <div class=\"dropdown-menu\">\r\n                                    <a class=\"dropdown-item\" routerLink=\".\" (click)=\"btnPrintReservationAgreementClick()\">Reservation Agreement</a>\r\n                                    <a class=\"dropdown-item\" routerLink=\".\" (click)=\"btnPrintBuyersUndertakingClick()\">Buyer's\r\n                                        Undertaking</a>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <button id=\"btnLockSoldUnit\" [disabled]=\"soldUnit.isLocked\" class=\"btn btn-primary\"\r\n                                (click)=\"btnLockSoldUnitClick()\" id=\"btnLockSoldUnit\">\r\n                                <i class=\"fa fa-lock fa-fw\"></i> Lock\r\n                            </button>\r\n                            <button id=\"btnUnlockSoldUnit\" [disabled]=\"!soldUnit.isLocked\" class=\"btn btn-primary\"\r\n                                (click)=\"btnUnlockSoldUnitClick()\" id=\"btnUnlockSoldUnit\">\r\n                                <i class=\"fa fa-unlock fa-fw\"></i> Unlock\r\n                            </button>\r\n                            <button id=\"btnSaveSoldUnit\" [disabled]=\"soldUnit.isLocked\" class=\"btn btn-primary\"\r\n                                (click)=\"btnSaveSoldUnitClick()\" id=\"btnSaveSoldUnit\">\r\n                                <i class=\"fa fa-save fa-fw\"></i> Save\r\n                            </button>\r\n                            <button id=\"btnCancelSoldUnit\" [disabled]=\"!soldUnit.isLocked\" class=\"btn btn-warning\"\r\n                                (click)=\"btnCancelSoldUnitClick()\" id=\"btnCancelSoldUnit\">\r\n                                <i class=\"fa fa-ban fa-fw\"></i> Cancel\r\n                            </button>\r\n                            <button id=\"btnTransferSoldUnit\" [disabled]=\"!soldUnit.isLocked\" class=\"btn btn-warning\"\r\n                                (click)=\"btnTransferSoldUnitClick()\">\r\n                                <i class=\"fa fa-share-square-o fa-fw\"></i> Transfer\r\n                            </button>\r\n                            <button id=\"btnCloseSoldUnit\" class=\"btn btn-danger\" routerLink=\"/soldUnit\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n            <!-- <div class=\"card-header\"> -->\r\n\r\n            <!-- detail fields -->\r\n            <div class=\"card-body\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Sold Unit No.</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"soldUnit.soldUnitNumber\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Date</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-input-date #calSoldUnitDate [(text)]=\"soldUnit.soldUnitDate\"\r\n                                    [isDisabled]=\"soldUnit.isLocked\" format=\"M/d/yyyy\">\r\n                                </wj-input-date>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Project</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <div class=\"input-group\">\r\n                                    <input [(ngModel)]=\"soldUnit.project\" disabled type=\"text\" class=\"form-control\">\r\n                                    <div class=\"input-group-append\">\r\n                                        <button id=\"btnOpenUnitQueryModal\" class=\"btn btn-info\"\r\n                                            [disabled]=\"soldUnit.isLocked\" (click)=\"btnOpenUnitQueryModalClick()\">\r\n                                            <i class=\"fa fa-refresh fa-fw\"></i>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Unit</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"soldUnit.unit\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Customer</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbCustomers [itemsSource]=\"cmbCustomersData\"\r\n                                    [isDisabled]=\"soldUnit.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'fullName'\" [selectedValuePath]=\"'id'\"\r\n                                    [(ngModel)]=\"soldUnit.customerId\" style=\"width: 100%;\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Broker</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbBrokers [itemsSource]=\"cmbBrokersData\"\r\n                                    [isDisabled]=\"soldUnit.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'fullName'\" [selectedValuePath]=\"'id'\"\r\n                                    [(ngModel)]=\"soldUnit.brokerId\" style=\"width: 100%;\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Agent</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"soldUnit.agent\" [disabled]=\"soldUnit.isLocked\" type=\"text\"\r\n                                    class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Broker Coordinator</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"soldUnit.brokerCoordinator\" [disabled]=\"soldUnit.isLocked\"\r\n                                    type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Remarks</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <textarea [disabled]=\"soldUnit.isLocked\" [(ngModel)]=\"soldUnit.remarks\" rows=\"3\"\r\n                                    class=\"form-control\">\r\n                                </textarea>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Checklist</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <div class=\"input-group\">\r\n                                    <wj-combo-box #cmbChecklists [itemsSource]=\"cmbChecklistsData\"\r\n                                        [isDisabled]=\"soldUnit.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                        [displayMemberPath]=\"'checklist'\" [selectedValuePath]=\"'id'\"\r\n                                        [(ngModel)]=\"soldUnit.checklistId\">\r\n                                    </wj-combo-box>\r\n                                    <div class=\"input-group-append\">\r\n                                        <button id=\"btnOpenSoldUnitRequirementsModal\" class=\"btn btn-info\"\r\n                                            [disabled]=\"soldUnit.isLocked\"\r\n                                            (click)=\"btnOpenSoldUnitRequirementsModalClick()\">\r\n                                            <i class=\"fa fa-refresh fa-fw\"></i>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Selling Price</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-input-number [(value)]=\"soldUnit.price\" [isDisabled]=true>\r\n                                </wj-input-number>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">TCP</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-input-number [(value)]=\"soldUnit.tcp\" [isDisabled]=true>\r\n                                </wj-input-number>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">TCP Discount</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-input-number [isDisabled]=true>\r\n                                </wj-input-number>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">TSP</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-input-number [(value)]=\"soldUnit.tsp\" [isDisabled]=true>\r\n                                </wj-input-number>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Financing Types</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbFinancingType [itemsSource]=\"cmbFinancingTypeData\"\r\n                                    [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'value'\"\r\n                                    [selectedValuePath]=\"'value'\" [(ngModel)]=\"soldUnit.financingType\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Prepared By</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbPreparedBy [itemsSource]=\"cmbUsersData\" [isDisabled]=\"true\"\r\n                                    [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'fullName'\"\r\n                                    [selectedValuePath]=\"'id'\" [(ngModel)]=\"soldUnit.preparedByr\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Checked By</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbCheckedBy [itemsSource]=\"cmbUsersData\"\r\n                                    [isDisabled]=\"soldUnit.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'fullName'\" [selectedValuePath]=\"'id'\"\r\n                                    [(ngModel)]=\"soldUnit.checkedBy\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Approved By</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbApprovedBy [itemsSource]=\"cmbUsersData\"\r\n                                    [isDisabled]=\"soldUnit.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'fullName'\" [selectedValuePath]=\"'id'\"\r\n                                    [(ngModel)]=\"soldUnit.approvedBy\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Status</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbStatus [itemsSource]=\"cmbStatusData\" [isDisabled]=true\r\n                                    [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'value'\"\r\n                                    [selectedValuePath]=\"'value'\" [(ngModel)]=\"soldUnit.status\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n            <!--  <div class=\"card-body\"> -->\r\n        </div>\r\n        <!-- <div class=\"card\"> -->\r\n        <br />\r\n        <ul class=\"nav nav-tabs\" role=\"tablist\" style=\"width:100%\">\r\n            <li class=\"nav-item\">\r\n                <a [ngClass]=\"{'active': tabDetail1[0], 'nav-link': true }\" (click)=\"tabDetail1Click(0)\"\r\n                    data-toggle=\"tab\" role=\"tab\">Checklist Requirements</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a [ngClass]=\"{'active': tabDetail1[1], 'nav-link': true }\" (click)=\"tabDetail1Click(1)\"\r\n                    data-toggle=\"tab\" role=\"tab\">Total Investments</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a [ngClass]=\"{'active': tabDetail1[2], 'nav-link': true }\" (click)=\"tabDetail1Click(2)\"\r\n                    data-toggle=\"tab\" role=\"tab\">Payment Options</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a [ngClass]=\"{'active': tabDetail1[3], 'nav-link': true }\" (click)=\"tabDetail1Click(3)\"\r\n                    data-toggle=\"tab\" role=\"tab\">Financing</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a [ngClass]=\"{'active': tabDetail1[4], 'nav-link': true }\" (click)=\"tabDetail1Click(4)\"\r\n                    data-toggle=\"tab\" role=\"tab\">Co-Owner</a>\r\n            </li>\r\n        </ul>\r\n        <br />\r\n        <div class=\"tab-content\" style=\"width:100%\">\r\n\r\n            <!-- tab1 detail item (checklist requirements) -->\r\n            <div [ngClass]=\"{'active': tabDetail1[0], 'tab-pane': true }\" role=\"tabpanel\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <wj-flex-grid #fgdSoldUnitRequirements [itemsSource]=\"fgdSoldUnitRequirementsCollection\"\r\n                            [selectionMode]=\"3\" [frozenColumns]=\"1\">\r\n                            <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                            <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\"\r\n                                [width]=\"90\">\r\n                                <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                                    <button [disabled]=\"soldUnit.isLocked\" class=\"btn btn-primary btn-xs btn-block\"\r\n                                        (click)=\"btnEditSoldUnitRequirementClick()\" data-toggle=\"modal\"\r\n                                        data-backdrop=\"static\" data-keyboard=\"false\">\r\n                                        <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                                    </button>\r\n                                </ng-template>\r\n                            </wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'No'\" [binding]=\"'checklistRequirementNo'\"\r\n                                [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Requirement'\" [binding]=\"'checklistRequirement'\"\r\n                                [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Remarks'\" [binding]=\"'remarks'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Category'\" [binding]=\"'checklistCategory'\"\r\n                                [isReadOnly]=\"true\" [width]=\"200\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Type'\" [binding]=\"'checklistType'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'A'\" [binding]=\"'checklistWithAttachments'\"\r\n                                [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Status'\" [binding]=\"'status'\" [isReadOnly]=\"true\"\r\n                                [width]=\"200\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'statusDate'\" [isReadOnly]=\"true\"\r\n                                [width]=\"150\"></wj-flex-grid-column>\r\n                        </wj-flex-grid>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdSoldUnitRequirementsCollection.moveToFirstPage()\">\r\n                                <i class=\"fa fa-fast-backward\"></i> First\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdSoldUnitRequirementsCollection.moveToPreviousPage()\">\r\n                                <i class=\"fa fa-step-backward\"></i> Previous\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                {{ fgdSoldUnitRequirementsCollection.pageIndex + 1 }} / {{\r\n                                fgdSoldUnitRequirementsCollection.pageCount }}\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdSoldUnitRequirementsCollection.moveToNextPage()\">\r\n                                Next\r\n                                <i class=\"fa fa-step-forward\"></i>\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdSoldUnitRequirementsCollection.moveToLastPage()\">\r\n                                Last\r\n                                <i class=\"fa fa-fast-forward\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- tab2 detail item (total investments) -->\r\n            <div [ngClass]=\"{'active': tabDetail1[1], 'tab-pane': true }\" role=\"tabpanel\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <table border=\"0\" style=\"width: 100%;\">\r\n                            <tr>\r\n                                <td style=\"width: 39%;\">\r\n                                    Total Investments (press the \"Write\" button to generate text) =>\r\n                                </td>\r\n                                <td style=\"width: 1%;\"></td>\r\n                                <td style=\"width: 60%;\" align=\"right\">\r\n                                    <button id=\"btnWriteTotalInvestment\" class=\"btn btn-secondary\"\r\n                                        [disabled]=\"soldUnit.isLocked\" (click)=\"btnWriteTotalInvestmentClick()\">\r\n                                        <i class=\"fa fa-pencil-square-o fa-fw\"></i> Write\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"form-group row\">\r\n                            <div class=\"col-md-12\">\r\n                                <textarea [disabled]=\"soldUnit.isLocked\" [(ngModel)]=\"soldUnit.totalInvestment\"\r\n                                    rows=\"15\" style=\"font-family:Courier New\" class=\"form-control\">\r\n                                            </textarea>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- tab3 detail item (payment options) -->\r\n            <div [ngClass]=\"{'active': tabDetail1[2], 'tab-pane': true }\" role=\"tabpanel\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Equity (%)</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.equityPercent\"\r\n                                            [isDisabled]=\"soldUnit.isLocked\" (lostFocus)=\"txtEquityPercentKeyup()\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Equity</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.equityValue\"\r\n                                            [isDisabled]=\"soldUnit.isLocked\" (lostFocus)=\"txtEquityValueKeyup()\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Discount</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.discount\" [isDisabled]=\"soldUnit.isLocked\"\r\n                                            (textChanged)=\"txtDiscountKeyup()\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Discounted Equity</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.discountedEquity\" [isDisabled]=\"true\"\r\n                                            (textChanged)=\"txtDiscountKeyup()\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Reservation</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.reservation\"\r\n                                            [isDisabled]=\"soldUnit.isLocked\" (textChanged)=\"txtReservationKeyup()\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Net Equity</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.netEquity\" [isDisabled]=true>\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Equity Spot Payment 1\r\n                                        (First)</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.equitySpotPayment1\"\r\n                                            [isDisabled]=\"soldUnit.isLocked\" (lostFocus)=\"txtEquitySpotPaymentKeyup()\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Equity Spot Payment 2\r\n                                        (Mid)</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.equitySpotPayment2\"\r\n                                            [isDisabled]=\"soldUnit.isLocked\" (lostFocus)=\"txtEquitySpotPaymentKeyup()\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Equity Spot Payment 3\r\n                                        (Last)</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.equitySpotPayment3\"\r\n                                            [isDisabled]=\"soldUnit.isLocked\" (lostFocus)=\"txtEquitySpotPaymentKeyup()\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Equity Balance</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.netEquityBalance\" [isDisabled]=true>\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Interest</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.netEquityInterest\"\r\n                                            [isDisabled]=\"soldUnit.isLocked\"\r\n                                            (textChanged)=\"txtNetEquityInterestKeyup()\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">No. of Payments</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.netEquityNoOfPayments\"\r\n                                            [isDisabled]=\"soldUnit.isLocked\"\r\n                                            (textChanged)=\"txtNetEquityNoOfPaymentsKeyup()\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Amortization</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.netEquityAmortization\" [isDisabled]=true>\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <br />\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <table border=\"0\" style=\"width: 100%;\">\r\n                            <tr>\r\n                                <td style=\"width: 39%;\">\r\n                                    Payment Options (press the \"Write\" button to generate text) =>\r\n                                </td>\r\n                                <td style=\"width: 1%;\"></td>\r\n                                <td style=\"width: 60%;\" align=\"right\">\r\n                                    <button id=\"btnWritePaymentOptions\" class=\"btn btn-secondary\"\r\n                                        [disabled]=\"soldUnit.isLocked\" (click)=\"btnWritePaymentOptionsClick()\">\r\n                                        <i class=\"fa fa-pencil-square-o fa-fw\"></i> Write\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"form-group row\">\r\n                            <div class=\"col-sm-12\">\r\n                                <textarea [disabled]=\"soldUnit.isLocked\" [(ngModel)]=\"soldUnit.paymentOptions\" rows=\"15\"\r\n                                    style=\"font-family:Courier New\" class=\"form-control\">\r\n                                            </textarea>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <br />\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <table border=\"0\" style=\"width: 100%;\">\r\n                            <tr>\r\n                                <td style=\"width: 39%;\">\r\n                                    Equity Payment Schedule\r\n                                </td>\r\n                                <td style=\"width: 1%;\"></td>\r\n                                <td style=\"width: 60%;\" align=\"right\">\r\n                                    <button id=\"btnPrintEquityPaymentSchedule\" class=\"btn btn-primary\"\r\n                                        (click)=\"btnPrintEquityPaymentScheduleClick()\">\r\n                                        <i class=\"fa fa-print fa-fw\"></i> Print\r\n                                    </button>\r\n                                    <button id=\"btnCreateEquityPaymentSchedule\" class=\"btn btn-secondary\"\r\n                                        [disabled]=\"soldUnit.isLocked\" (click)=\"btnCreateEquityPaymentScheduleClick()\">\r\n                                        <i class=\"fa fa-magic fa-fw\"></i> Create\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <wj-flex-grid #fgdSoldUnitEquitySchedule [itemsSource]=\"fgdSoldUnitEquityScheduleCollection\"\r\n                            [selectionMode]=\"3\" [frozenColumns]=\"1\">\r\n                            <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                            <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\"\r\n                                [width]=\"90\">\r\n                                <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                                    <button class=\"btn btn-primary btn-xs btn-block\"\r\n                                        (click)=\"btnEditSoldUnitEquityScheduleClick()\" data-toggle=\"modal\"\r\n                                        data-backdrop=\"static\" data-keyboard=\"false\">\r\n                                        <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                                    </button>\r\n                                </ng-template>\r\n                            </wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'paymentDate'\" [isReadOnly]=\"true\"\r\n                                [width]=\"120\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Amortization'\" [binding]=\"'amortization'\"\r\n                                [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Check No'\" [binding]=\"'checkNumber'\" [isReadOnly]=\"true\"\r\n                                [width]=\"150\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Check Date'\" [binding]=\"'checkDate'\" [isReadOnly]=\"true\"\r\n                                [width]=\"120\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Check Bank'\" [binding]=\"'checkBank'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Remarks'\" [binding]=\"'remarks'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'*'\"></wj-flex-grid-column>\r\n                        </wj-flex-grid>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdSoldUnitEquityScheduleCollection.moveToFirstPage()\">\r\n                                <i class=\"fa fa-fast-backward\"></i> First\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdSoldUnitEquityScheduleCollection.moveToPreviousPage()\">\r\n                                <i class=\"fa fa-step-backward\"></i> Previous\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                {{ fgdSoldUnitEquityScheduleCollection.pageIndex + 1 }} / {{\r\n                                fgdSoldUnitEquityScheduleCollection.pageCount }}\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdSoldUnitEquityScheduleCollection.moveToNextPage()\">\r\n                                Next\r\n                                <i class=\"fa fa-step-forward\"></i>\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\"\r\n                                (click)=\"fgdSoldUnitEquityScheduleCollection.moveToLastPage()\">\r\n                                Last\r\n                                <i class=\"fa fa-fast-forward\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- tab4 detail item (financing) -->\r\n            <div [ngClass]=\"{'active': tabDetail1[3], 'tab-pane': true }\" role=\"tabpanel\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Balance</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.balance\" [isDisabled]=true>\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Interest</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.balanceInterest\"\r\n                                            [isDisabled]=\"soldUnit.isLocked\" (textChanged)=\"txtBalanceInterestKeyup()\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">No. of Payments</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.balanceNoOfPayments\"\r\n                                            [isDisabled]=\"soldUnit.isLocked\"\r\n                                            (textChanged)=\"txtBalanceNoOfPaymentsKeyup()\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-sm-4 col-form-label text-right\">Amortization</label>\r\n                                    <div class=\"col-sm-8\">\r\n                                        <wj-input-number [(value)]=\"soldUnit.balanceAmortization\"\r\n                                            [isDisabled]=\"soldUnit.isLocked\">\r\n                                        </wj-input-number>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <br />\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <table border=\"0\" style=\"width: 100%;\">\r\n                            <tr>\r\n                                <td style=\"width: 39%;\">\r\n                                    Financing (press the \"Write\" button to generate text) =>\r\n                                </td>\r\n                                <td style=\"width: 1%;\"></td>\r\n                                <td style=\"width: 60%;\" align=\"right\">\r\n                                    <button id=\"btnWriteFinancing\" class=\"btn btn-secondary\"\r\n                                        [disabled]=\"soldUnit.isLocked\" (click)=\"btnWriteFinancingClick()\">\r\n                                        <i class=\"fa fa-pencil-square-o fa-fw\"></i> Write\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"form-group row\">\r\n                            <div class=\"col-md-12\">\r\n                                <textarea [disabled]=\"soldUnit.isLocked\" [(ngModel)]=\"soldUnit.financing\" rows=\"15\"\r\n                                    style=\"font-family:Courier New\" class=\"form-control\">\r\n                                            </textarea>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- tab4 detail item (co-owner) -->\r\n            <div [ngClass]=\"{'active': tabDetail1[4], 'tab-pane': true }\" role=\"tabpanel\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <table border=\"0\" style=\"width: 100%;\">\r\n                            <tr>\r\n                                <td style=\"width: 100%;\" align=\"right\">\r\n                                    <button id=\"btnAddSoldUnitCoOwner\" class=\"btn btn-primary\"\r\n                                        (click)=\"btnAddSoldUnitCoOwnerClick()\">\r\n                                        <i class=\"fa fa-plus fa-fw\"></i> Add\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <wj-flex-grid #fgdSoldUnitCoOwner [itemsSource]=\"fgdSoldUnitCoOwnerCollection\"\r\n                            [selectionMode]=\"3\" [frozenColumns]=\"2\">\r\n                            <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                            <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\"\r\n                                [width]=\"90\">\r\n                                <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                                    <button class=\"btn btn-primary btn-xs btn-block\"\r\n                                        (click)=\"btnEditSoldUnitCoOwnerClick()\" data-toggle=\"modal\"\r\n                                        data-backdrop=\"static\" data-keyboard=\"false\" id=\"btnEditSoldUnitCoOwner\">\r\n                                        <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                                    </button>\r\n                                </ng-template>\r\n                            </wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                                <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                                    <button class=\"btn btn-danger btn-xs btn-block\"\r\n                                        (click)=\"btnDeleteSoldUnitCoOwnerClick()\" data-toggle=\"modal\"\r\n                                        data-backdrop=\"static\" data-keyboard=\"false\" id=\"btnDeleteSoldUnitCoOwner\">\r\n                                        <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                                    </button>\r\n                                </ng-template>\r\n                            </wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Co-Owner'\" [binding]=\"'customer'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'1*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Address'\" [binding]=\"'address'\" [isReadOnly]=\"true\"\r\n                                [width]=\"'3*'\"></wj-flex-grid-column>\r\n                        </wj-flex-grid>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-sm-12 btn-group\" id=\"\">\r\n                                <button type=\"button\" class=\"btn btn-secondary\"\r\n                                    (click)=\"fgdSoldUnitCoOwnerCollection.moveToFirstPage()\">\r\n                                    <i class=\"fa fa-fast-backward\"></i> First\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn btn-secondary\"\r\n                                    (click)=\"fgdSoldUnitCoOwnerCollection.moveToPreviousPage()\">\r\n                                    <i class=\"fa fa-step-backward\"></i> Previous\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                    {{ fgdSoldUnitCoOwnerCollection.pageIndex + 1 }} / {{\r\n                                    fgdSoldUnitCoOwnerCollection.pageCount\r\n                                    }}\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn btn-secondary\"\r\n                                    (click)=\"fgdSoldUnitCoOwnerCollection.moveToNextPage()\">\r\n                                    Next\r\n                                    <i class=\"fa fa-step-forward\"></i>\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn btn-secondary\"\r\n                                    (click)=\"fgdSoldUnitCoOwnerCollection.moveToLastPage()\">\r\n                                    Last\r\n                                    <i class=\"fa fa-fast-forward\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- <div class=\"container-fluid\"> -->\r\n\r\n    <app-footer [data]=\"soldUnit\"></app-footer>\r\n</div>\r\n<!-- <div class=\"content-wrapper\"> -->\r\n\r\n<!-- coowner prompt modal -->\r\n<div id=\"mdlSoldUnitCoOwnerModal\" class=\"modal fade\" role=\"dialog\"\r\n    [ngStyle]=\"{'display': mdlSoldUnitCoOwnerModalShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Co Owner</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div [hidden]=\"isCoOwnerLoadingHide\" style=\"width: 100%; text-align: center;\">\r\n                    <i class=\"fa fa-spinner fa-spin\"></i>\r\n                </div>\r\n                <div [hidden]=\"isCoOwnerContentHide\">\r\n                    <div class=\"form-group row\">\r\n                        <label class=\"col-sm-4 col-form-label text-right\">Customer</label>\r\n                        <div class=\"col-sm-8\">\r\n                            <wj-combo-box #cboUnitSoldCoOwnerCustomer [itemsSource]=\"cmbUnitSoldCoOwnerCustomerData\"\r\n                                [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'fullName'\"\r\n                                [selectedValuePath]=\"'id'\" style=\"width: 100%;\">\r\n                            </wj-combo-box>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSoldUnitCoOwnerModalSave\" class=\"btn btn-success\"\r\n                    (click)=\"btnSaveSoldUnitCoOwnerModalClick()\" id=\"btnSaveSoldUnitCoOwnerModal\">\r\n                    <i class=\"fa fa-save fa-fw\"></i> Save\r\n                </button>\r\n                <button type=\"button\" id=\"btnSoldUnitCoOwnerModalClose\" class=\"btn btn-danger\"\r\n                    (click)=\"btnCloseSoldUnitCoOwnerModalClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- coowner prompt delete modal -->\r\n<div id=\"mdlSoldUnitCoOwnerDeleteModal\" class=\"modal fade\" role=\"dialog\"\r\n    [ngStyle]=\"{'display': mdlSoldUnitCoOwnerDeleteModalShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-sm\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete Co-Owner</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Are you sure you want to delete this co-owner?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSoldUnitCoOwnerConfirmDelete\" class=\"btn btn-danger\"\r\n                    (click)=\"btnSoldUnitCoOwnerConfirmDeleteClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                </button>\r\n                <button type=\"button\" id=\"btnSoldUnitCoOwnerConfirmDeleteCloseModal\" class=\"btn btn-default\"\r\n                    (click)=\"btnSoldUnitCoOwnerConfirmDeleteCloseModalClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- new checklist requirements prompt modal -->\r\n<div id=\"mdlSoldUnitRequirementsModal\" class=\"modal fade\" role=\"dialog\"\r\n    [ngStyle]=\"{'display': mdlSoldUnitRequirementsModalShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Checklist Requirements</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Add checklist requirements? This will delete the existing checklist requirements.\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSoldUnitRequirementsModalOk\" class=\"btn btn-success\"\r\n                    (click)=\"btnOkSoldUnitRequirementsModalClick()\">\r\n                    <i class=\"fa fa-check fa-fw\"></i> Ok</button>\r\n                <button type=\"button\" id=\"btnSoldUnitRequirementsModalClose\" class=\"btn btn-danger\"\r\n                    (click)=\"btnCloseSoldUnitRequirementsModalClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- edit checklist requirement modal -->\r\n<div id=\"mdlEditSoldUnitRequirementModal\" class=\"modal fade\" role=\"dialog\"\r\n    [ngStyle]=\"{'display': mdlEditSoldUnitRequirementModalShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Edit Checklist Requirement</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <ul class=\"nav nav-tabs\" role=\"tablist\" style=\"width:100%\">\r\n                    <li class=\"nav-item\">\r\n                        <a [ngClass]=\"{'active': tabDetail1Modal1[0], 'nav-link': true }\"\r\n                            (click)=\"tabDetail1Modal1Click(0)\" data-toggle=\"tab\" role=\"tab\">Requirement</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a [ngClass]=\"{'active': tabDetail1Modal1[1], 'nav-link': true }\"\r\n                            (click)=\"tabDetail1Modal1Click(1)\" data-toggle=\"tab\" role=\"tab\">Attachments</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a [ngClass]=\"{'active': tabDetail1Modal1[2], 'nav-link': true }\"\r\n                            (click)=\"tabDetail1Modal1Click(2)\" data-toggle=\"tab\" role=\"tab\">Activities</a>\r\n                    </li>\r\n                </ul>\r\n                <br>\r\n                <div class=\"tab-content\" style=\"width:100%\">\r\n                    <div [ngClass]=\"{'active': tabDetail1Modal1[0], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">No.</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"soldUnitRequirement.checklistRequirementNo\" disabled type=\"text\"\r\n                                    class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Requirement</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"soldUnitRequirement.checklistRequirement\" disabled type=\"text\"\r\n                                    class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Category</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"soldUnitRequirement.checklistCategory\" disabled type=\"text\"\r\n                                    class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Remarks</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <textarea [(ngModel)]=\"soldUnitRequirement.remarks\" rows=\"4\" class=\"form-control\">\r\n                                </textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Status</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbUnitSoldRequirementStatus\r\n                                    [itemsSource]=\"cmbUnitSoldRequirementStatusData\" [isEditable]=\"false\"\r\n                                    [isRequired]=\"true\" [displayMemberPath]=\"'value'\" [selectedValuePath]=\"'value'\"\r\n                                    [(ngModel)]=\"soldUnitRequirement.status\" style=\"width: 100%;\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div [ngClass]=\"{'active': tabDetail1Modal1[1], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-3 col-form-label text-right\">Attachment 1</label>\r\n                            <div class=\"col-sm-5\">\r\n                                <input [(ngModel)]=\"soldUnitRequirement.attachment1\" disabled type=\"text\"\r\n                                    class=\"form-control\">\r\n                            </div>\r\n                            <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                <input type=\"file\" (change)=\"btnOpenSoldUnitRequirementAttachment1Click($event)\"\r\n                                    name=\"btnOpenSoldUnitRequirementAttachment1\" accept=\"image/*\" style=\"display:none;\">\r\n                                <i class=\"fa fa-floppy-o fa-fw\"></i>\r\n                            </label>\r\n                            <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                <a [href]=\"soldUnitRequirement.attachment1\" target=\"blank\" style=\"color:white;\">\r\n                                    <i class=\"fa fa-search fa-fw\"></i>\r\n                                </a>\r\n                            </label>\r\n                            <label class=\"btn btn-danger col-sm-1 mr-1\"\r\n                                (click)=\"btnDeleteSoldUnitRequirementAttachment1Click()\">\r\n                                <i class=\"fa fa-eraser\" aria-hidden=\"true\" style=\"color:white;\"></i>\r\n                            </label>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-3 col-form-label text-right\">Attachment 2</label>\r\n                            <div class=\"col-sm-5\">\r\n                                <input [(ngModel)]=\"soldUnitRequirement.attachment2\" disabled type=\"text\"\r\n                                    class=\"form-control\">\r\n                            </div>\r\n                            <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                <input type=\"file\" (change)=\"btnOpenSoldUnitRequirementAttachment2Click($event)\"\r\n                                    name=\"btnOpenSoldUnitRequirementAttachment2\" accept=\"image/*\" style=\"display:none;\">\r\n                                <i class=\"fa fa-floppy-o fa-fw\"></i>\r\n                            </label>\r\n                            <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                <a [href]=\"soldUnitRequirement.attachment2\" target=\"blank\" style=\"color:white;\">\r\n                                    <i class=\"fa fa-search fa-fw\"></i>\r\n                                </a>\r\n                            </label>\r\n                            <label class=\"btn btn-danger col-sm-1 mr-1\"\r\n                                (click)=\"btnDeleteSoldUnitRequirementAttachment2Click()\">\r\n                                <i class=\"fa fa-eraser\" aria-hidden=\"true\" style=\"color:white;\"></i>\r\n                            </label>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-3 col-form-label text-right\">Attachment 3</label>\r\n                            <div class=\"col-sm-5\">\r\n                                <input [(ngModel)]=\"soldUnitRequirement.attachment3\" disabled type=\"text\"\r\n                                    class=\"form-control\">\r\n                            </div>\r\n                            <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                <input type=\"file\" (change)=\"btnOpenSoldUnitRequirementAttachment3Click($event)\"\r\n                                    name=\"btnOpenSoldUnitRequirementAttachment3\" accept=\"image/*\" style=\"display:none;\">\r\n                                <i class=\"fa fa-floppy-o fa-fw\"></i>\r\n                            </label>\r\n                            <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                <a [href]=\"soldUnitRequirement.attachment3\" target=\"blank\" style=\"color:white;\">\r\n                                    <i class=\"fa fa-search fa-fw\"></i>\r\n                                </a>\r\n                            </label>\r\n                            <label class=\"btn btn-danger col-sm-1 mr-1\"\r\n                                (click)=\"btnDeleteSoldUnitRequirementAttachment3Click()\">\r\n                                <i class=\"fa fa-eraser\" aria-hidden=\"true\" style=\"color:white;\"></i>\r\n                            </label>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-3 col-form-label text-right\">Attachment 4</label>\r\n                            <div class=\"col-sm-5\">\r\n                                <input [(ngModel)]=\"soldUnitRequirement.attachment4\" disabled type=\"text\"\r\n                                    class=\"form-control\">\r\n                            </div>\r\n                            <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                <input type=\"file\" (change)=\"btnOpenSoldUnitRequirementAttachment4Click($event)\"\r\n                                    name=\"btnOpenSoldUnitRequirementAttachment4\" accept=\"image/*\" style=\"display:none;\">\r\n                                <i class=\"fa fa-floppy-o fa-fw\"></i>\r\n                            </label>\r\n                            <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                <a [href]=\"soldUnitRequirement.attachment4\" target=\"blank\" style=\"color:white;\">\r\n                                    <i class=\"fa fa-search fa-fw\"></i>\r\n                                </a>\r\n                            </label>\r\n                            <label class=\"btn btn-danger col-sm-1 mr-1\"\r\n                                (click)=\"btnDeleteSoldUnitRequirementAttachment4Click()\">\r\n                                <i class=\"fa fa-eraser\" aria-hidden=\"true\" style=\"color:white;\"></i>\r\n                            </label>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-3 col-form-label text-right\">Attachment 5</label>\r\n                            <div class=\"col-sm-5\">\r\n                                <input [(ngModel)]=\"soldUnitRequirement.attachment5\" disabled type=\"text\"\r\n                                    class=\"form-control\">\r\n                            </div>\r\n                            <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                <input type=\"file\" (change)=\"btnOpenSoldUnitRequirementAttachment5Click($event)\"\r\n                                    name=\"btnOpenSoldUnitRequirementAttachment5\" accept=\"image/*\" style=\"display:none;\">\r\n                                <i class=\"fa fa-floppy-o fa-fw\"></i>\r\n                            </label>\r\n                            <label class=\"btn btn-info col-sm-1 mr-1\">\r\n                                <a [href]=\"soldUnitRequirement.attachment5\" target=\"blank\" style=\"color:white;\">\r\n                                    <i class=\"fa fa-search fa-fw\"></i>\r\n                                </a>\r\n                            </label>\r\n                            <label class=\"btn btn-danger col-sm-1 mr-1\"\r\n                                (click)=\"btnDeleteSoldUnitRequirementAttachment5Click()\">\r\n                                <i class=\"fa fa-eraser\" aria-hidden=\"true\" style=\"color:white;\"></i>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                    <div [ngClass]=\"{'active': tabDetail1Modal1[2], 'tab-pane': true }\" role=\"tabpanel\">\r\n                        <div class=\"card\">\r\n\r\n                            <div class=\"card-header\">\r\n                                <table border=\"0\" style=\"width: 100%;\">\r\n                                    <tr>\r\n                                        <td style=\"width: 100%;\" align=\"right\">\r\n                                            <button id=\"btnAddSoldUnitRequirementActivity\" class=\"btn btn-primary\"\r\n                                                (click)=\"btnAddSoldUnitRequirementActivitiesClick()\">\r\n                                                <i class=\"fa fa-plus fa-fw\"></i> Add\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                </table>\r\n                            </div>\r\n                            <div class=\"card-body\">\r\n                                <wj-flex-grid #fgdSoldUnitRequirementActivities\r\n                                    [itemsSource]=\"fgdSoldUnitRequirementActivitiesCollection\" [selectionMode]=\"3\"\r\n                                    [frozenColumns]=\"2\">\r\n                                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                                    <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\"\r\n                                        [width]=\"90\">\r\n                                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                                            <button class=\"btn btn-primary btn-xs btn-block\"\r\n                                                (click)=\"btnEditSoldUnitRequirementActivitiesClick()\"\r\n                                                data-toggle=\"modal\" data-backdrop=\"static\" data-keyboard=\"false\">\r\n                                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                                            </button>\r\n                                        </ng-template>\r\n                                    </wj-flex-grid-column>\r\n                                    <wj-flex-grid-column [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                                            <button class=\"btn btn-danger btn-xs btn-block\"\r\n                                                (click)=\"btnDeleteSoldUnitRequirementActivitiesClick()\"\r\n                                                data-toggle=\"modal\" data-backdrop=\"static\" data-keyboard=\"false\">\r\n                                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                                            </button>\r\n                                        </ng-template>\r\n                                    </wj-flex-grid-column>\r\n                                    <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'activityDate'\"\r\n                                        [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                                    <wj-flex-grid-column [header]=\"'Activity'\" [binding]=\"'activity'\"\r\n                                        [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                                    <wj-flex-grid-column [header]=\"'Remarks'\" [binding]=\"'remarks'\" [isReadOnly]=\"true\"\r\n                                        [width]=\"'*'\"></wj-flex-grid-column>\r\n                                    <wj-flex-grid-column [header]=\"'User'\" [binding]=\"'user'\" [isReadOnly]=\"true\"\r\n                                        [width]=\"100\"></wj-flex-grid-column>\r\n                                </wj-flex-grid>\r\n                            </div>\r\n                            <div class=\"card-footer\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-sm-12 btn-group\" id=\"\">\r\n                                        <button type=\"button\" class=\"btn btn-secondary\"\r\n                                            (click)=\"fgdSoldUnitRequirementActivitiesCollection.moveToFirstPage()\">\r\n                                            <i class=\"fa fa-fast-backward\"></i> First\r\n                                        </button>\r\n                                        <button type=\"button\" class=\"btn btn-secondary\"\r\n                                            (click)=\"fgdSoldUnitRequirementActivitiesCollection.moveToPreviousPage()\">\r\n                                            <i class=\"fa fa-step-backward\"></i> Previous\r\n                                        </button>\r\n                                        <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                            {{ fgdSoldUnitRequirementActivitiesCollection.pageIndex + 1 }} / {{\r\n                                            fgdSoldUnitRequirementActivitiesCollection.pageCount\r\n                                            }}\r\n                                        </button>\r\n                                        <button type=\"button\" class=\"btn btn-secondary\"\r\n                                            (click)=\"fgdSoldUnitRequirementActivitiesCollection.moveToNextPage()\">\r\n                                            Next\r\n                                            <i class=\"fa fa-step-forward\"></i>\r\n                                        </button>\r\n                                        <button type=\"button\" class=\"btn btn-secondary\"\r\n                                            (click)=\"fgdSoldUnitRequirementActivitiesCollection.moveToLastPage()\">\r\n                                            Last\r\n                                            <i class=\"fa fa-fast-forward\"></i>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSaveEditSoldUnitRequirementModal\" class=\"btn btn-success\"\r\n                    (click)=\"btnSaveEditSoldUnitRequirementModalClick()\">\r\n                    <i class=\"fa fa-check fa-fw\"></i> Save</button>\r\n                <button type=\"button\" id=\"btnCloseEditSoldUnitRequirementModal\" class=\"btn btn-danger\"\r\n                    (click)=\"btnCloseEditSoldUnitRequirementModalClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<!-- Checklist Requirement Activity  -->\r\n<div id=\"mdlSoldUnitRequirementActivityModal\" class=\"modal fade\" role=\"dialog\"\r\n    [ngStyle]=\"{'display': mdlSoldUnitRequirementActivityModalShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Activity</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Date</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <wj-input-date #calActivityDate [(ngModel)]=\"soldUnitRequirementActivity.activityDate\"\r\n                            format=\"M/d/yyyy\">\r\n                        </wj-input-date>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Activity</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <textarea [(ngModel)]=\"soldUnitRequirementActivity.activity\" rows=\"3\" class=\"form-control\">\r\n                        </textarea>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Remarks</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <textarea [(ngModel)]=\"soldUnitRequirementActivity.remarks\" rows=\"3\" class=\"form-control\">\r\n                        </textarea>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSaveSoldUnitRequirementActivityModal\" class=\"btn btn-success\"\r\n                    (click)=\"btnSaveSoldUnitRequirementActivityModalClick()\">\r\n                    <i class=\"fa fa-check fa-fw\"></i> Save</button>\r\n                <button type=\"button\" id=\"btnCloseSoldUnitRequirementActivityModal\" class=\"btn btn-danger\"\r\n                    (click)=\"btnCloseSoldUnitRequirementActivityModalClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- cancel sold unit modal -->\r\n<div id=\"mdlSoldUnitCancelModal\" class=\"modal fade\" role=\"dialog\"\r\n    [ngStyle]=\"{'display': mdlSoldUnitCancelModalShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Cancel Sold Unit</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Reason for cancelation:</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <textarea [(ngModel)]=\"soldUnit.remarks\" rows=\"3\" class=\"form-control\">\r\n                        </textarea>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSoldUnitCancelModalOk\" class=\"btn btn-warning\"\r\n                    (click)=\"btnSoldUnitCancelModalOkClick()\">\r\n                    <i class=\"fa fa-ban fa-fw\"></i> Ok</button>\r\n                <button type=\"button\" id=\"btnSoldUnitCancelModalClose\" class=\"btn btn-danger\"\r\n                    (click)=\"btnSoldUnitCancelModalCloseClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- transfer sold unit modal -->\r\n<div id=\"mdlSoldUnitTransferModal\" class=\"modal fade\" role=\"dialog\"\r\n    [ngStyle]=\"{'display': mdlSoldUnitTransferModalShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Transfer Sold Unit</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Reason for transfering:</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <textarea [(ngModel)]=\"soldUnit.remarks\" rows=\"3\" class=\"form-control\">\r\n                        </textarea>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSoldUnitTransferModalOk\" class=\"btn btn-success\"\r\n                    (click)=\"btnSoldUnitTransferModalOkClick()\">\r\n                    <i class=\"fa fa-check fa-fw\"></i> Ok</button>\r\n                <button type=\"button\" id=\"btnSoldUnitTransferModalClose\" class=\"btn btn-danger\"\r\n                    (click)=\"btnSoldUnitTransferModalCloseClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- equity payment schedule  -->\r\n<div id=\"mdlSoldUnitEquityScheduleModal\" class=\"modal fade\" role=\"dialog\"\r\n    [ngStyle]=\"{'display': mdlSoldUnitEquityScheduleModalShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Equity Payment</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Payment Date</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <wj-input-date [(value)]=\"soldUnitEquitySchedule.paymentDate\" format=\"M/d/yyyy\">\r\n                        </wj-input-date>\r\n                        <!-- <input [(ngModel)]=\"soldUnitEquitySchedule.paymentDate\" disabled type=\"text\" class=\"form-control\"> -->\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Amortization</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <wj-input-number [(value)]=\"soldUnitEquitySchedule.amortization\">\r\n                        </wj-input-number>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Check No.</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input [(ngModel)]=\"soldUnitEquitySchedule.checkNumber\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Check Date</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <wj-input-date [(value)]=\"soldUnitEquitySchedule.checkDate\" format=\"M/d/yyyy\">\r\n                        </wj-input-date>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Check Bank</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input [(ngModel)]=\"soldUnitEquitySchedule.checkBank\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Remarks</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <textarea [(ngModel)]=\"soldUnitEquitySchedule.remarks\" rows=\"3\" class=\"form-control\">\r\n                        </textarea>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSaveSoldUnitEquityScheduleModal\" class=\"btn btn-success\"\r\n                    (click)=\"btnSaveSoldUnitEquityScheduleModalClick()\">\r\n                    <i class=\"fa fa-save fa-fw\"></i> Save</button>\r\n                <button type=\"button\" id=\"btnCloseSoldUnitEquityScheduleModal\" class=\"btn btn-danger\"\r\n                    (click)=\"btnCloseSoldUnitEquityScheduleModalClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/soldUnit/soldUnit.detail.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SoldUnitDetail; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo_angular2_input__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.input.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo_angular2_input___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo_angular2_input__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__soldUnit_service__ = __webpack_require__("../../../../../src/app/soldUnit/soldUnit.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__unit_unit_service__ = __webpack_require__("../../../../../src/app/unit/unit.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo


// message box

// service(s)



var SoldUnitDetail = (function () {
    // =======
    // angular
    // =======
    function SoldUnitDetail(soldUnitService, router, toastr, viewContainer, activatedRoute, securityService, location, unitService) {
        this.soldUnitService = soldUnitService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.activatedRoute = activatedRoute;
        this.securityService = securityService;
        this.location = location;
        this.unitService = unitService;
        // ==================
        // private properties
        // ==================
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // userrights
        this.canEdit = false;
        this.canSave = false;
        this.canLock = false;
        this.canUnlock = false;
        this.canPrint = false;
        this.canDelete = false;
        // =================
        // public properties
        // =================
        this.title = 'Sold Unit Detail';
        // detail model
        this.soldUnit = {
            id: 0,
            soldUnitNumber: "",
            soldUnitDate: "",
            projectId: 0,
            project: "",
            unitId: 0,
            unit: "",
            customerId: 0,
            customer: "",
            brokerId: 0,
            broker: "",
            agent: "",
            brokerCoordinator: "",
            checklistId: 0,
            checklist: "",
            price: 0,
            tcp: 0,
            tsp: 0,
            tcpdiscount: 0,
            equityValue: 0,
            equityPercent: 0,
            equitySpotPayment1: 0,
            equitySpotPayment2: 0,
            equitySpotPayment3: 0,
            discount: 0,
            discountedEquity: 0,
            reservation: 0,
            netEquity: 0,
            netEquityBalance: 0,
            netEquityInterest: 0,
            netEquityNoOfPayments: 0,
            netEquityAmortization: 0,
            balance: 0,
            balanceInterest: 0,
            balanceNoOfPayments: 0,
            balanceAmortization: 0,
            totalInvestment: "",
            paymentOptions: "",
            financing: "",
            remarks: "",
            financingType: "",
            preparedBy: 0,
            preparedByUser: "",
            checkedBy: 0,
            checkedByUser: "",
            approvedBy: 0,
            approvedByUser: "",
            status: "SOLD",
            isLocked: false,
            createdBy: 1,
            createdDateTime: this.currentDateString,
            updatedBy: 1,
            updatedDateTime: this.currentDateString,
        };
        // detail line1 model
        this.soldUnitRequirement = {
            id: 0,
            soldUnitId: 0,
            checklistRequirementId: 0,
            checklistRequirement: "",
            checklistRequirementNo: 0,
            checklistCategory: "",
            checklistType: "",
            checklistWithAttachments: false,
            attachment1: "",
            attachment2: "",
            attachment3: "",
            attachment4: "",
            attachment5: "",
            remarks: "",
            status: "NOT OK",
            statusDate: this.currentDateString
        };
        // detail line1 line1 model
        this.soldUnitRequirementActivity = {
            id: 0,
            soldUnitRequirementId: 0,
            activityDate: this.currentDateString,
            activity: "",
            remarks: "",
            userId: 0,
            user: ""
        };
        // detail line2 model
        this.soldUnitEquitySchedule = {
            id: 0,
            soldUnitId: 0,
            paymentDate: new Date(),
            amortization: 0,
            checkNumber: "",
            checkDate: new Date(),
            checkBank: "",
            remarks: "",
        };
        // tabs
        this.tabDetail1 = new Array(true, false, false, false, false);
        this.tabDetail1Modal1 = new Array(true, false, false);
        // modals
        this.mdlSoldUnitRequirementsModalShow = false;
        this.mdlEditSoldUnitRequirementModalShow = false;
        this.mdlSoldUnitRequirementActivityModalShow = false;
        this.mdlSoldUnitEquityScheduleModalShow = false;
        this.mdlUnitQueryModalShow = false;
        this.mdlUnitQueryModalStatus = false;
        this.mdlUnitQueryModalSequence = 1;
        this.mdlSoldUnitCancelModalShow = false;
        this.mdlSoldUnitTransferModalShow = false;
        this.mdlSoldUnitCoOwnerModalShow = false;
        this.mdlSoldUnitCoOwnerDeleteModalShow = false;
        this.isCoOwnerLoadingHide = false;
        this.isCoOwnerContentHide = true;
        this.soldUnitCoOwnerObj = {
            Id: 0,
            SoldUnitId: 0,
            CustomerId: 0
        };
        this.soldUnitCoOwnerId = 0;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    SoldUnitDetail.prototype.getUserRights = function () {
        var userRightsData = localStorage.getItem('userRights');
        var userRights = JSON.parse(userRightsData);
        for (var i = 0; i < userRights.length; i++) {
            if (userRights[i].page == 'SOLD UNIT DETAIL') {
                this.canEdit = userRights[i].canEdit;
                this.canSave = userRights[i].canSave;
                this.canLock = userRights[i].canLock;
                this.canUnlock = userRights[i].canUnlock;
                this.canPrint = userRights[i].canPrint;
                this.canDelete = userRights[i].canDelete;
            }
        }
    };
    // ng
    SoldUnitDetail.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdSoldUnitRequirementsData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdSoldUnitRequirementsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdSoldUnitRequirementsData);
        this.fgdSoldUnitRequirementActivitiesData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdSoldUnitRequirementActivitiesCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdSoldUnitRequirementActivitiesData);
        this.fgdSoldUnitEquityScheduleData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdSoldUnitEquityScheduleCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdSoldUnitEquityScheduleData);
        this.fgdSoldUnitCoOwnerData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdSoldUnitCoOwnerCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdSoldUnitCoOwnerData);
        if (this.securityService.openPage("SOLD UNIT DETAIL") == true) {
            this.getSoldUnit();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
        this.getUserRights();
        if (!this.canPrint) {
            document.getElementById("btnPrintSoldUnit").hidden = true;
        }
        if (!this.canLock) {
            document.getElementById("btnLockSoldUnit").hidden = true;
        }
        if (!this.canUnlock) {
            document.getElementById("btnUnlockSoldUnit").hidden = true;
        }
        if (!this.canSave) {
            document.getElementById("btnSaveSoldUnit").hidden = true;
            document.getElementById("btnSaveSoldUnitCoOwnerModal").hidden = true;
        }
        if (!this.canEdit) {
            document.getElementById("btnEditSoldUnitCoOwner").hidden = true;
        }
        if (!this.canDelete) {
            document.getElementById("btnDeleteSoldUnitCoOwner").hidden = true;
        }
    };
    SoldUnitDetail.prototype.ngOnDestroy = function () {
        if (this.soldUnitSub != null)
            this.soldUnitSub.unsubscribe();
        if (this.soldUnitSavedSub != null)
            this.soldUnitSavedSub.unsubscribe();
        if (this.soldUnitLockedSub != null)
            this.soldUnitLockedSub.unsubscribe();
        if (this.soldUnitUnlockedSub != null)
            this.soldUnitUnlockedSub.unsubscribe();
        if (this.soldUnitCancelSub != null)
            this.soldUnitCancelSub.unsubscribe();
        if (this.soldUnitTransferSub != null)
            this.soldUnitTransferSub.unsubscribe();
        if (this.soldUnitRequirementsSub != null)
            this.soldUnitRequirementsSub.unsubscribe();
        if (this.soldUnitRequirementAttachmentSub != null)
            this.soldUnitRequirementAttachmentSub.unsubscribe();
        if (this.soldUnitRequirementActivitiesSub != null)
            this.soldUnitRequirementActivitiesSub.unsubscribe();
        if (this.soldUnitEquityScheduleSub != null)
            this.soldUnitEquityScheduleSub.unsubscribe();
        if (this.soldUnitEquityScheduleSavedSub != null)
            this.soldUnitEquityScheduleSavedSub.unsubscribe();
        if (this.cmbProjectsSub != null)
            this.cmbProjectsSub.unsubscribe();
        if (this.cmbUnitsSub != null)
            this.cmbUnitsSub.unsubscribe();
        if (this.cmbChecklistsSub != null)
            this.cmbChecklistsSub.unsubscribe();
        if (this.cmbCustomersSub != null)
            this.cmbCustomersSub.unsubscribe();
        if (this.cmbBrokersSub != null)
            this.cmbBrokersSub.unsubscribe();
        if (this.cmbStatusesSub != null)
            this.cmbStatusesSub.unsubscribe();
        if (this.soldUnitCoOwnerCustomerSub != null)
            this.soldUnitCoOwnerCustomerSub.unsubscribe();
        if (this.soldUnitCoOwnerSub != null)
            this.soldUnitCoOwnerSub.unsubscribe();
        if (this.soldUnitSavedSub != null)
            this.soldUnitSavedSub.unsubscribe();
        if (this.addSoldUnitCoOwnerCustomerSub != null)
            this.addSoldUnitCoOwnerCustomerSub.unsubscribe();
        if (this.updateSoldUnitCoOwnerCustomerSub != null)
            this.updateSoldUnitCoOwnerCustomerSub.unsubscribe();
        if (this.deleteSoldUnitCoOwnerCustomerSub != null)
            this.deleteSoldUnitCoOwnerCustomerSub.unsubscribe();
    };
    // ===============
    // private methods
    // ===============
    SoldUnitDetail.prototype.getIdParameter = function () {
        var id = 0;
        this.activatedRoute.params.subscribe(function (params) {
            id = params['id'];
        });
        return id;
    };
    // ==============
    // public methods
    // ==============
    // detail
    SoldUnitDetail.prototype.getSoldUnit = function () {
        var _this = this;
        this.soldUnitService.getSoldUnit(this.getIdParameter());
        this.soldUnitSub = this.soldUnitService.soldUnitObservable
            .subscribe(function (data) {
            _this.soldUnit.id = data.id;
            _this.soldUnit.soldUnitNumber = data.soldUnitNumber;
            _this.soldUnit.soldUnitDate = data.soldUnitDate;
            _this.soldUnit.projectId = data.projectId;
            _this.soldUnit.project = data.project;
            _this.soldUnit.unitId = data.unitId;
            _this.soldUnit.unit = data.unit;
            _this.soldUnit.customerId = data.customerId;
            _this.soldUnit.customer = data.customer;
            _this.soldUnit.brokerId = data.brokerId;
            _this.soldUnit.broker = data.broker;
            _this.soldUnit.agent = data.agent;
            _this.soldUnit.brokerCoordinator = data.brokerCoordinator;
            _this.soldUnit.checklistId = data.checklistId;
            _this.soldUnit.checklist = data.checklist;
            _this.soldUnit.price = data.price;
            _this.soldUnit.tcp = data.tcp;
            _this.soldUnit.tsp = data.tsp;
            _this.soldUnit.tcpdiscount = data.tcpdiscount;
            _this.soldUnit.equityValue = data.equityValue;
            _this.soldUnit.equityPercent = data.equityPercent;
            _this.soldUnit.equitySpotPayment1 = data.equitySpotPayment1;
            _this.soldUnit.equitySpotPayment2 = data.equitySpotPayment2;
            _this.soldUnit.equitySpotPayment3 = data.equitySpotPayment3;
            _this.soldUnit.discount = data.discount;
            _this.soldUnit.discountedEquity = data.discountedEquity;
            _this.soldUnit.reservation = data.reservation;
            _this.soldUnit.netEquity = data.netEquity;
            _this.soldUnit.netEquityBalance = data.netEquityBalance;
            _this.soldUnit.netEquityInterest = data.netEquityInterest;
            _this.soldUnit.netEquityNoOfPayments = data.netEquityNoOfPayments;
            _this.soldUnit.netEquityAmortization = data.netEquityAmortization;
            _this.soldUnit.balance = data.balance;
            _this.soldUnit.balanceInterest = data.balanceInterest;
            _this.soldUnit.balanceNoOfPayments = data.balanceNoOfPayments;
            _this.soldUnit.balanceAmortization = data.balanceAmortization;
            _this.soldUnit.totalInvestment = data.totalInvestment;
            _this.soldUnit.paymentOptions = data.paymentOptions;
            _this.soldUnit.financing = data.financing;
            _this.soldUnit.remarks = data.remarks;
            _this.soldUnit.financingType = data.financingType;
            console.log(data.financingType);
            _this.soldUnit.preparedBy = data.preparedBy;
            _this.soldUnit.preparedByUser = data.preparedByUser;
            _this.soldUnit.checkedBy = data.checkedBy;
            _this.soldUnit.checkedByUser = data.checkedByUser;
            _this.soldUnit.approvedBy = data.approvedBy;
            _this.soldUnit.approvedByUser = data.approvedByUser;
            _this.soldUnit.status = data.status;
            _this.soldUnit.isLocked = data.isLocked;
            _this.soldUnit.createdBy = data.createdBy;
            _this.soldUnit.createdDateTime = data.createdDateTime;
            _this.soldUnit.updatedBy = data.updatedBy;
            _this.soldUnit.updatedDateTime = data.updatedDateTime;
            _this.getChecklistsPerProjectId(_this.soldUnit);
            _this.getCmbCustomers(data);
            _this.getCmbBrokers(data);
            _this.getCmbUsers(data);
            _this.getCmbDropdowns(data);
            _this.getSoldUnitRequirements();
            _this.getSoldUnitEquitySchedule();
        });
    };
    // detail combo boxes
    SoldUnitDetail.prototype.getCmbCustomers = function (defaultValue) {
        var _this = this;
        this.soldUnitService.getCustomers();
        this.cmbCustomersSub = this.soldUnitService.customersObservable.subscribe(function (data) {
            _this.cmbCustomersData = data;
            setTimeout(function () { _this.soldUnit.customerId = defaultValue.customerId; }, 100);
        });
    };
    SoldUnitDetail.prototype.getCmbBrokers = function (defaultValue) {
        var _this = this;
        this.soldUnitService.getBrokers();
        this.cmbBrokersSub = this.soldUnitService.brokersObservable.subscribe(function (data) {
            _this.cmbBrokersData = data;
            setTimeout(function () { _this.soldUnit.brokerId = defaultValue.brokerId; }, 100);
        });
    };
    SoldUnitDetail.prototype.getCmbUsers = function (defaultValue) {
        var _this = this;
        this.soldUnitService.getUsers();
        this.cmbUsersSub = this.soldUnitService.usersObservable.subscribe(function (data) {
            _this.cmbUsersData = data;
            setTimeout(function () { _this.soldUnit.preparedBy = defaultValue.preparedBy; }, 100);
            setTimeout(function () { _this.soldUnit.checkedBy = defaultValue.checkedBy; }, 100);
            setTimeout(function () { _this.soldUnit.approvedBy = defaultValue.approvedBy; }, 100);
        });
    };
    SoldUnitDetail.prototype.getCmbDropdowns = function (defaultValue) {
        var _this = this;
        this.soldUnitService.getDropDowns();
        var statuses = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        var financingTypes = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.cmbStatusesSub = this.soldUnitService.dropDownsObservable.subscribe(function (data) {
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].category == "SOLD UNIT STATUS") {
                        statuses.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                    if (data[i].category == "FINANCING TYPE") {
                        financingTypes.push({
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                }
            }
            _this.cmbStatusData = statuses;
            _this.cmbFinancingTypeData = financingTypes;
            setTimeout(function () {
                _this.soldUnit.status = defaultValue.status;
                _this.soldUnit.financingType = defaultValue.financingType;
            }, 100);
        });
    };
    // detail combo boxes when project is changed
    SoldUnitDetail.prototype.getChecklistsPerProjectId = function (defaultValue) {
        var _this = this;
        this.soldUnitService.getChecklistsPerProject(this.soldUnit.projectId);
        this.cmbChecklistsSub = this.soldUnitService.checklistsObservable.subscribe(function (data) {
            _this.cmbChecklistsData = data;
            setTimeout(function () { _this.soldUnit.checklistId = defaultValue.checklistId; }, 100);
        });
    };
    // - create new detail line1 (checklist requirements) list - IMPORTANT! this will remove 
    //   the existing checklist requirements
    // - detail line1 (checklist requirements) list
    SoldUnitDetail.prototype.getNewSoldUnitRequirements = function () {
        var _this = this;
        this.soldUnitService.getNewSoldUnitRequirements(this.soldUnit.id, this.soldUnit.checklistId);
        this.soldUnitRequirementsSub = this.soldUnitService.soldUnitRequirementsSource.subscribe(function (data) {
            _this.fgdSoldUnitRequirementsData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            _this.fgdSoldUnitRequirementsData = data;
            _this.fgdSoldUnitRequirementsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdSoldUnitRequirementsData);
            _this.fgdSoldUnitRequirementsCollection.pageSize = 15;
            _this.fgdSoldUnitRequirementsCollection.trackChanges = true;
            if (_this.soldUnitRequirementsSub != null)
                _this.soldUnitRequirementsSub.unsubscribe();
            console.log(_this.fgdSoldUnitRequirementsData);
        });
    };
    SoldUnitDetail.prototype.getSoldUnitRequirements = function () {
        var _this = this;
        this.soldUnitService.getSoldUnitRequirements(this.soldUnit.id);
        this.soldUnitRequirementsSub = this.soldUnitService.soldUnitRequirementsSource.subscribe(function (data) {
            _this.fgdSoldUnitRequirementsData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            _this.fgdSoldUnitRequirementsData = data;
            _this.fgdSoldUnitRequirementsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdSoldUnitRequirementsData);
            _this.fgdSoldUnitRequirementsCollection.pageSize = 15;
            _this.fgdSoldUnitRequirementsCollection.trackChanges = true;
            if (_this.soldUnitRequirementsSub != null)
                _this.soldUnitRequirementsSub.unsubscribe();
            console.log(_this.fgdSoldUnitRequirementsData);
        });
    };
    // detail line1 (checklist requirements) combo boxes
    SoldUnitDetail.prototype.getCmbUnitSoldRequirementStatus = function () {
        var _this = this;
        this.soldUnitService.getDropDowns();
        this.cmbUnitSoldRequirementStatusSub = this.soldUnitService.dropDownsObservable.subscribe(function (data) {
            var soldUnitRequirementStatus = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].category == "REQUIREMENT STATUS") {
                        soldUnitRequirementStatus.push({
                            id: data[i].Id,
                            category: data[i].Category,
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                }
            }
            _this.cmbUnitSoldRequirementStatusData = soldUnitRequirementStatus;
            setTimeout(function () {
                var selectedSoldUnitRequirement = _this.fgdSoldUnitRequirementsCollection.currentItem;
                _this.soldUnitRequirement.status = selectedSoldUnitRequirement.status;
            }, 100);
        });
    };
    // detail line1 line1 (checklist requirement activities) list
    SoldUnitDetail.prototype.getSoldUnitRequirementActivities = function () {
        var _this = this;
        this.soldUnitService.getSoldUnitRequirementActivities(this.soldUnitRequirement.id);
        this.soldUnitRequirementActivitiesSub = this.soldUnitService.soldUnitRequirementActivitiesSource.subscribe(function (data) {
            _this.fgdSoldUnitRequirementActivitiesData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            _this.fgdSoldUnitRequirementActivitiesData = data;
            _this.fgdSoldUnitRequirementActivitiesCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdSoldUnitRequirementActivitiesData);
            _this.fgdSoldUnitRequirementActivitiesCollection.pageSize = 15;
            _this.fgdSoldUnitRequirementActivitiesCollection.trackChanges = true;
            if (_this.soldUnitRequirementActivitiesSub != null)
                _this.soldUnitRequirementActivitiesSub.unsubscribe();
        });
    };
    // - create new detail line2 (equity payment schedule) list - IMPORTANT! 
    //   this will remove the existing schedule.  Make sure to save the sold unit first
    // - detail line2 (equity payment schedule)
    SoldUnitDetail.prototype.getNewSoldUnitEquitySchedule = function () {
        var _this = this;
        this.soldUnitService.getNewSoldUnitEquitySchedule(this.soldUnit.id);
        this.soldUnitEquityScheduleSub = this.soldUnitService.soldUnitEquityScheduleObservable.subscribe(function (data) {
            _this.fgdSoldUnitEquityScheduleData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            _this.fgdSoldUnitEquityScheduleData = data;
            _this.fgdSoldUnitEquityScheduleCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdSoldUnitEquityScheduleData);
            _this.fgdSoldUnitEquityScheduleCollection.pageSize = 15;
            _this.fgdSoldUnitEquityScheduleCollection.trackChanges = true;
            if (_this.soldUnitEquityScheduleSub != null)
                _this.soldUnitEquityScheduleSub.unsubscribe();
        });
    };
    SoldUnitDetail.prototype.getSoldUnitEquitySchedule = function () {
        var _this = this;
        this.soldUnitService.getSoldUnitEquitySchedule(this.soldUnit.id);
        this.soldUnitEquityScheduleSub = this.soldUnitService.soldUnitEquityScheduleObservable.subscribe(function (data) {
            _this.fgdSoldUnitEquityScheduleData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            _this.fgdSoldUnitEquityScheduleData = data;
            _this.fgdSoldUnitEquityScheduleCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdSoldUnitEquityScheduleData);
            _this.fgdSoldUnitEquityScheduleCollection.pageSize = 15;
            _this.fgdSoldUnitEquityScheduleCollection.trackChanges = true;
            if (_this.soldUnitEquityScheduleSub != null)
                _this.soldUnitEquityScheduleSub.unsubscribe();
        });
    };
    // transfer sold unit
    SoldUnitDetail.prototype.transferSoldUnit = function () {
        this.soldUnitService.transferSoldUnit(this.soldUnit);
    };
    // ======
    // events
    // ======
    // unit query modal
    SoldUnitDetail.prototype.btnOpenUnitQueryModalClick = function () {
        this.mdlUnitQueryModalShow = true;
        this.mdlUnitQueryModalSequence = 1;
    };
    SoldUnitDetail.prototype.mdlUnitQueryModalClose = function (unit) {
        if (this.mdlUnitQueryModalSequence == 1) {
            if (unit.id != null) {
                this.soldUnit.project = unit.project;
                this.soldUnit.projectId = unit.projectId;
                this.soldUnit.unitId = unit.id;
                this.soldUnit.unit = unit.unitCode;
                this.soldUnit.price = unit.price;
                this.soldUnit.tcp = unit.price;
                this.soldUnit.tsp = unit.tsp;
                this.getChecklistsPerProjectId(this.soldUnit);
            }
        }
        else if (this.mdlUnitQueryModalSequence == 2) {
            if (unit.id != null) {
                this.soldUnit.project = unit.project;
                this.soldUnit.projectId = unit.projectId;
                this.soldUnit.unitId = unit.id;
                this.soldUnit.unit = unit.unitCode;
                this.soldUnit.price = unit.price;
                this.transferSoldUnit();
            }
        }
        this.mdlUnitQueryModalShow = false;
    };
    // detail operations
    SoldUnitDetail.prototype.btnSaveSoldUnitClick = function () {
        var _this = this;
        var btnSaveSoldUnit = document.getElementById("btnSaveSoldUnit");
        btnSaveSoldUnit.setAttribute("disabled", "disabled");
        btnSaveSoldUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.soldUnitService.saveSoldUnit(this.soldUnit);
        this.soldUnitSavedSub = this.soldUnitService.soldUnitSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveSoldUnit.removeAttribute("disabled");
                btnSaveSoldUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveSoldUnit.removeAttribute("disabled");
                btnSaveSoldUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    SoldUnitDetail.prototype.btnLockSoldUnitClick = function () {
        var _this = this;
        var btnLockSoldUnit = document.getElementById("btnLockSoldUnit");
        btnLockSoldUnit.setAttribute("disabled", "disabled");
        btnLockSoldUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Locking...";
        this.soldUnitService.lockSoldUnit(this.soldUnit);
        this.soldUnitLockedSub = this.soldUnitService.soldUnitLockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Locking successful.");
                _this.soldUnit.isLocked = true;
                btnLockSoldUnit.removeAttribute("disabled");
                btnLockSoldUnit.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
            else if (data == 0) {
                _this.toastr.error("Locking failed.");
                btnLockSoldUnit.removeAttribute("disabled");
                btnLockSoldUnit.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
        });
    };
    SoldUnitDetail.prototype.btnUnlockSoldUnitClick = function () {
        var _this = this;
        if (this.soldUnit.status == "SOLD") {
            var btnUnlockSoldUnit_1 = document.getElementById("btnUnlockSoldUnit");
            btnUnlockSoldUnit_1.setAttribute("disabled", "disabled");
            btnUnlockSoldUnit_1.innerHTML = "<i class='fa fa-plus fa-fw'></i> Unlocking...";
            this.soldUnitService.unlockSoldUnit(this.soldUnit);
            this.soldUnitUnlockedSub = this.soldUnitService.soldUnitUnlockedObservable.subscribe(function (data) {
                if (data == 1) {
                    _this.toastr.success("Unlocking successful.");
                    _this.soldUnit.isLocked = false;
                    btnUnlockSoldUnit_1.removeAttribute("disabled");
                    btnUnlockSoldUnit_1.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
                }
                else if (data == 0) {
                    _this.toastr.error("Unlocking failed.");
                    btnUnlockSoldUnit_1.removeAttribute("disabled");
                    btnUnlockSoldUnit_1.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
                }
            });
        }
        else {
            this.toastr.error("This unit is not sold.");
        }
    };
    SoldUnitDetail.prototype.btnPrintSoldUnitClick = function () {
        if (this.soldUnit.status == "SOLD") {
            if (this.soldUnit.isLocked == true) {
                this.router.navigate(['/pdf', 'soldunitcontract', this.soldUnit.id]);
            }
            else {
                this.router.navigate(['/pdf', 'soldunitproposal', this.soldUnit.id]);
            }
        }
        else {
            this.toastr.error("This unit is not sold.");
        }
    };
    SoldUnitDetail.prototype.btnPrintReservationAgreementClick = function () {
        this.router.navigate(['/pdf', 'reservationagreement', this.soldUnit.id]);
    };
    SoldUnitDetail.prototype.btnPrintBuyersUndertakingClick = function () {
        this.router.navigate(['/pdf', 'buyersundertaking', this.soldUnit.id]);
    };
    SoldUnitDetail.prototype.btnCancelSoldUnitClick = function () {
        if (this.soldUnit.status == "SOLD") {
            this.mdlSoldUnitCancelModalShow = true;
        }
        else {
            this.toastr.error("This unit is not sold.");
        }
    };
    SoldUnitDetail.prototype.btnTransferSoldUnitClick = function () {
        if (this.soldUnit.status == "SOLD") {
            this.mdlSoldUnitTransferModalShow = true;
        }
        else {
            this.toastr.error("This unit is not sold.");
        }
    };
    // detail line1 (checklist requirements) list operations
    SoldUnitDetail.prototype.btnEditSoldUnitRequirementClick = function () {
        var selectedSoldUnitRequirement = this.fgdSoldUnitRequirementsCollection.currentItem;
        this.soldUnitRequirement.id = selectedSoldUnitRequirement.id;
        this.soldUnitRequirement.soldUnitId = selectedSoldUnitRequirement.soldUnitId;
        this.soldUnitRequirement.checklistRequirementId = selectedSoldUnitRequirement.checklistRequirementId;
        this.soldUnitRequirement.checklistRequirement = selectedSoldUnitRequirement.checklistRequirement;
        this.soldUnitRequirement.checklistRequirementNo = selectedSoldUnitRequirement.checklistRequirementNo;
        this.soldUnitRequirement.checklistCategory = selectedSoldUnitRequirement.checklistCategory;
        this.soldUnitRequirement.checklistType = selectedSoldUnitRequirement.checklistType;
        this.soldUnitRequirement.checklistWithAttachments = selectedSoldUnitRequirement.checklistWithAttachments;
        this.soldUnitRequirement.attachment1 = selectedSoldUnitRequirement.attachment1;
        this.soldUnitRequirement.attachment2 = selectedSoldUnitRequirement.attachment2;
        this.soldUnitRequirement.attachment3 = selectedSoldUnitRequirement.attachment3;
        this.soldUnitRequirement.attachment4 = selectedSoldUnitRequirement.attachment4;
        this.soldUnitRequirement.attachment5 = selectedSoldUnitRequirement.attachment5;
        this.soldUnitRequirement.remarks = selectedSoldUnitRequirement.remarks;
        this.soldUnitRequirement.status = selectedSoldUnitRequirement.status;
        this.soldUnitRequirement.statusDate = selectedSoldUnitRequirement.statusDate;
        this.getCmbUnitSoldRequirementStatus();
        this.getSoldUnitRequirementActivities();
        this.mdlEditSoldUnitRequirementModalShow = true;
    };
    // download checklist requirements modal open
    SoldUnitDetail.prototype.btnOpenSoldUnitRequirementsModalClick = function () {
        this.mdlSoldUnitRequirementsModalShow = true;
    };
    // download checklist requirements modal operations
    SoldUnitDetail.prototype.btnOkSoldUnitRequirementsModalClick = function () {
        this.getNewSoldUnitRequirements();
        this.mdlSoldUnitRequirementsModalShow = false;
    };
    SoldUnitDetail.prototype.btnCloseSoldUnitRequirementsModalClick = function () {
        this.mdlSoldUnitRequirementsModalShow = false;
    };
    // edit sold unit requirement modal operations
    SoldUnitDetail.prototype.btnSaveEditSoldUnitRequirementModalClick = function () {
        var _this = this;
        var btnSaveEditSoldUnitRequirementModal = document.getElementById("btnSaveEditSoldUnitRequirementModal");
        var btnCloseEditSoldUnitRequirementModal = document.getElementById("btnCloseEditSoldUnitRequirementModal");
        btnSaveEditSoldUnitRequirementModal.setAttribute("disabled", "disabled");
        btnSaveEditSoldUnitRequirementModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        btnCloseEditSoldUnitRequirementModal.setAttribute("disabled", "disabled");
        this.soldUnitService.saveSoldUnitRequirement(this.soldUnitRequirement);
        this.soldUnitRequirementSavedSub = this.soldUnitService.soldUnitRequirementSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveEditSoldUnitRequirementModal.removeAttribute("disabled");
                btnSaveEditSoldUnitRequirementModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseEditSoldUnitRequirementModal.removeAttribute("disabled");
                _this.getSoldUnitRequirements();
                _this.mdlSoldUnitRequirementsModalShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveEditSoldUnitRequirementModal.removeAttribute("disabled");
                btnSaveEditSoldUnitRequirementModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseEditSoldUnitRequirementModal.removeAttribute("disabled");
            }
        }, function (error) {
            _this.toastr.error("Server error.");
            btnSaveEditSoldUnitRequirementModal.removeAttribute("disabled");
            btnSaveEditSoldUnitRequirementModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            btnCloseEditSoldUnitRequirementModal.removeAttribute("disabled");
        });
        this.mdlEditSoldUnitRequirementModalShow = false;
    };
    SoldUnitDetail.prototype.btnCloseEditSoldUnitRequirementModalClick = function () {
        this.mdlEditSoldUnitRequirementModalShow = false;
    };
    // attachments
    SoldUnitDetail.prototype.btnOpenSoldUnitRequirementAttachment1Click = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.soldUnitService.uploadSoldUnitAttachment(target.files[0], "SOLDUNIT1-" + this.soldUnit.soldUnitNumber + "-" + this.soldUnitRequirement.checklistRequirementNo + "-" + Date.now());
            this.soldUnitRequirementAttachmentSub = this.soldUnitService.soldUnitRequirementAttachmentObservable
                .subscribe(function (data) {
                console.log(data.fileUrl);
                _this.soldUnitRequirement.attachment1 = data.fileUrl;
                if (_this.soldUnitRequirementAttachmentSub != null)
                    _this.soldUnitRequirementAttachmentSub.unsubscribe();
            });
        }
    };
    SoldUnitDetail.prototype.btnOpenSoldUnitRequirementAttachment2Click = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.soldUnitService.uploadSoldUnitAttachment(target.files[0], "SOLDUNIT2-" + this.soldUnit.soldUnitNumber + "-" + this.soldUnitRequirement.checklistRequirementNo + "-" + Date.now());
            this.soldUnitRequirementAttachmentSub = this.soldUnitService.soldUnitRequirementAttachmentObservable
                .subscribe(function (data) {
                _this.soldUnitRequirement.attachment2 = data.fileUrl;
                if (_this.soldUnitRequirementAttachmentSub != null)
                    _this.soldUnitRequirementAttachmentSub.unsubscribe();
            });
        }
    };
    SoldUnitDetail.prototype.btnOpenSoldUnitRequirementAttachment3Click = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.soldUnitService.uploadSoldUnitAttachment(target.files[0], "SOLDUNIT3-" + this.soldUnit.soldUnitNumber + "-" + this.soldUnitRequirement.checklistRequirementNo + "-" + Date.now());
            this.soldUnitRequirementAttachmentSub = this.soldUnitService.soldUnitRequirementAttachmentObservable
                .subscribe(function (data) {
                _this.soldUnitRequirement.attachment3 = data.fileUrl;
                if (_this.soldUnitRequirementAttachmentSub != null)
                    _this.soldUnitRequirementAttachmentSub.unsubscribe();
            });
        }
    };
    SoldUnitDetail.prototype.btnOpenSoldUnitRequirementAttachment4Click = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.soldUnitService.uploadSoldUnitAttachment(target.files[0], "SOLDUNIT4-" + this.soldUnit.soldUnitNumber + "-" + this.soldUnitRequirement.checklistRequirementNo + "-" + Date.now());
            this.soldUnitRequirementAttachmentSub = this.soldUnitService.soldUnitRequirementAttachmentObservable
                .subscribe(function (data) {
                _this.soldUnitRequirement.attachment4 = data.fileUrl;
                if (_this.soldUnitRequirementAttachmentSub != null)
                    _this.soldUnitRequirementAttachmentSub.unsubscribe();
            });
        }
    };
    SoldUnitDetail.prototype.btnOpenSoldUnitRequirementAttachment5Click = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            this.soldUnitService.uploadSoldUnitAttachment(target.files[0], "SOLDUNIT5-" + this.soldUnit.soldUnitNumber + "-" + this.soldUnitRequirement.checklistRequirementNo + "-" + Date.now());
            this.soldUnitRequirementAttachmentSub = this.soldUnitService.soldUnitRequirementAttachmentObservable
                .subscribe(function (data) {
                _this.soldUnitRequirement.attachment5 = data.fileUrl;
                if (_this.soldUnitRequirementAttachmentSub != null)
                    _this.soldUnitRequirementAttachmentSub.unsubscribe();
            });
        }
    };
    SoldUnitDetail.prototype.btnDeleteSoldUnitRequirementAttachment1Click = function () {
        this.soldUnitRequirement.attachment1 = "";
    };
    SoldUnitDetail.prototype.btnDeleteSoldUnitRequirementAttachment2Click = function () {
        this.soldUnitRequirement.attachment2 = "";
    };
    SoldUnitDetail.prototype.btnDeleteSoldUnitRequirementAttachment3Click = function () {
        this.soldUnitRequirement.attachment3 = "";
    };
    SoldUnitDetail.prototype.btnDeleteSoldUnitRequirementAttachment4Click = function () {
        this.soldUnitRequirement.attachment4 = "";
    };
    SoldUnitDetail.prototype.btnDeleteSoldUnitRequirementAttachment5Click = function () {
        this.soldUnitRequirement.attachment5 = "";
    };
    // detail line1 line (checklist requirement activities) list operations
    SoldUnitDetail.prototype.btnAddSoldUnitRequirementActivitiesClick = function () {
        var selectedSoldUnitRequirementActivity = this.fgdSoldUnitRequirementActivitiesCollection.currentItem;
        this.soldUnitRequirementActivity.id = 0;
        this.soldUnitRequirementActivity.soldUnitRequirementId = this.soldUnitRequirement.id;
        this.soldUnitRequirementActivity.activityDate = "";
        this.soldUnitRequirementActivity.activity = "";
        this.soldUnitRequirementActivity.remarks = "";
        this.soldUnitRequirementActivity.userId = 0;
        this.soldUnitRequirementActivity.user = "";
        this.mdlSoldUnitRequirementActivityModalShow = true;
    };
    SoldUnitDetail.prototype.btnEditSoldUnitRequirementActivitiesClick = function () {
        var selectedSoldUnitRequirementActivity = this.fgdSoldUnitRequirementActivitiesCollection.currentItem;
        this.soldUnitRequirementActivity.id = selectedSoldUnitRequirementActivity.id;
        this.soldUnitRequirementActivity.soldUnitRequirementId = selectedSoldUnitRequirementActivity.soldUnitRequirementId;
        this.soldUnitRequirementActivity.activityDate = selectedSoldUnitRequirementActivity.activityDate;
        this.soldUnitRequirementActivity.activity = selectedSoldUnitRequirementActivity.activity;
        this.soldUnitRequirementActivity.remarks = selectedSoldUnitRequirementActivity.remarks;
        this.soldUnitRequirementActivity.userId = selectedSoldUnitRequirementActivity.userId;
        this.soldUnitRequirementActivity.user = selectedSoldUnitRequirementActivity.user;
        this.mdlSoldUnitRequirementActivityModalShow = true;
    };
    SoldUnitDetail.prototype.btnDeleteSoldUnitRequirementActivitiesClick = function () {
        var _this = this;
        var selectedSoldUnitRequirementActivity = this.fgdSoldUnitRequirementActivitiesCollection.currentItem;
        this.soldUnitService.deleteSoldUnitRequirementActivity(selectedSoldUnitRequirementActivity.id);
        this.soldUnitRequirementActivityDeleteSub = this.soldUnitService.soldUnitRequirementActivityDeleteObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdSoldUnitRequirementActivitiesCollection.remove(selectedSoldUnitRequirementActivity);
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
            }
        });
    };
    // edit sold unit checklist requirement activity modal operations
    SoldUnitDetail.prototype.btnSaveSoldUnitRequirementActivityModalClick = function () {
        var _this = this;
        var btnSaveSoldUnitRequirementActivityModal = document.getElementById("btnSaveSoldUnitRequirementActivityModal");
        var btnCloseSoldUnitRequirementActivityModal = document.getElementById("btnCloseSoldUnitRequirementActivityModal");
        btnSaveSoldUnitRequirementActivityModal.setAttribute("disabled", "disabled");
        btnSaveSoldUnitRequirementActivityModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        btnCloseSoldUnitRequirementActivityModal.setAttribute("disabled", "disabled");
        if (this.soldUnitRequirementActivity.id == 0) {
            this.soldUnitService.addSoldUnitRequirementActivity(this.soldUnitRequirementActivity);
            this.soldUnitRequirementActivitySavedSub = this.soldUnitService.soldUnitRequirementActivityAddObservable.subscribe(function (data) {
                if (data == 1) {
                    _this.toastr.success("Saving successful.");
                    btnSaveSoldUnitRequirementActivityModal.removeAttribute("disabled");
                    btnSaveSoldUnitRequirementActivityModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                    btnCloseSoldUnitRequirementActivityModal.removeAttribute("disabled");
                    _this.getSoldUnitRequirementActivities();
                    _this.mdlSoldUnitRequirementActivityModalShow = false;
                }
                else if (data == 0) {
                    _this.toastr.error("Saving failed.");
                    btnSaveSoldUnitRequirementActivityModal.removeAttribute("disabled");
                    btnSaveSoldUnitRequirementActivityModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                    btnCloseSoldUnitRequirementActivityModal.removeAttribute("disabled");
                }
            }, function (error) {
                _this.toastr.error("Server error.");
                btnSaveSoldUnitRequirementActivityModal.removeAttribute("disabled");
                btnSaveSoldUnitRequirementActivityModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseSoldUnitRequirementActivityModal.removeAttribute("disabled");
            });
        }
        else {
            this.soldUnitService.saveSoldUnitRequirementActivity(this.soldUnitRequirementActivity);
            this.soldUnitRequirementActivitySavedSub = this.soldUnitService.soldUnitRequirementActivitySavedObservable.subscribe(function (data) {
                if (data == 1) {
                    _this.toastr.success("Saving successful.");
                    btnSaveSoldUnitRequirementActivityModal.removeAttribute("disabled");
                    btnSaveSoldUnitRequirementActivityModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                    btnCloseSoldUnitRequirementActivityModal.removeAttribute("disabled");
                    _this.getSoldUnitRequirementActivities();
                    _this.mdlSoldUnitRequirementActivityModalShow = false;
                }
                else if (data == 0) {
                    _this.toastr.error("Saving failed.");
                    btnSaveSoldUnitRequirementActivityModal.removeAttribute("disabled");
                    btnSaveSoldUnitRequirementActivityModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                    btnCloseSoldUnitRequirementActivityModal.removeAttribute("disabled");
                }
            }, function (error) {
                _this.toastr.error("Server error.");
                btnSaveSoldUnitRequirementActivityModal.removeAttribute("disabled");
                btnSaveSoldUnitRequirementActivityModal.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseSoldUnitRequirementActivityModal.removeAttribute("disabled");
            });
        }
    };
    SoldUnitDetail.prototype.btnCloseSoldUnitRequirementActivityModalClick = function () {
        this.mdlSoldUnitRequirementActivityModalShow = false;
    };
    // open, edit, save equity payment schedule events
    SoldUnitDetail.prototype.btnEditSoldUnitEquityScheduleClick = function () {
        var selectedSoldUnitEquitySchedule = this.fgdSoldUnitEquityScheduleCollection.currentItem;
        this.soldUnitEquitySchedule.id = selectedSoldUnitEquitySchedule.id;
        this.soldUnitEquitySchedule.soldUnitId = selectedSoldUnitEquitySchedule.soldUnitId;
        this.soldUnitEquitySchedule.paymentDate = new Date(selectedSoldUnitEquitySchedule.paymentDate);
        this.soldUnitEquitySchedule.amortization = selectedSoldUnitEquitySchedule.amortization;
        this.soldUnitEquitySchedule.checkNumber = selectedSoldUnitEquitySchedule.checkNumber;
        this.soldUnitEquitySchedule.checkDate = selectedSoldUnitEquitySchedule.checkDate;
        this.soldUnitEquitySchedule.checkBank = selectedSoldUnitEquitySchedule.checkBank;
        this.soldUnitEquitySchedule.remarks = selectedSoldUnitEquitySchedule.remarks;
        this.mdlSoldUnitEquityScheduleModalShow = true;
    };
    SoldUnitDetail.prototype.btnSaveSoldUnitEquityScheduleModalClick = function () {
        var _this = this;
        var btnSaveSoldUnitEquityScheduleModal = document.getElementById("btnSaveSoldUnitEquityScheduleModal");
        var btnCloseSoldUnitEquityScheduleModal = document.getElementById("btnCloseSoldUnitEquityScheduleModal");
        btnSaveSoldUnitEquityScheduleModal.setAttribute("disabled", "disabled");
        btnSaveSoldUnitEquityScheduleModal.innerHTML = "<i class='fa fa-save fa-fw'></i> Saving...";
        btnCloseSoldUnitEquityScheduleModal.setAttribute("disabled", "disabled");
        //console.log(this.soldUnitEquitySchedule);
        this.soldUnitService.saveSoldUnitEquitySchedule(this.soldUnitEquitySchedule);
        this.soldUnitEquityScheduleSavedSub = this.soldUnitService.soldUnitEquityPaymentSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveSoldUnitEquityScheduleModal.removeAttribute("disabled");
                btnSaveSoldUnitEquityScheduleModal.innerHTML = "<i class='fa fa-save fa-fw'></i> Save";
                btnCloseSoldUnitEquityScheduleModal.removeAttribute("disabled");
                _this.getSoldUnitEquitySchedule();
                _this.mdlSoldUnitEquityScheduleModalShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveSoldUnitEquityScheduleModal.removeAttribute("disabled");
                btnSaveSoldUnitEquityScheduleModal.innerHTML = "<i class='fa fa-save fa-fw'></i> Save";
                btnCloseSoldUnitEquityScheduleModal.removeAttribute("disabled");
            }
        }, function (error) {
            _this.toastr.error("Server error.");
            btnSaveSoldUnitEquityScheduleModal.removeAttribute("disabled");
            btnSaveSoldUnitEquityScheduleModal.innerHTML = "<i class='fa fa-save fa-fw'></i> Save";
            btnCloseSoldUnitEquityScheduleModal.removeAttribute("disabled");
        });
    };
    SoldUnitDetail.prototype.btnCloseSoldUnitEquityScheduleModalClick = function () {
        this.mdlSoldUnitEquityScheduleModalShow = false;
    };
    // keyups
    SoldUnitDetail.prototype.computeNetEquityBalance = function () {
        //this.soldUnit.netEquity = this.soldUnit.equityValue - this.soldUnit.discount - this.soldUnit.reservation;
        this.soldUnit.netEquityBalance = this.soldUnit.equityValue -
            this.soldUnit.equitySpotPayment1 -
            this.soldUnit.equitySpotPayment2 -
            this.soldUnit.equitySpotPayment3 -
            this.soldUnit.discount -
            this.soldUnit.reservation;
        if (this.soldUnit.netEquityInterest > 0) {
            var r = this.soldUnit.netEquityInterest / 100;
            var n = this.soldUnit.netEquityNoOfPayments;
            var an = r * Math.pow(1 + r, n);
            var ad = Math.pow(1 + r, n) - 1;
            if (ad != 0) {
                this.soldUnit.netEquityAmortization = this.soldUnit.netEquityBalance * (an / ad);
            }
        }
        else {
            var n = this.soldUnit.netEquityNoOfPayments;
            if (n > 0) {
                this.soldUnit.netEquityAmortization = this.soldUnit.netEquityBalance / n;
            }
        }
        this.computeDiscountedEquity();
        this.computeBalance();
    };
    SoldUnitDetail.prototype.computeDiscountedEquity = function () {
        this.soldUnit.discountedEquity = this.soldUnit.equityValue - this.soldUnit.discount;
        this.computeNetEquity();
    };
    SoldUnitDetail.prototype.computeNetEquity = function () {
        this.soldUnit.netEquity = this.soldUnit.discountedEquity - this.soldUnit.reservation;
    };
    SoldUnitDetail.prototype.computeBalance = function () {
        this.soldUnit.balance = this.soldUnit.price - this.soldUnit.equityValue;
        if (this.soldUnit.balanceInterest > 0) {
            var r = this.soldUnit.balanceInterest / 100;
            var n = this.soldUnit.balanceNoOfPayments;
            var an = r * Math.pow(1 + r, n);
            var ad = Math.pow(1 + r, n) - 1;
            if (ad != 0) {
                this.soldUnit.balanceAmortization = this.soldUnit.balance * (an / ad);
            }
        }
        else {
            var n = this.soldUnit.balanceNoOfPayments;
            if (n > 0) {
                this.soldUnit.balanceAmortization = this.soldUnit.balance / n;
            }
        }
    };
    SoldUnitDetail.prototype.txtEquityPercentKeyup = function () {
        if (this.soldUnit.price > 0) {
            this.soldUnit.equityValue = this.soldUnit.price * (this.soldUnit.equityPercent / 100);
            this.computeNetEquityBalance();
        }
    };
    SoldUnitDetail.prototype.txtEquityValueKeyup = function () {
        if (this.soldUnit.price > 0) {
            this.soldUnit.equityPercent = (this.soldUnit.equityValue / this.soldUnit.price) * 100;
            this.computeNetEquityBalance();
        }
    };
    SoldUnitDetail.prototype.txtEquitySpotPaymentKeyup = function () {
        this.computeNetEquityBalance();
    };
    SoldUnitDetail.prototype.txtDiscountKeyup = function () {
        this.computeNetEquityBalance();
    };
    SoldUnitDetail.prototype.txtReservationKeyup = function () {
        this.computeNetEquityBalance();
    };
    SoldUnitDetail.prototype.txtNetEquityInterestKeyup = function () {
        this.computeNetEquityBalance();
    };
    SoldUnitDetail.prototype.txtNetEquityNoOfPaymentsKeyup = function () {
        this.computeNetEquityBalance();
    };
    SoldUnitDetail.prototype.txtBalanceInterestKeyup = function () {
        this.computeBalance();
    };
    SoldUnitDetail.prototype.txtBalanceNoOfPaymentsKeyup = function () {
        this.computeBalance();
    };
    // writes
    SoldUnitDetail.prototype.addSpaces = function (numberOfSpaces) {
        var spaces = "";
        for (var i = 0; i < numberOfSpaces; i++) {
            spaces = spaces + " ";
        }
        return spaces;
    };
    SoldUnitDetail.prototype.btnWriteTotalInvestmentClick = function () {
        var totalInvestment = "";
        totalInvestment = totalInvestment + "TOTAL CONTRACT PRICE (TCP) \n";
        totalInvestment = totalInvestment + "      Included: Transfer Charges and Misc.        P " + this.soldUnit.price.toLocaleString('en-us', { minimumFractionDigits: 2 }) + "\n";
        totalInvestment = totalInvestment + "      Other Charges: \n";
        totalInvestment = totalInvestment + "            * Move-in Fee (To be paid upon signing of Certificate of Turnover) \n";
        this.soldUnit.totalInvestment = totalInvestment;
    };
    SoldUnitDetail.prototype.btnWritePaymentOptionsClick = function () {
        var paymentOptions = "";
        paymentOptions = paymentOptions + "FINANCING SCHEME \n";
        paymentOptions = paymentOptions + "      Equity: Percentage                                 " + this.addSpaces(15 - this.soldUnit.equityPercent.toLocaleString('en-us', { minimumFractionDigits: 2 }).length) + this.soldUnit.equityPercent.toLocaleString('en-us', { minimumFractionDigits: 2 }) + "% \n";
        paymentOptions = paymentOptions + "              Value                                    P " + this.addSpaces(15 - this.soldUnit.equityValue.toLocaleString('en-us', { minimumFractionDigits: 2 }).length) + this.soldUnit.equityValue.toLocaleString('en-us', { minimumFractionDigits: 2 }) + "\n";
        paymentOptions = paymentOptions + "      LESS:   Discount                                 P " + this.addSpaces(15 - this.soldUnit.discount.toLocaleString('en-us', { minimumFractionDigits: 2 }).length) + this.soldUnit.discount.toLocaleString('en-us', { minimumFractionDigits: 2 }) + "\n";
        paymentOptions = paymentOptions + "              Reservation                              P " + this.addSpaces(15 - this.soldUnit.reservation.toLocaleString('en-us', { minimumFractionDigits: 2 }).length) + this.soldUnit.reservation.toLocaleString('en-us', { minimumFractionDigits: 2 }) + "\n";
        paymentOptions = paymentOptions + "              Spot Payment 1                           P " + this.addSpaces(15 - this.soldUnit.equitySpotPayment1.toLocaleString('en-us', { minimumFractionDigits: 2 }).length) + this.soldUnit.equitySpotPayment1.toLocaleString('en-us', { minimumFractionDigits: 2 }) + "\n";
        paymentOptions = paymentOptions + "              Spot Payment 2                           P " + this.addSpaces(15 - this.soldUnit.equitySpotPayment2.toLocaleString('en-us', { minimumFractionDigits: 2 }).length) + this.soldUnit.equitySpotPayment2.toLocaleString('en-us', { minimumFractionDigits: 2 }) + "\n";
        paymentOptions = paymentOptions + "              Spot Payment 3                           P " + this.addSpaces(15 - this.soldUnit.equitySpotPayment3.toLocaleString('en-us', { minimumFractionDigits: 2 }).length) + this.soldUnit.equitySpotPayment3.toLocaleString('en-us', { minimumFractionDigits: 2 }) + "\n";
        paymentOptions = paymentOptions + "      NET EQUITY                                       P " + this.addSpaces(15 - this.soldUnit.netEquity.toLocaleString('en-us', { minimumFractionDigits: 2 }).length) + this.soldUnit.netEquity.toLocaleString('en-us', { minimumFractionDigits: 2 }) + "\n";
        paymentOptions = paymentOptions + "      EQUITY BALANCE                                   P " + this.addSpaces(15 - this.soldUnit.netEquityBalance.toLocaleString('en-us', { minimumFractionDigits: 2 }).length) + this.soldUnit.netEquityBalance.toLocaleString('en-us', { minimumFractionDigits: 2 }) + "\n";
        if (this.soldUnit.equitySpotPayment1 + this.soldUnit.equitySpotPayment2 + this.soldUnit.equitySpotPayment3 > 0) {
            paymentOptions = paymentOptions + "* P " + this.soldUnit.netEquityAmortization.toLocaleString('en-us', { minimumFractionDigits: 2 }) + " spread over " + this.soldUnit.netEquityNoOfPayments + " month(s) at " + this.soldUnit.netEquityInterest + " interest ";
            paymentOptions = paymentOptions + "with ";
            if (this.soldUnit.equitySpotPayment1 > 0) {
                paymentOptions = paymentOptions + "P " + this.soldUnit.equitySpotPayment1.toLocaleString('en-us', { minimumFractionDigits: 2 }) + " on the 1st payment ";
            }
            if (this.soldUnit.equitySpotPayment2 > 0) {
                if (this.soldUnit.equitySpotPayment1 > 0)
                    paymentOptions = paymentOptions + "and ";
                paymentOptions = paymentOptions + "P " + this.soldUnit.equitySpotPayment2.toLocaleString('en-us', { minimumFractionDigits: 2 }) + " on the " + (this.soldUnit.netEquityNoOfPayments / 2) + "th payment ";
            }
            if (this.soldUnit.equitySpotPayment3 > 0) {
                if (this.soldUnit.equitySpotPayment1 + this.soldUnit.equitySpotPayment2 > 0)
                    paymentOptions = paymentOptions + "and ";
                paymentOptions = paymentOptions + "P " + this.soldUnit.equitySpotPayment3.toLocaleString('en-us', { minimumFractionDigits: 2 }) + " on the " + this.soldUnit.netEquityNoOfPayments + "th payment ";
            }
            paymentOptions = paymentOptions + "\n";
        }
        else {
            paymentOptions = paymentOptions + "* P " + this.soldUnit.netEquityAmortization.toLocaleString('en-us', { minimumFractionDigits: 2 }) + " spread over " + this.soldUnit.netEquityNoOfPayments + " month(s) at " + this.soldUnit.netEquityInterest + " interest \n";
        }
        paymentOptions = paymentOptions + "* Payee: PRILAND DEVELOPMENT CORPORATION \n";
        this.soldUnit.paymentOptions = paymentOptions;
    };
    SoldUnitDetail.prototype.btnWriteFinancingClick = function () {
        var financing = "";
        financing = financing + "BALANCE \n";
        financing = financing + "      The remaining balance                               P " + this.soldUnit.balance.toLocaleString('en-us', { minimumFractionDigits: 2 }) + "\n";
        financing = financing + "* P " + this.soldUnit.balanceAmortization.toLocaleString('en-us', { minimumFractionDigits: 2 }) + " spread over " + this.soldUnit.balanceNoOfPayments + " month(s) at " + this.soldUnit.balanceInterest + " interest \n";
        this.soldUnit.financing = financing;
    };
    // cancel
    SoldUnitDetail.prototype.btnSoldUnitCancelModalOkClick = function () {
        var _this = this;
        var btnSoldUnitCancelModalOk = document.getElementById("btnSoldUnitCancelModalOk");
        var btnSoldUnitCancelModalClose = document.getElementById("btnSoldUnitCancelModalClose");
        btnSoldUnitCancelModalOk.setAttribute("disabled", "disabled");
        btnSoldUnitCancelModalOk.innerHTML = "<i class='fa fa-ban fa-fw'></i> Canceling...";
        btnSoldUnitCancelModalClose.setAttribute("disabled", "disabled");
        this.soldUnitService.cancelSoldUnit(this.soldUnit);
        this.soldUnitCancelSub = this.soldUnitService.soldUnitCancelObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Canceling successful.");
                btnSoldUnitCancelModalOk.removeAttribute("disabled");
                btnSoldUnitCancelModalOk.innerHTML = "<i class='fa fa-ban fa-fw'></i> Cancel";
                btnSoldUnitCancelModalClose.removeAttribute("disabled");
                _this.mdlSoldUnitCancelModalShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Canceling failed.");
                btnSoldUnitCancelModalOk.removeAttribute("disabled");
                btnSoldUnitCancelModalOk.innerHTML = "<i class='fa fa-ban fa-fw'></i> Cancel";
                btnSoldUnitCancelModalClose.removeAttribute("disabled");
                _this.mdlSoldUnitCancelModalShow = false;
            }
        }, function (error) {
            _this.toastr.error("Server error.");
            btnSoldUnitCancelModalOk.removeAttribute("disabled");
            btnSoldUnitCancelModalOk.innerHTML = "<i class='fa fa-ban fa-fw'></i> Cancel";
            btnSoldUnitCancelModalClose.removeAttribute("disabled");
            _this.mdlSoldUnitCancelModalShow = false;
        });
    };
    SoldUnitDetail.prototype.btnSoldUnitCancelModalCloseClick = function () {
        this.mdlSoldUnitCancelModalShow = false;
    };
    // transfer
    SoldUnitDetail.prototype.btnSoldUnitTransferModalOkClick = function () {
        this.mdlSoldUnitTransferModalShow = false;
        this.mdlUnitQueryModalSequence = 2;
        this.mdlUnitQueryModalShow = true;
    };
    SoldUnitDetail.prototype.btnSoldUnitTransferModalCloseClick = function () {
        this.mdlSoldUnitTransferModalShow = false;
    };
    // equity payment schedule
    SoldUnitDetail.prototype.btnCreateEquityPaymentScheduleClick = function () {
        var _this = this;
        var btnSaveSoldUnit = document.getElementById("btnSaveSoldUnit");
        btnSaveSoldUnit.setAttribute("disabled", "disabled");
        btnSaveSoldUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.soldUnitService.saveSoldUnit(this.soldUnit);
        this.soldUnitSavedSub = this.soldUnitService.soldUnitSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.getNewSoldUnitEquitySchedule();
                _this.toastr.success("Saving successful.");
                btnSaveSoldUnit.removeAttribute("disabled");
                btnSaveSoldUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveSoldUnit.removeAttribute("disabled");
                btnSaveSoldUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    SoldUnitDetail.prototype.btnPrintEquityPaymentScheduleClick = function () {
        this.router.navigate(['/pdf', 'soldunitequityschedule', this.soldUnit.id]);
    };
    // tabs
    SoldUnitDetail.prototype.tabDetail1Click = function (index) {
        for (var i = 0; i <= this.tabDetail1.length - 1; i++) {
            if (index == i)
                this.tabDetail1[i] = true;
            else
                this.tabDetail1[i] = false;
        }
        // refresh equity schedule
        this.getSoldUnitEquitySchedule();
        if (index === 4) {
            this.listSoldUnitCoOwner();
        }
    };
    SoldUnitDetail.prototype.tabDetail1Modal1Click = function (index) {
        for (var i = 0; i <= this.tabDetail1Modal1.length - 1; i++) {
            if (index == i)
                this.tabDetail1Modal1[i] = true;
            else
                this.tabDetail1Modal1[i] = false;
        }
        if (index == 2)
            this.getSoldUnitRequirementActivities();
    };
    SoldUnitDetail.prototype.listSoldUnitCoOwnerCustomer = function () {
        var _this = this;
        this.isCoOwnerLoadingHide = false;
        this.isCoOwnerContentHide = true;
        this.soldUnitService.getSoldUnitCustomer();
        this.soldUnitCoOwnerCustomerSub = this.soldUnitService.soldUnitCoOwnerCustomerListObservable.subscribe(function (data) {
            var unitSoldCoOwnerCustomerData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    unitSoldCoOwnerCustomerData.push({
                        id: data[i].id,
                        customerCode: data[i].customerCode,
                        fullName: data[i].fullName
                    });
                }
            }
            _this.cmbUnitSoldCoOwnerCustomerData = unitSoldCoOwnerCustomerData;
            _this.isCoOwnerLoadingHide = true;
            _this.isCoOwnerContentHide = false;
            var selectedSoldUnitCoOwner = _this.fgdSoldUnitCoOwnerCollection.currentItem;
            setTimeout(function () {
                _this.cboUnitSoldCoOwnerCustomer.selectedValue = selectedSoldUnitCoOwner.customerId;
            }, 100);
            if (_this.soldUnitCoOwnerCustomerSub != null)
                _this.soldUnitCoOwnerCustomerSub.unsubscribe();
        });
    };
    SoldUnitDetail.prototype.listSoldUnitCoOwner = function () {
        var _this = this;
        this.soldUnitService.getSoldUnitCoOwner(this.soldUnit.id);
        this.soldUnitCoOwnerSub = this.soldUnitService.soldUnitCoOwnerListSource.subscribe(function (data) {
            _this.fgdSoldUnitCoOwnerData = data;
            _this.fgdSoldUnitCoOwnerCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdSoldUnitCoOwnerData);
            _this.fgdSoldUnitCoOwnerCollection.pageSize = 15;
            _this.fgdSoldUnitCoOwnerCollection.trackChanges = true;
            if (_this.soldUnitCoOwnerSub != null)
                _this.soldUnitCoOwnerSub.unsubscribe();
        });
    };
    SoldUnitDetail.prototype.btnAddSoldUnitCoOwnerClick = function () {
        this.mdlSoldUnitCoOwnerModalShow = true;
        this.listSoldUnitCoOwnerCustomer();
        this.soldUnitCoOwnerObj = {
            Id: 0,
            SoldUnitId: this.soldUnit.id,
            CustomerId: this.cboUnitSoldCoOwnerCustomer.selectedValue
        };
    };
    SoldUnitDetail.prototype.btnCloseSoldUnitCoOwnerModalClick = function () {
        this.mdlSoldUnitCoOwnerModalShow = false;
    };
    SoldUnitDetail.prototype.btnSaveSoldUnitCoOwnerModalClick = function () {
        var _this = this;
        var btnSoldUnitCoOwnerModalSave = document.getElementById("btnSoldUnitCoOwnerModalSave");
        btnSoldUnitCoOwnerModalSave.setAttribute("disabled", "disabled");
        btnSoldUnitCoOwnerModalSave.innerHTML = "<i class='fa fa-save fa-fw'></i> Saving...";
        if (this.soldUnitCoOwnerObj.Id == 0) {
            this.soldUnitCoOwnerObj = {
                Id: 0,
                SoldUnitId: this.soldUnit.id,
                CustomerId: this.cboUnitSoldCoOwnerCustomer.selectedValue
            };
            this.soldUnitService.addSoldUnitCoOwner(this.soldUnitCoOwnerObj);
            this.addSoldUnitCoOwnerCustomerSub = this.soldUnitService.addSoldUnitCoOwnerListObservable.subscribe(function (data) {
                if (data == 1) {
                    _this.listSoldUnitCoOwner();
                    _this.toastr.success("Save successful.");
                    btnSoldUnitCoOwnerModalSave.removeAttribute("disabled");
                    btnSoldUnitCoOwnerModalSave.innerHTML = "<i class='fa fa-save fa-fw'></i> Save";
                    _this.mdlSoldUnitCoOwnerModalShow = false;
                }
                else if (data == 0) {
                    _this.toastr.error("Save failed.");
                    btnSoldUnitCoOwnerModalSave.removeAttribute("disabled");
                    btnSoldUnitCoOwnerModalSave.innerHTML = "<i class='fa fa-save fa-fw'></i> Save";
                }
                if (_this.addSoldUnitCoOwnerCustomerSub != null)
                    _this.addSoldUnitCoOwnerCustomerSub.unsubscribe();
            });
        }
        else {
            var selectedSoldUnitCoOwner = this.fgdSoldUnitCoOwnerCollection.currentItem;
            this.soldUnitCoOwnerObj = {
                Id: this.soldUnitCoOwnerObj.Id,
                SoldUnitId: this.soldUnit.id,
                CustomerId: this.cboUnitSoldCoOwnerCustomer.selectedValue
            };
            this.soldUnitService.updateSoldUnitCoOwner(this.soldUnitCoOwnerObj);
            this.updateSoldUnitCoOwnerCustomerSub = this.soldUnitService.updateSoldUnitCoOwnerListObservable.subscribe(function (data) {
                if (data == 1) {
                    _this.listSoldUnitCoOwner();
                    _this.toastr.success("Update successful.");
                    btnSoldUnitCoOwnerModalSave.removeAttribute("disabled");
                    btnSoldUnitCoOwnerModalSave.innerHTML = "<i class='fa fa-save fa-fw'></i> Save";
                    _this.mdlSoldUnitCoOwnerModalShow = false;
                }
                else if (data == 0) {
                    _this.toastr.error("Update failed.");
                    btnSoldUnitCoOwnerModalSave.removeAttribute("disabled");
                    btnSoldUnitCoOwnerModalSave.innerHTML = "<i class='fa fa-save fa-fw'></i> Save";
                }
                if (_this.updateSoldUnitCoOwnerCustomerSub != null)
                    _this.updateSoldUnitCoOwnerCustomerSub.unsubscribe();
            });
        }
    };
    SoldUnitDetail.prototype.btnEditSoldUnitCoOwnerClick = function () {
        this.mdlSoldUnitCoOwnerModalShow = true;
        var selectedSoldUnitCoOwner = this.fgdSoldUnitCoOwnerCollection.currentItem;
        this.soldUnitCoOwnerObj = {
            Id: selectedSoldUnitCoOwner.id,
            SoldUnitId: this.soldUnit.id,
            CustomerId: selectedSoldUnitCoOwner.customerId
        };
        this.listSoldUnitCoOwnerCustomer();
    };
    SoldUnitDetail.prototype.btnDeleteSoldUnitCoOwnerClick = function () {
        this.mdlSoldUnitCoOwnerDeleteModalShow = true;
    };
    SoldUnitDetail.prototype.btnSoldUnitCoOwnerConfirmDeleteCloseModalClick = function () {
        this.mdlSoldUnitCoOwnerDeleteModalShow = false;
    };
    SoldUnitDetail.prototype.btnSoldUnitCoOwnerConfirmDeleteClick = function () {
        var _this = this;
        var btnSoldUnitCoOwnerConfirmDelete = document.getElementById("btnSoldUnitCoOwnerConfirmDelete");
        btnSoldUnitCoOwnerConfirmDelete.setAttribute("disabled", "disabled");
        btnSoldUnitCoOwnerConfirmDelete.innerHTML = "<i class='fa fa-trash fa-fw'></i> Deleting...";
        var selectedSoldUnitCoOwner = this.fgdSoldUnitCoOwnerCollection.currentItem;
        this.soldUnitService.deleteSoldUnitCoOwner(selectedSoldUnitCoOwner.id);
        this.deleteSoldUnitCoOwnerCustomerSub = this.soldUnitService.deleteSoldUnitCoOwnerListObservable.subscribe(function (data) {
            if (data == 1) {
                _this.listSoldUnitCoOwner();
                _this.toastr.success("Delete successful.");
                btnSoldUnitCoOwnerConfirmDelete.removeAttribute("disabled");
                btnSoldUnitCoOwnerConfirmDelete.innerHTML = "<i class='fa fa-trash fa-fw'></i> Delete";
                _this.mdlSoldUnitCoOwnerDeleteModalShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnSoldUnitCoOwnerConfirmDelete.removeAttribute("disabled");
                btnSoldUnitCoOwnerConfirmDelete.innerHTML = "<i class='fa fa-trash fa-fw'></i> Delete";
            }
            if (_this.deleteSoldUnitCoOwnerCustomerSub != null)
                _this.deleteSoldUnitCoOwnerCustomerSub.unsubscribe();
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("cmbProjects"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], SoldUnitDetail.prototype, "cmbProjects", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('cboUnitSoldCoOwnerCustomer'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo_angular2_input__["WjComboBox"])
    ], SoldUnitDetail.prototype, "cboUnitSoldCoOwnerCustomer", void 0);
    SoldUnitDetail = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/soldUnit/soldUnit.detail.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_6__soldUnit_service__["a" /* SoldUnitService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_5_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_7__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"],
            __WEBPACK_IMPORTED_MODULE_8__unit_unit_service__["a" /* UnitService */]])
    ], SoldUnitDetail);
    return SoldUnitDetail;
}());



/***/ }),

/***/ "../../../../../src/app/soldUnit/soldUnit.list.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- buttons -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button id=\"btnAddSoldUnit\" class=\"btn btn-primary\" (click)=\"btnAddSoldUnitClick()\">\r\n                                <i class=\"fa fa-plus fa-fw\"></i> Add\r\n                            </button>\r\n                            <button id=\"btnCloseSoldUnit\" class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- filters -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 25%;\">\r\n                            <div class=\"input-group\">\r\n                                <span class=\"input-group-addon\">\r\n                                    Date Start:\r\n                                </span>\r\n                                <wj-input-date #calDateStart [(ngModel)]=\"calDateStartData\" (textChanged)=\"getSoldUnits()\" format=\"M/d/yyyy\">\r\n                                </wj-input-date>\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 25%;\">\r\n                            <div class=\"input-group\">\r\n                                <span class=\"input-group-addon\">\r\n                                    Date End:\r\n                                </span>\r\n                                <wj-input-date #calDateEnd [(ngModel)]=\"calDateEndData\" (textChanged)=\"getSoldUnits()\" format=\"M/d/yyyy\">\r\n                                </wj-input-date>\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"width: 49%;\"></td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- flexgrid -->\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdSoldUnit [itemsSource]=\"fgdSoldUnitCollection\" [selectionMode]=\"3\" [frozenColumns]=\"2\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column *ngIf=\"canEdit\" [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditSoldUnitClick()\" id=\"btnEditSoldUnit\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column *ngIf=\"canDelete\" [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteSoldUnitClick()\" id=\"btnDeleteSoldUnit\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Number'\" [binding]=\"'soldUnitNumber'\" [isReadOnly]=\"true\" [width]=\"120\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'soldUnitDate'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Project'\" [binding]=\"'project'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Unit'\" [binding]=\"'unit'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Customer'\" [binding]=\"'customer'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Broker'\" [binding]=\"'broker'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'TCP Discount'\" [binding]=\"'tcpdiscount'\" [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Price'\" [binding]=\"'price'\" [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'L'\" [binding]=\"'isLocked'\" [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Status'\" [binding]=\"'status'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n\r\n            <!-- navigation buttons -->\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdSoldUnitCollection.pageIndex + 1 }} / {{ fgdSoldUnitCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdSoldUnitCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- user and time stamp -->\r\n    <app-footer [data]=\"fgdSoldUnitCollection\"></app-footer>\r\n</div>\r\n\r\n<!-- delete sold unit modal -->\r\n<div id=\"mdlSoldUnitDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlSoldUnitDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete Sold Unit</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{fgdSoldUnitCollection.currentItem != null ? fgdSoldUnitCollection.currentItem.soldUnitNumber : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnOkSoldUnitDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkSoldUnitDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok</button>\r\n                <button type=\"button\" id=\"btnCloseSoldUnitDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseSoldUnitDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/soldUnit/soldUnit.list.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SoldUnitList; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__soldUnit_service__ = __webpack_require__("../../../../../src/app/soldUnit/soldUnit.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// service(s)


var SoldUnitList = (function () {
    // =======
    // angular
    // =======
    // constructor
    function SoldUnitList(soldUnitService, toastr, viewContainer, router, securityService, location) {
        this.soldUnitService = soldUnitService;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.router = router;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // userrights
        this.canEdit = false;
        this.canSave = false;
        this.canLock = false;
        this.canUnlock = false;
        this.canPrint = false;
        this.canDelete = false;
        // =================
        // public properties
        // =================
        this.title = 'Sold Unit List';
        // model(s)
        this.soldUnit = {
            id: 0,
            soldUnitNumber: "",
            soldUnitDate: this.currentDateString,
            projectId: 0,
            project: "",
            unitId: 0,
            unit: "",
            customerId: 0,
            customer: "",
            brokerId: 0,
            broker: "",
            agent: "",
            brokerCoordinator: "",
            checklistId: 0,
            checklist: "",
            price: 0,
            tcp: 0,
            tsp: 0,
            tcpdiscount: 0,
            equityValue: 0,
            equityPercent: 0,
            equitySpotPayment1: 0,
            equitySpotPayment2: 0,
            equitySpotPayment3: 0,
            discount: 0,
            discountedEquity: 0,
            reservation: 0,
            netEquity: 0,
            netEquityBalance: 0,
            netEquityInterest: 0,
            netEquityNoOfPayments: 0,
            netEquityAmortization: 0,
            balance: 0,
            balanceInterest: 0,
            balanceNoOfPayments: 0,
            balanceAmortization: 0,
            totalInvestment: "",
            paymentOptions: "",
            financing: "",
            remarks: "",
            financingType: "",
            preparedBy: 0,
            preparedByUser: "",
            checkedBy: 0,
            checkedByUser: "",
            approvedBy: 0,
            approvedByUser: "",
            status: "SOLD",
            isLocked: false,
            createdBy: 0,
            createdDateTime: this.currentDateString,
            updatedBy: 0,
            updatedDateTime: this.currentDateString,
        };
        // filters
        this.calDateStartData = new Date();
        this.calDateEndData = new Date();
        // modal
        this.mdlSoldUnitDeleteShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    SoldUnitList.prototype.getUserRights = function () {
        var userRightsData = localStorage.getItem('userRights');
        var userRights = JSON.parse(userRightsData);
        for (var i = 0; i < userRights.length; i++) {
            if (userRights[i].page == 'SOLD UNIT LIST') {
                this.canEdit = userRights[i].canEdit;
                this.canSave = userRights[i].canSave;
                this.canLock = userRights[i].canLock;
                this.canUnlock = userRights[i].canUnlock;
                this.canPrint = userRights[i].canPrint;
                this.canDelete = userRights[i].canDelete;
            }
        }
    };
    // ng
    SoldUnitList.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdSoldUnitData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdSoldUnitCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdSoldUnitData);
        if (this.securityService.openPage("SOLD UNIT LIST") == true) {
            this.getSoldUnits();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
        this.getUserRights();
    };
    SoldUnitList.prototype.ngOnDestroy = function () {
        if (this.soldUnitsSub != null)
            this.soldUnitsSub.unsubscribe();
        if (this.soldUnitsDeletedSub != null)
            this.soldUnitsDeletedSub.unsubscribe();
    };
    // ==============
    // public methods
    // ==============
    // list
    SoldUnitList.prototype.getSoldUnits = function () {
        var _this = this;
        var dateStart = [this.calDateStartData.getFullYear(), this.calDateStartData.getMonth() + 1, this.calDateStartData.getDate()].join('-');
        var dateEnd = [this.calDateEndData.getFullYear(), this.calDateEndData.getMonth() + 1, this.calDateEndData.getDate()].join('-');
        var soldUnits = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.soldUnitService.getSoldUnitsPerDates(dateStart, dateEnd);
        this.soldUnitsSub = this.soldUnitService.soldUnitsObservable.subscribe(function (data) {
            _this.fgdSoldUnitData = data;
            _this.fgdSoldUnitCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdSoldUnitData);
            _this.fgdSoldUnitCollection.pageSize = 15;
            _this.fgdSoldUnitCollection.trackChanges = true;
        });
    };
    // ======
    // events
    // ======
    // list operations
    SoldUnitList.prototype.btnAddSoldUnitClick = function () {
        var btnAddSoldUnit = document.getElementById("btnAddSoldUnit");
        btnAddSoldUnit.setAttribute("disabled", "true");
        btnAddSoldUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Adding...";
        this.soldUnitService.addSoldUnit(this.soldUnit, btnAddSoldUnit);
    };
    SoldUnitList.prototype.btnEditSoldUnitClick = function () {
        var selectedSoldUnit = this.fgdSoldUnitCollection.currentItem;
        this.router.navigate(['/soldUnit', selectedSoldUnit.id]);
    };
    SoldUnitList.prototype.btnDeleteSoldUnitClick = function () {
        this.mdlSoldUnitDeleteShow = true;
    };
    // delete modal operations
    SoldUnitList.prototype.btnOkSoldUnitDeleteModalClick = function () {
        var _this = this;
        var btnOkSoldUnitDeleteModal = document.getElementById("btnOkSoldUnitDeleteModal");
        var btnCloseSoldUnitDeleteModal = document.getElementById("btnCloseSoldUnitDeleteModal");
        var selectedSoldUnit = this.fgdSoldUnitCollection.currentItem;
        btnOkSoldUnitDeleteModal.setAttribute("disabled", "disabled");
        btnCloseSoldUnitDeleteModal.setAttribute("disabled", "disabled");
        this.soldUnitService.deleteSoldUnit(selectedSoldUnit.id);
        this.soldUnitsDeletedSub = this.soldUnitService.soldUnitDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdSoldUnitCollection.remove(selectedSoldUnit);
                btnOkSoldUnitDeleteModal.removeAttribute("disabled");
                btnCloseSoldUnitDeleteModal.removeAttribute("disabled");
                _this.mdlSoldUnitDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkSoldUnitDeleteModal.removeAttribute("disabled");
                btnCloseSoldUnitDeleteModal.removeAttribute("disabled");
            }
        });
    };
    SoldUnitList.prototype.btnCloseSoldUnitDeleteModalClick = function () {
        this.mdlSoldUnitDeleteShow = false;
    };
    SoldUnitList = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/soldUnit/soldUnit.list.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__soldUnit_service__["a" /* SoldUnitService */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], SoldUnitList);
    return SoldUnitList;
}());



/***/ }),

/***/ "../../../../../src/app/soldUnit/soldUnit.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SoldUnitService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// wijmo

// async

var SoldUnitService = (function () {
    // =======
    // angular
    // =======
    // constructor
    function SoldUnitService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        // list (sold units)
        this.soldUnitsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitsObservable = this.soldUnitsSource.asObservable();
        // list operations, e.g., delete
        this.soldUnitDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitDeletedObservable = this.soldUnitDeletedSource.asObservable();
        // detail (sold unit)
        this.soldUnitSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitObservable = this.soldUnitSource.asObservable();
        // detail operations, e.g., saving, locking, unlocking
        this.soldUnitSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitSavedObservable = this.soldUnitSavedSource.asObservable();
        this.soldUnitLockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitLockedObservable = this.soldUnitLockedSource.asObservable();
        this.soldUnitUnlockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitUnlockedObservable = this.soldUnitUnlockedSource.asObservable();
        this.soldUnitCancelSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitCancelObservable = this.soldUnitCancelSource.asObservable();
        // detail combo boxes
        this.projectsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.projectsObservable = this.projectsSource.asObservable();
        this.unitsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.unitsObservable = this.unitsSource.asObservable();
        this.checklistsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.checklistsObservable = this.checklistsSource.asObservable();
        this.customersSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.customersObservable = this.customersSource.asObservable();
        this.brokersSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.brokersObservable = this.brokersSource.asObservable();
        this.usersSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.usersObservable = this.usersSource.asObservable();
        this.dropDownsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsObservable = this.dropDownsSource.asObservable();
        // detail line1 (checklist requirements) list
        this.soldUnitRequirementsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitRequirementsObservable = this.soldUnitRequirementsSource.asObservable();
        // detail line1 (checklist requirements) detail attachment blob
        this.soldUnitRequirementAttachmentSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitRequirementAttachmentObservable = this.soldUnitRequirementAttachmentSource.asObservable();
        // detail line1 line1 (checklist requirements activities) list
        this.soldUnitRequirementActivitiesSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitRequirementActivitiesObservable = this.soldUnitRequirementActivitiesSource.asObservable();
        // detail line1 (checklist requirements) detail operations, e.g., saved, etc.
        this.soldUnitRequirementSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitRequirementSavedObservable = this.soldUnitRequirementSavedSource.asObservable();
        // detail line1 line1 (checklist requirement activities) detail operations
        this.soldUnitRequirementAcvititySavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitRequirementActivitySavedObservable = this.soldUnitRequirementAcvititySavedSource.asObservable();
        this.soldUnitRequirementAcvitityAddSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitRequirementActivityAddObservable = this.soldUnitRequirementAcvitityAddSource.asObservable();
        this.soldUnitRequirementAcvitityDeleteSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitRequirementActivityDeleteObservable = this.soldUnitRequirementAcvitityDeleteSource.asObservable();
        // detail line2 (equity payment schedule) list
        this.soldUnitEquityScheduleSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitEquityScheduleObservable = this.soldUnitEquityScheduleSource.asObservable();
        // detail line2 (equity payment schedule) detail operations, e.g., saved, etc.
        this.soldUnitEquityPaymentSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitEquityPaymentSavedObservable = this.soldUnitEquityPaymentSavedSource.asObservable();
        // Co Owner
        this.soldUnitCoOwnerCustomerListSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitCoOwnerCustomerListObservable = this.soldUnitCoOwnerCustomerListSource.asObservable();
        this.soldUnitCoOwnerListSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.soldUnitCoOwnerListObservable = this.soldUnitCoOwnerListSource.asObservable();
        this.addSoldUnitCoOwnerListSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.addSoldUnitCoOwnerListObservable = this.addSoldUnitCoOwnerListSource.asObservable();
        this.updateSoldUnitCoOwnerListSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.updateSoldUnitCoOwnerListObservable = this.updateSoldUnitCoOwnerListSource.asObservable();
        this.deleteSoldUnitCoOwnerListSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.deleteSoldUnitCoOwnerListObservable = this.deleteSoldUnitCoOwnerListSource.asObservable();
    }
    // ==============
    // public methods
    // ==============
    // list
    SoldUnitService.prototype.getSoldUnitsPerDates = function (dateStart, dateEnd) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/ListPerDates/" + dateStart + "/" + dateEnd;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/ListPerDates/" + dateStart + "/" + dateEnd;
        var soldUnits = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnits.push({
                        id: results[i].Id,
                        soldUnitNumber: results[i].SoldUnitNumber,
                        soldUnitDate: results[i].SoldUnitDate,
                        projectId: results[i].ProjectId,
                        project: results[i].Project,
                        unitId: results[i].UnitId,
                        unit: results[i].Unit,
                        customerId: results[i].CustomerId,
                        customer: results[i].Customer,
                        brokerId: results[i].BrokerId,
                        broker: results[i].Broker,
                        agent: results[i].Agent,
                        brokerCoordinator: results[i].BrokerCoordinator,
                        checklistId: results[i].ChecklistId,
                        checklist: results[i].Checklist,
                        price: results[i].Price,
                        tcpdiscount: results[i].PriceDiscount,
                        equityValue: results[i].EquityValue,
                        equityPercent: results[i].EquityPercent,
                        equitySpotPayment1: results[i].equitySpotPayment1,
                        equitySpotPayment2: results[i].equitySpotPayment2,
                        equitySpotPayment3: results[i].equitySpotPayment3,
                        discount: results[i].Discount,
                        discountedEquity: results[i].DiscountedEquity,
                        reservation: results[i].Reservation,
                        netEquity: results[i].NetEquity,
                        netEquityBalance: results[i].NetEquityBalance,
                        netEquityInterest: results[i].NetEquityInterest,
                        netEquityNoOfPayments: results[i].NetEquityNoOfPayments,
                        netEquityAmortization: results[i].NetEquityAmortization,
                        balance: results[i].Balance,
                        balanceInterest: results[i].BalanceInterest,
                        balanceNoOfPayments: results[i].BalanceNoOfPayments,
                        balanceAmortization: results[i].BalanceAmortization,
                        totalInvestment: results[i].TotalInvestment,
                        paymentOptions: results[i].PaymentOptions,
                        financing: results[i].Financing,
                        remarks: results[i].Remarks,
                        financingType: results[i].FinancingType,
                        preparedBy: results[i].PreparedBy,
                        preparedByUser: results[i].PreparedByUser,
                        checkedBy: results[i].CheckedBy,
                        checkedByUser: results[i].CheckedByUser,
                        approvedBy: results[i].ApprovedBy,
                        approvedByUser: results[i].ApprovedByUser,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.soldUnitsSource.next(soldUnits);
            }
            else {
                _this.soldUnitsSource.next(soldUnits);
                _this.toastr.error("No sold units for this date range.");
            }
        });
    };
    // detail
    SoldUnitService.prototype.getSoldUnit = function (id) {
        var _this = this;
        var soldUnit;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Detail/" + id;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Detail/" + id;
        this.http.get(url, this.options).subscribe(function (response) {
            var result = response.json();
            if (result != null) {
                console.log("FT - " + result.FinancingType);
                soldUnit = {
                    id: result.Id,
                    soldUnitNumber: result.SoldUnitNumber,
                    soldUnitDate: result.SoldUnitDate,
                    projectId: result.ProjectId,
                    project: result.Project,
                    unitId: result.UnitId,
                    unit: result.Unit,
                    customerId: result.CustomerId,
                    customer: result.Customer,
                    brokerId: result.BrokerId,
                    broker: result.Broker,
                    agent: result.Agent,
                    brokerCoordinator: result.BrokerCoordinator,
                    checklistId: result.ChecklistId,
                    checklist: result.Checklist,
                    price: result.Price,
                    tcp: result.TCP,
                    tsp: result.TSP,
                    tcpdiscount: result.PriceDiscount,
                    equityValue: result.EquityValue,
                    equityPercent: result.EquityPercent,
                    equitySpotPayment1: result.EquitySpotPayment1,
                    equitySpotPayment2: result.EquitySpotPayment2,
                    equitySpotPayment3: result.EquitySpotPayment3,
                    discount: result.Discount,
                    discountedEquity: result.DiscountedEquity,
                    reservation: result.Reservation,
                    netEquity: result.NetEquity,
                    netEquityBalance: result.NetEquityBalance,
                    netEquityInterest: result.NetEquityInterest,
                    netEquityNoOfPayments: result.NetEquityNoOfPayments,
                    netEquityAmortization: result.NetEquityAmortization,
                    balance: result.Balance,
                    balanceInterest: result.BalanceInterest,
                    balanceNoOfPayments: result.BalanceNoOfPayments,
                    balanceAmortization: result.BalanceAmortization,
                    totalInvestment: result.TotalInvestment,
                    paymentOptions: result.PaymentOptions,
                    financing: result.Financing,
                    remarks: result.Remarks,
                    financingType: result.FinancingType,
                    preparedBy: result.PreparedBy,
                    preparedByUser: result.PreparedByUser,
                    checkedBy: result.CheckedBy,
                    checkedByUser: result.CheckedByUser,
                    approvedBy: result.ApprovedBy,
                    approvedByUser: result.ApprovedByUser,
                    status: result.Status,
                    isLocked: result.IsLocked,
                    createdBy: result.CreatedBy,
                    createdDateTime: result.CreatedDateTime,
                    updatedBy: result.UpdatedBy,
                    updatedDateTime: result.UpdatedDateTime
                };
                _this.soldUnitSource.next(soldUnit);
            }
            else {
                _this.toastr.error("No sold unit.");
                setTimeout(function () {
                    _this.router.navigate(["/soldUnit"]);
                }, 1000);
            }
        });
    };
    // detail line1 (checklist requirements) - new list and existing list
    SoldUnitService.prototype.getNewSoldUnitRequirements = function (soldUnitId, checklistId) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirement/ListNewTrnSoldUnitRequirements/" + soldUnitId + "/" + checklistId;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirement/ListNewTrnSoldUnitRequirements/" + soldUnitId + "/" + checklistId;
        var soldUnitRequirements = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnitRequirements.push({
                        id: results[i].Id,
                        soldUnitId: results[i].SoldUnitId,
                        checklistRequirementId: results[i].ChecklistRequirementId,
                        checklistRequirement: results[i].ChecklistRequirement,
                        checklistRequirementNo: results[i].ChecklistRequirementNo,
                        checklistCategory: results[i].ChecklistCategory,
                        checklistType: results[i].ChecklistType,
                        checklistWithAttachments: results[i].ChecklistWithAttachments,
                        attachment1: results[i].Attachment1 == null ? "" : results[i].Attachment1,
                        attachment2: results[i].Attachment2 == null ? "" : results[i].Attachment2,
                        attachment3: results[i].Attachment3 == null ? "" : results[i].Attachment3,
                        attachment4: results[i].Attachment4 == null ? "" : results[i].Attachment4,
                        attachment5: results[i].Attachment5 == null ? "" : results[i].Attachment5,
                        remarks: results[i].Remarks,
                        status: results[i].Status,
                        statusDate: results[i].StatusDate,
                    });
                }
                _this.soldUnitRequirementsSource.next(soldUnitRequirements);
            }
            else {
                _this.soldUnitRequirementsSource.next(soldUnitRequirements);
                _this.toastr.error("No requirements for this sold unit.");
            }
        });
    };
    SoldUnitService.prototype.getSoldUnitRequirements = function (soldUnitId) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirement/ListPerUnitSold/" + soldUnitId;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirement/ListPerUnitSold/" + soldUnitId;
        var soldUnitRequirements = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnitRequirements.push({
                        id: results[i].Id,
                        soldUnitId: results[i].SoldUnitId,
                        checklistRequirementId: results[i].ChecklistRequirementId,
                        checklistRequirement: results[i].ChecklistRequirement,
                        checklistRequirementNo: results[i].ChecklistRequirementNo,
                        checklistCategory: results[i].ChecklistCategory,
                        checklistType: results[i].ChecklistType,
                        checklistWithAttachments: results[i].ChecklistWithAttachments,
                        attachment1: results[i].Attachment1 == null ? "" : results[i].Attachment1,
                        attachment2: results[i].Attachment2 == null ? "" : results[i].Attachment2,
                        attachment3: results[i].Attachment3 == null ? "" : results[i].Attachment3,
                        attachment4: results[i].Attachment4 == null ? "" : results[i].Attachment4,
                        attachment5: results[i].Attachment5 == null ? "" : results[i].Attachment5,
                        remarks: results[i].Remarks,
                        status: results[i].Status,
                        statusDate: results[i].StatusDate,
                    });
                }
                _this.soldUnitRequirementsSource.next(soldUnitRequirements);
            }
            else {
                _this.soldUnitRequirementsSource.next(soldUnitRequirements);
                _this.toastr.error("No requirements for this sold unit.");
            }
        });
    };
    // detail line1 line1 (checklist requirement activities)
    SoldUnitService.prototype.getSoldUnitRequirementActivities = function (soldUnitRequirementId) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirementActivity/ListPerSoldUnitRequirement/" + soldUnitRequirementId;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirementActivity/ListPerSoldUnitRequirement/" + soldUnitRequirementId;
        var soldUnitRequirementActivities = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnitRequirementActivities.push({
                        id: results[i].Id,
                        soldUnitRequirementId: results[i].SoldUnitRequirementId,
                        activityDate: results[i].ActivityDate,
                        activity: results[i].Activity,
                        remarks: results[i].Remarks,
                        userId: results[i].UserId,
                        user: results[i].User
                    });
                }
                _this.soldUnitRequirementActivitiesSource.next(soldUnitRequirementActivities);
            }
            else {
                _this.soldUnitRequirementActivitiesSource.next(soldUnitRequirementActivities);
                _this.toastr.error("No activities for this sold unit requirement.");
            }
        });
    };
    // detail line2 (equity payment schedule)
    SoldUnitService.prototype.getNewSoldUnitEquitySchedule = function (soldUnitId) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitEquitySchedule/ListNewTrnSoldUnitEquitySchedule/" + soldUnitId;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitEquitySchedule/ListNewTrnSoldUnitEquitySchedule/" + soldUnitId;
        var soldUnitEquitySchedule = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnitEquitySchedule.push({
                        id: results[i].Id,
                        soldUnitId: results[i].SoldUnitId,
                        paymentDate: results[i].PaymentDate,
                        amortization: results[i].Amortization,
                        checkNumber: results[i].CheckNumber,
                        checkDate: results[i].CheckDate,
                        checkBank: results[i].CheckBank,
                        remarks: results[i].Remarks
                    });
                }
                _this.soldUnitEquityScheduleSource.next(soldUnitEquitySchedule);
            }
            else {
                _this.soldUnitEquityScheduleSource.next(soldUnitEquitySchedule);
                _this.toastr.error("No equity payment schedule for this sold unit.");
            }
        });
    };
    SoldUnitService.prototype.getSoldUnitEquitySchedule = function (soldUnitId) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitEquitySchedule/ListPerUnitSold/" + soldUnitId;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitEquitySchedule/ListPerUnitSold/" + soldUnitId;
        var soldUnitEquitySchedule = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    soldUnitEquitySchedule.push({
                        id: results[i].Id,
                        soldUnitId: results[i].SoldUnitId,
                        paymentDate: results[i].PaymentDate,
                        amortization: results[i].Amortization,
                        checkNumber: results[i].CheckNumber,
                        checkDate: results[i].CheckDate,
                        checkBank: results[i].CheckBank,
                        remarks: results[i].Remarks
                    });
                }
                _this.soldUnitEquityScheduleSource.next(soldUnitEquitySchedule);
            }
            else {
                _this.soldUnitEquityScheduleSource.next(soldUnitEquitySchedule);
                _this.toastr.error("No equity payment schedule for this sold unit.");
            }
        });
    };
    // detail combo boxes
    SoldUnitService.prototype.getProjects = function () {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/List";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/List";
        var projects = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    projects.push({
                        id: results[i].Id,
                        projectCode: results[i].ProjectCode,
                        project: results[i].Project,
                        address: results[i].Address,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.projectsSource.next(projects);
            }
            else {
                _this.toastr.error("No projects.");
            }
        });
    };
    SoldUnitService.prototype.getDropDowns = function () {
        var _this = this;
        var dropDowns = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    dropDowns.push({
                        id: results[i].Id,
                        category: results[i].Category,
                        description: results[i].Description,
                        value: results[i].Value
                    });
                }
                _this.dropDownsSource.next(dropDowns);
            }
            else {
                _this.dropDownsSource.next(dropDowns);
                _this.toastr.error("No dropdowns.");
            }
        });
    };
    SoldUnitService.prototype.getUnitsPerProject = function (projectId) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/OpenListPerProjectId/" + projectId;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/OpenListPerProjectId/" + projectId;
        var units = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    if (results[i].Status == "OPEN") {
                        units.push({
                            id: results[i].Id,
                            unitCode: results[i].UnitCode,
                            block: results[i].Block,
                            lot: results[i].Lot,
                            projectId: results[i].ProjectId,
                            project: results[i].Project,
                            houseModelId: results[i].HouseModelId,
                            houseModel: results[i].HouseModel,
                            tla: results[i].TLA,
                            tfa: results[i].TFA,
                            price: results[i].Price,
                            status: results[i].Status,
                            isLocked: results[i].IsLocked,
                            createdBy: results[i].CreatedBy,
                            createdDateTime: results[i].CreatedDateTime,
                            updatedBy: results[i].UpdatedBy,
                            updatedDateTime: results[i].UpdatedDateTime,
                        });
                    }
                }
                _this.unitsSource.next(units);
            }
            else {
                _this.unitsSource.next(units);
                _this.toastr.error("No units for this project.");
            }
        });
    };
    SoldUnitService.prototype.getChecklistsPerProject = function (projectId) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstChecklist/ListPerProjectId/" + projectId;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstChecklist/ListPerProjectId/" + projectId;
        var checklists = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    checklists.push({
                        id: results[i].Id,
                        checklistCode: results[i].ChecklistCode,
                        checklist: results[i].Checklist,
                        checklistDate: results[i].ChecklistDate,
                        projectId: results[i].ProjectId,
                        remarks: results[i].Remarks,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.checklistsSource.next(checklists);
            }
            else {
                _this.checklistsSource.next(checklists);
                _this.toastr.error("No checklist for this project.");
            }
        });
    };
    SoldUnitService.prototype.getCustomers = function () {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstCustomer/List";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstCustomer/List";
        var customers = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    customers.push({
                        id: results[i].Id,
                        fullName: results[i].FullName
                    });
                }
                _this.customersSource.next(customers);
            }
            else {
                _this.toastr.error("No customers.");
            }
        });
    };
    SoldUnitService.prototype.getBrokers = function () {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstBroker/List";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstBroker/List";
        var brokers = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    brokers.push({
                        id: results[i].Id,
                        fullName: results[i].FullName + "   (" + results[i].RealtyFirm + ")"
                    });
                }
                _this.brokersSource.next(brokers);
            }
            else {
                _this.toastr.error("No brokers.");
            }
        });
    };
    SoldUnitService.prototype.getUsers = function () {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUser/List";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUser/List";
        var users = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    users.push({
                        id: results[i].Id,
                        fullName: results[i].FullName
                    });
                }
                _this.usersSource.next(users);
            }
            else {
                _this.toastr.error("No brokers.");
            }
        });
    };
    // upload attachments
    SoldUnitService.prototype.uploadSoldUnitAttachment = function (file, fileName) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/Blob/Upload";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/Blob/Upload";
        var blob;
        var formData = new FormData();
        formData.append("image", file, fileName);
        this.http
            .post(url, formData)
            .subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                blob = {
                    fileName: results[0].FileName,
                    fileUrl: results[0].FileUrl,
                    fileSizeInBytes: results[0].FileSizeInBytes,
                    fileSizeInKb: results[0].FileSizeInKb,
                };
                _this.soldUnitRequirementAttachmentSource.next(blob);
                _this.toastr.success("Upload successful.");
            }
            else {
                _this.soldUnitRequirementAttachmentSource.next(blob);
                _this.toastr.error("Uploading failed.");
            }
        }, function (error) {
            _this.soldUnitRequirementAttachmentSource.next(blob);
            _this.toastr.error("Server error.");
        });
    };
    // list operations
    SoldUnitService.prototype.addSoldUnit = function (soldUnit, btnAddSoldUnit) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Add";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Add";
        this.http.post(url, JSON.stringify(soldUnit), this.options).subscribe(function (response) {
            var id = response.json();
            if (id > 0) {
                _this.toastr.success("Add successful.");
                setTimeout(function () {
                    _this.router.navigate(['/soldUnit', id]);
                }, 1000);
            }
            else {
                _this.toastr.error("Add failed.");
                btnAddSoldUnit.removeAttribute("disabled");
                btnAddSoldUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
            }
        }, function (error) {
            _this.toastr.error("Server error.");
            btnAddSoldUnit.removeAttribute("disabled");
            btnAddSoldUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
        });
    };
    SoldUnitService.prototype.deleteSoldUnit = function (id) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Delete/" + id;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.soldUnitDeletedSource.next(1);
        }, function (error) {
            _this.soldUnitDeletedSource.next(0);
        });
    };
    SoldUnitService.prototype.transferSoldUnit = function (soldUnit) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Transfer";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Transfer";
        this.http.put(url, JSON.stringify(soldUnit), this.options).subscribe(function (response) {
            var id = response.json();
            if (id > 0) {
                _this.toastr.success("Transfer successful.");
                setTimeout(function () {
                    _this.router.navigate(['/soldUnit']);
                }, 1000);
                setTimeout(function () {
                    _this.router.navigate(['/soldUnit', id]);
                }, 1000);
            }
            else {
                _this.toastr.error("Transfer failed.");
            }
        }, function (error) {
            _this.toastr.error("Server error.");
        });
    };
    // detail operations
    SoldUnitService.prototype.saveSoldUnit = function (soldUnit) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Save";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Save";
        this.http.put(url, JSON.stringify(soldUnit), this.options).subscribe(function (response) {
            _this.soldUnitSavedSource.next(1);
        }, function (error) {
            _this.soldUnitSavedSource.next(0);
        });
    };
    SoldUnitService.prototype.lockSoldUnit = function (soldUnit) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Lock";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Lock";
        this.http.put(url, JSON.stringify(soldUnit), this.options).subscribe(function (response) {
            _this.soldUnitLockedSource.next(1);
        }, function (error) {
            _this.soldUnitLockedSource.next(0);
        });
    };
    SoldUnitService.prototype.unlockSoldUnit = function (soldUnit) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Unlock";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Unlock";
        this.http.put(url, JSON.stringify(soldUnit), this.options).subscribe(function (response) {
            _this.soldUnitUnlockedSource.next(1);
        }, function (error) {
            _this.soldUnitUnlockedSource.next(0);
        });
    };
    SoldUnitService.prototype.cancelSoldUnit = function (soldUnit) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Cancel";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnit/Cancel";
        this.http.put(url, JSON.stringify(soldUnit), this.options).subscribe(function (response) {
            _this.soldUnitCancelSource.next(1);
        }, function (error) {
            _this.soldUnitCancelSource.next(0);
        });
    };
    // detail line1 (checklist requirements) operations
    SoldUnitService.prototype.saveSoldUnitRequirement = function (soldUnitRequirement) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirement/Save";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirement/Save";
        this.http.put(url, JSON.stringify(soldUnitRequirement), this.options).subscribe(function (response) {
            _this.soldUnitRequirementSavedSource.next(1);
        }, function (error) {
            _this.soldUnitRequirementSavedSource.next(0);
        });
    };
    // detail line1 line (checklist requirement activities) operations
    SoldUnitService.prototype.saveSoldUnitRequirementActivity = function (soldUnitRequirementActivity) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirementActivity/Save";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirementActivity/Save";
        this.http.put(url, JSON.stringify(soldUnitRequirementActivity), this.options).subscribe(function (response) {
            _this.soldUnitRequirementAcvititySavedSource.next(1);
        }, function (error) {
            _this.soldUnitRequirementAcvititySavedSource.next(0);
        });
    };
    SoldUnitService.prototype.addSoldUnitRequirementActivity = function (soldUnitRequirementActivity) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirementActivity/Add";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirementActivity/Add";
        this.http.post(url, JSON.stringify(soldUnitRequirementActivity), this.options).subscribe(function (response) {
            _this.soldUnitRequirementAcvitityAddSource.next(1);
        }, function (error) {
            _this.soldUnitRequirementAcvitityAddSource.next(0);
        });
    };
    SoldUnitService.prototype.deleteSoldUnitRequirementActivity = function (id) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirementActivity/Delete/" + id;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitRequirementActivity/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.soldUnitRequirementAcvitityDeleteSource.next(1);
        }, function (error) {
            _this.soldUnitRequirementAcvitityDeleteSource.next(0);
        });
    };
    // detail line2 (equity payment schedule) operations
    SoldUnitService.prototype.saveSoldUnitEquitySchedule = function (soldUnitEquitySchedule) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitEquitySchedule/Save";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/TrnSoldUnitEquitySchedule/Save";
        this.http.put(url, JSON.stringify(soldUnitEquitySchedule), this.options).subscribe(function (response) {
            _this.soldUnitEquityPaymentSavedSource.next(1);
        }, function (error) {
            _this.soldUnitEquityPaymentSavedSource.next(0);
        });
    };
    // List Co-Owner Customer
    SoldUnitService.prototype.getSoldUnitCustomer = function () {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/trnSoldUnitOwner/dropdown/customer/list";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/trnSoldUnitOwner/dropdown/customer/list";
        var customers = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    customers.push({
                        id: results[i].Id,
                        customerCode: results[i].CustomerCode,
                        fullName: results[i].FullName
                    });
                }
                _this.soldUnitCoOwnerCustomerListSource.next(customers);
            }
            else {
                _this.soldUnitCoOwnerCustomerListSource.next(customers);
                _this.toastr.error("No customers for this project.");
            }
        });
    };
    // List Co-Owner
    SoldUnitService.prototype.getSoldUnitCoOwner = function (soldUnitId) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/trnSoldUnitOwner/list/" + soldUnitId;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/trnSoldUnitOwner/list/" + soldUnitId;
        var coOwners = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    coOwners.push({
                        id: results[i].Id,
                        soldUnitId: results[i].SoldUnitId,
                        customerId: results[i].CustomerId,
                        customerCode: results[i].CustomerCode,
                        customer: results[i].Customer,
                        address: results[i].Address
                    });
                }
                _this.soldUnitCoOwnerListSource.next(coOwners);
            }
            else {
                _this.soldUnitCoOwnerListSource.next(coOwners);
                _this.toastr.error("No co-owners for this project.");
            }
        });
    };
    // Add Co-Owner
    SoldUnitService.prototype.addSoldUnitCoOwner = function (objSoldUnitCoOwner) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/trnSoldUnitOwner/add";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/trnSoldUnitOwner/add";
        this.http.post(url, JSON.stringify(objSoldUnitCoOwner), this.options).subscribe(function (response) {
            _this.addSoldUnitCoOwnerListSource.next(1);
        }, function (error) {
            _this.addSoldUnitCoOwnerListSource.next(0);
        });
    };
    // Update Co-Owner
    SoldUnitService.prototype.updateSoldUnitCoOwner = function (objSoldUnitCoOwner) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/trnSoldUnitOwner/update";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/trnSoldUnitOwner/update";
        this.http.put(url, JSON.stringify(objSoldUnitCoOwner), this.options).subscribe(function (response) {
            _this.updateSoldUnitCoOwnerListSource.next(1);
        }, function (error) {
            _this.updateSoldUnitCoOwnerListSource.next(0);
        });
    };
    // Delete Co-Owner
    SoldUnitService.prototype.deleteSoldUnitCoOwner = function (id) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/trnSoldUnitOwner/delete/" + id;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/trnSoldUnitOwner/delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.deleteSoldUnitCoOwnerListSource.next(1);
        }, function (error) {
            _this.deleteSoldUnitCoOwnerListSource.next(0);
        });
    };
    SoldUnitService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], SoldUnitService);
    return SoldUnitService;
}());



/***/ }),

/***/ "../../../../../src/app/unit/unit.detail.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n\r\n<br>\r\n<br>\r\n\r\n<div class=\"content-wrapper\">\r\n\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/unit\">Unit List</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- detail operations, e.g., save, lock, unlock, etc. -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button id=\"btnLockUnit\" [disabled]=\"unit.isLocked\" class=\"btn btn-primary\" (click)=\"btnLockUnitClick()\" id=\"btnLockUnit\">\r\n                                <i class=\"fa fa-lock fa-fw\"></i> Lock\r\n                            </button>\r\n                            <button id=\"btnUnlockUnit\" [disabled]=\"!unit.isLocked\" class=\"btn btn-primary\" (click)=\"btnUnlockUnitClick()\" id=\"btnUnlockUnit\">\r\n                                <i class=\"fa fa-unlock fa-fw\"></i> Unlock\r\n                            </button>\r\n                            <button id=\"btnSaveUnit\" [disabled]=\"unit.isLocked\" class=\"btn btn-primary\" (click)=\"btnSaveUnitClick()\" id=\"btnSaveUnit\">\r\n                                <i class=\"fa fa-save fa-fw\"></i> Save\r\n                            </button>\r\n                            <button id=\"btnCloseUnit\" class=\"btn btn-danger\" routerLink=\"/unit\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- detail fields -->\r\n            <div class=\"card-body\">\r\n                <div class=\"row\">\r\n\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Unit Code</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"unit.unitCode\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Block No.</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input #txtBlock [(ngModel)]=\"unit.block\" [disabled]=\"unit.isLocked\" (input)=\"txtBlockKeyup()\" type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Lot No.</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input #txtLot [(ngModel)]=\"unit.lot\" [disabled]=\"unit.isLocked\" (input)=\"txtBlockKeyup()\" type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Project</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"unit.project\" disabled type=\"text\" class=\"form-control\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Model</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbHouseModel [itemsSource]=\"cmbHouseModelData\" [isDisabled]=\"unit.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'houseModel'\" [selectedValuePath]=\"'id'\" [(ngModel)]=\"unit.houseModelId\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Total Lot Area (sqm)</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-input-number [(value)]=\"unit.tla\" [isDisabled]=\"unit.isLocked\">\r\n                                </wj-input-number>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Total Floor Area (sqm)</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-input-number [(value)]=\"unit.tfa\" [isDisabled]=\"unit.isLocked\">\r\n                                </wj-input-number>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">TCP</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-input-number [(value)]=\"unit.price\" format=\"n2\" [isDisabled]=\"unit.isLocked\">\r\n                                </wj-input-number>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                                <label class=\"col-sm-4 col-form-label text-right\">TSP</label>\r\n                                <div class=\"col-sm-8\">\r\n                                    <wj-input-number [(value)]=\"unit.tsp\" format=\"n2\" [isDisabled]=\"unit.isLocked\">\r\n                                    </wj-input-number>\r\n                                </div>\r\n                            </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Status</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box [itemsSource]=\"cmbUnitStatusData\" [isDisabled]=\"unit.isLocked\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'description'\"\r\n                                    [selectedValuePath]=\"'value'\" [(text)]=\"unit.status\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n            <!-- <div class=\"card-body\"> -->\r\n\r\n\r\n        </div>\r\n        <!-- <div class=\"card\"> -->\r\n        <br />\r\n        <div class=\"card\">\r\n            <div class=\"card-header\">\r\n                <h6>Change Price History</h6>\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdUnitPrices [itemsSource]=\"fgdUnitPricesCollection\" [selectionMode]=\"3\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column [header]=\"'Date'\" [binding]=\"'priceDate'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Price'\" [binding]=\"'price'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitPricesCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitPricesCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdUnitPricesCollection.pageIndex + 1 }} / {{ fgdUnitPricesCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitPricesCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitPricesCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <!-- <div class=\"card-body\"> -->\r\n\r\n        </div>\r\n\r\n    </div>\r\n    <!-- <div class=\"container-fluid\"> -->\r\n\r\n    <app-footer [data]=\"unit\"></app-footer>\r\n\r\n</div>\r\n<!-- <div class=\"content-wrapper\"> -->"

/***/ }),

/***/ "../../../../../src/app/unit/unit.detail.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UnitDetail; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__unit_service__ = __webpack_require__("../../../../../src/app/unit/unit.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// service(s)


var UnitDetail = (function () {
    // =======
    // angular
    // =======
    // constructor
    function UnitDetail(unitService, router, toastr, viewContainer, activatedRoute, securityService, location) {
        this.unitService = unitService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.activatedRoute = activatedRoute;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // userrights
        this.canEdit = false;
        this.canSave = false;
        this.canLock = false;
        this.canUnlock = false;
        this.canPrint = false;
        this.canDelete = false;
        // =================
        // public properties
        // =================
        this.title = 'Unit Detail';
        // model(s)
        this.unit = {
            id: 0,
            unitCode: "",
            block: "",
            lot: "",
            projectId: 0,
            project: "",
            houseModelId: 0,
            houseModel: "",
            tla: 0,
            tfa: 0,
            price: 0,
            tsp: 0,
            status: "OPEN",
            isLocked: false,
            createdBy: 1,
            createdDateTime: this.currentDateString,
            updatedBy: 1,
            updatedDateTime: this.currentDateString,
            customer: ""
        };
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    UnitDetail.prototype.getUserRights = function () {
        var userRightsData = localStorage.getItem('userRights');
        var userRights = JSON.parse(userRightsData);
        for (var i = 0; i < userRights.length; i++) {
            if (userRights[i].page == 'UNIT DETAIL') {
                this.canEdit = userRights[i].canEdit;
                this.canSave = userRights[i].canSave;
                this.canLock = userRights[i].canLock;
                this.canUnlock = userRights[i].canUnlock;
                this.canPrint = userRights[i].canPrint;
                this.canDelete = userRights[i].canDelete;
            }
        }
    };
    // ng
    UnitDetail.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdUnitPricesData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdUnitPricesCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdUnitPricesData);
        if (this.securityService.openPage("UNIT DETAIL") == true) {
            this.getUnit();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
        this.getUserRights();
        if (!this.canLock) {
            document.getElementById("btnLockUnit").hidden = true;
        }
        if (!this.canUnlock) {
            document.getElementById("btnUnLockUnit").hidden = true;
        }
        if (!this.canSave) {
            document.getElementById("btnSaveUnit").hidden = true;
        }
        if (!this.canDelete) {
            document.getElementById("btnDeleteUserRights").hidden = true;
        }
    };
    UnitDetail.prototype.ngOnDestroy = function () {
        if (this.unitSub != null)
            this.unitSub.unsubscribe();
        if (this.unitSavedSub != null)
            this.unitSavedSub.unsubscribe();
        if (this.unitLockedSub != null)
            this.unitLockedSub.unsubscribe();
        if (this.unitUnlockedSub != null)
            this.unitUnlockedSub.unsubscribe();
        if (this.cmbHouseModelSub != null)
            this.cmbHouseModelSub.unsubscribe();
        if (this.cmbUnitStatusSub != null)
            this.cmbUnitStatusSub.unsubscribe();
        if (this.unitPricesSub != null)
            this.unitPricesSub.unsubscribe();
    };
    // ===============
    // private methods
    // ===============
    UnitDetail.prototype.getIdParameter = function () {
        var id = 0;
        this.activatedRoute.params.subscribe(function (params) {
            id = params['id'];
        });
        return id;
    };
    // ==============
    // public methods
    // ==============
    // detail
    UnitDetail.prototype.getUnit = function () {
        var _this = this;
        this.unitService.getUnit(this.getIdParameter());
        this.unitSub = this.unitService.unitObservable
            .subscribe(function (data) {
            _this.unit.id = data.id;
            _this.unit.unitCode = data.unitCode;
            _this.unit.block = data.block;
            _this.unit.lot = data.lot;
            _this.unit.projectId = data.projectId;
            _this.unit.project = data.project;
            _this.unit.houseModelId = data.houseModelId;
            _this.unit.houseModel = data.houseModel;
            _this.unit.tla = data.tla;
            _this.unit.tfa = data.tfa;
            _this.unit.price = data.price;
            _this.unit.tsp = data.tsp;
            _this.unit.status = data.status;
            _this.unit.isLocked = data.isLocked;
            _this.unit.createdBy = data.createdBy;
            _this.unit.createdDateTime = data.createdDateTime;
            _this.unit.updatedBy = data.updatedBy;
            _this.unit.updatedDateTime = data.updatedDateTime;
            _this.getHouseModelsPerProject(data.houseModelId);
            _this.getUnitStatuses(data.status);
            _this.getUnitPrices(data.id);
        });
    };
    UnitDetail.prototype.getUnitPrices = function (unitId) {
        var _this = this;
        this.unitService.getUnitPricesPerUnitId(unitId);
        this.unitPricesSub = this.unitService.unitPricesObservable.subscribe(function (data) {
            console.log(data);
            _this.fgdUnitPricesData = data;
            _this.fgdUnitPricesCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdUnitPricesData);
            _this.fgdUnitPricesCollection.pageSize = 15;
            _this.fgdUnitPricesCollection.trackChanges = true;
        });
    };
    // combo boxes
    UnitDetail.prototype.getHouseModelsPerProject = function (defaultValue) {
        var _this = this;
        this.unitService.getHouseModelsPerProject(this.unit.projectId);
        this.cmbHouseModelSub = this.unitService.houseModelsObservable.subscribe(function (data) {
            _this.cmbHouseModelData = data;
            setTimeout(function () {
                _this.unit.houseModelId = defaultValue;
            }, 100);
        });
    };
    UnitDetail.prototype.getUnitStatuses = function (defaultValue) {
        var _this = this;
        this.unitService.getDropDowns();
        this.cmbUnitStatusSub = this.unitService.dropDownsObservable.subscribe(function (data) {
            var unitStatuses = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].category == "UNIT STATUS") {
                        unitStatuses.push({
                            id: data[i].id,
                            category: data[i].category,
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                }
            }
            _this.cmbUnitStatusData = unitStatuses;
            setTimeout(function () {
                _this.unit.status = defaultValue;
            }, 100);
        });
    };
    // ======
    // events
    // ======
    // detail operations
    UnitDetail.prototype.btnSaveUnitClick = function () {
        var _this = this;
        var btnSaveUnit = document.getElementById("btnSaveUnit");
        btnSaveUnit.setAttribute("disabled", "disabled");
        btnSaveUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.unitService.saveUnit(this.unit);
        this.unitSavedSub = this.unitService.unitSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveUnit.removeAttribute("disabled");
                btnSaveUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveUnit.removeAttribute("disabled");
                btnSaveUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    UnitDetail.prototype.btnLockUnitClick = function () {
        var _this = this;
        var btnLockUnit = document.getElementById("btnLockUnit");
        btnLockUnit.setAttribute("disabled", "disabled");
        btnLockUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Locking...";
        this.unitService.lockUnit(this.unit);
        this.unitLockedSub = this.unitService.unitLockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Locking successful.");
                _this.unit.isLocked = true;
                btnLockUnit.removeAttribute("disabled");
                btnLockUnit.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
            else if (data == 0) {
                _this.toastr.error("Locking failed.");
                btnLockUnit.removeAttribute("disabled");
                btnLockUnit.innerHTML = "<i class='fa fa-lock fa-fw'></i> Lock";
            }
        });
    };
    UnitDetail.prototype.btnUnlockUnitClick = function () {
        var _this = this;
        var btnUnlockUnit = document.getElementById("btnUnlockUnit");
        btnUnlockUnit.setAttribute("disabled", "disabled");
        btnUnlockUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Unlocking...";
        this.unitService.unlockUnit(this.unit);
        this.unitUnlockedSub = this.unitService.unitUnlockedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Unlocking successful.");
                _this.unit.isLocked = false;
                btnUnlockUnit.removeAttribute("disabled");
                btnUnlockUnit.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
            else if (data == 0) {
                _this.toastr.error("Unlocking failed.");
                btnUnlockUnit.removeAttribute("disabled");
                btnUnlockUnit.innerHTML = "<i class='fa fa-lock fa-fw'></i> Unlock";
            }
        });
    };
    // unit code events
    UnitDetail.prototype.txtBlockKeyup = function () {
        this.unit.unitCode = this.unit.block + this.unit.lot;
    };
    UnitDetail.prototype.txtLotKeyup = function () {
        this.unit.unitCode = this.unit.block + this.unit.lot;
    };
    UnitDetail = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/unit/unit.detail.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__unit_service__["a" /* UnitService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], UnitDetail);
    return UnitDetail;
}());



/***/ }),

/***/ "../../../../../src/app/unit/unit.list.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumb -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- buttons -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button id=\"btnChangePriceUnit\" class=\"btn btn-primary\" (click)=\"btnChangePriceUnitClick()\">\r\n                                <i class=\"fa fa-eraser fa-fw\"></i> Update Prices\r\n                            </button>\r\n                            <button id=\"btnCSVUnit\" class=\"btn btn-primary\" (click)=\"btnCSVUnitClick()\">\r\n                                <i class=\"fa fa-file-excel-o fa-fw\"></i> CSV\r\n                            </button>\r\n                            <button class=\"btn btn-primary\" (click)=\"btnAddUnitClick()\" id=\"btnAddUnit\">\r\n                                <i class=\"fa fa-plus fa-fw\"></i> Add\r\n                            </button>\r\n                            <button id=\"btnCloseUnit\" class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- dropdown filters -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 25%;\">\r\n                            <div class=\"input-group\">\r\n                                <span class=\"input-group-addon\">\r\n                                    Project:\r\n                                </span>\r\n                                <wj-combo-box #cmbProjects [itemsSource]=\"cmbProjectsData\" [placeholder]=\"'Select Project'\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'project'\" [selectedValuePath]=\"'id'\" (selectedIndexChanged)=\"cmbProjectsChange()\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"width: 75%;\"></td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- flexgrid -->\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdUnits [itemsSource]=\"fgdUnitsCollection\" [selectionMode]=\"3\" [frozenColumns]=\"2\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column *ngIf=\"canEdit\" [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditUnitClick()\" id=\"btnEditUnit\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column *ngIf=\"canDelete\" [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteUnitClick()\" id=\"btnDeleteUnit\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Code'\" [binding]=\"'unitCode'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Block'\" [binding]=\"'block'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Lot'\" [binding]=\"'lot'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'House Model'\" [binding]=\"'houseModel'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Floor Area'\" [binding]=\"'tfa'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Lot Area'\" [binding]=\"'tla'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'TCP'\" [binding]=\"'price'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'TSP'\" [binding]=\"'tsp'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'L'\" [binding]=\"'isLocked'\" [isReadOnly]=\"true\" [width]=\"50\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Status'\" [binding]=\"'status'\" [isReadOnly]=\"true\" [width]=\"100\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Customer'\" [binding]=\"'customer'\" [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n\r\n            <!-- navigation buttons -->\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitsCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitsCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdUnitsCollection.pageIndex + 1 }} / {{ fgdUnitsCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitsCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitsCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- user and time stamp -->\r\n    <app-footer [data]=\"fgdUnitsCollection\"></app-footer>\r\n</div>\r\n\r\n<!-- delete unit modal -->\r\n<div id=\"mdlUnitDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlUnitDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete Unit</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{fgdUnitsCollection.currentItem != null ? fgdUnitsCollection.currentItem.unitCode : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button id=\"btnOkUnitDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkUnitDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok\r\n                </button>\r\n                <button id=\"btnCloseUnitDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseUnitDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- change unit price modal -->\r\n<div id=\"mdlChangeBulkUnitPrice\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlChangeBulkUnitPriceShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Change Unit Price</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <label class=\"btn btn-primary\" [hidden]=\"btnUploadCSVFileHide\">\r\n                            <input type=\"file\" (change)=\"btnUploadCSVFileClick($event)\" name=\"btnUploadCSVFile\" accept=\"csv/*\" style=\"display:none;\"> Upload CSV File\r\n                        </label>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <wj-flex-grid #fgdUnitPrices [itemsSource]=\"fgdUnitPricesCollection\" [selectionMode]=\"3\">\r\n                            <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                            <wj-flex-grid-column [header]=\"'Unit'\" [binding]=\"'unit'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Price'\" [binding]=\"'price'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                        </wj-flex-grid>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitPricesCollection.moveToFirstPage()\">\r\n                                <i class=\"fa fa-fast-backward\"></i> First\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitPricesCollection.moveToPreviousPage()\">\r\n                                <i class=\"fa fa-step-backward\"></i> Previous\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                {{ fgdUnitPricesCollection.pageIndex + 1 }} / {{ fgdUnitPricesCollection.pageCount }}\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitPricesCollection.moveToNextPage()\">\r\n                                Next\r\n                                <i class=\"fa fa-step-forward\"></i>\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitPricesCollection.moveToLastPage()\">\r\n                                Last\r\n                                <i class=\"fa fa-fast-forward\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button id=\"btnOkChangeBulkUnitPriceModal\" class=\"btn btn-primary\" (click)=\"btnOkChangeBulkUnitPriceModalClick()\">\r\n                    <i class=\"fa fa-eraser fa-fw\"></i> Update Prices\r\n                </button>\r\n                <button id=\"btnCloseChangeBulkUnitPriceModal\" class=\"btn btn-danger\" (click)=\"btnCloseChangeBulkUnitPriceModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/unit/unit.list.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UnitList; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__unit_service__ = __webpack_require__("../../../../../src/app/unit/unit.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// services


// wijmo

// message box 

var UnitList = (function () {
    // =======
    // angular
    // =======
    // constructor
    function UnitList(unitService, toastr, viewContainer, router, securityService, location) {
        this.unitService = unitService;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.router = router;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        // User Rights
        this.canEdit = false;
        this.canSave = false;
        this.canLock = false;
        this.canUnlock = false;
        this.canPrint = false;
        this.canDelete = false;
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'Unit List';
        this.unit = {
            id: 0,
            unitCode: "NA",
            block: "NA",
            lot: "NA",
            projectId: 0,
            project: "NA",
            houseModelId: 0,
            houseModel: "NA",
            tla: 0,
            tfa: 0,
            price: 0,
            tsp: 0,
            status: "OPEN",
            isLocked: false,
            createdBy: 1,
            createdDateTime: this.currentDateString,
            updatedBy: 1,
            updatedDateTime: this.currentDateString,
            customer: ""
        };
        // modals
        this.mdlUnitDeleteShow = false;
        this.mdlChangeBulkUnitPriceShow = false;
        this.btnUploadCSVFileHide = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    UnitList.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdUnitsData = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        this.fgdUnitsCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](this.fgdUnitsData);
        this.fgdUnitPricesData = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        this.fgdUnitPricesCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](this.fgdUnitPricesData);
        if (this.securityService.openPage("UNIT LIST") == true) {
            this.getProjects();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
        this.getUserRights();
    };
    UnitList.prototype.ngOnDestroy = function () {
        if (this.unitsSub != null)
            this.unitsSub.unsubscribe();
        if (this.projectsSub != null)
            this.projectsSub.unsubscribe();
        if (this.unitDeletedSub != null)
            this.unitDeletedSub.unsubscribe();
        if (this.unitUpdatePriceSub != null)
            this.unitUpdatePriceSub.unsubscribe();
    };
    //================
    // Get User Rights
    //================
    UnitList.prototype.getUserRights = function () {
        var userRightsData = localStorage.getItem('userRights');
        var userRights = JSON.parse(userRightsData);
        for (var i = 0; i < userRights.length; i++) {
            if (userRights[i].page == 'UNIT LIST') {
                this.canEdit = userRights[i].canEdit;
                this.canSave = userRights[i].canSave;
                this.canLock = userRights[i].canLock;
                this.canUnlock = userRights[i].canUnlock;
                this.canPrint = userRights[i].canPrint;
                this.canDelete = userRights[i].canDelete;
            }
        }
    };
    // ==============
    // public methods
    // ==============
    // unit list
    UnitList.prototype.getUnitsPerProjectId = function (projectId) {
        var _this = this;
        var units = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        this.unitService.getUnitsPerProjectId(projectId);
        this.unitsSub = this.unitService.unitsObservable.subscribe(function (data) {
            _this.fgdUnitsData = data;
            _this.fgdUnitsCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](_this.fgdUnitsData);
            _this.fgdUnitsCollection.pageSize = 15;
            _this.fgdUnitsCollection.trackChanges = true;
        });
    };
    // filters
    UnitList.prototype.getProjects = function () {
        var _this = this;
        this.unitService.getProjects();
        this.projectsSub = this.unitService.projectsObservable.subscribe(function (data) {
            var projectStatuses = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                _this.cmbProjectsData = data;
            }
        });
    };
    // ======
    // events
    // ======
    // filter events
    UnitList.prototype.cmbProjectsChange = function () {
        var projectId = this.cmbProjectsData[this.cmbProjects["selectedIndex"]]["id"];
        var project = this.cmbProjectsData[this.cmbProjects["selectedIndex"]]["project"];
        this.unit.projectId = projectId;
        this.unit.project = project;
        this.getUnitsPerProjectId(projectId);
    };
    // unit list operations
    UnitList.prototype.btnAddUnitClick = function () {
        var btnAddUnit = document.getElementById("btnAddUnit");
        btnAddUnit.setAttribute("disabled", "disabled");
        btnAddUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Adding...";
        this.unitService.addUnit(this.unit, btnAddUnit);
    };
    UnitList.prototype.btnDeleteUnitClick = function () {
        this.mdlUnitDeleteShow = true;
    };
    UnitList.prototype.btnEditUnitClick = function () {
        var selectedUnit = this.fgdUnitsCollection.currentItem;
        this.router.navigate(['/unit', selectedUnit.id]);
    };
    UnitList.prototype.btnCSVUnitClick = function () {
        var data = 'Unit Inventory Report' + '\r\n\n';
        var collection = this.fgdUnitsCollection;
        var fileName = "unit-inventory.csv";
        var label = '';
        for (var s in collection.items[0]) {
            label += s + ',';
        }
        label = label.slice(0, -1);
        data += label + '\r\n';
        collection.moveToFirstPage();
        for (var p = 0; p < collection.pageCount; p++) {
            for (var i = 0; i < collection.items.length; i++) {
                var row = '';
                for (var s in collection.items[i]) {
                    row += '"' + collection.items[i][s] + '",';
                }
                row.slice(0, row.length - 1);
                data += row + '\r\n';
            }
            collection.moveToNextPage();
        }
        var csvData = new Blob([data], { type: 'text/csv;charset=utf-8;' });
        var csvURL = window.URL.createObjectURL(csvData);
        var tempLink = document.createElement('a');
        tempLink.href = csvURL;
        tempLink.setAttribute('download', fileName);
        tempLink.click();
    };
    UnitList.prototype.btnChangePriceUnitClick = function () {
        this.mdlChangeBulkUnitPriceShow = true;
    };
    // delete unit modal operations
    UnitList.prototype.btnOkUnitDeleteModalClick = function () {
        var _this = this;
        var btnOkUnitDeleteModal = document.getElementById("btnOkUnitDeleteModal");
        var btnCloseUnitDeleteModal = document.getElementById("btnCloseUnitDeleteModal");
        var selectedUnit = this.fgdUnitsCollection.currentItem;
        btnOkUnitDeleteModal.setAttribute("disabled", "disabled");
        btnCloseUnitDeleteModal.setAttribute("disabled", "disabled");
        this.unitService.deleteUnit(selectedUnit.id);
        this.unitDeletedSub = this.unitService.unitDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdUnitsCollection.remove(selectedUnit);
                btnOkUnitDeleteModal.removeAttribute("disabled");
                btnCloseUnitDeleteModal.removeAttribute("disabled");
                _this.mdlUnitDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkUnitDeleteModal.removeAttribute("disabled");
                btnCloseUnitDeleteModal.removeAttribute("disabled");
            }
        });
    };
    UnitList.prototype.btnCloseUnitDeleteModalClick = function () {
        this.mdlUnitDeleteShow = false;
    };
    // change price in bulk
    UnitList.prototype.btnUploadCSVFileClick = function (e) {
        var _this = this;
        var target = e.target;
        if (target.files.length > 0) {
            var r = new FileReader();
            r.readAsText(target.files[0]);
            r.onload = function (e) {
                var csv = r.result.toString();
                var csvLines = csv.split(/\r\n|\n/);
                var csvData = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
                for (var i = 0; i < csvLines.length; i++) {
                    var data = csvLines[i].split(",");
                    if (data[0] != "") {
                        csvData.push({
                            unit: data[0].replace(/\"/gi, ''),
                            price: Number(data[1].replace(/\"/gi, ''))
                        });
                    }
                }
                _this.fgdUnitPricesData = csvData;
                _this.fgdUnitPricesCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](_this.fgdUnitPricesData);
                _this.fgdUnitPricesCollection.pageSize = 15;
                _this.fgdUnitPricesCollection.trackChanges = true;
            };
        }
        ;
    };
    UnitList.prototype.btnOkChangeBulkUnitPriceModalClick = function () {
        var _this = this;
        if (this.fgdUnitPricesData.length > 0) {
            var btnOkChangeBulkUnitPriceModal_1 = document.getElementById("btnOkChangeBulkUnitPriceModal");
            var btnCloseChangeBulkUnitPriceModal_1 = document.getElementById("btnCloseChangeBulkUnitPriceModal");
            btnOkChangeBulkUnitPriceModal_1.setAttribute("disabled", "disabled");
            btnCloseChangeBulkUnitPriceModal_1.setAttribute("disabled", "disabled");
            this.btnUploadCSVFileHide = true;
            var counter_1 = 1;
            for (var i = 0; i < this.fgdUnitPricesData.length; i++) {
                this.unitService.updateUnitPrices(this.unit.projectId, this.fgdUnitPricesData[i].unit, this.fgdUnitPricesData[i].price);
                this.unitUpdatePriceSub = this.unitService.unitUpdatePriceObservable.subscribe(function (data) {
                    if (data == 1) {
                        _this.toastr.success("Price Update successful.");
                    }
                    else if (data == 0) {
                        _this.toastr.error("Price Update failed.");
                    }
                    counter_1++;
                    if (counter_1 == _this.fgdUnitPricesData.length) {
                        btnOkChangeBulkUnitPriceModal_1.removeAttribute("disabled");
                        btnCloseChangeBulkUnitPriceModal_1.removeAttribute("disabled");
                        _this.btnUploadCSVFileHide = false;
                    }
                });
            }
        }
    };
    UnitList.prototype.btnCloseChangeBulkUnitPriceModalClick = function () {
        this.mdlChangeBulkUnitPriceShow = false;
        this.fgdUnitPricesData = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["ObservableArray"]();
        this.fgdUnitPricesCollection = new __WEBPACK_IMPORTED_MODULE_5_wijmo_wijmo__["CollectionView"](this.fgdUnitPricesData);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("cmbProjects"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], UnitList.prototype, "cmbProjects", void 0);
    UnitList = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/unit/unit.list.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__unit_service__["a" /* UnitService */],
            __WEBPACK_IMPORTED_MODULE_6_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], UnitList);
    return UnitList;
}());



/***/ }),

/***/ "../../../../../src/app/unit/unit.query.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"mdlUnitQueryModal\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': isShowing ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Unit Query</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"form-horizontal\">\r\n                            <div class=\"input-group\">\r\n                                <span class=\"input-group-addon\">\r\n                                    Project:\r\n                                </span>\r\n                                <wj-combo-box #cmbProjects [itemsSource]=\"cmbProjectsData\" [placeholder]=\"'Select Project'\" [isEditable]=\"false\" [isRequired]=\"true\"\r\n                                    [displayMemberPath]=\"'project'\" [selectedValuePath]=\"'id'\" (selectedIndexChanged)=\"cmbProjectsChange()\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <wj-flex-grid #fgdUnits [itemsSource]=\"fgdUnitsCollection\" [selectionMode]=\"3\" [frozenColumns]=\"2\">\r\n                            <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                            <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                                <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                                    <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnPickUnitClick()\" data-toggle=\"modal\" data-backdrop=\"static\"\r\n                                        data-keyboard=\"false\">\r\n                                        <i class=\"fa fa-edit fa-fw\"></i> Pick\r\n                                    </button>\r\n                                </ng-template>\r\n                            </wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Unit'\" [binding]=\"'unitCode'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Model'\" [binding]=\"'houseModel'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'FA (sqm)'\" [binding]=\"'tfa'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'LA (sqm)'\" [binding]=\"'tla'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                            <wj-flex-grid-column [header]=\"'Price'\" [binding]=\"'price'\" [isReadOnly]=\"true\" [width]=\"150\"></wj-flex-grid-column>\r\n                        </wj-flex-grid>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-sm-12 btn-group\" id=\"\">\r\n                                <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitsCollection.moveToFirstPage()\">\r\n                                    <i class=\"fa fa-fast-backward\"></i> First\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitsCollection.moveToPreviousPage()\">\r\n                                    <i class=\"fa fa-step-backward\"></i> Previous\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                                    {{ fgdUnitsCollection.pageIndex + 1 }} / {{ fgdUnitsCollection.pageCount }}\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitsCollection.moveToNextPage()\">\r\n                                    Next\r\n                                    <i class=\"fa fa-step-forward\"></i>\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUnitsCollection.moveToLastPage()\">\r\n                                    Last\r\n                                    <i class=\"fa fa-fast-forward\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnCloseUnitQueryModal\" class=\"btn btn-danger\" (click)=\"btnCloseUnitQueryModalClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/unit/unit.query.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UnitQuery; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__unit_service__ = __webpack_require__("../../../../../src/app/unit/unit.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__model_model_mst_unit__ = __webpack_require__("../../../../../src/app/model/model.mst.unit.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular

// services

// wijmo

// model(s)

var UnitQuery = (function () {
    function UnitQuery(unitService) {
        this.unitService = unitService;
        this.pickedUnit = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        // userrights
        this.canEdit = false;
        this.canSave = false;
        this.canLock = false;
        this.canUnlock = false;
        this.canPrint = false;
        this.canDelete = false;
    }
    UnitQuery.prototype.getUserRights = function () {
        var userRightsData = localStorage.getItem('userRights');
        var userRights = JSON.parse(userRightsData);
        for (var i = 0; i < userRights.length; i++) {
            if (userRights[i].page == 'CUSTOMER DETAIL') {
                this.canEdit = userRights[i].canEdit;
                this.canSave = userRights[i].canSave;
                this.canLock = userRights[i].canLock;
                this.canUnlock = userRights[i].canUnlock;
                this.canPrint = userRights[i].canPrint;
                this.canDelete = userRights[i].canDelete;
            }
        }
    };
    UnitQuery.prototype.ngOnInit = function () {
        this.fgdUnitsData = new __WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo__["ObservableArray"]();
        this.fgdUnitsCollection = new __WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo__["CollectionView"](this.fgdUnitsData);
        this.getProjects();
    };
    UnitQuery.prototype.ngOnDestroy = function () {
        if (this.unitsSub != null)
            this.unitsSub.unsubscribe();
        if (this.projectsSub != null)
            this.projectsSub.unsubscribe();
    };
    UnitQuery.prototype.ngOnChanges = function (changes) {
        this.getProjects();
    };
    // =======
    // methods
    // =======
    UnitQuery.prototype.openUnitQuery = function () {
    };
    UnitQuery.prototype.getProjects = function () {
        var _this = this;
        this.unitService.getProjects();
        this.projectsSub = this.unitService.projectsObservable.subscribe(function (data) {
            var projectStatuses = new __WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                _this.cmbProjectsData = data;
            }
        });
    };
    UnitQuery.prototype.getUnitsPerProjectId = function (projectId) {
        var _this = this;
        var units = new __WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo__["ObservableArray"]();
        this.unitService.getUnitsPerProjectId(projectId);
        this.unitsSub = this.unitService.unitsObservable.subscribe(function (data) {
            var units = new __WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].status == "OPEN") {
                        units.push({
                            id: data[i].id,
                            unitCode: data[i].unitCode,
                            block: data[i].block,
                            lot: data[i].lot,
                            projectId: data[i].projectId,
                            project: data[i].project,
                            houseModelId: data[i].houseModelId,
                            houseModel: data[i].houseModel,
                            tla: data[i].tla,
                            tfa: data[i].tfa,
                            price: data[i].price,
                            tsp: data[i].tsp,
                            status: data[i].status,
                            isLocked: data[i].isLocked,
                            createdBy: data[i].createdBy,
                            createdDateTime: data[i].createdDateTime,
                            updatedBy: data[i].updatedBy,
                            updatedDateTime: data[i].updatedDateTime,
                        });
                    }
                }
            }
            _this.fgdUnitsData = units;
            _this.fgdUnitsCollection = new __WEBPACK_IMPORTED_MODULE_2_wijmo_wijmo__["CollectionView"](_this.fgdUnitsData);
            _this.fgdUnitsCollection.pageSize = 7;
            _this.fgdUnitsCollection.trackChanges = true;
        });
    };
    // ======
    // events
    // ======
    UnitQuery.prototype.btnPickUnitClick = function () {
        this.isShowing = false;
        var selectedUnit = this.fgdUnitsCollection.currentItem;
        this.pickedUnit.emit(selectedUnit);
    };
    UnitQuery.prototype.cmbProjectsChange = function () {
        var projectId = this.cmbProjectsData[this.cmbProjects["selectedIndex"]]["id"];
        var project = this.cmbProjectsData[this.cmbProjects["selectedIndex"]]["project"];
        this.getUnitsPerProjectId(projectId);
    };
    UnitQuery.prototype.btnCloseUnitQueryModalClick = function () {
        this.isShowing = false;
        this.pickedUnit.emit(new __WEBPACK_IMPORTED_MODULE_3__model_model_mst_unit__["a" /* MstUnit */]());
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Boolean)
    ], UnitQuery.prototype, "isShowing", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], UnitQuery.prototype, "pickedUnit", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("cmbProjects"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], UnitQuery.prototype, "cmbProjects", void 0);
    UnitQuery = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'unit-query',
            template: __webpack_require__("../../../../../src/app/unit/unit.query.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__unit_service__["a" /* UnitService */]])
    ], UnitQuery);
    return UnitQuery;
}());



/***/ }),

/***/ "../../../../../src/app/unit/unit.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UnitService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// wijmo

// async

var UnitService = (function () {
    // =======
    // angular
    // =======
    // constructor
    function UnitService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        // unit list
        this.unitsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.unitsObservable = this.unitsSource.asObservable();
        // change unit prices history
        this.unitPricesSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.unitPricesObservable = this.unitPricesSource.asObservable();
        // unit detail
        this.unitSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.unitObservable = this.unitSource.asObservable();
        // unit list operations
        this.unitDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.unitDeletedObservable = this.unitDeletedSource.asObservable();
        // unit detail operations
        this.unitSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.unitSavedObservable = this.unitSavedSource.asObservable();
        this.unitLockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.unitLockedObservable = this.unitLockedSource.asObservable();
        this.unitUnlockedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.unitUnlockedObservable = this.unitUnlockedSource.asObservable();
        this.unitUpdatePriceSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.unitUpdatePriceObservable = this.unitUpdatePriceSource.asObservable();
        // combo boxes
        this.projectsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.projectsObservable = this.projectsSource.asObservable();
        this.houseModelsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.houseModelsObservable = this.houseModelsSource.asObservable();
        this.dropDownsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsObservable = this.dropDownsSource.asObservable();
    }
    // ==============
    // public methods
    // ==============
    // list
    UnitService.prototype.getProjects = function () {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/List";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstProject/List";
        var projects = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    projects.push({
                        id: results[i].Id,
                        projectCode: results[i].ProjectCode,
                        project: results[i].Project,
                        address: results[i].Address,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime
                    });
                }
                _this.projectsSource.next(projects);
            }
            else {
                _this.toastr.error("No projects.");
            }
        });
    };
    UnitService.prototype.getUnitsPerProjectId = function (projectId) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/ListPerProjectId/" + projectId;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/ListPerProjectId/" + projectId;
        var units = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    units.push({
                        id: results[i].Id,
                        unitCode: results[i].UnitCode,
                        block: results[i].Block,
                        lot: results[i].Lot,
                        projectId: results[i].ProjectId,
                        project: results[i].Project,
                        houseModelId: results[i].HouseModelId,
                        houseModel: results[i].HouseModel,
                        tla: results[i].TLA,
                        tfa: results[i].TFA,
                        price: results[i].Price,
                        tsp: results[i].TSP,
                        status: results[i].Status,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime,
                        customer: results[i].Customer
                    });
                }
                _this.unitsSource.next(units);
            }
            else {
                _this.unitsSource.next(units);
                _this.toastr.error("No units for this project.");
            }
        });
    };
    UnitService.prototype.getHouseModelsPerProject = function (id) {
        var _this = this;
        var houseModels = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstHouseModel/ListPerProjectId/" + id;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstHouseModel/ListPerProjectId/" + id;
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    houseModels.push({
                        id: results[i].Id,
                        houseModelCode: results[i].HouseModelCode,
                        houseModel: results[i].HouseModel,
                        projectId: results[i].ProjectId,
                        project: results[i].Project,
                        tfa: results[i].TFA,
                        price: results[i].Price,
                        isLocked: results[i].IsLocked,
                        createdBy: results[i].CreatedBy,
                        createdDateTime: results[i].CreatedDateTime,
                        updatedBy: results[i].UpdatedBy,
                        updatedDateTime: results[i].UpdatedDateTime,
                    });
                }
                _this.houseModelsSource.next(houseModels);
            }
            else {
                _this.houseModelsSource.next(houseModels);
                _this.toastr.error("No models for this project.");
            }
        });
    };
    UnitService.prototype.getUnitPricesPerUnitId = function (unitId) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUnitPrice/ListPerUnitId/" + unitId;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUnitPrice/ListPerUnitId/" + unitId;
        var unitPrices = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    unitPrices.push({
                        priceDate: results[i].PriceDate,
                        price: results[i].Price,
                        unitId: results[i].UnitId
                    });
                }
                _this.unitPricesSource.next(unitPrices);
            }
            else {
                _this.unitPricesSource.next(unitPrices);
            }
        });
    };
    // list operations
    UnitService.prototype.addUnit = function (unit, btnAddUnit) {
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/Add";
        var _this = this;
        console.log(localStorage.getItem('access_token'));
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/Add";
        this.http.post(url, JSON.stringify(unit), this.options).subscribe(function (response) {
            var id = response.json();
            if (id > 0) {
                _this.toastr.success("Add successful.");
                setTimeout(function () {
                    _this.router.navigate(['/unit', id]);
                }, 1000);
            }
            else {
                _this.toastr.error("Add failed.");
                btnAddUnit.removeAttribute("disabled");
                btnAddUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
            }
        }, function (error) {
            _this.toastr.error("Server error.");
            btnAddUnit.removeAttribute("disabled");
            btnAddUnit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Add";
        });
    };
    UnitService.prototype.deleteUnit = function (id) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/Delete/" + id;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.unitDeletedSource.next(1);
        }, function (error) {
            _this.unitDeletedSource.next(0);
        });
    };
    // detail
    UnitService.prototype.getUnit = function (id) {
        var _this = this;
        var unit;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/Detail/" + id;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/Detail/" + id;
        this.http.get(url, this.options).subscribe(function (response) {
            var result = response.json();
            if (result != null) {
                console.log(result.TSP);
                unit = {
                    id: result.Id,
                    unitCode: result.UnitCode,
                    block: result.Block,
                    lot: result.Lot,
                    projectId: result.ProjectId,
                    project: result.Project,
                    houseModelId: result.HouseModelId,
                    houseModel: result.HouseModel,
                    tla: result.TLA,
                    tfa: result.TFA,
                    price: result.Price,
                    tsp: result.TSP,
                    status: result.Status,
                    isLocked: result.IsLocked,
                    createdBy: result.CreatedBy,
                    createdDateTime: result.CreatedDateTime,
                    updatedBy: result.UpdatedBy,
                    updatedDateTime: result.UpdatedDateTime,
                    customer: result.Customer
                };
                _this.unitSource.next(unit);
            }
            else {
                _this.toastr.error("No unit.");
                setTimeout(function () {
                    _this.router.navigate(["/unit"]);
                }, 1000);
            }
        });
    };
    // detail operations
    UnitService.prototype.saveUnit = function (unit) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/Save";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/Save";
        this.http.put(url, JSON.stringify(unit), this.options).subscribe(function (response) {
            _this.unitSavedSource.next(1);
        }, function (error) {
            _this.unitSavedSource.next(0);
        });
    };
    UnitService.prototype.lockUnit = function (unit) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/Lock";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/Lock";
        this.http.put(url, JSON.stringify(unit), this.options).subscribe(function (response) {
            _this.unitLockedSource.next(1);
        }, function (error) {
            _this.unitLockedSource.next(0);
        });
    };
    UnitService.prototype.unlockUnit = function (unit) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/Unlock";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/Unlock";
        this.http.put(url, JSON.stringify(unit), this.options).subscribe(function (response) {
            _this.unitUnlockedSource.next(1);
        }, function (error) {
            _this.unitUnlockedSource.next(0);
        });
    };
    UnitService.prototype.updateUnitPrices = function (projectId, unitCode, price) {
        var _this = this;
        var unitPrice = {
            projectId: projectId,
            unitCode: unitCode,
            price: price
        };
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/UpdatePrice";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUnit/UpdatePrice";
        this.http.put(url, JSON.stringify(unitPrice), this.options).subscribe(function (response) {
            _this.unitUpdatePriceSource.next(1);
        }, function (error) {
            _this.unitUpdatePriceSource.next(0);
        });
    };
    // drop downs
    UnitService.prototype.getDropDowns = function () {
        var _this = this;
        var dropDowns = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    dropDowns.push({
                        id: results[i].Id,
                        category: results[i].Category,
                        description: results[i].Description,
                        value: results[i].Value
                    });
                }
                _this.dropDownsSource.next(dropDowns);
            }
            else {
                _this.dropDownsSource.next(dropDowns);
                _this.toastr.error("No dropdowns.");
            }
        });
    };
    UnitService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], UnitService);
    return UnitService;
}());



/***/ }),

/***/ "../../../../../src/app/user/user.detail.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/user\">User List</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- detail operations, e.g., save, close -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button class=\"btn btn-primary\" (click)=\"btnSaveUserClick()\" id=\"btnSaveUser\">\r\n                                <i class=\"fa fa-save fa-fw\"></i> Save\r\n                            </button>\r\n                            <button class=\"btn btn-danger\" routerLink=\"/user\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- detail fields  -->\r\n            <div class=\"card-body\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Username</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [disabled]=\"true\" [(ngModel)]=\"user.username\" type=\"text\" class=\"form-control\" placeholder=\"Username...\" id=\"username\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Name</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <input [(ngModel)]=\"user.fullName\" type=\"text\" class=\"form-control\" placeholder=\"Fullname...\" id=\"fullName\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-sm-4 col-form-label text-right\">Status</label>\r\n                            <div class=\"col-sm-8\">\r\n                                <wj-combo-box #cmbUserStatus [itemsSource]=\"cmbUserStatusData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'value'\"\r\n                                    [selectedValuePath]=\"'value'\" [(ngModel)]=\"user.status\">\r\n                                </wj-combo-box>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- <div class=\"card\"> -->\r\n        <br />\r\n        <div class=\"card\">\r\n            <div class=\"card-header\">\r\n                <p class=\"float-right\">\r\n                    <button type=\"button\" class=\"btn btn-primary\" (click)=\"btnAddUserRightsClick()\">\r\n                        <i class=\"fa fa-plus\"></i> Add\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-primary\" (click)=\"btnCopyUserRightsClick()\">\r\n                        <i class=\"fa fa-clone\"></i> Copy\r\n                    </button>\r\n                </p>\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdUserRights [itemsSource]=\"fgdUserRightsCollection\" [selectionMode]=\"3\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditUserRightsClick()\"  id=\"btnEditUserRights\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"Delete\" [isReadOnly]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-danger btn-xs btn-block\" (click)=\"btnDeleteUserRightsClick()\" id=\"btnDeleteUserRights\">\r\n                                <i class=\"fa fa-trash fa-fw\"></i> Delete\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Page'\" [binding]=\"'page'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Edit'\" [binding]=\"'canEdit'\" [isReadOnly]=\"true\" [width]=\"70\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Save'\" [binding]=\"'canSave'\" [isReadOnly]=\"true\" [width]=\"70\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Lock'\" [binding]=\"'canLock'\" [isReadOnly]=\"true\" [width]=\"70\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Unlock'\" [binding]=\"'canUnlock'\" [isReadOnly]=\"true\" [width]=\"70\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Print'\" [binding]=\"'canPrint'\" [isReadOnly]=\"true\" [width]=\"70\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Delete'\" [binding]=\"'canDelete'\" [isReadOnly]=\"true\" [width]=\"70\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12\">\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUserRightsCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUserRightsCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdUserRightsCollection.pageIndex + 1 }} / {{ fgdUserRightsCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUserRightsCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUserRightsCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <app-footer [data]=\"user\"></app-footer>\r\n</div>\r\n\r\n<!-- delete user right modal -->\r\n<div id=\"mdlUserRightDelete\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlUserRightDeleteShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Delete User Rights</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                Delete {{fgdUserRightsCollection.currentItem != null ? fgdUserRightsCollection.currentItem.page : \"\"}}?\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button id=\"btnOkUserRightDeleteModal\" class=\"btn btn-danger\" (click)=\"btnOkUserRightDeleteModalClick()\">\r\n                    <i class=\"fa fa-trash fa-fw\"></i> Ok\r\n                </button>\r\n                <button id=\"btnCloseUserRightDeleteModal\" class=\"btn btn-primary\" (click)=\"btnCloseUserRightDeleteModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- copy user right modal -->\r\n<div id=\"mdlUserRightCopy\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlUserRightCopyShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Copy User Rights</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Username</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input [(ngModel)]=\"copyUserRights\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnOkUserRightCopyModal\" class=\"btn btn-success\" (click)=\"btnOkUserRightCopyModalClick()\">\r\n                    <i class=\"fa fa-clone fa-fw\"></i> Ok</button>\r\n                <button type=\"button\" id=\"btnCloseUserRightCopyModal\" class=\"btn btn-primary\" (click)=\"btnCloseUserRightCopyModalClick()\">\r\n                    <i class=\"fa fa-close fa-fw\"></i> Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- edit user right modal -->\r\n<div id=\"mdlUserRightEdit\" class=\"modal fade\" role=\"dialog\" [ngStyle]=\"{'display': mdlUserRightEditShow ? 'block' : 'none', 'opacity': 1}\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">Edit User Rights</h4>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Page</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <wj-combo-box #cmbUserRightPages [itemsSource]=\"cmbUserRightPagesData\" [isEditable]=\"false\" [isRequired]=\"true\" [displayMemberPath]=\"'page'\"\r\n                            [selectedValuePath]=\"'id'\" [(ngModel)]=\"userRight.pageId\">\r\n                        </wj-combo-box>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Edit</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input type=\"checkbox\" [(ngModel)]=\"userRight.canEdit\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Save</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input type=\"checkbox\" [(ngModel)]=\"userRight.canSave\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Lock</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input type=\"checkbox\" [(ngModel)]=\"userRight.canLock\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Unlock</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input type=\"checkbox\" [(ngModel)]=\"userRight.canUnlock\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Print</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input type=\"checkbox\" [(ngModel)]=\"userRight.canPrint\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-4 col-form-label text-right\">Delete</label>\r\n                    <div class=\"col-sm-8\">\r\n                        <input type=\"checkbox\" [(ngModel)]=\"userRight.canDelete\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\" align=\"right\">\r\n                <button type=\"button\" id=\"btnSaveUserRightEdit\" class=\"btn btn-success\" (click)=\"btnSaveUserRightEditClick()\">\r\n                    <i class=\"fa fa-check fa-fw\"></i> Save</button>\r\n                <button type=\"button\" id=\"btnCloseUserRightEdit\" class=\"btn btn-danger\" (click)=\"btnCloseUserRightEditClick()\">\r\n                    <i class=\"fa fa-times fa-fw\"></i> Close </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/user/user.detail.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserDetail; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__user_service__ = __webpack_require__("../../../../../src/app/user/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// service(s)


var UserDetail = (function () {
    // =======
    // angular
    // =======
    // constructor
    function UserDetail(userService, router, toastr, viewContainer, activatedRoute, securityService, location) {
        this.userService = userService;
        this.router = router;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.activatedRoute = activatedRoute;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        // user rights
        this.canEdit = false;
        this.canSave = false;
        this.canLock = false;
        this.canUnlock = false;
        this.canPrint = false;
        this.canDelete = false;
        // =================
        // public properties
        // =================
        this.title = 'User Detail';
        // model(s)
        this.user = {
            id: 0,
            username: "",
            fullName: "",
            password: "",
            status: "",
            aspNetId: ""
        };
        this.userRight = {
            id: 0,
            userId: 0,
            user: "",
            pageId: 0,
            page: "",
            pageUrl: "",
            canEdit: false,
            canSave: false,
            canLock: false,
            canUnlock: false,
            canPrint: false,
            canDelete: false
        };
        // modal(s)
        this.mdlUserRightDeleteShow = false;
        this.mdlUserRightEditShow = false;
        this.mdlUserRightCopyShow = false;
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    UserDetail.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdUserRightsData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdUserRightsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdUserRightsData);
        if (this.securityService.openPage("USER DETAIL") == true) {
            this.getUser();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
        this.get_UserRights();
        if (!this.canSave) {
            document.getElementById("btnSaveUser").disabled = true;
        }
        if (!this.canEdit) {
            document.getElementById("btnEditUserRights").disabled = true;
            document.getElementById("btnSaveUserRightEdit").disabled = true;
        }
        if (!this.canDelete) {
            document.getElementById("btnDeleteUserRights").disabled = true;
        }
    };
    UserDetail.prototype.ngOnDestroy = function () {
        if (this.userSub != null)
            this.userSub.unsubscribe();
        if (this.userSavedSub != null)
            this.userSavedSub.unsubscribe();
        if (this.userStatusesSub != null)
            this.userStatusesSub.unsubscribe();
        if (this.userRightsSub != null)
            this.userRightsSub.unsubscribe();
        if (this.userRightDeletedSub != null)
            this.userRightDeletedSub.unsubscribe();
        if (this.userRightPagesSub != null)
            this.userRightPagesSub.unsubscribe();
    };
    // ===============
    // private methods
    // ===============
    //================
    // Get User Rights
    //================
    UserDetail.prototype.get_UserRights = function () {
        var userRightsData = localStorage.getItem('userRights');
        var userRights = JSON.parse(userRightsData);
        for (var i = 0; i < userRights.length; i++) {
            if (userRights[i].page == 'CUSTOMER DETAIL') {
                this.canEdit = userRights[i].canEdit;
                this.canSave = userRights[i].canSave;
                this.canLock = userRights[i].canLock;
                this.canUnlock = userRights[i].canUnlock;
                this.canPrint = userRights[i].canPrint;
                this.canDelete = userRights[i].canDelete;
            }
        }
    };
    UserDetail.prototype.getIdParameter = function () {
        var id = 0;
        this.activatedRoute.params.subscribe(function (params) {
            id = params['id'];
        });
        return id;
    };
    // ==============
    // public methods
    // ==============
    // detail
    UserDetail.prototype.getUser = function () {
        var _this = this;
        this.userService.getUser(this.getIdParameter());
        this.userSub = this.userService.userObservable
            .subscribe(function (data) {
            _this.user.id = data.id;
            _this.user.username = data.username;
            _this.user.fullName = data.fullName;
            _this.user.password = data.password;
            _this.user.status = data.status;
            _this.user.aspNetId = data.aspNetId;
            _this.getUserStatuses(data);
            _this.getUserRights();
        });
    };
    // detail comboxes
    UserDetail.prototype.getUserStatuses = function (detail) {
        var _this = this;
        this.userService.getDropDowns();
        this.userStatusesSub = this.userService.dropDownsObservable.subscribe(function (data) {
            var userStatuses = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    if (data[i].category == "USER STATUS") {
                        userStatuses.push({
                            id: data[i].id,
                            category: data[i].category,
                            description: data[i].description,
                            value: data[i].value
                        });
                    }
                }
            }
            _this.cmbUserStatusData = userStatuses;
            setTimeout(function () {
                _this.user.status = detail.status;
            }, 100);
        });
    };
    // detail line1 (user rights)
    UserDetail.prototype.getUserRights = function () {
        var _this = this;
        this.userService.getUserRightsPerUser(this.user.id);
        this.userRightsSub = this.userService.userRightsObservable.subscribe(function (data) {
            _this.fgdUserRightsData = data;
            _this.fgdUserRightsCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdUserRightsData);
            _this.fgdUserRightsCollection.pageSize = 15;
            _this.fgdUserRightsCollection.trackChanges = true;
        });
    };
    // detail line1 (user rights) combo boxes
    UserDetail.prototype.getUserRightPages = function () {
        var _this = this;
        this.userService.getPages();
        this.userRightPagesSub = this.userService.pagesObservable.subscribe(function (data) {
            var userRightPages = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
            if (data.length > 0) {
                for (var i = 0; i <= data.length - 1; i++) {
                    userRightPages.push({
                        id: data[i].id,
                        page: data[i].page,
                        url: data[i].url
                    });
                }
            }
            _this.cmbUserRightPagesData = userRightPages;
            setTimeout(function () {
                var selectedUserRight = _this.fgdUserRightsCollection.currentItem;
                _this.userRight.pageId = selectedUserRight.pageId;
            }, 100);
        });
    };
    // ======
    // events
    // ======
    // detail operations
    UserDetail.prototype.btnSaveUserClick = function () {
        var _this = this;
        var btnSaveUser = document.getElementById("btnSaveUser");
        btnSaveUser.setAttribute("disabled", "disabled");
        btnSaveUser.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        this.userService.saveUser(this.user);
        this.userSub = this.userService.userSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveUser.removeAttribute("disabled");
                btnSaveUser.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveUser.removeAttribute("disabled");
                btnSaveUser.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
            }
        });
    };
    // detail line1 (user rights) list operations
    UserDetail.prototype.btnAddUserRightsClick = function () {
        this.userRight.id = 0;
        this.userRight.userId = this.user.id;
        this.userRight.user = this.user.username;
        this.userRight.pageId = 0;
        this.userRight.page = "";
        this.userRight.canEdit = false;
        this.userRight.canSave = false;
        this.userRight.canLock = false;
        this.userRight.canUnlock = false;
        this.userRight.canPrint = false;
        this.userRight.canDelete = false;
        this.mdlUserRightEditShow = true;
        this.getUserRightPages();
    };
    UserDetail.prototype.btnCopyUserRightsClick = function () {
        this.mdlUserRightCopyShow = true;
    };
    UserDetail.prototype.btnEditUserRightsClick = function () {
        var selectedUserRight = this.fgdUserRightsCollection.currentItem;
        this.userRight.id = selectedUserRight.id;
        this.userRight.userId = selectedUserRight.userId;
        this.userRight.user = selectedUserRight.user;
        this.userRight.pageId = selectedUserRight.pageId;
        this.userRight.page = selectedUserRight.page;
        this.userRight.canEdit = selectedUserRight.canEdit;
        this.userRight.canSave = selectedUserRight.canSave;
        this.userRight.canLock = selectedUserRight.canLock;
        this.userRight.canUnlock = selectedUserRight.canUnlock;
        this.userRight.canPrint = selectedUserRight.canPrint;
        this.userRight.canDelete = selectedUserRight.canDelete;
        this.mdlUserRightEditShow = true;
        this.getUserRightPages();
    };
    UserDetail.prototype.btnDeleteUserRightsClick = function () {
        this.mdlUserRightDeleteShow = true;
    };
    // detail line1 (user rights) delete modal operations
    UserDetail.prototype.btnOkUserRightDeleteModalClick = function () {
        var _this = this;
        var btnOkUserRightDeleteModal = document.getElementById("btnOkUserRightDeleteModal");
        var btnCloseUserRightDeleteModal = document.getElementById("btnCloseUserRightDeleteModal");
        btnOkUserRightDeleteModal.setAttribute("disabled", "disabled");
        btnCloseUserRightDeleteModal.setAttribute("disabled", "disabled");
        var selectedUserRight = this.fgdUserRightsCollection.currentItem;
        this.userService.deleteUserRight(selectedUserRight.id);
        this.userRightDeletedSub = this.userService.userRightDeletedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Delete successful.");
                _this.fgdUserRightsCollection.remove(selectedUserRight);
                btnOkUserRightDeleteModal.removeAttribute("disabled");
                btnCloseUserRightDeleteModal.removeAttribute("disabled");
                _this.mdlUserRightDeleteShow = false;
            }
            else if (data == 0) {
                _this.toastr.error("Delete failed.");
                btnOkUserRightDeleteModal.removeAttribute("disabled");
                btnCloseUserRightDeleteModal.removeAttribute("disabled");
            }
        });
    };
    UserDetail.prototype.btnCloseUserRightDeleteModalClick = function () {
        this.mdlUserRightDeleteShow = false;
    };
    // detail line1 (user rights) copy modal operations
    UserDetail.prototype.btnOkUserRightCopyModalClick = function () {
        // TO BE IMPLEMENTED!!!!!!!!
        this.mdlUserRightCopyShow = false;
    };
    UserDetail.prototype.btnCloseUserRightCopyModalClick = function () {
        this.mdlUserRightCopyShow = false;
    };
    // detail line1 (user rights) edit modal operations
    UserDetail.prototype.btnSaveUserRightEditClick = function () {
        var _this = this;
        var btnSaveUserRightEdit = document.getElementById("btnSaveUserRightEdit");
        var btnCloseUserRightEdit = document.getElementById("btnCloseUserRightEdit");
        btnSaveUserRightEdit.setAttribute("disabled", "disabled");
        btnSaveUserRightEdit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Saving...";
        btnCloseUserRightEdit.setAttribute("disabled", "disabled");
        this.userService.saveUserRight(this.userRight);
        this.userSub = this.userService.userRightSavedObservable.subscribe(function (data) {
            if (data == 1) {
                _this.toastr.success("Saving successful.");
                btnSaveUserRightEdit.removeAttribute("disabled");
                btnSaveUserRightEdit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseUserRightEdit.removeAttribute("disabled");
                _this.mdlUserRightEditShow = false;
                _this.getUserRights();
            }
            else if (data == 0) {
                _this.toastr.error("Saving failed.");
                btnSaveUserRightEdit.removeAttribute("disabled");
                btnSaveUserRightEdit.innerHTML = "<i class='fa fa-plus fa-fw'></i> Save";
                btnCloseUserRightEdit.removeAttribute("disabled");
            }
        });
    };
    UserDetail.prototype.btnCloseUserRightEditClick = function () {
        this.mdlUserRightEditShow = false;
    };
    UserDetail = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/user/user.detail.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], UserDetail);
    return UserDetail;
}());



/***/ }),

/***/ "../../../../../src/app/user/user.list.html":
/***/ (function(module, exports) {

module.exports = "<menu-root></menu-root>\r\n<br>\r\n<br>\r\n<div class=\"content-wrapper\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- bread crumbs -->\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n                <a routerLink=\"/menu\">Menu</a>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\">{{title}}</li>\r\n        </ol>\r\n\r\n        <div class=\"card\">\r\n\r\n            <!-- buttons -->\r\n            <div class=\"card-header\">\r\n                <table border=\"0\" style=\"width: 100%;\">\r\n                    <tr>\r\n                        <td style=\"width: 59%;\">\r\n                            <h4>{{title}}</h4>\r\n                        </td>\r\n                        <td style=\"width: 1%;\"></td>\r\n                        <td style=\"width: 40%;\" align=\"right\">\r\n                            <button class=\"btn btn-danger\" routerLink=\"/menu\">\r\n                                <i class=\"fa fa-close fa-fw\"></i> Close\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- flexgrid -->\r\n            <div class=\"card-body\">\r\n                <wj-flex-grid #fgdUsers [itemsSource]=\"fgdUsersCollection\" [selectionMode]=\"3\">\r\n                    <wj-flex-grid-filter></wj-flex-grid-filter>\r\n                    <wj-flex-grid-column *ngIf=\"canEdit\" [header]=\"Edit\" [isReadOnly]=\"true\" [isContentHtml]=\"true\" [width]=\"90\">\r\n                        <ng-template wjFlexGridCellTemplate [cellType]=\"'Cell'\" let-cell=\"cell\">\r\n                            <button class=\"btn btn-primary btn-xs btn-block\" (click)=\"btnEditUserClick()\" id=\"btnEditUser\">\r\n                                <i class=\"fa fa-edit fa-fw\"></i> Edit\r\n                            </button>\r\n                        </ng-template>\r\n                    </wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Username'\" [binding]=\"'userName'\" [isReadOnly]=\"true\" [width]=\"300\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Fulllname'\" [binding]=\"'fullname'\" [isReadOnly]=\"true\" [width]=\"'*'\"></wj-flex-grid-column>\r\n                    <wj-flex-grid-column [header]=\"'Status'\" [binding]=\"'status'\" [isReadOnly]=\"true\" [width]=\"200\"></wj-flex-grid-column>\r\n                </wj-flex-grid>\r\n            </div>\r\n\r\n            <!-- navigiation buttons -->\r\n            <div class=\"card-footer\">\r\n                <div class=\"col-sm-12 btn-group\" style=\"padding: 5px 0px 5px 0px;\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUsersCollection.moveToFirstPage()\">\r\n                        <i class=\"fa fa-fast-backward\"></i> First\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUsersCollection.moveToPreviousPage()\">\r\n                        <i class=\"fa fa-step-backward\"></i> Previous\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" disabled style=\"width:100px\">\r\n                        {{ fgdUsersCollection.pageIndex + 1 }} / {{ fgdUsersCollection.pageCount }}\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUsersCollection.moveToNextPage()\">\r\n                        Next\r\n                        <i class=\"fa fa-step-forward\"></i>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"fgdUsersCollection.moveToLastPage()\">\r\n                        Last\r\n                        <i class=\"fa fa-fast-forward\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- user and time stamp footer -->\r\n    <app-footer [data]=\"fgdUsersCollection\"></app-footer>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/user/user.list.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserList; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__user_service__ = __webpack_require__("../../../../../src/app/user/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__security_security_service__ = __webpack_require__("../../../../../src/app/security/security.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// wijmo

// message box

// service(s)


var UserList = (function () {
    // =======
    // angular
    // =======
    // constructor
    function UserList(userService, toastr, viewContainer, router, securityService, location) {
        this.userService = userService;
        this.toastr = toastr;
        this.viewContainer = viewContainer;
        this.router = router;
        this.securityService = securityService;
        this.location = location;
        // ==================
        // private properties
        // ==================
        // user rights
        this.canEdit = false;
        this.canSave = false;
        this.canLock = false;
        this.canUnlock = false;
        this.canPrint = false;
        this.canDelete = false;
        this.currentDate = new Date();
        this.currentDateString = [this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()].join('-');
        // =================
        // public properties
        // =================
        this.title = 'User List';
        // model(s)
        this.user = {
            id: 0,
            username: "",
            fullName: "",
            password: "",
            status: "",
            aspNetId: ""
        };
        this.toastr.setRootViewContainerRef(viewContainer);
    }
    // ng
    UserList.prototype.ngOnInit = function () {
        var _this = this;
        this.fgdUsersData = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["ObservableArray"]();
        this.fgdUsersCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](this.fgdUsersData);
        if (this.securityService.openPage("USER LIST") == true) {
            this.getUsers();
        }
        else {
            this.toastr.error("No rights to open page.");
            setTimeout(function () { _this.location.back(); }, 1000);
        }
        this.getUserRights();
    };
    UserList.prototype.ngOnDestroy = function () {
        if (this.usersSub != null)
            this.usersSub.unsubscribe();
    };
    // ===============
    // Get User Rights
    // ===============
    UserList.prototype.getUserRights = function () {
        var userRightsData = localStorage.getItem('userRights');
        var userRights = JSON.parse(userRightsData);
        for (var i = 0; i < userRights.length; i++) {
            if (userRights[i].page == 'USER LIST') {
                this.canEdit = userRights[i].canEdit;
                this.canSave = userRights[i].canSave;
                this.canLock = userRights[i].canLock;
                this.canUnlock = userRights[i].canUnlock;
                this.canPrint = userRights[i].canPrint;
                this.canDelete = userRights[i].canDelete;
            }
        }
    };
    // ==============
    // public methods
    // ==============
    // list
    UserList.prototype.getUsers = function () {
        var _this = this;
        this.userService.getUsers();
        this.usersSub = this.userService.usersObservable.subscribe(function (data) {
            _this.fgdUsersData = data;
            _this.fgdUsersCollection = new __WEBPACK_IMPORTED_MODULE_3_wijmo_wijmo__["CollectionView"](_this.fgdUsersData);
            _this.fgdUsersCollection.pageSize = 15;
            _this.fgdUsersCollection.trackChanges = true;
        });
    };
    // ======
    // events
    // ======
    // list opertaions
    UserList.prototype.btnEditUserClick = function () {
        var selectedUser = this.fgdUsersCollection.currentItem;
        this.router.navigate(['/user', selectedUser.id]);
    };
    UserList = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: __webpack_require__("../../../../../src/app/user/user.list.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_4_ng2_toastr_ng2_toastr__["ToastsManager"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_6__security_security_service__["a" /* SecurityService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]])
    ], UserList);
    return UserList;
}());



/***/ }),

/***/ "../../../../../src/app/user/user.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__ = __webpack_require__("../../../../ng2-toastr/ng2-toastr.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__ = __webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// angular



// message box

// wijmo

// async

var UserService = (function () {
    // =======
    // angular
    // =======
    // constructor
    function UserService(router, http, toastr) {
        this.router = router;
        this.http = http;
        this.toastr = toastr;
        // ==================
        // private properties
        // ==================
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({
            'Authorization': 'Bearer ' + localStorage.getItem('access_token'),
            'Content-Type': 'application/json'
        });
        this.options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this.headers });
        // =================
        // public properties
        // =================
        // user list
        this.usersSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.usersObservable = this.usersSource.asObservable();
        // user detail
        this.userSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.userObservable = this.userSource.asObservable();
        // user detail operations
        this.userSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.userSavedObservable = this.userSavedSource.asObservable();
        // detail line1 (user rights) list
        this.userRightsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.userRightsObservable = this.userRightsSource.asObservable();
        // detail line1 (user rights) 
        this.userRightSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.userRightObservable = this.userRightSource.asObservable();
        // detail line1 (user rights) operations
        this.userRightDeletedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.userRightDeletedObservable = this.userRightDeletedSource.asObservable();
        this.userRightSavedSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.userRightSavedObservable = this.userRightSavedSource.asObservable();
        // detail combo boxes
        this.dropDownsSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.dropDownsObservable = this.dropDownsSource.asObservable();
        // detail line1 combo boxes
        this.pagesSource = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.pagesObservable = this.pagesSource.asObservable();
    }
    // =================
    // public properties
    // =================
    // list
    UserService.prototype.getUsers = function () {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUser/List";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUser/List";
        var users = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    users.push({
                        id: results[i].Id,
                        userName: results[i].Username,
                        fullname: results[i].FullName,
                        password: results[i].Password,
                        status: results[i].Status,
                        aspNet: results[i].AspNetId
                    });
                }
                _this.usersSource.next(users);
            }
            else {
                _this.toastr.error("No users.");
            }
        });
    };
    // detail
    UserService.prototype.getUser = function (id) {
        var _this = this;
        var user;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUser/Detail/" + id;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUser/Detail/" + id;
        this.http.get(url, this.options).subscribe(function (response) {
            var results = response.json();
            if (results != null) {
                user = {
                    id: results.Id,
                    username: results.Username,
                    fullName: results.FullName,
                    password: results.Password,
                    status: results.Status,
                    aspNetId: results.AspNetId,
                };
                _this.userSource.next(user);
            }
            else {
                _this.toastr.error("No data.");
                setTimeout(function () {
                    _this.router.navigate(["/user"]);
                }, 1000);
            }
        });
    };
    // detail operation(s)
    UserService.prototype.saveUser = function (user) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUser/Save";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUser/Save";
        this.http.put(url, JSON.stringify(user), this.options).subscribe(function (response) {
            _this.userSavedSource.next(1);
        }, function (error) {
            _this.userSavedSource.next(0);
        });
    };
    // detail combo boxes
    UserService.prototype.getDropDowns = function () {
        var _this = this;
        var dropDowns = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/SysDropDown/List";
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    dropDowns.push({
                        id: results[i].Id,
                        category: results[i].Category,
                        description: results[i].Description,
                        value: results[i].Value
                    });
                }
                _this.dropDownsSource.next(dropDowns);
            }
            else {
                _this.toastr.error("No data.");
            }
        });
    };
    // detail line1 (user rights) list
    UserService.prototype.getUserRightsPerUser = function (id) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUserRight/ListPerUser/" + id;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUserRight/ListPerUser/" + id;
        var userRights = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    userRights.push({
                        id: results[i].Id,
                        userId: results[i].UserId,
                        pageId: results[i].PageId,
                        page: results[i].Page,
                        canEdit: results[i].CanEdit,
                        canSave: results[i].CanSave,
                        canLock: results[i].CanLock,
                        canUnlock: results[i].CanUnLock,
                        canPrint: results[i].CanPrint,
                        canDelete: results[i].CanDelete
                    });
                }
                _this.userRightsSource.next(userRights);
            }
            else {
                _this.toastr.error("No user rights.");
            }
        });
    };
    // detail line1 (user rights) operations
    UserService.prototype.saveUserRight = function (userRight) {
        var _this = this;
        if (userRight.id == 0) {
            // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUserRight/Add";
            var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUserRight/Add";
            this.http.post(url, JSON.stringify(userRight), this.options).subscribe(function (response) {
                _this.userRightSavedSource.next(1);
            }, function (error) {
                _this.userRightSavedSource.next(0);
            });
        }
        else {
            // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUserRight/Save";
            var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUserRight/Save";
            this.http.put(url, JSON.stringify(userRight), this.options).subscribe(function (response) {
                _this.userRightSavedSource.next(1);
            }, function (error) {
                _this.userRightSavedSource.next(0);
            });
        }
    };
    UserService.prototype.deleteUserRight = function (id) {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUserRight/Delete/" + id;
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/MstUserRight/Delete/" + id;
        this.http.delete(url, this.options).subscribe(function (response) {
            _this.userRightDeletedSource.next(1);
        }, function (error) {
            _this.userRightDeletedSource.next(0);
        });
    };
    // detail line1 combo boxes
    UserService.prototype.getPages = function () {
        var _this = this;
        // let url = "http://filbrokerwebsite-priland.azurewebsites.net/api/SysPage/List";
        var url = "http://filbrokerwebsite-priland.azurewebsites.net/api/SysPage/List";
        var pages = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"]();
        this.http.get(url, this.options).subscribe(function (response) {
            var results = new __WEBPACK_IMPORTED_MODULE_4_wijmo_wijmo__["ObservableArray"](response.json());
            if (results.length > 0) {
                for (var i = 0; i <= results.length - 1; i++) {
                    pages.push({
                        id: results[i].Id,
                        page: results[i].Page,
                        url: results[i].Url
                    });
                }
                _this.pagesSource.next(pages);
            }
            else {
                _this.toastr.error("No pages.");
            }
        });
    };
    UserService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_3_ng2_toastr_ng2_toastr__["ToastsManager"]])
    ], UserService);
    return UserService;
}());



/***/ }),

/***/ "../../../../../src/assets/landing_template/img/bg-masthead.jpg":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "bg-masthead.20cbd480edd75dd476f3.jpg";

/***/ }),

/***/ "../../../../../src/assets/landing_template/img/dahlia.jpg":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "dahlia.e7efec87a52111669066.jpg";

/***/ }),

/***/ "../../../../../src/environments/environment.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false
};


/***/ }),

/***/ "../../../../../src/main.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__ = __webpack_require__("../../../platform-browser-dynamic/esm5/platform-browser-dynamic.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_app_module__ = __webpack_require__("../../../../../src/app/app.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__environments_environment__ = __webpack_require__("../../../../../src/environments/environment.ts");




if (__WEBPACK_IMPORTED_MODULE_3__environments_environment__["a" /* environment */].production) {
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["enableProdMode"])();
}
Object(__WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_2__app_app_module__["a" /* AppModule */])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ "../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.directiveBase.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
﻿/*!
    *
    * Wijmo Library 5.20192.631
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

var __decorate=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=__webpack_require__("../../../core/esm5/core.js"),wijmo=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js"),WjOptions=function(){function e(){}return e.asyncBindings=!0,e}();exports.WjOptions=WjOptions;var WjComponentResolvedMetadata=function(){function e(e){this.changeEventMap=[],this.allImplEvents=[],this.resolveChangeEventMap(e)}return e.prototype.resolveChangeEventMap=function(e){var t=this.changeEventMap,i=e.outputs,n=e.changeEvents||{};if(t.splice(0,t.length),this.allImplEvents=[],i&&i.length){var r=i.map(function(e){return e.split(":")}).map(function(e){return{implName:e[0].trim(),exposeName:e[1]&&e[1].trim()}});this.allImplEvents=r.map(function(e){return e.implName});for(var o=0,s=r.filter(function(e){return e.implName&&e.exposeName});o<s.length;o++){var a=s[o];if(Ng2Utils.getWjEventName(a.implName)){var p={eventImpl:a.implName,event:a.exposeName},h=n[a.exposeName];h&&h.length&&(p.props=h.map(function(e){return{prop:e,evExposed:Ng2Utils.getChangeEventNameExposed(e),evImpl:Ng2Utils.getChangeEventNameImplemented(e)}})),t.push(p)}}for(var l in n)if(l.indexOf(".")>-1){p={eventImpl:null,event:l,props:n[l].map(function(e){return{prop:e,evExposed:Ng2Utils.getChangeEventNameExposed(e),evImpl:Ng2Utils.getChangeEventNameImplemented(e)}})};t.push(p)}}},e}();exports.WjComponentResolvedMetadata=WjComponentResolvedMetadata;var WjDirectiveBehavior=function(){function e(t,i,n,r){this._pendingEvents=[],this.isInitialized=!1,this.isDestroyed=!1,this.directive=t,this.elementRef=i,this.injector=n,this.injectedParent=r;var o=this.typeData=t.constructor[e.directiveTypeDataProp];null==o.siblingId&&(o.siblingId=++e.siblingDirId+"");var s=t.constructor[e.directiveResolvedTypeDataProp];s?this.resolvedTypeData=s:t.constructor[e.directiveResolvedTypeDataProp]=s=this.resolvedTypeData=new WjComponentResolvedMetadata(o),t[e.BehaviourRefProp]=this,n[e.BehaviourRefProp]=this,t[e.isInitializedPropAttr]=!1,this._createEvents(),this._setupAsChild(),this._isHostElement()&&i.nativeElement.setAttribute(e.siblingDirIdAttr,o.siblingId),this.subscribeToEvents(!1)}return e.getHostElement=function(t,i){return e.ngZone||(e.ngZone=i.get(core_1.NgZone)),t.nativeElement},e.attach=function(t,i,n,r){return new e(t,i,n,r)},e.prototype.ngOnInit=function(){this.isInitialized=!0,this._initParent(),this.subscribeToEvents(!0)},e.prototype.ngAfterViewInit=function(){var t=this;this.directive[e.isInitializedPropAttr]=!0,setTimeout(function(){t.isDestroyed||t.directive[e.initializedEventAttr].emit(void 0)})},e.prototype.ngOnDestroy=function(){if(!this.isDestroyed){this.isDestroyed=!0;var t=this.directive;if(this._siblingInsertedEH&&this.elementRef.nativeElement.removeEventListener("DOMNodeInserted",this._siblingInsertedEH),this._isChild()&&this.parentBehavior){var i=this.parentBehavior.directive,n=this._getParentProp();if(!this.parentBehavior.isDestroyed&&i&&n&&t){var r=i[n];if(wijmo.isArray(r)&&r){var o=r.indexOf(t);o>=0&&r.splice(o,1)}}}if(t instanceof wijmo.Control&&t.hostElement){var s=this.elementRef.nativeElement,a=s&&s.parentNode,p=a?Array.prototype.indexOf.call(a.childNodes,s):-1;t.dispose(),p>-1&&Array.prototype.indexOf.call(a.childNodes,s)<0&&(s.textContent="",p<a.childNodes.length&&a.replaceChild(s,a.childNodes[p]))}this.injector[e.BehaviourRefProp]=null}},e.instantiateTemplate=function(e,t,i,n,r,o){void 0===r&&(r=!1),void 0===o&&(o={});var s,a=t.createEmbeddedView(i,o,t.length),p=a.rootNodes;if(r&&1===p.length)s=p[0];else{s=document.createElement("div");for(var h=0,l=p;h<l.length;h++){var v=l[h];s.appendChild(v)}}return e&&e.appendChild(s),{viewRef:a,rootElement:s}},e.prototype.getPropChangeEvent=function(e){var t=this.typeData.changeEvents;if(t)for(var i in t)if(t[i].indexOf(e)>-1)return i;return null},e.prototype._createEvents=function(){for(var e=0,t=this.resolvedTypeData.allImplEvents;e<t.length;e++){var i=t[e];this.directive[i]=new core_1.EventEmitter(!1)}},e.prototype.subscribeToEvents=function(e){var t=this.resolvedTypeData.changeEventMap;e=!!e;for(var i=0,n=t;i<n.length;i++){e!==(s=n[i]).event.indexOf(".")<0&&this.addHandlers(s)}if(e)for(var r=0,o=t;r<o.length;r++){var s=o[r];this.triggerPropChangeEvents(s,!0)}},e.prototype.addHandlers=function(t){var i=this,n=this.directive;e.evaluatePath(n,t.event).addHandler(function(e,r){i._runInsideNgZone(function(){i.isInitialized&&i.triggerPropChangeEvents(t),t.eventImpl&&i._triggerEvent(n[t.eventImpl],r,t.props&&t.props.length>0)})})},e.prototype.triggerPropChangeEvents=function(e,t){void 0===t&&(t=!0);var i=this.directive;if(e.props&&e.props.length)for(var n=0,r=e.props;n<r.length;n++){var o=r[n];this._triggerEvent(i[o.evImpl],i[o.prop],t)}},e.prototype._setupAsChild=function(){this._isChild()&&(this._isHostElement()&&(this.elementRef.nativeElement.style.display="none"),this.parentBehavior=e.getBehavior(this.injectedParent))},e.prototype._isAsyncBinding=function(){var t=this.directive[e.asyncBindingUpdatePropAttr];return null==t?WjOptions.asyncBindings:t},e.prototype._isChild=function(){return this._isParentInitializer()||this._isParentReferencer()},e.prototype._isParentInitializer=function(){return null!=this.directive[e.parPropAttr]},e.prototype._isParentReferencer=function(){return!!this.typeData.parentRefProperty},e.prototype._getParentProp=function(){return this.directive[e.parPropAttr]},e.prototype._getParentReferenceProperty=function(){return this.typeData.parentRefProperty},e.prototype._useParentObj=function(){return!1},e.prototype._parentInCtor=function(){return this._isParentReferencer()&&""==this._getParentReferenceProperty()},e.prototype._initParent=function(){if(this.parentBehavior&&!this._useParentObj()){var e=this.parentBehavior.directive,t=this._getParentProp(),i=this.directive;if(this._isParentInitializer()){this._getParentProp();var n=e[t];if(wijmo.isArray(n)){var r=this._isHostElement(),o=r?this._getSiblingIndex():-1;(o<0||o>=n.length)&&(o=n.length),n.splice(o,0,i),r&&(this._siblingInsertedEH=this._siblingInserted.bind(this),this.elementRef.nativeElement.addEventListener("DOMNodeInserted",this._siblingInsertedEH))}else e[t]=i}this._isParentReferencer()&&!this._parentInCtor()&&(i[this._getParentReferenceProperty()]=e)}},e.prototype._getSiblingIndex=function(){var t=this.elementRef.nativeElement,i=t.parentElement;if(!i)return-1;for(var n=i.childNodes,r=-1,o=this.typeData.siblingId,s=0;s<n.length;s++){var a=n[s];if(1==a.nodeType&&a.getAttribute(e.siblingDirIdAttr)==o&&(++r,a===t))return r}return-1},e.prototype._siblingInserted=function(e){if(e.target===this.elementRef.nativeElement){var t=this._getSiblingIndex(),i=this.parentBehavior.directive[this._getParentProp()],n=this.directive,r=i.indexOf(n);t>=0&&r>=0&&t!==r&&(i.splice(r,1),t=Math.min(t,i.length),i.splice(t,0,n))}},e.prototype._isHostElement=function(){return this.elementRef.nativeElement.nodeType===Node.ELEMENT_NODE},e.prototype._runInsideNgZone=function(t){var i=e;return i.ngZone&&!i._ngZoneRun&&(i._ngZoneRun=i.ngZone.run.bind(i.ngZone)),(i._ngZoneRun||function(e){return e()})(t)},e.prototype._triggerEvent=function(e,t,i){var n=this;if(i&&this._isAsyncBinding()){var r={event:e,args:t};this._pendingEvents.push(r),null==this._pendingEventsTO&&(this._pendingEventsTO=setTimeout(function(){n._triggerPendingEvents(!1)},0))}else e.emit(t)},e.prototype._triggerPendingEvents=function(e){if(null!=this._pendingEventsTO&&(clearTimeout(this._pendingEventsTO),this._pendingEventsTO=null),!this.isDestroyed){var t=[].concat(this._pendingEvents);this._pendingEvents.splice(0,this._pendingEvents.length);for(var i=0,n=t;i<n.length;i++){var r=n[i];r.event.emit(r.args)}e&&this._pendingEvents.length&&this._triggerPendingEvents(!0)}},e.prototype.flushPendingEvents=function(){this._triggerPendingEvents(!0)},e.evaluatePath=function(e,t){return this._pathBinding.path=t,this._pathBinding.getValue(e)},e.getBehavior=function(t){return t?t[e.BehaviourRefProp]:null},e.directiveTypeDataProp="meta",e.directiveResolvedTypeDataProp="_wjResolvedMeta",e.BehaviourRefProp="_wjBehaviour",e.parPropAttr="wjProperty",e.wjModelPropAttr="wjModelProperty",e.initializedEventAttr="initialized",e.isInitializedPropAttr="isInitialized",e.siblingDirIdAttr="wj-directive-id",e.asyncBindingUpdatePropAttr="asyncBindings",e.siblingDirId=0,e.wijmoComponentProviderId="WjComponent",e.outsideZoneEvents={pointermove:!0,pointerover:!0,mousemove:!0,wheel:!0,touchmove:!0,pointerenter:!0,pointerleave:!0,pointerout:!0,mouseover:!0,mouseenter:!0,mouseleave:!0,mouseout:!0},e._pathBinding=new wijmo.Binding(""),e}();exports.WjDirectiveBehavior=WjDirectiveBehavior;var Ng2Utils=function(){function e(){}return e.initEvents=function(e,t){for(var i=[],n=0,r=t;n<r.length;n++){var o=r[n],s=o.props;if(o.event&&o.eventImpl&&i.push(o.eventImpl+":"+o.event),s&&s.length)for(var a=0,p=s;a<p.length;a++){var h=p[a];i.push(h.evImpl+":"+h.evExposed)}}return i},e.getChangeEventNameImplemented=function(t){return e.getChangeEventNameExposed(t)+e.changeEventImplementSuffix},e.getChangeEventNameExposed=function(e){return e+"Change"},e.getWjEventNameImplemented=function(t){return t+e.wjEventImplementSuffix},e.getWjEventName=function(t){if(t){var i=e.wjEventImplementSuffix,n=t.length-i.length;if(n>0&&t.substr(n)===i)return t.substr(0,n)}return null},e.getBaseType=function(e){var t;return e&&(t=Object.getPrototypeOf(e.prototype))&&t.constructor},e.getAnnotations=function(e){return Reflect.getMetadata("annotations",e)},e.getAnnotation=function(e,t){if(t&&e)for(var i=0,n=e;i<n.length;i++){var r=n[i];if(r instanceof t)return r}return null},e.getTypeAnnotation=function(t,i,n){for(var r=t;r;r=n?null:e.getBaseType(r)){var o=e.getAnnotation(e.getAnnotations(r),i);if(o)return o}return null},e.equals=function(e,t){return e!=e&&t!=t||wijmo.DateTime.equals(e,t)||e===t},e._copy=function(e,t,i,n,r){if(e&&t)for(var o in t)if(n||"_"!==o[0]){var s=t[o];if(!r||r(o,s)){var a=e[o];wijmo.isArray(s)?e[o]=(!wijmo.isArray(a)||i?[]:a).concat(s):void 0!==s&&(e[o]=s)}}},e.changeEventImplementSuffix="PC",e.wjEventImplementSuffix="Ng",e}();exports.Ng2Utils=Ng2Utils;var WjValueAccessor=function(){function e(e){this._writeQnt=0,this._isSubscribed=!1,this._onChange=function(e){},this._onTouched=function(){},this._directive=e,this._behavior=WjDirectiveBehavior.getBehavior(e)}return e.prototype.writeValue=function(e){var t=this;if(this._modelValue=e,++this._writeQnt,this._directive.isInitialized)this._ensureInitEhUnsubscribed(),this._updateDirective();else if(!this._dirInitEh){var i=this._directive.initialized;this._dirInitEh=i.subscribe(function(){t._updateDirective(),t._ensureInitEhUnsubscribed()})}},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.setDisabledState=function(e){var t=this._directive;t instanceof wijmo.Control&&(t.isDisabled=e)},e.prototype._updateDirective=function(){if(!this._isFirstChange()||null!=this._modelValue){if(this._ensureNgModelProp(),this._directive&&this._ngModelProp){var e=this._modelValue;""===e&&(e=null),this._directive[this._ngModelProp]=e}this._ensureSubscribed()}},e.prototype._ensureSubscribed=function(){if(!this._isSubscribed){var e=this._directive;if(e){this._ensureNgModelProp();var t=this._ngModelProp=e[WjDirectiveBehavior.wjModelPropAttr];if(t){var i=this._behavior.getPropChangeEvent(t);i&&e[i].addHandler(this._dirValChgEh,this)}e instanceof wijmo.Control&&e.lostFocus.addHandler(this._dirLostFocusEh,this),this._isSubscribed=!0}}},e.prototype._ensureNgModelProp=function(){!this._ngModelProp&&this._directive&&(this._ngModelProp=this._directive[WjDirectiveBehavior.wjModelPropAttr])},e.prototype._ensureInitEhUnsubscribed=function(){this._dirInitEh&&(this._dirInitEh.unsubscribe(),this._dirInitEh=null)},e.prototype._isFirstChange=function(){return this._writeQnt<2},e.prototype._dirValChgEh=function(e,t){if(this._onChange&&this._directive&&this._ngModelProp){var i=this._directive[this._ngModelProp];Ng2Utils.equals(this._modelValue,i)||(this._modelValue=i,this._onChange(i))}},e.prototype._dirLostFocusEh=function(e,t){this._onTouched&&this._onTouched()},e}();function WjValueAccessorFactory(e){return new WjValueAccessor(e)}exports.WjValueAccessor=WjValueAccessor,exports.WjValueAccessorFactory=WjValueAccessorFactory;var moduleExports=[],WjDirectiveBaseModule=function(){function e(){}return e=__decorate([core_1.NgModule({})],e)}();exports.WjDirectiveBaseModule=WjDirectiveBaseModule;

/***/ }),

/***/ "../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.grid.filter.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
﻿/*!
    *
    * Wijmo Library 5.20192.631
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

var __extends=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),__decorate=this&&this.__decorate||function(e,t,r,o){var i,n=arguments.length,l=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(n<3?i(l):n>3?i(t,r,l):i(t,r))||l);return n>3&&l&&Object.defineProperty(t,r,l),l},__param=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=__webpack_require__("../../../core/esm5/core.js"),common_1=__webpack_require__("../../../common/esm5/common.js"),wijmo_angular2_directiveBase_1=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.directiveBase.js"),wjcGridFilter=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.grid.filter.js");exports.wjFlexGridFilterMeta={selector:"wj-flex-grid-filter",template:"",inputs:["wjProperty","showFilterIcons","showSortButtons","defaultFilterType","filterColumns"],outputs:["initialized","filterChangingNg: filterChanging","filterChangedNg: filterChanged","filterAppliedNg: filterApplied"],providers:[]};var WjFlexGridFilter=function(e){function t(t,r,o){var i=e.call(this,o)||this;i.isInitialized=!1;i._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(i,t,r,o);return i.created(),i}var r;return __extends(t,e),r=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:exports.wjFlexGridFilterMeta.outputs},t=r=__decorate([core_1.Component({selector:exports.wjFlexGridFilterMeta.selector,template:exports.wjFlexGridFilterMeta.template,inputs:exports.wjFlexGridFilterMeta.inputs,outputs:exports.wjFlexGridFilterMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return r})}].concat(exports.wjFlexGridFilterMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],t)}(wjcGridFilter.FlexGridFilter);exports.WjFlexGridFilter=WjFlexGridFilter;var moduleExports=[WjFlexGridFilter],WjGridFilterModule=function(){function e(){}return e=__decorate([core_1.NgModule({imports:[wijmo_angular2_directiveBase_1.WjDirectiveBaseModule,common_1.CommonModule],declarations:moduleExports.slice(),exports:moduleExports.slice()})],e)}();exports.WjGridFilterModule=WjGridFilterModule;

/***/ }),

/***/ "../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.grid.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
﻿/*!
    *
    * Wijmo Library 5.20192.631
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

var __extends=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),__decorate=this&&this.__decorate||function(e,t,o,r){var i,n=arguments.length,l=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(n<3?i(l):n>3?i(t,o,l):i(t,o))||l);return n>3&&l&&Object.defineProperty(t,o,l),l},__param=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=__webpack_require__("../../../core/esm5/core.js"),common_1=__webpack_require__("../../../common/esm5/common.js"),forms_1=__webpack_require__("../../../forms/esm5/forms.js"),wijmo_angular2_directiveBase_1=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.directiveBase.js"),wjcCore=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js"),wjcGrid=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.grid.js");function softInput(){return wjcCore._getModule("wijmo.input")}function softGridDetail(){return wjcCore._getModule("wijmo.grid.detail")}exports.wjFlexGridMeta={selector:"wj-flex-grid",template:"<div><ng-content></ng-content></div>",inputs:["wjModelProperty","isDisabled","newRowAtTop","allowAddNew","allowDelete","allowDragging","allowMerging","allowResizing","allowSorting","quickAutoSize","autoScroll","autoSearch","autoRowHeights","autoSizeMode","autoGenerateColumns","childItemsPath","groupHeaderFormat","headersVisibility","showSelectedHeaders","showMarquee","itemFormatter","isReadOnly","imeEnabled","mergeManager","selectionMode","showGroups","showSort","showDropDown","showAlternatingRows","showErrors","alternatingRowStep","validateEdits","treeIndent","itemsSource","autoClipboard","frozenRows","frozenColumns","cloneFrozenCells","deferResizing","sortRowIndex","editColumnIndex","stickyHeaders","preserveSelectedState","preserveOutlineState","keyActionTab","keyActionEnter","rowHeaderPath","virtualizationThreshold","anchorCursor","lazyRender","refreshOnEdit"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","beginningEditNg: beginningEdit","cellEditEndedNg: cellEditEnded","cellEditEndingNg: cellEditEnding","prepareCellForEditNg: prepareCellForEdit","formatItemNg: formatItem","resizingColumnNg: resizingColumn","resizedColumnNg: resizedColumn","autoSizingColumnNg: autoSizingColumn","autoSizedColumnNg: autoSizedColumn","draggingColumnNg: draggingColumn","draggingColumnOverNg: draggingColumnOver","draggedColumnNg: draggedColumn","sortingColumnNg: sortingColumn","sortedColumnNg: sortedColumn","resizingRowNg: resizingRow","resizedRowNg: resizedRow","autoSizingRowNg: autoSizingRow","autoSizedRowNg: autoSizedRow","draggingRowNg: draggingRow","draggingRowOverNg: draggingRowOver","draggedRowNg: draggedRow","deletingRowNg: deletingRow","deletedRowNg: deletedRow","loadingRowsNg: loadingRows","loadedRowsNg: loadedRows","rowEditStartingNg: rowEditStarting","rowEditStartedNg: rowEditStarted","rowEditEndingNg: rowEditEnding","rowEditEndedNg: rowEditEnded","rowAddedNg: rowAdded","groupCollapsedChangedNg: groupCollapsedChanged","groupCollapsedChangingNg: groupCollapsedChanging","itemsSourceChangingNg: itemsSourceChanging","itemsSourceChangedNg: itemsSourceChanged","selectionChangingNg: selectionChanging","selectionChangedNg: selectionChanged","scrollPositionChangedNg: scrollPositionChanged","updatingViewNg: updatingView","updatedViewNg: updatedView","updatingLayoutNg: updatingLayout","updatedLayoutNg: updatedLayout","pastingNg: pasting","pastedNg: pasted","pastingCellNg: pastingCell","pastedCellNg: pastedCell","copyingNg: copying","copiedNg: copied"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjFlexGrid=function(e){function t(t,o,r,i){var n=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;n.isInitialized=!1;n._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(n,t,o,r);return new DirectiveCellFactory(n,i),n.deferUpdate(function(){if(n.rows.defaultSize<10){var e=n.hostElement,t=getComputedStyle(e),o=getComputedStyle(document.body),r=2*parseInt(t.fontSize&&wjcCore.contains(document.body,e)?t.fontSize:o.fontSize);n.rows.defaultSize=r,n.columns.defaultSize=4*r,n.columnHeaders.rows.defaultSize=r,n.rowHeaders.columns.defaultSize=Math.round(1.25*r)}}),n.created(),n}var o;return __extends(t,e),o=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,r,i){var n=this;void 0===i&&(i=!1);var l=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,a=l.ngZone;a&&l.outsideZoneEvents[o]?a.runOutsideAngular(function(){e.prototype.addEventListener.call(n,t,o,r,i)}):e.prototype.addEventListener.call(this,t,o,r,i)},t.prototype.startEditing=function(t,o,r,i){void 0===t&&(t=!0),this._edtFocus=null;var n=e.prototype.startEditing.call(this,t,o,r,i);return n&&(this._edtFocus=i||null==i),n},t.prototype.onCellEditEnding=function(t){return this._edtFocus=null,e.prototype.onCellEditEnding.call(this,t)},t.meta={outputs:exports.wjFlexGridMeta.outputs},t=o=__decorate([core_1.Component({selector:exports.wjFlexGridMeta.selector,template:exports.wjFlexGridMeta.template,inputs:exports.wjFlexGridMeta.inputs,outputs:exports.wjFlexGridMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return o})}].concat(exports.wjFlexGridMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional()),__param(3,core_1.Inject(core_1.ChangeDetectorRef))],t)}(wjcGrid.FlexGrid);exports.WjFlexGrid=WjFlexGrid,exports.wjFlexGridColumnMeta={selector:"wj-flex-grid-column",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjProperty","name","dataMap","dataType","binding","sortMemberPath","format","header","width","maxLength","minWidth","maxWidth","align","allowDragging","allowSorting","allowResizing","allowMerging","aggregate","isReadOnly","cssClass","isContentHtml","isSelected","visible","wordWrap","multiLine","mask","inputType","isRequired","showDropDown","dropDownCssClass","quickAutoSize"],outputs:["initialized","isSelectedChangePC: isSelectedChange"],providers:[]};var WjFlexGridColumn=function(e){function t(t,o,r){var i=e.call(this)||this;i.isInitialized=!1,i.wjProperty="columns";var n=(i._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(i,t,o,r)).parentBehavior.directive;return n.autoGenerateColumns&&(n.autoGenerateColumns=!1,n.columns.clear()),i.created(),i}var o;return __extends(t,e),o=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:exports.wjFlexGridColumnMeta.outputs,changeEvents:{"grid.selectionChanged":["isSelected"]}},t=o=__decorate([core_1.Component({selector:exports.wjFlexGridColumnMeta.selector,template:exports.wjFlexGridColumnMeta.template,inputs:exports.wjFlexGridColumnMeta.inputs,outputs:exports.wjFlexGridColumnMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return o})}].concat(exports.wjFlexGridColumnMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],t)}(wjcGrid.Column);exports.WjFlexGridColumn=WjFlexGridColumn;var CellTemplateType,WjFlexGridCellTemplate=function(){function e(e,t,o,r,i,n,l){this.viewContainerRef=e,this.templateRef=t,this.elRef=o,this.domRenderer=i,this.cdRef=l,this.autoSizeRows=!0,this.forceFullEdit=!0,r instanceof WjFlexGrid?this.grid=r:r instanceof WjFlexGridColumn&&(this.column=r,this.grid=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getBehavior(r).parentBehavior.directive)}var t;return t=e,e._getTemplContextProp=function(e){return"$__cellTempl"+CellTemplateType[e]},e.prototype.ngOnInit=function(){this.ownerControl=this.column&&this.column.grid===this.grid?this.column:this.grid,this._attachToControl()},e.prototype.ngOnDestroy=function(){this.cellTypeStr&&(this.viewContainerRef.clear(),this.ownerControl[t._getTemplContextProp(this.cellType)]=null,this.grid.invalidate())},e.prototype._instantiateTemplate=function(e,t){return wijmo_angular2_directiveBase_1.WjDirectiveBehavior.instantiateTemplate(e,this.viewContainerRef,this.templateRef,this.domRenderer,!1,t)},e.prototype._attachToControl=function(){if(this.cellTypeStr){var e=this.cellType=wjcCore.asEnum(this.cellTypeStr,CellTemplateType),o=this.ownerControl;o[t._getTemplContextProp(e)]=this,o instanceof wjcGrid.Column&&(e===CellTemplateType.Cell||e===CellTemplateType.ColumnHeader||e===CellTemplateType.ColumnFooter)&&o._setFlag(wjcGrid.RowColFlags.HasTemplate,!0),this.grid.invalidate()}},e=t=__decorate([core_1.Directive({selector:"[wjFlexGridCellTemplate]",inputs:["wjFlexGridCellTemplate","cellTypeStr: cellType","cellOverflow","valuePaths","autoSizeRows","forceFullEdit"],exportAs:"wjFlexGridCellTemplate",providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return t})}]}),__param(0,core_1.Inject(core_1.ViewContainerRef)),__param(1,core_1.Inject(core_1.TemplateRef)),__param(1,core_1.Optional()),__param(2,core_1.Inject(core_1.ElementRef)),__param(3,core_1.Inject("WjComponent")),__param(3,core_1.SkipSelf()),__param(3,core_1.Optional()),__param(4,core_1.Inject(core_1.Renderer)),__param(5,core_1.Inject(core_1.Injector)),__param(6,core_1.Inject(core_1.ChangeDetectorRef))],e)}();exports.WjFlexGridCellTemplate=WjFlexGridCellTemplate,function(e){e[e.Cell=0]="Cell",e[e.CellEdit=1]="CellEdit",e[e.ColumnHeader=2]="ColumnHeader",e[e.RowHeader=3]="RowHeader",e[e.RowHeaderEdit=4]="RowHeaderEdit",e[e.TopLeft=5]="TopLeft",e[e.GroupHeader=6]="GroupHeader",e[e.Group=7]="Group",e[e.NewCellTemplate=8]="NewCellTemplate",e[e.ColumnFooter=9]="ColumnFooter",e[e.BottomLeft=10]="BottomLeft"}(CellTemplateType=exports.CellTemplateType||(exports.CellTemplateType={}));var DirectiveCellFactory=function(e){function t(o,r){var i=e.call(this)||this;if(i._needsCdCheck=!1,i._lastApplyTimeStamp=0,i._noApplyLag=!1,i._startingEditing=!1,i._cellStampCounter=0,i._composing=!1,i.grid=o,i._gridCdRef=r,!t._templateTypes)for(var n in t._templateTypes=[],CellTemplateType)isNaN(n)&&t._templateTypes.push(n);var l=i;return i._baseCf=o.cellFactory,o.cellFactory=i,i._evtInput=document.createEvent("HTMLEvents"),i._evtInput.initEvent("input",!0,!1),i._evtBlur=document.createEvent("HTMLEvents"),i._evtBlur.initEvent("blur",!1,!1),o.prepareCellForEdit.addHandler(function(e,t){l._noApplyLag=!0}),o.cellEditEnded.addHandler(function(e,t){(t.range.col<0||t.range.col<o.columns.length&&!o.columns[t.range.col][WjFlexGridCellTemplate._getTemplContextProp(CellTemplateType.CellEdit)])&&(l._editChar=null),setTimeout(function(){l._noApplyLag=!1},300)}),o.beginningEdit.addHandler(function(e,t){l._startingEditing=!0}),o.hostElement.addEventListener("keydown",function(e){l._startingEditing=!1},!0),o.hostElement.addEventListener("keypress",function(e){var t=e.charCode>32?String.fromCharCode(e.charCode):null;t&&wjcCore.closest(e.target,".wj-flexgrid")===o.hostElement&&(!o.activeEditor||l._startingEditing?(l._editChar=t,setTimeout(function(){o.activeEditor||(l._editChar=null)},0)):l._editChar&&(l._editChar+=t))},!0),o.hostElement.addEventListener("compositionstart",function(e){l._composing=!0},!0),o.hostElement.addEventListener("compositionend",function(e){l._composing=!1},!0),o.updatedView.addHandler(function(){i._needsCdCheck&&(i._needsCdCheck=!1,i._gridCdRef.markForCheck())},i),i}return __extends(t,e),t.prototype.updateCell=function(e,o,r,i,n){var l=this;this._cellStampCounter=(this._cellStampCounter+1)%1e7;var a=i[t._cellStampProp]=this._cellStampCounter;i.style.overflow&&(i.style.overflow="");var d=o,s=r;n&&!n.isSingleCell&&(o=n.row,r=n.col);var c,p=this,u=e.grid,g=u.editRange,m=e.rows[o],C=m.dataItem,_=!1,f=!1,w=!1,v=!1;switch(e.cellType){case wjcGrid.CellType.Cell:if(g&&g.row===o&&g.col===r)c=CellTemplateType.CellEdit,f=w=!0;else if(m instanceof wjcGrid.GroupRow){var h=!((v=C instanceof wjcCore.CollectionViewGroup)||m.hasChildren);r==e.columns.firstVisibleIndex?c=h?CellTemplateType.Cell:CellTemplateType.GroupHeader:(c=h?CellTemplateType.Cell:CellTemplateType.Group,f=!0)}else m instanceof wjcGrid._NewRowTemplate?c=CellTemplateType.NewCellTemplate:softGridDetail()&&softGridDetail().DetailRow&&m instanceof softGridDetail().DetailRow||(c=CellTemplateType.Cell);break;case wjcGrid.CellType.ColumnHeader:c=CellTemplateType.ColumnHeader;break;case wjcGrid.CellType.RowHeader:c=u.collectionView&&u.collectionView.currentEditItem===C?CellTemplateType.RowHeaderEdit:CellTemplateType.RowHeader,_=!0;break;case wjcGrid.CellType.TopLeft:c=CellTemplateType.TopLeft,_=!0;break;case wjcGrid.CellType.ColumnFooter:c=CellTemplateType.ColumnFooter,f=!0;break;case wjcGrid.CellType.BottomLeft:c=CellTemplateType.BottomLeft,_=!0}var j=!1;if(null!=c){var y=v&&c==CellTemplateType.GroupHeader?u.columns.getColumn(C.groupDescription.propertyName):r>=0&&r<e.columns.length?e.columns[r]:null;if(y){var E=WjFlexGridCellTemplate._getTemplContextProp(c),T=(_?u:y)[E];if(T||(c===CellTemplateType.RowHeaderEdit?(c=CellTemplateType.RowHeader,E=WjFlexGridCellTemplate._getTemplContextProp(c),T=u[E]):c!==CellTemplateType.Group&&c!==CellTemplateType.GroupHeader||v||(c=CellTemplateType.Cell,E=WjFlexGridCellTemplate._getTemplContextProp(c),T=y[E])),T){var x;f&&(x=e.getCellData(o,r,!1)),j=!0;var R=i.getAttribute(wjcGrid.FlexGrid._WJS_MEASURE),S=R&&"true"===R.toLowerCase();w&&this._baseCf.updateCell(e,d,s,i,n,!0);var F,G=i[E]||{},N=G.column!==y||!G.viewRef||G.templateContextProperty!==E||i.firstChild!=G.rootElement,I=w&&this._composing&&u.imeEnabled;if(N){if(w){var H=i.firstElementChild;H&&(I||i.focus(),H.style.display="none")}else i.textContent="";this._doDisposeCell(i);var z={};F=this._setViewRefContext(z,m,y,C,x,T.valuePaths);var D=T._instantiateTemplate(i,z);G.column=y,G.viewRef=D.viewRef,G.rootElement=D.rootElement,G.templateContextProperty=E,i[E]=G}else F=this._setViewRefContext(G.viewRef.context,m,y,C,x,T.valuePaths);if(T.cellOverflow&&(i.style.overflow=T.cellOverflow),S?T.cdRef.detectChanges():T.autoSizeRows&&!I?wijmo_angular2_directiveBase_1.WjDirectiveBehavior.ngZone.runOutsideAngular(function(){setTimeout(function(){if(a===i[t._cellStampProp]){var r=i.scrollHeight,d=e.rows,s=n&&n.rowSpan||1;if(null!=d.maxSize&&(r=Math.min(r,d.maxSize)),o<d.length&&d[o].renderHeight*s<r-1){if(d.defaultSize=r/s,w){var c=p._isFullEdit();return u.refresh(),void u.startEditing(c)}}else w&&l._initEditInput(G,T,null)}},0)}):w&&setTimeout(function(){I?l._initImeEditInput(G,T):l._initEditInput(G,T,null)},0),w){p._cellEditorVars=F.localVars;var b=function(e,t){if(u.cellEditEnding.removeHandler(b),!t.stayInEditMode){var o=wjcCore.getActiveElement();o&&o.dispatchEvent(p._evtBlur),wjcCore.contains(i,wjcCore.getActiveElement())&&i.focus()}if(p._triggerEditorEvents(i),!t.cancel&&!t.stayInEditMode)for(var r=F.localVars,n=0,l=Object.getOwnPropertyNames(F.bindings);n<l.length;n++){var a=l[n];F.bindings[a].setValue(r,F.localVars.values[a])}var d=i.querySelectorAll(".wj-dropdown");[].forEach.call(d,function(e){var t=wjcCore.Control.getControl(e);t&&softInput()&&t instanceof softInput().DropDown&&(t.isDroppedDown=!1)})},B=function(e,t){u.cellEditEnded.removeHandler(B),p._cellEditorVars=null};u.cellEditEnding.addHandler(b),u.cellEditEnded.addHandler(B)}else this._baseCf.updateCell(e,d,s,i,n,!1)}}}j||(this._doDisposeCell(i),this._baseCf.updateCell(e,d,s,i,n))},t.prototype.getEditorValue=function(t){if(this._cellEditorVars){var o=t.editRange;return o&&o.isValid&&this._triggerEditorEvents(t.cells.getCellElement(o.row,o.col)),this._cellEditorVars.value}return e.prototype.getEditorValue.call(this,t)},t.prototype.disposeCell=function(e){this._doDisposeCell(e)},t.prototype._doDisposeCell=function(e){for(var o=t._templateTypes,r=0;r<o.length;r++){var i=WjFlexGridCellTemplate._getTemplContextProp(CellTemplateType[o[r]]),n=e[i];if(n&&n.viewRef){var l=(n.column||this.grid)[i];if(l){var a=l.viewContainerRef.indexOf(n.viewRef);a>-1&&l.viewContainerRef.remove(a)}n.viewRef=null,n.rootElement=null,n.column=null,n.templateContextProperty=null,e[i]=null}}},t.prototype._setViewRefContext=function(e,t,o,r,i,n){this._needsCdCheck=!0,e.row=t,e.col=o,e.item=r;var l={},a=e.cell||{},d={},s={localVars:a,bindings:d};if(a.row=t,a.col=o,a.item=r,a.value=i,a.values=l,n)for(var c=0,p=Object.getOwnPropertyNames(n);c<p.length;c++){var u=p[c],g=new wjcCore.Binding(n[u]);d[u]=g,l[u]=g.getValue(a)}return e.cell!==a&&(e.cell=a),s},t.prototype._initEditInput=function(e,o,r){var i=this,n=!1!==this.grid._edtFocus;if(this.grid._edtFocus=null,this._setFullEdit(o),n){var l=this._findInitialInput(e);if(l){var a=function(){l.removeEventListener("focus",a),setTimeout(function(){var e=null!=r?r:i._editChar;e&&(l.value=e,i._editChar=null,t._setSelectionRange(l,e.length,e.length),l.dispatchEvent(i._evtInput))},t._FOCUS_INTERVAL)};l.addEventListener("focus",a),l.focus()}}},t.prototype._initImeEditInput=function(e,t){var o=this,r=wjcCore.getActiveElement();if(r&&r instanceof HTMLInputElement&&wjcCore.hasClass(r,"wj-grid-ime")){var i=function(n){r.removeEventListener("compositionend",i),wjcCore.setCss(r,wjcGrid._ImeHandler._cssHidden),o._initEditInput(e,t,r.value)};r.addEventListener("compositionend",i);var n=this._findInitialInput(e);if(n){var l=n.getBoundingClientRect(),a=r.getBoundingClientRect(),d=window.getComputedStyle(r),s=parseFloat(d.left),c=parseFloat(d.top);wjcCore.setCss(r,{left:s+l.left-a.left+"px",top:c+l.top-a.top+"px",width:l.width+"px",height:l.height+"px"})}}},t.prototype._findInitialInput=function(e){var t=e&&e.rootElement&&e.rootElement.querySelectorAll("input,textarea");if(t)for(var o=0;o<t.length;o++){var r=t[o],i=window.getComputedStyle(r);if("none"!==i.display&&"visible"===i.visibility)return r}return null},t._setSelectionRange=function(e,t,o){if(void 0===o&&(o=t),wjcCore.contains(document.body,e)&&!e.disabled&&"none"!=e.style.display)try{e.setSelectionRange(wjcCore.asNumber(t),wjcCore.asNumber(o),wjcCore.isIE()?null:"backward"),e.focus()}catch(e){}},t.prototype._triggerEditorEvents=function(e){if(e)for(var t=e.querySelectorAll(".wj-control"),o=0;o<t.length;o++){var r=t[o],i=wjcCore.Control.getControl(r);if(i){var n=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getBehavior(i);n&&n.flushPendingEvents()}}},t.prototype._isFullEdit=function(){var e=this.grid;return!e.activeEditor||e._edtHdl._fullEdit},t.prototype._setFullEdit=function(e){var t=this.grid;e.forceFullEdit&&t.activeEditor&&(t._edtHdl._fullEdit=!0)},t._cellStampProp="__wjCellStamp",t._FOCUS_INTERVAL=wjcCore.Control._FOCUS_INTERVAL+20,t}(wjcGrid.CellFactory),moduleExports=[WjFlexGrid,WjFlexGridColumn,WjFlexGridCellTemplate],WjGridModule=function(){function e(){}return e=__decorate([core_1.NgModule({imports:[wijmo_angular2_directiveBase_1.WjDirectiveBaseModule,common_1.CommonModule],declarations:moduleExports.slice(),exports:moduleExports.slice()})],e)}();exports.WjGridModule=WjGridModule;

/***/ }),

/***/ "../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.input.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
﻿/*!
    *
    * Wijmo Library 5.20192.631
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

var __extends=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),__decorate=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,o,i):r(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i},__param=this&&this.__param||function(e,t){return function(o,n){t(o,n,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=__webpack_require__("../../../core/esm5/core.js"),common_1=__webpack_require__("../../../common/esm5/common.js"),forms_1=__webpack_require__("../../../forms/esm5/forms.js"),wijmo_angular2_directiveBase_1=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.directiveBase.js"),wjcCore=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js"),wjcInput=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.input.js");exports.wjListBoxMeta={selector:"wj-list-box",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","isContentHtml","maxHeight","selectedValuePath","itemFormatter","displayMemberPath","checkedMemberPath","itemsSource","showGroups","selectedIndex","selectedItem","selectedValue","checkedItems"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","formatItemNg: formatItem","itemsChangedNg: itemsChanged","itemCheckedNg: itemChecked","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","checkedItemsChangedNg: checkedItemsChanged","checkedItemsChangePC: checkedItemsChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjListBox=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="selectedValue";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}var o;return __extends(t,e),o=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjListBoxMeta.outputs,changeEvents:{selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],checkedItemsChanged:["checkedItems"]}},t=o=__decorate([core_1.Component({selector:exports.wjListBoxMeta.selector,template:exports.wjListBoxMeta.template,inputs:exports.wjListBoxMeta.inputs,outputs:exports.wjListBoxMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return o})}].concat(exports.wjListBoxMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],t)}(wjcInput.ListBox);exports.WjListBox=WjListBox,exports.wjComboBoxMeta={selector:"wj-combo-box",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","itemsSource","text","selectedIndex","selectedItem","selectedValue"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjComboBox=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="selectedValue";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}var o;return __extends(t,e),o=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjComboBoxMeta.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"]}},t=o=__decorate([core_1.Component({selector:exports.wjComboBoxMeta.selector,template:exports.wjComboBoxMeta.template,inputs:exports.wjComboBoxMeta.inputs,outputs:exports.wjComboBoxMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return o})}].concat(exports.wjComboBoxMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],t)}(wjcInput.ComboBox);exports.WjComboBox=WjComboBox,exports.wjAutoCompleteMeta={selector:"wj-auto-complete",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","delay","maxItems","minLength","cssMatch","itemsSourceFunction","searchMemberPath","itemsSource","text","selectedIndex","selectedItem","selectedValue"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjAutoComplete=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="selectedValue";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}var o;return __extends(t,e),o=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjAutoCompleteMeta.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"]}},t=o=__decorate([core_1.Component({selector:exports.wjAutoCompleteMeta.selector,template:exports.wjAutoCompleteMeta.template,inputs:exports.wjAutoCompleteMeta.inputs,outputs:exports.wjAutoCompleteMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return o})}].concat(exports.wjAutoCompleteMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],t)}(wjcInput.AutoComplete);exports.WjAutoComplete=WjAutoComplete,exports.wjCalendarMeta={selector:"wj-calendar",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","monthView","showHeader","itemFormatter","itemValidator","firstDayOfWeek","max","min","formatYearMonth","formatDayHeaders","formatDays","formatYear","formatMonths","selectionMode","isReadOnly","repeatButtons","showYearPicker","value","displayMonth"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","valueChangedNg: valueChanged","valueChangePC: valueChange","displayMonthChangedNg: displayMonthChanged","displayMonthChangePC: displayMonthChange","formatItemNg: formatItem"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjCalendar=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="value";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}var o;return __extends(t,e),o=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjCalendarMeta.outputs,changeEvents:{valueChanged:["value"],displayMonthChanged:["displayMonth"]}},t=o=__decorate([core_1.Component({selector:exports.wjCalendarMeta.selector,template:exports.wjCalendarMeta.template,inputs:exports.wjCalendarMeta.inputs,outputs:exports.wjCalendarMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return o})}].concat(exports.wjCalendarMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],t)}(wjcInput.Calendar);exports.WjCalendar=WjCalendar,exports.wjColorPickerMeta={selector:"wj-color-picker",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","showAlphaChannel","showColorString","palette","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjColorPicker=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="value";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}var o;return __extends(t,e),o=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjColorPickerMeta.outputs,changeEvents:{valueChanged:["value"]}},t=o=__decorate([core_1.Component({selector:exports.wjColorPickerMeta.selector,template:exports.wjColorPickerMeta.template,inputs:exports.wjColorPickerMeta.inputs,outputs:exports.wjColorPickerMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return o})}].concat(exports.wjColorPickerMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],t)}(wjcInput.ColorPicker);exports.WjColorPicker=WjColorPicker,exports.wjInputMaskMeta={selector:"wj-input-mask",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","mask","isRequired","isReadOnly","promptChar","placeholder","inputType","rawValue","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","valueChangedNg: valueChanged","rawValueChangePC: rawValueChange","valueChangePC: valueChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjInputMask=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="value";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}var o;return __extends(t,e),o=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjInputMaskMeta.outputs,changeEvents:{valueChanged:["rawValue","value"]}},t=o=__decorate([core_1.Component({selector:exports.wjInputMaskMeta.selector,template:exports.wjInputMaskMeta.template,inputs:exports.wjInputMaskMeta.inputs,outputs:exports.wjInputMaskMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return o})}].concat(exports.wjInputMaskMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],t)}(wjcInput.InputMask);exports.WjInputMask=WjInputMask,exports.wjInputColorMeta={selector:"wj-input-color",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","showAlphaChannel","value","text"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjInputColor=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="value";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}var o;return __extends(t,e),o=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjInputColorMeta.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],valueChanged:["value"]}},t=o=__decorate([core_1.Component({selector:exports.wjInputColorMeta.selector,template:exports.wjInputColorMeta.template,inputs:exports.wjInputColorMeta.inputs,outputs:exports.wjInputColorMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return o})}].concat(exports.wjInputColorMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],t)}(wjcInput.InputColor);exports.WjInputColor=WjInputColor,exports.wjMultiSelectMeta={selector:"wj-multi-select",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","checkedMemberPath","maxHeaderItems","headerFormat","headerFormatter","showSelectAllCheckbox","selectAllLabel","itemsSource","checkedItems","text","selectedIndex","selectedItem","selectedValue"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","checkedItemsChangedNg: checkedItemsChanged","checkedItemsChangePC: checkedItemsChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjMultiSelect=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="checkedItems";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}var o;return __extends(t,e),o=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjMultiSelectMeta.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],checkedItemsChanged:["checkedItems"]}},t=o=__decorate([core_1.Component({selector:exports.wjMultiSelectMeta.selector,template:exports.wjMultiSelectMeta.template,inputs:exports.wjMultiSelectMeta.inputs,outputs:exports.wjMultiSelectMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return o})}].concat(exports.wjMultiSelectMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],t)}(wjcInput.MultiSelect);exports.WjMultiSelect=WjMultiSelect,exports.wjMultiAutoCompleteMeta={selector:"wj-multi-auto-complete",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","delay","maxItems","minLength","cssMatch","itemsSourceFunction","searchMemberPath","maxSelectedItems","selectedItems","itemsSource","selectedMemberPath","text","selectedIndex","selectedItem","selectedValue"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","selectedItemsChangedNg: selectedItemsChanged","selectedItemsChangePC: selectedItemsChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjMultiAutoComplete=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="selectedItems";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}var o;return __extends(t,e),o=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjMultiAutoCompleteMeta.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],selectedItemsChanged:["selectedItems"]}},t=o=__decorate([core_1.Component({selector:exports.wjMultiAutoCompleteMeta.selector,template:exports.wjMultiAutoCompleteMeta.template,inputs:exports.wjMultiAutoCompleteMeta.inputs,outputs:exports.wjMultiAutoCompleteMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return o})}].concat(exports.wjMultiAutoCompleteMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],t)}(wjcInput.MultiAutoComplete);exports.WjMultiAutoComplete=WjMultiAutoComplete,exports.wjInputNumberMeta={selector:"wj-input-number",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","showSpinner","repeatButtons","max","min","step","isRequired","placeholder","inputType","format","isReadOnly","value","text"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","valueChangedNg: valueChanged","valueChangePC: valueChange","textChangedNg: textChanged","textChangePC: textChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjInputNumber=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="value";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}var o;return __extends(t,e),o=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjInputNumberMeta.outputs,changeEvents:{valueChanged:["value"],textChanged:["text"]}},t=o=__decorate([core_1.Component({selector:exports.wjInputNumberMeta.selector,template:exports.wjInputNumberMeta.template,inputs:exports.wjInputNumberMeta.inputs,outputs:exports.wjInputNumberMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return o})}].concat(exports.wjInputNumberMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],t)}(wjcInput.InputNumber);exports.WjInputNumber=WjInputNumber,exports.wjInputDateMeta={selector:"wj-input-date",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","selectionMode","format","mask","max","min","inputType","repeatButtons","showYearPicker","itemValidator","itemFormatter","text","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjInputDate=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="value";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}var o;return __extends(t,e),o=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjInputDateMeta.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],valueChanged:["value"]}},t=o=__decorate([core_1.Component({selector:exports.wjInputDateMeta.selector,template:exports.wjInputDateMeta.template,inputs:exports.wjInputDateMeta.inputs,outputs:exports.wjInputDateMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return o})}].concat(exports.wjInputDateMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],t)}(wjcInput.InputDate);exports.WjInputDate=WjInputDate,exports.wjInputTimeMeta={selector:"wj-input-time",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","max","min","step","format","mask","inputType","itemsSource","text","selectedIndex","selectedItem","selectedValue","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjInputTime=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="value";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}var o;return __extends(t,e),o=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjInputTimeMeta.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],valueChanged:["value"]}},t=o=__decorate([core_1.Component({selector:exports.wjInputTimeMeta.selector,template:exports.wjInputTimeMeta.template,inputs:exports.wjInputTimeMeta.inputs,outputs:exports.wjInputTimeMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return o})}].concat(exports.wjInputTimeMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],t)}(wjcInput.InputTime);exports.WjInputTime=WjInputTime,exports.wjInputDateTimeMeta={selector:"wj-input-date-time",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","selectionMode","format","mask","max","min","inputType","repeatButtons","showYearPicker","itemValidator","itemFormatter","timeMax","timeMin","timeStep","timeFormat","text","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjInputDateTime=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="value";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}var o;return __extends(t,e),o=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjInputDateTimeMeta.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],valueChanged:["value"]}},t=o=__decorate([core_1.Component({selector:exports.wjInputDateTimeMeta.selector,template:exports.wjInputDateTimeMeta.template,inputs:exports.wjInputDateTimeMeta.inputs,outputs:exports.wjInputDateTimeMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return o})}].concat(exports.wjInputDateTimeMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],t)}(wjcInput.InputDateTime);exports.WjInputDateTime=WjInputDateTime,exports.wjMenuMeta={selector:"wj-menu",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","header","commandParameterPath","commandPath","subItemsPath","openOnHover","closeOnLeave","isButton","itemsSource","text","selectedIndex","selectedItem","selectedValue","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","itemClickedNg: itemClicked","valueChangePC: valueChange"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjMenu=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1,r.wjModelProperty="selectedValue";r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.itemsSource=new wjcCore.ObservableArray,r.selectedIndex=0,r.created(),r}var o;return __extends(t,e),o=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit(),this._attachToControl(),this._updateHeader()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy(),this.listBox.formatItem.removeHandler(this._fmtItem,this),this.listBox.loadingItems.removeHandler(this._loadingItems,this)},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,null!=e&&(this.selectedValue=e,this._updateHeader())},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(e){var t=e.header;t&&(this._definedHeader=t.currentValue,this._updateHeader())},t.prototype.ngAfterContentInit=function(){this.value=this.value},t.prototype.onItemClicked=function(t){this.value=this.selectedValue,e.prototype.onItemClicked.call(this,t)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this._updateHeader()},t.prototype._attachToControl=function(){this.listBox.formatItem.addHandler(this._fmtItem,this),this.listBox.loadingItems.addHandler(this._loadingItems,this),this.invalidate()},t.prototype._loadingItems=function(e){for(var t=e.hostElement.getElementsByClassName("wj-listbox-item"),o=t.length-1;o>=0;o--){t[o].textContent=""}},t.prototype._fmtItem=function(e,t){if(t.data instanceof WjMenuItem){var o=t.item;o.textContent="";var n=t.data,r=n.contentRoot;r&&(o.appendChild(r),n.added(o))}},t.prototype._updateHeader=function(){this.header=this._definedHeader||"";var e=this.selectedItem;if(null!=this.value&&e&&this.displayMemberPath){var t=null;if(e instanceof WjMenuItem){var o=e.contentRoot;t=o?o.innerHTML:e[this.displayMemberPath]}null!=t&&(this.header+=": <b>"+t+"</b>")}},t.meta={outputs:exports.wjMenuMeta.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],itemClicked:["value"]}},t=o=__decorate([core_1.Component({selector:exports.wjMenuMeta.selector,template:exports.wjMenuMeta.template,inputs:exports.wjMenuMeta.inputs,outputs:exports.wjMenuMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return o})}].concat(exports.wjMenuMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],t)}(wjcInput.Menu);exports.WjMenu=WjMenu,exports.wjMenuItemMeta={selector:"wj-menu-item",template:"<div *wjMenuItemTemplateDir><ng-content></ng-content></div>",inputs:["wjProperty","value","cmd","cmdParam"],outputs:["initialized"],providers:[]};var WjMenuItem=function(){function e(e,t,o,n,r){this.viewContainerRef=n,this.domRenderer=r,this.isInitialized=!1,this.wjProperty="itemsSource";var a=this._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(this,e,t,o);this._ownerMenu=a.parentBehavior.directive,this.created()}var t;return t=e,e.prototype.created=function(){},e.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit();var e=this._ownerMenu;1==e.itemsSource.length&&e.selectedIndex<0&&(e.selectedIndex=0),e.displayMemberPath||(e.displayMemberPath="header"),e.selectedValuePath||(e.selectedValuePath="value"),e.commandPath||(e.commandPath="cmd"),e.commandParameterPath||(e.commandParameterPath="cmdParam")},e.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},e.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},e.prototype.added=function(e){},e.meta={outputs:exports.wjMenuItemMeta.outputs,siblingId:"menuItemDir"},e=t=__decorate([core_1.Component({selector:exports.wjMenuItemMeta.selector,template:exports.wjMenuItemMeta.template,inputs:exports.wjMenuItemMeta.inputs,outputs:exports.wjMenuItemMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return t})}].concat(exports.wjMenuItemMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional()),__param(3,core_1.Inject(core_1.ViewContainerRef)),__param(4,core_1.Inject(core_1.Renderer))],e)}();exports.WjMenuItem=WjMenuItem;var WjMenuItemTemplateDir=function(){function e(e,t,o,n,r,a,i){this.viewContainerRef=e,this.templateRef=t,this.elRef=o,this.domRenderer=r,this.ownerItem=a||i,this.ownerItem.templateDir=this}return e.prototype.ngAfterContentInit=function(){var e=this;setTimeout(function(){var t=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.instantiateTemplate(null,e.viewContainerRef,e.templateRef,e.domRenderer,!0).rootElement;e.contentRoot=t,e.ownerItem.contentRoot=t,e.ownerItem._ownerMenu.listBox.loadList(),e.ownerItem._ownerMenu.invalidate()},0)},e=__decorate([core_1.Directive({selector:"[wjMenuItemTemplateDir]",inputs:["wjMenuItemTemplateDir"]}),__param(0,core_1.Inject(core_1.ViewContainerRef)),__param(1,core_1.Inject(core_1.TemplateRef)),__param(1,core_1.Optional()),__param(2,core_1.Inject(core_1.ElementRef)),__param(3,core_1.Inject(core_1.Injector)),__param(4,core_1.Inject(core_1.Renderer)),__param(5,core_1.Inject(WjMenuItem)),__param(5,core_1.Optional()),__param(6,core_1.Inject(core_1.forwardRef(function(){return WjMenuSeparator}))),__param(6,core_1.Optional())],e)}();exports.WjMenuItemTemplateDir=WjMenuItemTemplateDir,exports.wjMenuSeparatorMeta={selector:"wj-menu-separator",template:'<div *wjMenuItemTemplateDir class="wj-state-disabled" style="width:100%;height:1px;background-color:lightgray"></div>',inputs:["wjProperty"],outputs:["initialized"],providers:[]};var WjMenuSeparator=function(e){function t(t,o,n,r,a){var i=e.call(this,t,o,n,r,a)||this;return i.created(),i}var o;return __extends(t,e),o=t,t.prototype.added=function(e){wjcCore.addClass(e,"wj-state-disabled")},t=o=__decorate([core_1.Component({selector:exports.wjMenuSeparatorMeta.selector,template:exports.wjMenuSeparatorMeta.template,inputs:exports.wjMenuSeparatorMeta.inputs,outputs:exports.wjMenuSeparatorMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return o})}].concat(exports.wjMenuSeparatorMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional()),__param(3,core_1.Inject(core_1.ViewContainerRef)),__param(4,core_1.Inject(core_1.Renderer))],t)}(WjMenuItem);exports.WjMenuSeparator=WjMenuSeparator,exports.wjItemTemplateMeta={selector:"[wjItemTemplate]",inputs:["wjItemTemplate"],outputs:["initialized"],exportAs:"wjItemTemplate",providers:[]};var WjItemTemplate=function(){function e(e,o,n,r,a,i,s){this.viewContainerRef=r,this.templateRef=a,this.domRenderer=i,this.isInitialized=!1;var p=this._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(this,e,o,n);this.ownerControl=p.parentBehavior.directive,this.listBox=t._getListBox(this.ownerControl),this._cdRef=s,this.created()}var t;return t=e,e.prototype.created=function(){},e.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit(),this._attachToControl()},e.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},e.prototype.ngOnDestroy=function(){var e=this.ownerControl,t=this.listBox;t&&(t.formatItem.removeHandler(this._fmtItem,this),t.loadingItems.removeHandler(this._loadingItems,this)),e&&e.invalidate()},e.prototype._attachToControl=function(){this.listBox.formatItem.addHandler(this._fmtItem,this),this.listBox.loadingItems.addHandler(this._loadingItems,this),this.ownerControl.invalidate()},e.prototype._loadingItems=function(e){this.viewContainerRef.clear()},e.prototype._fmtItem=function(e,t){var o=t.item;o.textContent="";var n=this._instantiateTemplate(o);n.context.control=e,n.context.item=t.data,n.context.itemIndex=t.index,t.index===this.listBox.collectionView.items.length-1&&this._cdRef.detectChanges()},e.prototype._instantiateTemplate=function(e){return wijmo_angular2_directiveBase_1.WjDirectiveBehavior.instantiateTemplate(e,this.viewContainerRef,this.templateRef,this.domRenderer).viewRef},e._getListBox=function(e){return e?e instanceof wjcInput.ListBox?e:e.listBox:null},e.meta={outputs:exports.wjItemTemplateMeta.outputs,parentRefProperty:"owner"},e=t=__decorate([core_1.Directive({selector:exports.wjItemTemplateMeta.selector,inputs:exports.wjItemTemplateMeta.inputs,outputs:exports.wjItemTemplateMeta.outputs,exportAs:exports.wjItemTemplateMeta.exportAs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return t})}].concat(exports.wjItemTemplateMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional()),__param(3,core_1.Inject(core_1.ViewContainerRef)),__param(4,core_1.Inject(core_1.TemplateRef)),__param(4,core_1.Optional()),__param(5,core_1.Inject(core_1.Renderer)),__param(6,core_1.Inject(core_1.ChangeDetectorRef))],e)}();exports.WjItemTemplate=WjItemTemplate,exports.wjPopupMeta={selector:"wj-popup",template:"<div><ng-content></ng-content></div>",inputs:["wjModelProperty","isDisabled","owner","showTrigger","hideTrigger","fadeIn","fadeOut","isDraggable","isResizable","dialogResultEnter","modal","removeOnHide"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","showingNg: showing","shownNg: shown","hidingNg: hiding","hiddenNg: hidden"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjPopup=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1;r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}var o;return __extends(t,e),o=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.prototype.ngOnChanges=function(e){e.owner&&null==this.modal&&(this.modal=!this.owner)},t.prototype.dispose=function(){this.isVisible&&(this.hiding.removeAllHandlers(),this.fadeOut=!1,this.hide()),e.prototype.dispose.call(this)},t.meta={outputs:exports.wjPopupMeta.outputs},t=o=__decorate([core_1.Component({selector:exports.wjPopupMeta.selector,template:exports.wjPopupMeta.template,inputs:exports.wjPopupMeta.inputs,outputs:exports.wjPopupMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return o})}].concat(exports.wjPopupMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],t)}(wjcInput.Popup);exports.WjPopup=WjPopup;var WjContextMenu=function(){function e(e){this.elRef=e}return e.prototype.onContextMenu=function(e){var t=this.wjContextMenu,o=t.dropDown;t&&o&&!wjcCore.closest(e.target,"[disabled]")&&(e.preventDefault(),t.owner=this.elRef.nativeElement,t.show(e))},e=__decorate([core_1.Directive({selector:"[wjContextMenu]",inputs:["wjContextMenu"],exportAs:"wjContextMenu",host:{"(contextmenu)":"onContextMenu($event)"}}),__param(0,core_1.Inject(core_1.ElementRef))],e)}();exports.WjContextMenu=WjContextMenu,exports.wjCollectionViewNavigatorMeta={selector:"wj-collection-view-navigator",template:"",inputs:["wjModelProperty","isDisabled","cv","byPage","headerFormat","repeatButtons"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjCollectionViewNavigator=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1;r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.created(),r}var o;return __extends(t,e),o=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjCollectionViewNavigatorMeta.outputs},t=o=__decorate([core_1.Component({selector:exports.wjCollectionViewNavigatorMeta.selector,template:exports.wjCollectionViewNavigatorMeta.template,inputs:exports.wjCollectionViewNavigatorMeta.inputs,outputs:exports.wjCollectionViewNavigatorMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return o})}].concat(exports.wjCollectionViewNavigatorMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],t)}(wjcInput.CollectionViewNavigator);exports.WjCollectionViewNavigator=WjCollectionViewNavigator,exports.wjCollectionViewPagerMeta={selector:"wj-collection-view-pager",template:"",inputs:["wjModelProperty","cv"],outputs:["initialized"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjCollectionViewPager=function(e){function t(t,o,n){var r=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(t,o))||this;r.isInitialized=!1;r._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(r,t,o,n);return r.byPage=!0,r.created(),r}var o;return __extends(t,e),o=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,o,n,r){var a=this;void 0===r&&(r=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[o]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,t,o,n,r)}):e.prototype.addEventListener.call(this,t,o,n,r)},t.meta={outputs:exports.wjCollectionViewPagerMeta.outputs},t=o=__decorate([core_1.Component({selector:exports.wjCollectionViewPagerMeta.selector,template:exports.wjCollectionViewPagerMeta.template,inputs:exports.wjCollectionViewPagerMeta.inputs,outputs:exports.wjCollectionViewPagerMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return o})}].concat(exports.wjCollectionViewPagerMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],t)}(wjcInput.CollectionViewNavigator);exports.WjCollectionViewPager=WjCollectionViewPager;var moduleExports=[WjListBox,WjComboBox,WjAutoComplete,WjCalendar,WjColorPicker,WjInputMask,WjInputColor,WjMultiSelect,WjMultiAutoComplete,WjInputNumber,WjInputDate,WjInputTime,WjInputDateTime,WjMenu,WjMenuItem,WjMenuSeparator,WjItemTemplate,WjPopup,WjContextMenu,WjCollectionViewNavigator,WjCollectionViewPager],WjInputModule=function(){function e(){}return e=__decorate([core_1.NgModule({imports:[wijmo_angular2_directiveBase_1.WjDirectiveBaseModule,common_1.CommonModule],declarations:moduleExports.concat([WjMenuItemTemplateDir]),exports:moduleExports.slice()})],e)}();exports.WjInputModule=WjInputModule;

/***/ }),

/***/ "../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.viewer.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
﻿/*!
    *
    * Wijmo Library 5.20192.631
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

var __extends=this&&this.__extends||function(){var e=function(o,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t])})(o,t)};return function(o,t){function r(){this.constructor=o}e(o,t),o.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),__decorate=this&&this.__decorate||function(e,o,t,r){var n,a=arguments.length,i=a<3?o:null===r?r=Object.getOwnPropertyDescriptor(o,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,o,t,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(a<3?n(i):a>3?n(o,t,i):n(o,t))||i);return a>3&&i&&Object.defineProperty(o,t,i),i},__param=this&&this.__param||function(e,o){return function(t,r){o(t,r,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=__webpack_require__("../../../core/esm5/core.js"),common_1=__webpack_require__("../../../common/esm5/common.js"),forms_1=__webpack_require__("../../../forms/esm5/forms.js"),wijmo_angular2_directiveBase_1=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.angular2.directiveBase.js"),wjcCore=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js"),wjcViewer=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.viewer.js");exports.wjReportViewerMeta={selector:"wj-report-viewer",template:"",inputs:["asyncBindings","wjModelProperty","serviceUrl","filePath","fullScreen","zoomFactor","mouseMode","selectMouseMode","viewMode","requestHeaders","parameters","paginated","reportName"],outputs:["initialized","pageIndexChangedNg: pageIndexChanged","viewModeChangedNg: viewModeChanged","viewModeChangePC: viewModeChange","mouseModeChangedNg: mouseModeChanged","mouseModeChangePC: mouseModeChange","selectMouseModeChangedNg: selectMouseModeChanged","selectMouseModeChangePC: selectMouseModeChange","fullScreenChangedNg: fullScreenChanged","fullScreenChangePC: fullScreenChange","zoomFactorChangedNg: zoomFactorChanged","zoomFactorChangePC: zoomFactorChange","queryLoadingDataNg: queryLoadingData","beforeSendRequestNg: beforeSendRequest"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjReportViewer=function(e){function o(o,t,r){var n=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(o,t))||this;n.isInitialized=!1;n._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(n,o,t,r);return n.created(),n}var t;return __extends(o,e),t=o,o.prototype.created=function(){},o.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},o.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},o.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},o.prototype.addEventListener=function(o,t,r,n){var a=this;void 0===n&&(n=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[t]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,o,t,r,n)}):e.prototype.addEventListener.call(this,o,t,r,n)},o.prototype.onSelectMouseModeChanged=function(e){(this.selectMouseModeChanged._handlers.length>1||this.selectMouseModeChangedNg.observers.length>0)&&wjcCore._deprecated("selectMouseModeChanged","mouseModeChanged"),this.selectMouseModeChanged.raise(this,e)},o.meta={outputs:exports.wjReportViewerMeta.outputs,changeEvents:{viewModeChanged:["viewMode"],mouseModeChanged:["mouseMode"],selectMouseModeChanged:["selectMouseMode"],fullScreenChanged:["fullScreen"],zoomFactorChanged:["zoomFactor"]}},o=t=__decorate([core_1.Component({selector:exports.wjReportViewerMeta.selector,template:exports.wjReportViewerMeta.template,inputs:exports.wjReportViewerMeta.inputs,outputs:exports.wjReportViewerMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return t})}].concat(exports.wjReportViewerMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],o)}(wjcViewer.ReportViewer);exports.WjReportViewer=WjReportViewer,exports.wjPdfViewerMeta={selector:"wj-pdf-viewer",template:"",inputs:["asyncBindings","wjModelProperty","serviceUrl","filePath","fullScreen","zoomFactor","mouseMode","selectMouseMode","viewMode","requestHeaders"],outputs:["initialized","pageIndexChangedNg: pageIndexChanged","viewModeChangedNg: viewModeChanged","viewModeChangePC: viewModeChange","mouseModeChangedNg: mouseModeChanged","mouseModeChangePC: mouseModeChange","selectMouseModeChangedNg: selectMouseModeChanged","selectMouseModeChangePC: selectMouseModeChange","fullScreenChangedNg: fullScreenChanged","fullScreenChangePC: fullScreenChange","zoomFactorChangedNg: zoomFactorChanged","zoomFactorChangePC: zoomFactorChange","queryLoadingDataNg: queryLoadingData","beforeSendRequestNg: beforeSendRequest"],providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useFactory:wijmo_angular2_directiveBase_1.WjValueAccessorFactory,multi:!0,deps:["WjComponent"]}]};var WjPdfViewer=function(e){function o(o,t,r){var n=e.call(this,wijmo_angular2_directiveBase_1.WjDirectiveBehavior.getHostElement(o,t))||this;n.isInitialized=!1;n._wjBehaviour=wijmo_angular2_directiveBase_1.WjDirectiveBehavior.attach(n,o,t,r);return n.created(),n}var t;return __extends(o,e),t=o,o.prototype.created=function(){},o.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},o.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},o.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},o.prototype.addEventListener=function(o,t,r,n){var a=this;void 0===n&&(n=!1);var i=wijmo_angular2_directiveBase_1.WjDirectiveBehavior,s=i.ngZone;s&&i.outsideZoneEvents[t]?s.runOutsideAngular(function(){e.prototype.addEventListener.call(a,o,t,r,n)}):e.prototype.addEventListener.call(this,o,t,r,n)},o.prototype.onSelectMouseModeChanged=function(e){(this.selectMouseModeChanged._handlers.length>1||this.selectMouseModeChangedNg.observers.length>0)&&wjcCore._deprecated("selectMouseModeChanged","mouseModeChanged"),this.selectMouseModeChanged.raise(this,e)},o.meta={outputs:exports.wjPdfViewerMeta.outputs,changeEvents:{viewModeChanged:["viewMode"],mouseModeChanged:["mouseMode"],selectMouseModeChanged:["selectMouseMode"],fullScreenChanged:["fullScreen"],zoomFactorChanged:["zoomFactor"]}},o=t=__decorate([core_1.Component({selector:exports.wjPdfViewerMeta.selector,template:exports.wjPdfViewerMeta.template,inputs:exports.wjPdfViewerMeta.inputs,outputs:exports.wjPdfViewerMeta.outputs,providers:[{provide:"WjComponent",useExisting:core_1.forwardRef(function(){return t})}].concat(exports.wjPdfViewerMeta.providers)}),__param(0,core_1.Inject(core_1.ElementRef)),__param(1,core_1.Inject(core_1.Injector)),__param(2,core_1.Inject("WjComponent")),__param(2,core_1.SkipSelf()),__param(2,core_1.Optional())],o)}(wjcViewer.PdfViewer);exports.WjPdfViewer=WjPdfViewer;var moduleExports=[WjReportViewer,WjPdfViewer],WjViewerModule=function(){function e(){}return e=__decorate([core_1.NgModule({imports:[wijmo_angular2_directiveBase_1.WjDirectiveBaseModule,common_1.CommonModule],declarations:moduleExports.slice(),exports:moduleExports.slice()})],e)}();exports.WjViewerModule=WjViewerModule;

/***/ }),

/***/ "../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.grid.filter.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
﻿/*!
    *
    * Wijmo Library 5.20192.631
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

var __extends=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var Operator,wijmo_grid_1=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.grid.js"),wijmo_1=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js"),input=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.input.js"),selfModule=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.grid.filter.js"),FilterCondition=function(){function e(e){this._op=null,this._filter=e}return Object.defineProperty(e.prototype,"operator",{get:function(){return this._op},set:function(e){this._op=wijmo_1.asEnum(e,Operator,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._val},set:function(e){if(this._val=e,this._strVal=wijmo_1.isString(e)?e.toString().toLowerCase():null,this._mapVal=null,this._filter){var t=this._filter.dataMap||this._filter.column.dataMap;t&&(this._mapVal=t.getDisplayValue(e),wijmo_1.isString(this._mapVal)&&(this._strVal=this._mapVal=this._mapVal.toLowerCase()))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){switch(this._op){case null:return!1;case Operator.EQ:case Operator.NE:return!0;default:return null!=this._val||null!=this._strVal}},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.operator=null,this.value=null},e.prototype.apply=function(t,i,n){var r=this._mapVal||this._strVal||this._val;wijmo_1.isString(t)&&(t=t.toLowerCase()),wijmo_1.isString(r)&&null==t&&(t=""),wijmo_1.isDate(r)&&(i?r=wijmo_1.DateTime.fromDateTime(r,e._refDateTime):n&&(r=wijmo_1.DateTime.fromDateTime(e._refDateTime,r)));var o=Operator;switch(this._op){case null:return!0;case o.EQ:return null!=t&&null!=r?t.valueOf()==r.valueOf():t==r;case o.NE:return null!=t&&null!=r?t.valueOf()!=r.valueOf():t!=r;case o.GT:return t>r;case o.GE:return t>=r;case o.LT:return t<r;case o.LE:return t<=r;case o.BW:return!(null==this._strVal||!wijmo_1.isString(t))&&0==t.indexOf(this._strVal);case o.EW:return!!(null!=this._strVal&&wijmo_1.isString(t)&&t.length>=this._strVal.length)&&t.substr(t.length-this._strVal.length)==r;case o.CT:return!(null==this._strVal||!wijmo_1.isString(t))&&t.indexOf(this._strVal)>-1;case o.NC:return!(null==this._strVal||!wijmo_1.isString(t))&&t.indexOf(this._strVal)<0}throw"Unknown operator"},e._refDateTime=new Date(2e3,0,1,0,0,0),e}();exports.FilterCondition=FilterCondition,function(e){e[e.EQ=0]="EQ",e[e.NE=1]="NE",e[e.GT=2]="GT",e[e.GE=3]="GE",e[e.LT=4]="LT",e[e.LE=5]="LE",e[e.BW=6]="BW",e[e.EW=7]="EW",e[e.CT=8]="CT",e[e.NC=9]="NC"}(Operator=exports.Operator||(exports.Operator={}));var ConditionFilter=function(){function e(e){this._c1=new FilterCondition(this),this._c2=new FilterCondition(this),this._and=!0,this._col=e}return Object.defineProperty(e.prototype,"condition1",{get:function(){return this._c1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"condition2",{get:function(){return this._c2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"and",{get:function(){return this._and},set:function(e){this._and=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMap",{get:function(){return this._map},set:function(e){this._map=wijmo_1.asType(e,wijmo_grid_1.DataMap,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._c1.isActive||this._c2.isActive},enumerable:!0,configurable:!0}),e.prototype.apply=function(e){var t=this._col,i=this._c1,n=this._c2,r=!1,o=!1;if(!t||!t._binding||!this.isActive)return!0;e=t._binding.getValue(e);var l=this.dataMap||t.dataMap;l?e=l.getDisplayValue(e):wijmo_1.isDate(e)?(r=!this._hasTimePart(),o=!this._hasDatePart(),r?e=wijmo_1.DateTime.fromDateTime(e,FilterCondition._refDateTime):o&&(e=wijmo_1.DateTime.fromDateTime(FilterCondition._refDateTime,e))):wijmo_1.isNumber(e)&&(e=wijmo_1.Globalize.parseFloat(wijmo_1.Globalize.format(e,t.format)));var a=i.apply(e,r,o),s=n.apply(e,r,o);return i.isActive&&n.isActive?this._and?a&&s:a||s:i.isActive?a:!n.isActive||s},e.prototype.clear=function(){this._c1.clear(),this._c2.clear(),this.and=!0},e.prototype._hasDatePart=function(){var e=this._col.format;return!e||(e=wijmo_1.culture.Globalize.calendar.patterns[e]||e,/[yMd]+/.test(e))},e.prototype._hasTimePart=function(){var e=this._col.format;return!!e&&(e=wijmo_1.culture.Globalize.calendar.patterns[e]||e,/[Hmst]+/.test(e))},e.prototype.implementsInterface=function(e){return"IColumnFilter"==e},e}();exports.ConditionFilter=ConditionFilter;var ConditionFilterEditor=function(e){function t(t,i){var n=e.call(this,t)||this;n._filter=wijmo_1.asType(i,ConditionFilter,!1);var r=n.getTemplate();n.applyTemplate("wj-control wj-conditionfilter-editor",r,{_divHdr:"div-hdr",_divCmb1:"div-cmb1",_divVal1:"div-val1",_btnAnd:"btn-and",_btnOr:"btn-or",_spAnd:"sp-and",_spOr:"sp-or",_divCmb2:"div-cmb2",_divVal2:"div-val2"});var o=wijmo_1.culture.FlexGridFilter,l=o.ariaLabels;wijmo_1.setAriaLabel(n._btnAnd,l.and),wijmo_1.setAriaLabel(n._btnOr,l.or),wijmo_1.setText(n._divHdr,o.header),wijmo_1.setText(n._spAnd,o.and),wijmo_1.setText(n._spOr,o.or),n._cmb1=n._createOperatorCombo(n._divCmb1,l.op1),n._cmb2=n._createOperatorCombo(n._divCmb2,l.op2),n._val1=n._createValueInput(n._divVal1,l.val1),n._val2=n._createValueInput(n._divVal2,l.val2),n._val1.isDisabled=!0,n._cmb1.selectedIndexChanged.addHandler(function(e,t){n._val1.isDisabled=null==e.selectedValue}),n._val2.isDisabled=!0,n._cmb2.selectedIndexChanged.addHandler(function(e,t){n._val2.isDisabled=null==e.selectedValue});var a=n.hostElement;return n.addEventListener(a,"change",n._btnAndOrChanged.bind(n)),n.addEventListener(a,"keydown",n._keydown.bind(n)),n.updateEditor(),n}return __extends(t,e),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){var e=this._filter.condition1,t=this._filter.condition2;this._cmb1.selectedValue=e.operator,this._cmb2.selectedValue=t.operator,this._val1 instanceof input.ComboBox&&!(this._val1 instanceof input.InputTime)?(this._val1.text=wijmo_1.changeType(e.value,wijmo_1.DataType.String),this._val2.text=wijmo_1.changeType(t.value,wijmo_1.DataType.String)):(this._val1.value=e.value,this._val2.value=t.value);var i=this._filter.and;this._checkRadio(this._btnAnd,i),this._checkRadio(this._btnOr,!i)},t.prototype.clearEditor=function(){this._cmb1.selectedValue=this._cmb2.selectedValue=null,this._val1.text=this._val2.text=null,this._checkRadio(this._btnAnd,!0),this._checkRadio(this._btnOr,!1)},Object.defineProperty(t.prototype,"isEditorClear",{get:function(){return null==this._cmb1.selectedValue&&!this._val1.text&&null==this._cmb2.selectedValue&&!this._val2.text},enumerable:!0,configurable:!0}),t.prototype.updateFilter=function(){var e=this._filter.condition1,t=this._filter.condition2;e.operator=this._cmb1.selectedValue,t.operator=this._cmb2.selectedValue,"value"in this._val1?(e.value=this._val1.value,t.value=this._val2.value):(e.value=this._getComboValue(this._val1),t.value=this._getComboValue(this._val2)),this._filter.and=this._btnAnd.checked},t.prototype._getComboValue=function(e){return e.selectedIndex>-1?e.selectedValue:e.text},t.prototype._createOperatorCombo=function(e,t){var i=this._filter.column,n=wijmo_1.culture.FlexGridFilter,r=n.stringOperators,o=this._filter.dataMap||i.dataMap,l=wijmo_1.DataType;i.dataType==l.Date?r=n.dateOperators:i.dataType!=l.Number||o?i.dataType!=l.Boolean||o||(r=n.booleanOperators):r=n.numberOperators;var a=new input.ComboBox(e,{itemsSource:r,displayMemberPath:"name",selectedValuePath:"op"});return wijmo_1.setAriaLabel(a.inputElement,t),a},t.prototype._createValueInput=function(e,t){var i=this._filter,n=i.column,r=i.dataMap||n.dataMap,o=null,l=wijmo_1.DataType;return n.dataType==l.Date?(o=i._hasDatePart()?i._hasTimePart()?new input.InputDateTime(e):new input.InputDate(e):new input.InputTime(e)).format=n.format:n.dataType!=l.Number||r?(o=new input.ComboBox(e),r?(o.itemsSource=r.getDisplayValues(),o.isEditable=!0):n.dataType==l.Boolean&&(o.itemsSource=[!0,!1])):(o=new input.InputNumber(e)).format=n.format,o.isRequired=!1,wijmo_1.setAriaLabel(o.inputElement,t),o},t.prototype._btnAndOrChanged=function(e){var t=e.target==this._btnAnd,i=e.target==this._btnOr;(t||i)&&(this._checkRadio(this._btnAnd,t),this._checkRadio(this._btnOr,i))},t.prototype._checkRadio=function(e,t){e.checked=t,e.setAttribute("aria-checked",t.toString()),e.setAttribute("tabindex",t?"1":"-1")},t.prototype._keydown=function(e){var t=e.target==this._btnAnd,i=e.target==this._btnOr;if(t||i)switch(e.keyCode){case wijmo_1.Key.Left:case wijmo_1.Key.Right:case wijmo_1.Key.Up:case wijmo_1.Key.Down:var n=t?this._btnOr:this._btnAnd;n.click(),n.focus(),e.preventDefault()}},t.controlTemplate='<div><div wj-part="div-hdr"></div><div wj-part="div-cmb1"></div><br/><div wj-part="div-val1"></div><br/><div role="radiogroup" style="text-align:center"><label><input wj-part="btn-and" type="radio" role="radio"> <span wj-part="sp-and"></span> </label>&nbsp;&nbsp;&nbsp;<label><input wj-part="btn-or" type="radio" role="radio"> <span wj-part="sp-or"></span> </label></div><div wj-part="div-cmb2"></div><br/><div wj-part="div-val2"></div><br/></div>',t}(wijmo_1.Control);exports.ConditionFilterEditor=ConditionFilterEditor;var ValueFilter=function(){function e(e){this._xValueSearch=!0,this._maxValues=250,this._sortValues=!0,this._col=e}return Object.defineProperty(e.prototype,"showValues",{get:function(){return this._values},set:function(e){this._values=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterText",{get:function(){return this._filterText},set:function(e){this._filterText=wijmo_1.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exclusiveValueSearch",{get:function(){return this._xValueSearch},set:function(e){this._xValueSearch=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxValues",{get:function(){return this._maxValues},set:function(e){this._maxValues=wijmo_1.asNumber(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uniqueValues",{get:function(){return this._uniqueValues},set:function(e){this._uniqueValues=wijmo_1.asArray(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortValues",{get:function(){return this._sortValues},set:function(e){this._sortValues=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMap",{get:function(){return this._map},set:function(e){this._map=wijmo_1.asType(e,wijmo_grid_1.DataMap,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return null!=this._values&&Object.keys(this._values).length>0},enumerable:!0,configurable:!0}),e.prototype.apply=function(e){var t=this.column;return!(t&&t._binding&&this._values&&Object.keys(this._values).length)||(e=t._binding.getValue(e),e=this.dataMap?this.dataMap.getDisplayValue(e):t.dataMap?t.dataMap.getDisplayValue(e):wijmo_1.Globalize.format(e,t.format),void 0!=this._values[e])},e.prototype.clear=function(){this.showValues=null,this.filterText=null},e.prototype.implementsInterface=function(e){return"IColumnFilter"==e},e.prototype._getUniqueValues=function(e,t){var i=[];if(this.uniqueValues){for(var n=this.uniqueValues,r=0;r<n.length;r++){var o=n[r];i.push({value:o,text:o.toString()})}return i}var l={},a=e.collectionView,s=a?a.sourceCollection:[];if(t&&a&&a.sourceCollection&&a.filter){var u=this.showValues;this.showValues=null;var c=[];for(r=0;r<s.length;r++)a.filter(s[r])&&c.push(s[r]);s=c,this.showValues=u}for(r=0;r<s.length;r++){o=e._binding.getValue(s[r]);var d=this.dataMap?this.dataMap.getDisplayValue(o):e.dataMap?e.dataMap.getDisplayValue(o):wijmo_1.Globalize.format(o,e.format);l[d]||(l[d]=!0,i.push({value:o,text:d}))}return i},e}();exports.ValueFilter=ValueFilter;var ValueFilterEditor=function(e){function t(t,i){var n=e.call(this,t)||this;n._filter=wijmo_1.asType(i,ValueFilter,!1);var r=n.getTemplate();n.applyTemplate("wj-control wj-valuefilter-editor",r,{_divFilter:"div-filter",_cbSelectAll:"cb-select-all",_spSelectAll:"sp-select-all",_divValues:"div-values"}),n._cbSelectAll.tabIndex=0;var o=wijmo_1.culture.FlexGridFilter;wijmo_1.setText(n._spSelectAll,o.selectAll);var l=n._view=new wijmo_1.CollectionView;if(l.sortNullsFirst=!0,i.sortValues){var a=i.column.dataMap||i.dataMap?"text":"value",s=i.column.dataType!=wijmo_1.DataType.Boolean;l.sortDescriptions.push(new wijmo_1.SortDescription(a,s))}return l.filter=n._filterValues.bind(n),l.collectionChanged.addHandler(n._updateSelectAllCheck,n),n._filterText="",n._cmbFilter=new input.ComboBox(n._divFilter,{placeholder:o.search}),n._lbValues=new input.ListBox(n._divValues,{displayMemberPath:"text",checkedMemberPath:"show",itemsSource:n._view,itemFormatter:function(e,t){return t||o.null}}),wijmo_1.setAriaLabel(n._cmbFilter.inputElement,o.ariaLabels.search),n._cmbFilter.textChanged.addHandler(n._filterTextChanged,n),n._cbSelectAll.addEventListener("click",n._cbSelectAllClicked.bind(n)),n.updateEditor(),n}return __extends(t,e),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){var e=this,t=this._filter.column,i=this._filter._getUniqueValues(t,!0);this._lbValues.isContentHtml=t.isContentHtml;var n=this._filter.showValues;if(n&&0!=Object.keys(n).length){for(var r in n)for(o=0;o<i.length;o++)if(i[o].text==r){i[o].show=!0;break}}else for(var o=0;o<i.length;o++)i[o].show=!0;this._view.pageSize=20,this._view.sourceCollection=i,setTimeout(function(){e._view.pageSize=e._filter.maxValues,e._cmbFilter.text=e._filter.filterText||"",e._filterText=e._cmbFilter.text.toLowerCase()})},t.prototype.clearEditor=function(e){void 0===e&&(e=!0),this._cmbFilter.text="",this._filterText="",this._view.pageSize=0,this._view.refresh(),this._view.items.forEach(function(t){t.show=e}),this._view.pageSize=this._filter.maxValues},Object.defineProperty(t.prototype,"isEditorClear",{get:function(){return!this._filterText&&!this._cbSelectAll.indeterminate},enumerable:!0,configurable:!0}),t.prototype.updateFilter=function(){var e=null,t=this._getItems();if(this._filterText||this._cbSelectAll.indeterminate){e={};for(var i=0;i<t.length;i++){var n=t[i];n.show&&(e[n.text]=!0)}}var r=this._filter;r.showValues=e,r.filterText=""},t.prototype._getItems=function(){return this._filter.exclusiveValueSearch?this._view.items:this._view.sourceCollection},t.prototype._filterTextChanged=function(){var e=this;this._toText&&clearTimeout(this._toText),this._toText=setTimeout(function(){var t=e._cmbFilter.text.toLowerCase(),i=t!=e._filterText;e._filterText=t,e._view.refresh(),i&&(e._filter.exclusiveValueSearch?(e._cbSelectAll.checked=!0,e._cbSelectAllClicked()):e._updateSelectAllCheck())},300)},t.prototype._filterValues=function(e){return!this._filterText||!(!e||!e.text)&&e.text.toLowerCase().indexOf(this._filterText)>-1},t.prototype._cbSelectAllClicked=function(){for(var e=this._cbSelectAll.checked,t=this._divValues.scrollTop,i=this._getItems(),n=0;n<i.length;n++)i[n].show=e;this._view.refresh(),this._divValues.scrollTop=t},t.prototype._updateSelectAllCheck=function(){for(var e=0,t=this._getItems(),i=0;i<t.length;i++)t[i].show&&e++;var n=this._cbSelectAll;0==e?(n.checked=!1,n.indeterminate=!1):e==t.length?(n.checked=!0,n.indeterminate=!1):n.indeterminate=!0},t.controlTemplate='<div><div wj-part="div-filter"></div><div class="wj-listbox-item"><label><input wj-part="cb-select-all" type="checkbox"> <span wj-part="sp-select-all"></span></label></div><div wj-part="div-values"></div></div>',t}(wijmo_1.Control);exports.ValueFilterEditor=ValueFilterEditor;var FilterType,ColumnFilter=function(){function e(e,t){this._owner=e,this._col=t,this._valueFilter=new ValueFilter(t),this._valueFilter.exclusiveValueSearch=e.exclusiveValueSearch,this._conditionFilter=new ConditionFilter(t)}return Object.defineProperty(e.prototype,"filterType",{get:function(){return null!=this._filterType?this._filterType:this._owner.defaultFilterType},set:function(e){if((e=wijmo_1.asEnum(e,FilterType,!0))!=this._filterType){var t=this.isActive;this.clear(),this._filterType=e,t?this._owner.apply():this._col.grid&&this._col.grid.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMap",{get:function(){return this.conditionFilter.dataMap||this.valueFilter.dataMap},set:function(e){this.conditionFilter.dataMap=e,this.valueFilter.dataMap=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueFilter",{get:function(){return this._valueFilter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"conditionFilter",{get:function(){return this._conditionFilter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._conditionFilter.isActive||this._valueFilter.isActive},enumerable:!0,configurable:!0}),e.prototype.apply=function(e){return this._conditionFilter.apply(e)&&this._valueFilter.apply(e)},e.prototype.clear=function(){this._valueFilter.clear(),this._conditionFilter.clear()},e.prototype.implementsInterface=function(e){return"IColumnFilter"==e},e}();exports.ColumnFilter=ColumnFilter,function(e){e[e.None=0]="None",e[e.Condition=1]="Condition",e[e.Value=2]="Value",e[e.Both=3]="Both"}(FilterType=exports.FilterType||(exports.FilterType={}));var FlexGridFilter=function(){function e(e,t){this._showIcons=!0,this._showSort=!0,this._defFilterType=FilterType.Both,this._xValueSearch=!0,this.filterApplied=new wijmo_1.Event,this.filterChanging=new wijmo_1.Event,this.filterChanged=new wijmo_1.Event,this._filters=[],this._g=wijmo_1.asType(e,wijmo_grid_1.FlexGrid,!1),this._g.formatItem.addHandler(this._formatItem.bind(this)),this._g.itemsSourceChanged.addHandler(this.clear.bind(this));var i=this._g.hostElement;e.addEventListener(i,"mousedown",this._mousedown.bind(this),!0),e.addEventListener(i,"click",this._click.bind(this),!0),e.addEventListener(i,"keydown",this._keydown.bind(this),!0),this._g.invalidate(),t&&wijmo_1.copy(this,t)}return Object.defineProperty(e.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterColumns",{get:function(){return this._filterColumns},set:function(e){this._filterColumns=wijmo_1.asArray(e),this.clear()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showFilterIcons",{get:function(){return this._showIcons},set:function(e){e!=this.showFilterIcons&&(this._showIcons=wijmo_1.asBoolean(e),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showSortButtons",{get:function(){return this._showSort},set:function(e){this._showSort=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),e.prototype.getColumnFilter=function(e,t){void 0===t&&(t=!0),e=this._asColumn(e);for(var i=0;i<this._filters.length;i++)if(this._filters[i].column==e)return this._filters[i];if(t&&e.binding){var n=new ColumnFilter(this,e);return this._filters.push(n),n}return null},Object.defineProperty(e.prototype,"defaultFilterType",{get:function(){return this._defFilterType},set:function(e){(e=wijmo_1.asEnum(e,FilterType,!1))!=this.defaultFilterType&&(this._defFilterType=e,this._g.invalidate(),this.clear())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exclusiveValueSearch",{get:function(){return this._xValueSearch},set:function(e){this._xValueSearch=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterDefinition",{get:function(){var e=this,t={defaultFilterType:this.defaultFilterType,filters:[]};return this._filters.forEach(function(i){var n=i.conditionFilter,r=i.valueFilter,o=r.uniqueValues&&r.uniqueValues.length;if(i&&i.column&&i.column.binding&&(i.isActive||o||i.filterType!=e.defaultFilterType)){var l={binding:i.column.binding};if(n.isActive){var a=n.condition1,s=n.condition2;l={binding:i.column.binding,type:"condition",condition1:{operator:a.operator,value:a.value},and:n.and,condition2:{operator:s.operator,value:s.value}}}else(r.isActive||o)&&(l={binding:i.column.binding,type:"value",uniqueValues:r.uniqueValues,sortValues:r.sortValues,maxValues:r.maxValues,exclusiveValueSearch:r.exclusiveValueSearch,showValues:r.showValues});i.filterType!=e.defaultFilterType&&(l.filterType=i.filterType),t.filters.push(l)}}),JSON.stringify(t)},set:function(e){if(e=wijmo_1.asString(e),this.clear(),e){var t=JSON.parse(e);this.defaultFilterType=t.defaultFilterType;for(var i=function(e){var i=t.filters[e],r=n._g.getColumn(i.binding),o=n.getColumnFilter(r,!0);if(o)switch(null!=i.filterType&&(o.filterType=wijmo_1.asEnum(i.filterType,FilterType)),i.type){case"condition":var l=o.conditionFilter;l.condition1.value=r.dataType==wijmo_1.DataType.Date?wijmo_1.changeType(i.condition1.value,r.dataType,null):i.condition1.value,l.condition1.operator=i.condition1.operator,l.and=i.and,l.condition2.value=r.dataType==wijmo_1.DataType.Date?wijmo_1.changeType(i.condition2.value,r.dataType,null):i.condition2.value,l.condition2.operator=i.condition2.operator;break;case"value":var a=o.valueFilter;a.uniqueValues=i.uniqueValues,["sortValues","maxValues","exclusiveValueSearch"].forEach(function(e){null!=i[e]&&(a[e]=i[e])}),a.showValues=i.showValues}},n=this,r=0;r<t.filters.length;r++)i(r)}this.apply()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeEditor",{get:function(){return wijmo_1.Control.getControl(this._divEdt)},enumerable:!0,configurable:!0}),e.prototype.editColumnFilter=function(e,t,i){var n=this;this.closeEditor(),e=this._asColumn(e);var r=this._g,o=new wijmo_grid_1.CellRangeEventArgs(r.cells,new wijmo_grid_1.CellRange(-1,e.index));if(this.onFilterChanging(o)){o.cancel=!0;var l=wijmo_1.createElement('<div class="wj-dropdown-panel"></div>'),a=this.getColumnFilter(e),s=new ColumnFilterEditor(l,a,this.showSortButtons);this._divEdt=l,this._edtCol=e,r.rightToLeft&&(l.dir="rtl"),s.filterChanged.addHandler(function(){o.cancel=!1,setTimeout(function(){o.cancel||n.apply()})}),s.buttonClicked.addHandler(function(){n.closeEditor(),r.focus(),n.onFilterChanged(o)}),s.lostFocus.addHandler(function(){setTimeout(function(){var e=wijmo_1.Control.getControl(n._divEdt);e&&!e.containsFocus()&&n.closeEditor()},10)});var u=t?t.col:e.index;t||r.columns[u].binding==e.binding||(u=r.selection.leftCol),r._edtHdl._commitRowEdits(),r.scrollIntoView(-1,u,!0);var c=r.columnHeaders,d=t&&t.panel==c?t.row:c.rows.length-1,p=u,_=c.getCellBoundingRect(d,p),h=i||c.getCellElement(d,p);h?wijmo_1.showPopup(l,h,!1,!1,!1):wijmo_1.showPopup(l,_),this._setAriaExpanded(h,!0),this._setAriaExpanded(r.cells.getCellElement(-1,p),!0);for(var f=s.hostElement.querySelectorAll("input"),m=0;m<f.length;m++){var b=f[m];if(b.offsetHeight>0&&b.tabIndex>-1&&!b.disabled){b.focus();break}}s.containsFocus()||s.focus()}else this._divEdt=this._edtCol=null},e.prototype._setAriaExpanded=function(t,i){if(t){var n=t.querySelector("."+e._WJC_FILTER);wijmo_1.setAttribute(n,"aria-expanded",i)}},e.prototype.closeEditor=function(){var e=this._g,t=wijmo_1.Control.getControl(this._divEdt),i=this._edtCol;if(t&&wijmo_1.hidePopup(t.hostElement,function(){t.dispose()}),i){var n=e.columnHeaders,r=n.rows.length?n.getCellElement(n.rows.length-1,i.index):null;this._setAriaExpanded(r,!1),r=e.cells.getCellElement(-1,i.index),this._setAriaExpanded(r,!1)}this._divEdt=null,this._edtCol=null},e.prototype.apply=function(){var e=this._g.collectionView;if(e){var t=this._g.editableCollectionView;t&&(t.commitEdit(),t.commitNew()),e.filter=this._filter.bind(this)}var i=e?e.updateFilterDefinition:null;wijmo_1.isFunction(i)&&i.call(e,this),this.onFilterApplied()},e.prototype.clear=function(){this._filters.length&&(this._filters=[],this.apply())},e.prototype.onFilterApplied=function(e){this.filterApplied.raise(this,e)},e.prototype.onFilterChanging=function(e){return this.filterChanging.raise(this,e),!e.cancel},e.prototype.onFilterChanged=function(e){this.filterChanged.raise(this,e)},e.prototype._asColumn=function(e){return wijmo_1.isString(e)?this._g.getColumn(e):wijmo_1.isNumber(e)?this._g.columns[e]:wijmo_1.asType(e,wijmo_grid_1.Column,!1)},e.prototype._filter=function(e){for(var t=0;t<this._filters.length;t++)if(!this._filters[t].apply(e))return!1;return!0},e.prototype._formatItem=function(e,t){if(t.panel==e.columnHeaders){var i=this._g,n=i.getMergedRange(t.panel,t.row,t.col)||new wijmo_grid_1.CellRange(t.row,t.col),r=i.columns[n.col],o=i._getBindingColumn(t.panel,t.row,r),l=t.cell;if(n.row2==t.panel.rows.length-1||r!=o){var a=this.getColumnFilter(o,this.defaultFilterType!=FilterType.None);this._filterColumns&&this._filterColumns.indexOf(o.binding)<0&&(a=null),a?(wijmo_1.toggleClass(l,"wj-filter-on",a.isActive),wijmo_1.toggleClass(l,"wj-filter-off",!a.isActive)):(wijmo_1.removeClass(l,"wj-filter-on"),wijmo_1.removeClass(l,"wj-filter-off")),a&&a.filterType!=FilterType.None&&(this._showIcons&&this._addFilterButton(o,a,l),0==t.row&&(l=i.cells.getCellElement(-1,t.col))&&this._addFilterButton(r,a,l))}}},e.prototype._addFilterButton=function(t,i,n){var r=e._WJC_FILTER,o=wijmo_1.createElement('<button class="wj-btn wj-btn-glyph wj-right '+r+'" type="button" tabindex="-1"><span class="wj-glyph-filter"></span></button>');wijmo_1.setAriaLabel(o,wijmo_1.culture.FlexGridFilter.ariaLabels.edit+" "+t.header),wijmo_1.setAttribute(o,"aria-haspopup","dialog"),wijmo_1.setAttribute(o,"aria-expanded",!1),wijmo_1.setAttribute(o,"aria-describedby",t.describedById),wijmo_1.setAttribute(o,"aria-pressed",i.isActive),n.querySelector("."+r)||(1==n.children.length&&(n=n.querySelector("div")||n),n.appendChild(o))},e.prototype._mousedown=function(e){this._toggleEditor(e)&&(this._tmd=!0,e.stopPropagation(),e.preventDefault())},e.prototype._click=function(e){(this._tmd||this._toggleEditor(e))&&(e.stopPropagation(),e.preventDefault()),this._tmd=!1},e.prototype._toggleEditor=function(t){var i=this;if(this._tmd=!1,!t.defaultPrevented&&0==t.button)if(wijmo_1.closestClass(t.target,e._WJC_FILTER)){var n=this._g,r=n.hitTest(t.target);if(r.panel||(r=n.hitTest(t)),r.panel==n.columnHeaders||r.panel==n.cells&&-1==r.row){var o=n.columns[r.col],l=n._getBindingColumn(r.panel,r.row,o);return this._divEdt&&this._edtCol==l?(this.closeEditor(),n.focus()):setTimeout(function(){i.editColumnFilter(l,r)},this._divEdt?100:0),!0}}else this.closeEditor();return!1},e.prototype._keydown=function(e){if(!e.defaultPrevented&&!e.ctrlKey&&e.altKey&&(e.keyCode==wijmo_1.Key.Down||e.keyCode==wijmo_1.Key.Up)){var t=this.grid,i=t.selection,n=i.col>-1?t.columns[i.col]:null,r=n?t._getBindingColumn(t.cells,i.row,n):null;r&&!r.dataMap&&this.getColumnFilter(r,!0)&&(this.editColumnFilter(r),e.preventDefault(),e.stopPropagation())}},e._WJC_FILTER="wj-elem-filter",e}();exports.FlexGridFilter=FlexGridFilter,wijmo_1._addCultureInfo("FlexGridFilter",{ariaLabels:{edit:"Edit Filter for Column",dialog:"Filter Editor for Column",asc:"Sort Column in Ascending Order",dsc:"Sort Column in Descending Order",search:"Search Item List",op1:"First Condition Operator",val1:"First Condition Value",and:"Require both Conditions",or:"Require either Condition",op2:"Second Condition Operator",val2:"Second Condition Value"},ascending:"↑ Ascending",descending:"↓ Descending",apply:"Apply",cancel:"Cancel",clear:"Clear",conditions:"Filter by Condition",values:"Filter by Value",search:"Search",selectAll:"Select All",null:"(nothing)",header:"Show items where the value",and:"And",or:"Or",stringOperators:[{name:"(not set)",op:null},{name:"Equals",op:Operator.EQ},{name:"Does not equal",op:Operator.NE},{name:"Begins with",op:Operator.BW},{name:"Ends with",op:Operator.EW},{name:"Contains",op:Operator.CT},{name:"Does not contain",op:Operator.NC}],numberOperators:[{name:"(not set)",op:null},{name:"Equals",op:Operator.EQ},{name:"Does not equal",op:Operator.NE},{name:"Is Greater than",op:Operator.GT},{name:"Is Greater than or equal to",op:Operator.GE},{name:"Is Less than",op:Operator.LT},{name:"Is Less than or equal to",op:Operator.LE}],dateOperators:[{name:"(not set)",op:null},{name:"Equals",op:Operator.EQ},{name:"Is Before",op:Operator.LT},{name:"Is After",op:Operator.GT}],booleanOperators:[{name:"(not set)",op:null},{name:"Equals",op:Operator.EQ},{name:"Does not equal",op:Operator.NE}]});var ColumnFilterEditor=function(e){function t(t,i,n){void 0===n&&(n=!0);var r=e.call(this,t,null,!0)||this;r.filterChanged=new wijmo_1.Event,r.buttonClicked=new wijmo_1.Event,r._filter=wijmo_1.asType(i,ColumnFilter);var o=r.getTemplate();r.applyTemplate("wj-control wj-content wj-columnfiltereditor",o,{_divSort:"div-sort",_btnAsc:"btn-asc",_btnDsc:"btn-dsc",_divType:"div-type",_aVal:"a-val",_aCnd:"a-cnd",_divEdtVal:"div-edt-val",_divEdtCnd:"div-edt-cnd",_btnApply:"btn-apply",_btnCancel:"btn-cancel",_btnClear:"btn-clear"});var l=wijmo_1.culture.FlexGridFilter,a=l.ariaLabels,s=r.hostElement,u=r.filter.column,c=u.grid.collectionView;wijmo_1.setAttribute(s,"role","dialog"),wijmo_1.setAriaLabel(s,a.dialog+" "+u.header),wijmo_1.setAriaLabel(r._btnAsc,a.asc),wijmo_1.setAriaLabel(r._btnDsc,a.dsc),wijmo_1.setText(r._btnAsc,l.ascending),wijmo_1.setText(r._btnDsc,l.descending),wijmo_1.setText(r._aVal,l.values),wijmo_1.setText(r._aCnd,l.conditions),wijmo_1.setText(r._btnApply,l.apply),wijmo_1.setText(r._btnCancel,l.cancel),wijmo_1.setText(r._btnClear,l.clear);var d=r.filter.conditionFilter.isActive||0==(i.filterType&FilterType.Value)?FilterType.Condition:FilterType.Value;r._showFilter(d),n&&c&&c.canSort||(r._divSort.style.display="none");var p=r._btnClicked.bind(r);return r._btnApply.addEventListener("click",p),r._btnCancel.addEventListener("click",p),r._btnClear.addEventListener("click",p),r._btnAsc.addEventListener("click",p),r._btnDsc.addEventListener("click",p),r._aVal.addEventListener("click",p),r._aCnd.addEventListener("click",p),r.addEventListener(s,"keydown",function(e){if(!e.defaultPrevented){var t=e.target.tagName.match(/^(a|button)$/i);switch(e.keyCode){case wijmo_1.Key.Space:t&&(r._btnClicked(e),e.preventDefault());break;case wijmo_1.Key.Enter:t?r._btnClicked(e):(r.updateFilter(),r.onFilterChanged(),r.onButtonClicked()),e.preventDefault();break;case wijmo_1.Key.Escape:r.onButtonClicked(),e.preventDefault();break;case wijmo_1.Key.Tab:wijmo_1.moveFocus(r.hostElement,e.shiftKey?-1:1),e.preventDefault()}}}),r.addEventListener(window,"resize",function(){r.isTouching||r._wasTouching||r.onButtonClicked()}),r}return __extends(t,e),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){this._edtVal&&this._edtVal.updateEditor(),this._edtCnd&&this._edtCnd.updateEditor()},t.prototype.updateFilter=function(){switch(this._getFilterType()){case FilterType.Value:this._edtVal.updateFilter(),this.filter.conditionFilter.clear();break;case FilterType.Condition:this._edtCnd.updateFilter(),this.filter.valueFilter.clear()}},t.prototype.onFilterChanged=function(e){this.filterChanged.raise(this,e)},t.prototype.onButtonClicked=function(e){this.buttonClicked.raise(this,e)},t.prototype._showFilter=function(e){this._wasTouching=this.isTouching,e==FilterType.Value&&null==this._edtVal&&(this._edtVal=new ValueFilterEditor(this._divEdtVal,this.filter.valueFilter)),e==FilterType.Condition&&null==this._edtCnd&&(this._edtCnd=new ConditionFilterEditor(this._divEdtCnd,this.filter.conditionFilter)),0!=(e&this.filter.filterType)&&(e==FilterType.Value?(this._divEdtVal.style.display="",this._divEdtCnd.style.display="none",this._enableLink(this._aVal,!1),this._enableLink(this._aCnd,!0),this._edtVal.focus()):(this._divEdtVal.style.display="none",this._divEdtCnd.style.display="",this._enableLink(this._aVal,!0),this._enableLink(this._aCnd,!1),this._edtCnd.focus()));var t=this._divType.style;switch(this.filter.filterType){case FilterType.None:case FilterType.Condition:case FilterType.Value:t.display="none";break;default:t.display=""}},t.prototype._enableLink=function(e,t){wijmo_1.toggleClass(e,"wj-state-disabled",!t),wijmo_1.setAttribute(e,"href",t?"":null),wijmo_1.setAttribute(e,"disabled",t?null:"disabled")},t.prototype._getFilterType=function(){var e=FilterType;return"none"!=this._divEdtVal.style.display?e.Value:e.Condition},t.prototype._btnClicked=function(e){var t=e.target;if(e.preventDefault(),e.stopPropagation(),!wijmo_1.hasClass(t,"wj-state-disabled")){if(t==this._aVal)return this._showFilter(FilterType.Value),void wijmo_1.moveFocus(this._edtVal.hostElement,0);if(t==this._aCnd)return this._showFilter(FilterType.Condition),void wijmo_1.moveFocus(this._edtCnd.hostElement,0);if(t==this._btnAsc||t==this._btnDsc){var i=this.filter.column,n=i.sortMemberPath?i.sortMemberPath:i.binding,r=i.grid.collectionView,o=new wijmo_1.SortDescription(n,e.target==this._btnAsc);r.sortDescriptions.deferUpdate(function(){r.sortDescriptions.clear(),r.sortDescriptions.push(o)})}t==this._btnApply?(this.updateFilter(),this.onFilterChanged()):t==this._btnClear?this.filter.isActive&&(this.filter.clear(),this.onFilterChanged()):this.updateEditor(),this.onButtonClicked()}},t.controlTemplate='<div><div wj-part="div-sort"><button wj-part="btn-asc" class="wj-btn" style="min-width:95px"></button>&nbsp;&nbsp;&nbsp;<button wj-part="btn-dsc" class="wj-btn" style="min-width:95px"></button></div><div wj-part="div-type" class="wj-filtertype"><a wj-part="a-cnd" href="" draggable="false"></a>&nbsp;|&nbsp;<a wj-part="a-val" href="" draggable="false"></a></div><div wj-part="div-edt-val" tabindex="-1"></div><div wj-part="div-edt-cnd" tabindex="-1"></div><div style="text-align:right;margin-top:10px"><button wj-part="btn-apply" class="wj-btn"></button>&nbsp;&nbsp;<button wj-part="btn-cancel" class="wj-btn"></button>&nbsp;&nbsp;<button wj-part="btn-clear" class="wj-btn"></button></div>',t}(wijmo_1.Control);exports.ColumnFilterEditor=ColumnFilterEditor,wijmo_1._registerModule("wijmo.grid.filter",selfModule);

/***/ }),

/***/ "../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.grid.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
﻿/*!
    *
    * Wijmo Library 5.20192.631
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

var __extends=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wijmo_1=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js"),mInput=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.input.js"),selfModule=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.grid.js"),DataMap=function(){function e(e,t,i){if(this.mapChanged=new wijmo_1.Event,wijmo_1.isArray(e)&&!t&&!i){for(var o=[],n=0;n<e.length;n++)o.push({value:e[n]});e=o,t=i="value"}this._cv=wijmo_1.asCollectionView(e),this._keyPath=wijmo_1.asString(t,!1),this._displayPath=wijmo_1.asString(i,!1),this._cv.collectionChanged.addHandler(this.onMapChanged,this)}return Object.defineProperty(e.prototype,"sortByDisplayValues",{get:function(){return 1!=this._sortByKey},set:function(e){this._sortByKey=!wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValuePath",{get:function(){return this._keyPath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMemberPath",{get:function(){return this._displayPath},enumerable:!0,configurable:!0}),e.prototype.getKeyValue=function(e){var t=this._displayPath,i=this._indexOf(e,t,!0);return i<0&&(i=this._indexOf(e,t,!1)),i>-1?this._cv.sourceCollection[i][this._keyPath]:null},e.prototype.getDisplayValue=function(e){if(!this._hash){this._hash={};var t=this._cv.sourceCollection;if(t&&this._keyPath&&this._displayPath)for(var i=t.length-1;i>=0;i--){var o=t[i],n=o[this._keyPath],r=o[this._displayPath];this._hash[n]=r}}var s=this._hash[e];return null!=s?s:e},e.prototype.getDisplayValues=function(e){var t=[];if(this._cv&&this._displayPath)for(var i=this._cv.items,o=0;o<i.length;o++)t.push(i[o][this._displayPath]);return t},e.prototype.getKeyValues=function(){var e=[];if(this._cv&&this._keyPath)for(var t=this._cv.items,i=0;i<t.length;i++)e.push(t[i][this._keyPath]);return e},Object.defineProperty(e.prototype,"isEditable",{get:function(){return this._editable},set:function(e){this._editable=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),e.prototype.onMapChanged=function(e){this._hash=null,this.mapChanged.raise(this,e)},e.prototype._indexOf=function(e,t,i){var o=-1,n=-1;if(this._cv&&t)for(var r=null!=e?e.toString():"",s=i?r:r.toLowerCase(),l=this._cv.sourceCollection,a=0;a<l.length;a++){var h=l[a],c=h[t];if(c==e?o=a:i||c.length!=s.length||c.toLowerCase()!=s?null!=c&&c.toString()==r&&(o=a):o=a,o==a){if(!this._cv.filter||this._cv.filter(h))return o;n<0&&(n=o)}}return n},e}();exports.DataMap=DataMap;var CellRange=function(){function e(e,t,i,o){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===i&&(i=e),void 0===o&&(o=t),this.setRange(e,t,i,o)}return e.prototype.setRange=function(e,t,i,o){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===i&&(i=e),void 0===o&&(o=t),this._row=wijmo_1.asInt(e),this._col=wijmo_1.asInt(t),this._row2=wijmo_1.asInt(i),this._col2=wijmo_1.asInt(o)},Object.defineProperty(e.prototype,"row",{get:function(){return this._row},set:function(e){this._row=wijmo_1.asInt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"col",{get:function(){return this._col},set:function(e){this._col=wijmo_1.asInt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"row2",{get:function(){return this._row2},set:function(e){this._row2=wijmo_1.asInt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"col2",{get:function(){return this._col2},set:function(e){this._col2=wijmo_1.asInt(e)},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this._row,this._col,this._row2,this._col2)},e.prototype.copy=function(e){this.setRange(e._row,e._col,e._row2,e._col2)},Object.defineProperty(e.prototype,"rowSpan",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnSpan",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRow",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRow",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftCol",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightCol",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isValid",{get:function(){return this._row>-1&&this._col>-1&&this._row2>-1&&this._col2>-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSingleCell",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,i){var o=wijmo_1.tryCast(t,e);if(o)return o.topRow>=this.topRow&&o.bottomRow<=this.bottomRow&&o.leftCol>=this.leftCol&&o.rightCol<=this.rightCol;if(wijmo_1.isInt(t)&&wijmo_1.isInt(i))return t>=this.topRow&&t<=this.bottomRow&&i>=this.leftCol&&i<=this.rightCol;throw"contains expects a CellRange or row/column indices."},e.prototype.containsRow=function(e){return wijmo_1.asInt(e)>=this.topRow&&e<=this.bottomRow},e.prototype.containsColumn=function(e){return wijmo_1.asInt(e)>=this.leftCol&&e<=this.rightCol},e.prototype.intersects=function(e){return this.intersectsRow(e)&&this.intersectsColumn(e)},e.prototype.intersectsRow=function(e){return e&&!(this.bottomRow<e.topRow||this.topRow>e.bottomRow)},e.prototype.intersectsColumn=function(e){return e&&!(this.rightCol<e.leftCol||this.leftCol>e.rightCol)},e.prototype.getRenderSize=function(e){var t=new wijmo_1.Size(0,0);if(this.isValid){for(var i=this.topRow;i<=this.bottomRow;i++)t.height+=e.rows[i].renderSize;for(var o=this.leftCol;o<=this.rightCol;o++)t.width+=e.columns[o].renderSize}return t},e.prototype.equals=function(t){return t instanceof e&&this._row==t._row&&this._col==t._col&&this._row2==t._row2&&this._col2==t._col2},e}();exports.CellRange=CellRange;var CellRangeEventArgs=function(e){function t(t,i,o){var n=e.call(this)||this;return n._p=wijmo_1.asType(t,GridPanel,!0),n._rng=wijmo_1.asType(i,CellRange,!0),n._data=o,n}return __extends(t,e),Object.defineProperty(t.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this._rng.row},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._rng.col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),t}(wijmo_1.CancelEventArgs);exports.CellRangeEventArgs=CellRangeEventArgs;var FormatItemEventArgs=function(e){function t(t,i,o){var n=e.call(this,t,i)||this;return n._cell=wijmo_1.asType(o,HTMLElement),n}return __extends(t,e),Object.defineProperty(t.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),t}(CellRangeEventArgs);exports.FormatItemEventArgs=FormatItemEventArgs;var SelectionMode,SelectedState,SelMove,CellEditEndingEventArgs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stayInEditMode=!1,t._refresh=!0,t}return __extends(t,e),Object.defineProperty(t.prototype,"stayInEditMode",{get:function(){return this._stayInEditMode},set:function(e){this._stayInEditMode=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refresh",{get:function(){return this._refresh},set:function(e){this._refresh=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),t}(CellRangeEventArgs);exports.CellEditEndingEventArgs=CellEditEndingEventArgs,function(e){e[e.None=0]="None",e[e.Cell=1]="Cell",e[e.CellRange=2]="CellRange",e[e.Row=3]="Row",e[e.RowRange=4]="RowRange",e[e.ListBox=5]="ListBox",e[e.MultiRange=6]="MultiRange"}(SelectionMode=exports.SelectionMode||(exports.SelectionMode={})),function(e){e[e.None=0]="None",e[e.Selected=1]="Selected",e[e.Cursor=2]="Cursor",e[e.Active=3]="Active"}(SelectedState=exports.SelectedState||(exports.SelectedState={})),function(e){e[e.None=0]="None",e[e.Next=1]="Next",e[e.Prev=2]="Prev",e[e.NextPage=3]="NextPage",e[e.PrevPage=4]="PrevPage",e[e.Home=5]="Home",e[e.End=6]="End",e[e.NextCell=7]="NextCell",e[e.PrevCell=8]="PrevCell"}(SelMove=exports.SelMove||(exports.SelMove={}));var RowColFlags,_SelectionHandler=function(){function e(e){this._sel=new CellRange(0,0),this._mode=SelectionMode.CellRange,this._rng=new CellRange(0,0),this._xsel=new wijmo_1.ObservableArray,this._g=e,this._e=new CellRangeEventArgs(e.cells,this._rng),this._xsel.collectionChanged.addHandler(function(){e.invalidate()})}return Object.defineProperty(e.prototype,"selectionMode",{get:function(){return this._mode},set:function(e){var t=this;if(e!=this._mode){var i=SelectionMode;e!=i.ListBox&&this._mode!=i.ListBox||this._g.rows.forEach(function(i,o){var n=e==SelectionMode.ListBox&&t._sel.containsRow(o);i._setFlag(RowColFlags.Selected,n,!0)}),this._xsel.clear();var o=this._sel.clone();switch(e){case i.None:o.setRange(-1,-1);break;case i.Cell:o.row2=o.row,o.col2=o.col;break;case i.Row:o.row2=o.row}this._mode=e,this.select(o,!1,!0),this._g.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._sel},set:function(e){this.select(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extendedSelection",{get:function(){return this._xsel},enumerable:!0,configurable:!0}),e.prototype.select=function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!1),wijmo_1.isNumber(e)&&wijmo_1.isNumber(t)?(this._rng.setRange(e,t),t=!0):e instanceof CellRange?this._rng.copy(e):wijmo_1.assert(!1,"CellRange expected");var o=this._g,n=this._sel,r=this._rng,s=!1,l=SelectionMode;switch(o.selectionMode){case l.Cell:r.row2=r.row,r.col2=r.col;break;case l.Row:r.row2=r.row;break;case l.ListBox:s=!0}var a=r.equals(n);if(s&&r.row>-1&&r.row<o.rows.length&&(o.rows[r.row].isSelected||(a=!1)),a)return t&&this._showSelection(),!0;var h=this._e;if(h._rng=r,h.cancel=!1,!o.onSelectionChanging(h)&&!i)return!1;if(s&&(r.row!=n.row||r.rowSpan>1||n.rowSpan>1)&&o.rows.forEach(function(e,t){e._setFlag(RowColFlags.Selected,r.containsRow(t),!0)}),r.row=Math.min(r.row,o.rows.length-1),r.row2=Math.min(r.row2,o.rows.length-1),this._sel.copy(r),o.refreshCells(!1,!0,!0),t&&this._showSelection(),o.collectionView){var c=o._getCvIndex(r.row);o.collectionView.moveCurrentToPosition(c)}return o.onSelectionChanged(h),!0},e.prototype.moveSelection=function(e,t,i){var o=this._g,n=this._sel,r=i&&o.anchorCursor?new CellRange(n.row2,n.col2):new CellRange(n.row,n.col);this._adjustReferenceCell(r,e,t);var s=r.row,l=r.col,a=o.rows,h=o.columns,c=Math.max(0,o._szClient.height-o.columnHeaders.height),u=SelMove;switch(t){case u.NextCell:(l=h.getNextCell(l,u.Next,c))==r.col&&(s=a.getNextCell(s,u.Next,c))>r.row&&(l=h.getNextCell(0,u.Next,c),l=h.getNextCell(l,u.Prev,c)),o.select(s,l);break;case u.PrevCell:(l=h.getNextCell(r.col,u.Prev,c))==r.col&&(s=a.getNextCell(s,u.Prev,c))<r.row&&(l=h.getNextCell(h.length-1,u.Prev,c),l=h.getNextCell(l,u.Next,c)),o.select(s,l);break;default:s=a.getNextCell(s,e,c),l=h.getNextCell(l,t,c),i?o.selection=o.anchorCursor?new CellRange(n.row,n.col,s,l):new CellRange(s,l,n.row2,n.col2):o.select(s,l)}},e.prototype._showSelection=function(){var e=this._g,t=this._sel;e.anchorCursor?e.scrollIntoView(t.row2,t.col2):e.scrollIntoView(t.row,t.col)},e.prototype._adjustReferenceCell=function(e,t,i){var o=this._g,n=o.getMergedRange(o.cells,e.row,e.col);if(n&&!n.isSingleCell){var r=SelMove;switch(t){case r.Next:case r.NextCell:e.row=n.bottomRow;break;case r.Prev:case r.PrevCell:e.row=n.topRow}switch(i){case r.Next:case r.NextCell:e.col=n.rightCol;break;case r.Prev:case r.PrevCell:e.col=n.leftCol}}},e}();exports._SelectionHandler=_SelectionHandler,function(e){e[e.Visible=1]="Visible",e[e.AllowResizing=2]="AllowResizing",e[e.AllowDragging=4]="AllowDragging",e[e.AllowMerging=8]="AllowMerging",e[e.AllowSorting=16]="AllowSorting",e[e.AutoGenerated=32]="AutoGenerated",e[e.Collapsed=64]="Collapsed",e[e.ParentCollapsed=128]="ParentCollapsed",e[e.Selected=256]="Selected",e[e.ReadOnly=512]="ReadOnly",e[e.HtmlContent=1024]="HtmlContent",e[e.WordWrap=2048]="WordWrap",e[e.MultiLine=4096]="MultiLine",e[e.HasTemplate=8192]="HasTemplate",e[e.RowDefault=3]="RowDefault",e[e.ColumnDefault=23]="ColumnDefault"}(RowColFlags=exports.RowColFlags||(exports.RowColFlags={}));var RowCol=function(){function e(){this._pos=0,this._idx=-1,this._vidx=-1,this.gridChanged=new wijmo_1.Event}return Object.defineProperty(e.prototype,"dataType",{get:function(){return this._type},set:function(e){e=wijmo_1.asEnum(e,wijmo_1.DataType,!0),this._type!=e&&(this._type=e,this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._inpType},set:function(e){this._inpType=wijmo_1.asString(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(e){this._mask=wijmo_1.asString(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this._maxLen},set:function(e){this._maxLen=wijmo_1.asNumber(e,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align!=e&&(this._align=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._fmt},set:function(e){this._fmt!=e&&(this._fmt=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMap",{get:function(){return this._map},set:function(e){this._map!=e&&(this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this),wijmo_1.isArray(e)&&(e=new DataMap(e,null,null)),this._map=wijmo_1.asType(e,DataMap,!0),this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showDropDown",{get:function(){return this._showDropDown},set:function(e){e!=this._showDropDown&&(this._showDropDown=wijmo_1.asBoolean(e,!0),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropDownCssClass",{get:function(){return this._ddCssClass},set:function(e){this._ddCssClass=wijmo_1.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._getFlag(RowColFlags.Visible)},set:function(e){this._setFlag(RowColFlags.Visible,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return!!this._getFlag(RowColFlags.Visible)&&(!this._getFlag(RowColFlags.ParentCollapsed)||this instanceof _NewRowTemplate)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this.isVisible?this._vidx:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._sz},set:function(e){e!=this._sz&&(this._sz=wijmo_1.asNumber(e,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderSize",{get:function(){var e=0,t=this._list;return this.isVisible&&((null==(e=this._sz)||e<0)&&(e=t?t.defaultSize:0),t&&null!=t.minSize&&e<t.minSize&&(e=t.minSize),t&&null!=t.maxSize&&e>t.maxSize&&(e=t.maxSize),null!=this._szMin&&e<this._szMin&&(e=this._szMin),null!=this._szMax&&e>this._szMax&&(e=this._szMax)),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowResizing",{get:function(){return this._getFlag(RowColFlags.AllowResizing)},set:function(e){this._setFlag(RowColFlags.AllowResizing,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowDragging",{get:function(){return this._getFlag(RowColFlags.AllowDragging)},set:function(e){this._setFlag(RowColFlags.AllowDragging,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowMerging",{get:function(){return this._getFlag(RowColFlags.AllowMerging)},set:function(e){this._setFlag(RowColFlags.AllowMerging,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this._getFlag(RowColFlags.Selected)},set:function(e){if(this._setFlag(RowColFlags.Selected,e,!0)){var t=this.grid;t&&t.refreshCells(!1,!0,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._getFlag(RowColFlags.ReadOnly)},set:function(e){this._setFlag(RowColFlags.ReadOnly,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRequired",{get:function(){return this._required},set:function(e){this._required=wijmo_1.asBoolean(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContentHtml",{get:function(){return this._getFlag(RowColFlags.HtmlContent)},set:function(e){this.isContentHtml!=e&&(this._setFlag(RowColFlags.HtmlContent,e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._getFlag(RowColFlags.WordWrap)},set:function(e){this._setFlag(RowColFlags.WordWrap,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiLine",{get:function(){return this._getFlag(RowColFlags.MultiLine)},set:function(e){this._setFlag(RowColFlags.MultiLine,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClass",{get:function(){return this._cssClass},set:function(e){e!=this._cssClass&&(this._cssClass=wijmo_1.asString(e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClassAll",{get:function(){return this._cssClassAll},set:function(e){e!=this._cssClassAll&&(this._cssClassAll=wijmo_1.asString(e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0}),e.prototype.onPropertyChanged=function(){this._list&&(this._list._dirty=!0,this.grid.invalidate())},e.prototype.onGridChanged=function(e){this.gridChanged.raise(this,e)},e.prototype._setList=function(e){e!=this._list&&(this._list=e,this.onGridChanged())},e.prototype._getFlag=function(e){return 0!=(this._f&e)},e.prototype._setFlag=function(e,t,i){return t!=this._getFlag(e)&&(this._f=t?this._f|e:this._f&~e,i||this.onPropertyChanged(),!0)},e}();exports.RowCol=RowCol;var Column=function(e){function t(i){var o=e.call(this)||this;return o._f=RowColFlags.ColumnDefault,o._hash=t._ctr.toString(36),t._ctr++,i&&wijmo_1.copy(o,i),o}return __extends(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binding",{get:function(){return this._binding?this._binding.path:null},set:function(e){if(e!=this.binding){var t=wijmo_1.asString(e);if(this._binding=t?new wijmo_1.Binding(t):null,!this._type&&this.grid&&this._binding){var i=this.grid.collectionView;if(i&&i.sourceCollection&&i.sourceCollection.length){var o=i.sourceCollection[0];this._type=wijmo_1.getType(this._binding.getValue(o))}}this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortMemberPath",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(e){if(e!=this.sortMemberPath){var t=wijmo_1.asString(e);this._bindingSort=t?new wijmo_1.Binding(t):null,this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return null!=this._szStar?this._szStar:this.size},set:function(e){null!=t._parseStarSize(e)?(this._szStar=e,this.onPropertyChanged()):(this._szStar=null,this.size=wijmo_1.asNumber(e,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=wijmo_1.asNumber(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=wijmo_1.asNumber(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(e){this._quickSize=wijmo_1.asBoolean(e,!0)},enumerable:!0,configurable:!0}),t.prototype._getQuickAutoSize=function(){return!!this.grid._getQuickAutoSize()&&(wijmo_1.isBoolean(this._quickSize)?this._quickSize:!(this.isContentHtml||this.wordWrap||this.multiLine||this._getFlag(RowColFlags.HasTemplate)))},Object.defineProperty(t.prototype,"renderWidth",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){return this._hdr?this._hdr:this.binding},set:function(e){this._hdr!=e&&(this._hdr=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowSorting",{get:function(){return this._getFlag(RowColFlags.AllowSorting)},set:function(e){this._setFlag(RowColFlags.AllowSorting,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSort",{get:function(){var e=this.grid?this.grid.collectionView:null,t=e?e.sortDescriptions:null,i=t&&t.length?this._getBindingSort():null;if(i)for(var o=0;o<t.length;o++)if(t[o].property==i)return t[o].ascending?"+":"-";return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregate",{get:function(){return null!=this._agg?this._agg:wijmo_1.Aggregate.None},set:function(e){(e=wijmo_1.asEnum(e,wijmo_1.Aggregate))!=this._agg&&(this._agg=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"describedById",{get:function(){return this._descById},set:function(e){e!=this._descById&&(this._descById=wijmo_1.asString(e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getIsRequired=function(e){return null!=this._required?this._required:e&&null!=e.isRequired?e.isRequired:this.dataType==wijmo_1.DataType.String?null!=this.dataMap||null!=this._mask&&this._mask.length>0:!e||e.dataType!=wijmo_1.DataType.String||(null!=e.dataMap||null!=e.mask&&e.mask.length>0)},t.prototype.getAlignment=function(e){if(null!=this._align)return this._align;if(e&&null!=e.align)return e.align;if(!this._map)switch(this.dataType){case wijmo_1.DataType.Boolean:return"center";case wijmo_1.DataType.Number:return"right"}if(e&&!e.dataMap)switch(e.dataType){case wijmo_1.DataType.Boolean:return"center";case wijmo_1.DataType.Number:return"right"}return""},t.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null},t._parseStarSize=function(e){if(wijmo_1.isString(e)&&e.length>0&&"*"==e[e.length-1]){var t=1==e.length?1:1*e.substr(0,e.length-1);if(t>0&&!isNaN(t))return t}return null},t._ctr=0,t}(RowCol);exports.Column=Column;var Row=function(e){function t(t){var i=e.call(this)||this;return i._f=RowColFlags.ColumnDefault,i._data=t,i}return __extends(t,e),Object.defineProperty(t.prototype,"dataItem",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.size},set:function(e){this.size=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),t}(RowCol);exports.Row=Row;var GroupRow=function(e){function t(){var t=e.call(this)||this;return t._level=-1,t.isReadOnly=!0,t}return __extends(t,e),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},set:function(e){wijmo_1.asInt(e),e!=this._level&&(this._level=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){if(null!=this.grid&&null!=this._list){this._list._update();var e=this.index<this._list.length-1?this._list[this.index+1]:null,i=wijmo_1.tryCast(e,t),o=wijmo_1.tryCast(e,_NewRowTemplate);return null!=e&&null==o&&(null==i||i.level>this.level)}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this._getFlag(RowColFlags.Collapsed)},set:function(e){wijmo_1.asBoolean(e),e!=this.isCollapsed&&null!=this._list&&this._setCollapsed(e)},enumerable:!0,configurable:!0}),t.prototype.getGroupHeader=function(){var e=this.grid,t=e.groupHeaderFormat||wijmo_1.culture.FlexGrid.groupHeaderFormat,i=wijmo_1.tryCast(this.dataItem,wijmo_1.CollectionViewGroup);if(i&&t&&e.showGroups&&!e.childItemsPath){var o=i.groupDescription.propertyName,n=i.name,r=e.getColumn(o),s=this.isContentHtml;r?(s=s||r.isContentHtml,r.header&&(o=r.header),r.dataMap?n=r.dataMap.getDisplayValue(n):r.format&&(n=wijmo_1.Globalize.format(n,r.format))):o=wijmo_1.toHeaderCase(o);var l=i.getAggregate(wijmo_1.Aggregate.CntAll,null,e.collectionView);return wijmo_1.format(t,{name:wijmo_1.escapeHtml(o),value:s?n:wijmo_1.escapeHtml(n),level:i.level,count:l})}return""},t.prototype._setCollapsed=function(e){var i=this,o=this.grid,n=o.rows,r=this.getCellRange(),s=new CellRangeEventArgs(o.cells,new CellRange(this.index,-1));o.onGroupCollapsedChanging(s)&&(o.deferUpdate(function(){n.deferUpdate(function(){i._setFlag(RowColFlags.Collapsed,e,!0);for(var o=r.topRow+1;o<=r.bottomRow&&o>-1&&o<n.length;o++){n[o]._setFlag(RowColFlags.ParentCollapsed,e,!0);var s=n[o];s instanceof t&&s.isCollapsed&&(o=s.getCellRange().bottomRow)}})}),o.onGroupCollapsedChanged(s))},t.prototype.getCellRange=function(){for(var e=this._list,i=this.index,o=e.length-1,n=i+1;n<=o;n++){var r=wijmo_1.tryCast(e[n],t);if(null!=r&&r.level<=this.level){o=n-1;break}}return new CellRange(i,0,o,this.grid.columns.length-1)},t}(Row);exports.GroupRow=GroupRow;var RowColCollection=function(e){function t(t,i){var o=e.call(this)||this;return o._frozen=0,o._lastFrozen=-1,o._firstVisible=-1,o._vlen=0,o._szDef=28,o._szTot=0,o._szCustom=!1,o._dirty=!1,o._g=wijmo_1.asType(t,FlexGrid),o._szDef=wijmo_1.asNumber(i,!1,!0),o}return __extends(t,e),Object.defineProperty(t.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultSize",{get:function(){return this._szDef},set:function(e){this._szCustom=!0,this._szDef!=e&&(this._szDef=wijmo_1.asNumber(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozen",{get:function(){return this._frozen},set:function(e){e!=this._frozen&&(this._frozen=wijmo_1.asNumber(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.isFrozen=function(e){return e<this.frozen},Object.defineProperty(t.prototype,"minSize",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=wijmo_1.asNumber(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSize",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=wijmo_1.asNumber(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getTotalSize=function(){return this._dirty&&this._update(),this._szTot},Object.defineProperty(t.prototype,"visibleLength",{get:function(){return this._dirty&&this._update(),this._vlen},enumerable:!0,configurable:!0}),t.prototype.getItemAt=function(e){if(this._dirty&&this._update(),e<=0&&this.length>0&&this[0].renderSize)return 0;for(var t,i,o=this.length,n=0,r=o-1;n<=r;)if((i=this[t=n+r>>>1])._pos>e&&t>0)r=t-1;else{if(!(i._pos+i.renderSize<=e&&t<o-1)){for(;t>0&&!this[t].renderSize;)t--;for(;t<o-1&&!this[t].renderSize;)t++;return t}n=t+1}return r},t.prototype.getNextCell=function(e,t,i){var o,n=SelMove;switch(t){case n.Next:for(o=e+1;o<this.length;o++)if(this[o].renderSize>0)return o;break;case n.Prev:for(o=e-1;o>=0;o--)if(this[o].renderSize>0)return o;break;case n.End:for(o=this.length-1;o>=0;o--)if(this[o].renderSize>0)return o;break;case n.Home:for(o=0;o<this.length;o++)if(this[o].renderSize>0)return o;break;case n.NextPage:return(o=this.getItemAt(this[e].pos+this[e].renderSize+i))<0?this.getNextCell(e,SelMove.End,i):o==e&&o<this.length-1&&this[o+1].renderSize?o+1:o;case n.PrevPage:return(o=this.getItemAt(this[e].pos-i))<0?this.getNextCell(e,SelMove.Home,i):o==e&&o>0&&this[o-1].renderSize?o-1:o}return e},t.prototype.canMoveElement=function(e,t){if(t==e)return!1;if(e<0||e>=this.length||t>=this.length)return!1;t<0&&(t=this.length-1);for(var i=Math.min(e,t),o=Math.max(e,t),n=i;n<=o;n++)if(!this[n].allowDragging)return!1;return!(this[t]instanceof _NewRowTemplate)},t.prototype.moveElement=function(e,t){if(this.canMoveElement(e,t)){var i=this[e];this.removeAt(e),t<0&&(t=this.length),this.insert(t,i)}},t.prototype.onCollectionChanged=function(t){void 0===t&&(t=wijmo_1.NotifyCollectionChangedEventArgs.reset),this._dirty=!0,this._g.invalidate(),e.prototype.onCollectionChanged.call(this,t)},t.prototype.push=function(t){return t._setList(this),e.prototype.push.call(this,t)},t.prototype.splice=function(t,i,o){for(var n=0;n<i;n++){var r=this[t+n];r&&r._setList(null)}return o&&o._setList(this),e.prototype.splice.call(this,t,i,o)},t.prototype.beginUpdate=function(){this._update(),e.prototype.beginUpdate.call(this)},t.prototype._setDefaultSize=function(e){this._szCustom||(this.defaultSize=e,this._szCustom=!1)},t.prototype._update=function(){if(this._dirty&&!this.isUpdating){this._dirty=!1,this._lastFrozen=-1,this._firstVisible=-1;for(var e=0,t=0,i=void 0,o=void 0,n=0;n<this.length;n++)(o=this[n])._idx=n,o._vidx=e,o._pos=t,o._setList(this),(i=o.renderSize)>0&&(t+=i,e++,n<this._frozen&&(this._lastFrozen=n)),this._firstVisible<0&&o.visible&&(this._firstVisible=n);return this._vlen=e,this._szTot=t,!0}return!1},t}(wijmo_1.ObservableArray);exports.RowColCollection=RowColCollection;var ColumnCollection=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getColumn=function(e){var t=wijmo_1.isNumber(e)?e:this.indexOf(e);return t>-1?this[t]:null},t.prototype.indexOf=function(t){if(t instanceof Column)return e.prototype.indexOf.call(this,t);for(var i=0;i<this.length;i++)if(this[i].name==t)return i;for(i=0;i<this.length;i++)if(this[i].binding==t)return i;return-1},Object.defineProperty(t.prototype,"describedById",{get:function(){return this._descById},set:function(e){e!=this._descById&&(this._descById=wijmo_1.asString(e),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstVisibleIndex",{get:function(){return this._dirty&&this._update(),this._firstVisible},enumerable:!0,configurable:!0}),t.prototype._updateStarSizes=function(e){for(var t,i=!1,o=0,n=0;n<this.length;n++){(s=this[n]).isVisible&&(s._szStar?(o+=Column._parseStarSize(s._szStar),t=s):e-=s.renderWidth)}if(t){var r=e;for(n=0;n<this.length;n++){var s;if((s=this[n]).isVisible&&s._szStar){var l=s._sz;s==t&&r>0?l=r:r-=l=Math.max(0,Math.round(Column._parseStarSize(s._szStar)/o*e)),l!=s._sz&&(s._sz=l,i=!0)}}return i&&(this._dirty=!0,this._update()),i}return!1},t}(RowColCollection);exports.ColumnCollection=ColumnCollection;var RowCollection=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._maxLevel=-1,t}return __extends(t,e),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this._ariaLabel},set:function(e){e!=this.ariaLabel&&(this._ariaLabel=wijmo_1.asString(e),this._g&&this._g.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxGroupLevel",{get:function(){return this._dirty&&this._update(),this._maxLevel},enumerable:!0,configurable:!0}),t.prototype._update=function(){if(e.prototype._update.call(this)){this._maxLevel=-1;for(var t=0;t<this.length;t++){var i=wijmo_1.tryCast(this[t],GroupRow);i&&i.level>this._maxLevel&&(this._maxLevel=i.level)}return!0}return!1},t}(RowColCollection);exports.RowCollection=RowCollection;var _AddNewHandler=function(){function e(e){this._nrt=new _NewRowTemplate,this._g=e,this._keydownBnd=this._keydown.bind(this),this._attach()}return Object.defineProperty(e.prototype,"newRowAtTop",{get:function(){return this._top},set:function(e){e!=this.newRowAtTop&&(this._top=wijmo_1.asBoolean(e),this.updateNewRowTemplate())},enumerable:!0,configurable:!0}),e.prototype.updateNewRowTemplate=function(){var e=this._g,t=e.editableCollectionView,i=e.rows,o=this._nrt,n=t&&t.canAddNew&&e.allowAddNew&&!e.isReadOnly,r=i.indexOf(o),s=this._top?0:i.length-1,l=!1;if(!n&&r>-1){var a=e.selection;a.row==r&&e.select(a.row-1,a.col),i.removeAt(r)}else n&&(r<0?l=!0:r!=s&&(i.removeAt(r),l=!0),l&&(this._top?i.insert(0,o):i.push(o)),o&&(o._setFlag(RowColFlags.ParentCollapsed,!1),this._top&&e.selectionMode==SelectionMode.ListBox||o._setFlag(RowColFlags.Selected,!1)))},e.prototype._attach=function(){var e=this._g;e&&(e.beginningEdit.addHandler(this._beginningEdit,this),e.pastingCell.addHandler(this._beginningEdit,this),e.rowEditEnded.addHandler(this._rowEditEnded,this),e.loadedRows.addHandler(this.updateNewRowTemplate,this),e.hostElement.addEventListener("keydown",this._keydownBnd,!0))},e.prototype._detach=function(){var e=this._g;e&&(e.beginningEdit.removeHandler(this._beginningEdit),e.pastingCell.removeHandler(this._beginningEdit),e.rowEditEnded.removeHandler(this._rowEditEnded),e.loadedRows.removeHandler(this.updateNewRowTemplate),e.hostElement.removeEventListener("keydown",this._keydownBnd,!0))},e.prototype._keydown=function(e){e.defaultPrevented||e.keyCode!=wijmo_1.Key.Escape||null==this._g.activeEditor&&this._top&&this._nrt.dataItem&&(this._nrt.dataItem=null,this._g.invalidate())},e.prototype._beginningEdit=function(e,t){if(!t.cancel){var i=e.rows[t.row];if(wijmo_1.tryCast(i,_NewRowTemplate)){var o=e.editableCollectionView;if(o&&o.canAddNew)if(this._top){if(null==this._nrt.dataItem){var n=null,r=o.sourceCollection,s=o.newItemCreator;n=wijmo_1.isFunction(s)?s():r&&r.length?new r[0].constructor:{},this._nrt.dataItem=n}}else{n=o.currentAddItem&&o.currentAddItem==i.dataItem?o.currentAddItem:o.addNew();o.moveCurrentTo(n);var l=this._nrt.isSelected;this.updateNewRowTemplate(),l&&t.row>-1&&(e.rows[t.row].isSelected=!0),e.refresh(!0),e.onRowAdded(t),t.cancel&&o.cancelNew()}}}},e.prototype._rowEditEnded=function(e,t){var i=this,o=e.editableCollectionView,n=this._nrt.dataItem;if(o&&!this._committing)if(o.isAddingNew)o.commitNew();else if(n&&!t.cancel){this._committing=!0,this._nrt.dataItem=null;var r=o.addNew();for(var s in n)r[s]=n[s];e.onRowAdded(t),t.cancel?o.cancelNew():o.commitNew(),setTimeout(function(){e.select(0,e.columns.firstVisibleIndex),i.updateNewRowTemplate()},20),this._committing=!1}},e}();exports._AddNewHandler=_AddNewHandler;var HeadersVisibility,_NewRowTemplate=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(Row);exports._NewRowTemplate=_NewRowTemplate,wijmo_1._addCultureInfo("FlexGrid",{groupHeaderFormat:"{name}: <b>{value}</b> ({count:n0} items)",ariaLabels:{toggleDropDown:"Toggle Dropdown",toggleGroup:"Toggle Group"}}),function(e){e[e.None=0]="None",e[e.Column=1]="Column",e[e.Row=2]="Row",e[e.All=3]="All"}(HeadersVisibility=exports.HeadersVisibility||(exports.HeadersVisibility={}));var KeyAction,FlexGrid=function(e){function t(t,i){var o=e.call(this,t,null,!0)||this;o._szClient=new wijmo_1.Size(0,0),o._ptScrl=new wijmo_1.Point(0,0),o._cellPadLeft=3,o._cellPadVert=0,o._clipToScreen=!1,o._autoGenCols=!0,o._autoClipboard=!0,o._autoScroll=!0,o._autoSearch=!1,o._readOnly=!1,o._indent=14,o._autoSizeMode=AutoSizeMode.Both,o._autoHeights=!1,o._hdrVis=HeadersVisibility.All,o._alSorting=!0,o._alAddNew=!1,o._alDelete=!1,o._alResizing=AllowResizing.Columns,o._alDragging=AllowDragging.Columns,o._alMerging=AllowMerging.None,o._ssHdr=HeadersVisibility.None,o._shSort=!0,o._shGroups=!0,o._altStep=1,o._shErr=!0,o._shDropDown=!0,o._valEdt=!0,o._deferResizing=!1,o._pSel=!0,o._pOutline=!0,o._stickyHdr=!1,o._anchorCursor=!1,o._vt=0,o._vtRows=0,o._vtCols=0,o._lazyRender=!0,o._refreshOnEdit=!0,o._reorderCells=!0,o.itemsSourceChanging=new wijmo_1.Event,o.itemsSourceChanged=new wijmo_1.Event,o.scrollPositionChanged=new wijmo_1.Event,o.selectionChanging=new wijmo_1.Event,o.selectionChanged=new wijmo_1.Event,o.loadingRows=new wijmo_1.Event,o.loadedRows=new wijmo_1.Event,o.updatingLayout=new wijmo_1.Event,o.updatedLayout=new wijmo_1.Event,o.resizingColumn=new wijmo_1.Event,o.resizedColumn=new wijmo_1.Event,o.autoSizingColumn=new wijmo_1.Event,o.autoSizedColumn=new wijmo_1.Event,o.starSizedColumns=new wijmo_1.Event,o.draggingColumn=new wijmo_1.Event,o.draggingColumnOver=new wijmo_1.Event,o.draggedColumn=new wijmo_1.Event,o.resizingRow=new wijmo_1.Event,o.resizedRow=new wijmo_1.Event,o.autoSizingRow=new wijmo_1.Event,o.autoSizedRow=new wijmo_1.Event,o.draggingRow=new wijmo_1.Event,o.draggingRowOver=new wijmo_1.Event,o.draggedRow=new wijmo_1.Event,o.groupCollapsedChanging=new wijmo_1.Event,o.groupCollapsedChanged=new wijmo_1.Event,o.sortingColumn=new wijmo_1.Event,o.sortedColumn=new wijmo_1.Event,o.beginningEdit=new wijmo_1.Event,o.prepareCellForEdit=new wijmo_1.Event,o.cellEditEnding=new wijmo_1.Event,o.cellEditEnded=new wijmo_1.Event,o.rowEditStarting=new wijmo_1.Event,o.rowEditStarted=new wijmo_1.Event,o.rowEditEnding=new wijmo_1.Event,o.rowEditEnded=new wijmo_1.Event,o.rowAdded=new wijmo_1.Event,o.deletingRow=new wijmo_1.Event,o.deletedRow=new wijmo_1.Event,o.copying=new wijmo_1.Event,o.copied=new wijmo_1.Event,o.pasting=new wijmo_1.Event,o.pasted=new wijmo_1.Event,o.pastingCell=new wijmo_1.Event,o.pastedCell=new wijmo_1.Event,o.formatItem=new wijmo_1.Event(function(){o.invalidate()}),o.updatingView=new wijmo_1.Event,o.updatedView=new wijmo_1.Event,o._mappedColumns=null;var n=o.hostElement;wijmo_1.isIE()&&(n.style.borderRadius="0");var r=o.getTemplate();o.applyTemplate("wj-control wj-content wj-flexgrid",r,{_root:"root",_eSz:"sz",_eCt:"cells",_fCt:"fcells",_eTL:"tl",_eBL:"bl",_eCHdr:"ch",_eRHdr:"rh",_eCFtr:"cf",_eTLCt:"tlcells",_eBLCt:"blcells",_eCHdrCt:"chcells",_eCFtrCt:"cfcells",_eRHdrCt:"rhcells",_eMarquee:"marquee",_eFocus:"focus"});return[o._eRHdr,o._eCFtr,o._eCHdr,o._eBL,o._eTL].forEach(function(e){wijmo_1.setAttribute(e,"aria-hidden",!0),wijmo_1.setCss(e,{position:"absolute",overflow:"hidden",outline:"none"}),wijmo_1.setCss(e.firstElementChild,{position:"relative"})}),[o._eFocus,o._eMarquee,o._fCt,o._eSz].forEach(function(e){wijmo_1.setAttribute(e,"aria-hidden",!0)}),n.tabIndex=-1,o.deferUpdate(function(){var e=o._getDefaultRowHeight();o._rows=new RowCollection(o,e),o._cols=new ColumnCollection(o,4*e),o._hdrRows=new RowCollection(o,e),o._hdrCols=new ColumnCollection(o,Math.round(1.25*e)),o._ftrRows=new RowCollection(o,e);var t=CellType;o._gpTL=new GridPanel(o,t.TopLeft,o._hdrRows,o._hdrCols,o._eTLCt),o._gpCHdr=new GridPanel(o,t.ColumnHeader,o._hdrRows,o._cols,o._eCHdrCt),o._gpRHdr=new GridPanel(o,t.RowHeader,o._rows,o._hdrCols,o._eRHdrCt),o._gpCells=new GridPanel(o,t.Cell,o._rows,o._cols,o._eCt),o._gpBL=new GridPanel(o,t.BottomLeft,o._ftrRows,o._hdrCols,o._eBLCt),o._gpCFtr=new GridPanel(o,t.ColumnFooter,o._ftrRows,o._cols,o._eCFtrCt),o._hdrRows.push(new Row),o._hdrCols.push(new Column({align:"center"})),o._cf=new CellFactory,o._keyHdl=new _KeyboardHandler(o),o._mouseHdl=new _MouseHandler(o),o._edtHdl=new _EditHandler(o),o._selHdl=new _SelectionHandler(o),o._addHdl=new _AddNewHandler(o),o._mrgMgr=new MergeManager(o),o._bndSortConverter=o._sortConverter.bind(o),o._errorTip=new wijmo_1.Tooltip({isContentHtml:!1,showDelay:0,cssClass:"wj-error-tip"}),wijmo_1.setAttribute(o.cells.hostElement,"role","grid"),o.selectionMode=SelectionMode.CellRange,o.initialize(i)}),o.addEventListener(o._root,"scroll",function(e){o._updateScrollPosition()&&(o.finishEditing(),o._updateContent(!0),o.frozenColumns&&setTimeout(function(){var e=o.columnHeaders.hostElement.style,t=parseInt(e.left),i=o._ptScrl.x;Math.abs(t-i)>1&&o.invalidate()}))}),o.addEventListener(n,"focus",function(e){if(n.tabIndex>-1){var t=e.target;if(t instanceof HTMLElement&&t.tabIndex<0)return void o._setFocus(!0)}},!0),o}return __extends(t,e),t.prototype._handleResize=function(){this._rcBounds=null,e.prototype._handleResize.call(this)},Object.defineProperty(t.prototype,"headersVisibility",{get:function(){return this._hdrVis},set:function(e){(e=wijmo_1.asEnum(e,HeadersVisibility))!=this._hdrVis&&(this._hdrVis=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyHeaders",{get:function(){return this._stickyHdr},set:function(e){e!=this._stickyHdr&&(this._stickyHdr=wijmo_1.asBoolean(e),this._updateStickyHeaders(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveSelectedState",{get:function(){return this._pSel},set:function(e){this._pSel=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveOutlineState",{get:function(){return this._pOutline},set:function(e){this._pOutline=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchorCursor",{get:function(){return this._anchorCursor},set:function(e){this._anchorCursor=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lazyRender",{get:function(){return this._lazyRender},set:function(e){this._lazyRender=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refreshOnEdit",{get:function(){return this._refreshOnEdit},set:function(e){this._refreshOnEdit=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._vt},set:function(e){this._vt=e,wijmo_1.isNumber(e)?this._vtRows=this._vtCols=wijmo_1.asNumber(e):e?wijmo_1.isArray(e)&&2==e.length?(this._vtRows=wijmo_1.asNumber(e[0]),this._vtCols=wijmo_1.asNumber(e[1])):wijmo_1.assert(!1,"virtualizationThreshold should be a number or an array with two numbers."):this._vtRows=this._vtCols=0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoGenerateColumns",{get:function(){return this._autoGenCols},set:function(e){this._autoGenCols=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoClipboard",{get:function(){return this._autoClipboard},set:function(e){this._autoClipboard=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoScroll",{get:function(){return this._autoScroll},set:function(e){this._autoScroll=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSearch",{get:function(){return this._autoSearch},set:function(e){this._autoSearch=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnLayout",{get:function(){var e=t._getSerializableProperties(Column),i=new Column,o=[];return this.columns.forEach(function(t){var n={};e.forEach(function(e){var o=t[e];o!=i[e]&&wijmo_1.isPrimitive(o)&&"size"!=e&&(n[e]=o)}),o.push(n)}),JSON.stringify({columns:o})},set:function(e){var t=JSON.parse(wijmo_1.asString(e));if(!t||null==t.columns)throw"Invalid columnLayout data.";this.columns.clear(),this.initialize(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){e!=this._readOnly&&(this._readOnly=wijmo_1.asBoolean(e),this.finishEditing(),this.invalidate(!0),this._addHdl.updateNewRowTemplate(),wijmo_1.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly),this._setAria("readonly",this.isReadOnly?"true":null))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(e){if((e=wijmo_1.asBoolean(e,!0))!=this.isDisabled){var t=this._e;t&&(wijmo_1.enable(t,!e),this.invalidate())}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imeEnabled",{get:function(){return null!=this._imeHdl},set:function(e){if(wijmo_1.asBoolean(e)!=this.imeEnabled&&this.finishEditing()){var t=this.containsFocus();this._imeHdl&&(this._imeHdl.dispose(),this._imeHdl=null),e&&(this._imeHdl=new _ImeHandler(this)),t&&this.focus()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowResizing",{get:function(){return this._alResizing},set:function(e){this._alResizing=wijmo_1.asEnum(e,AllowResizing)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deferResizing",{get:function(){return this._deferResizing},set:function(e){this._deferResizing=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSizeMode",{get:function(){return this._autoSizeMode},set:function(e){this._autoSizeMode=wijmo_1.asEnum(e,AutoSizeMode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoRowHeights",{get:function(){return this._autoHeights},set:function(e){this._autoHeights=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(e){this._quickSize=wijmo_1.asBoolean(e,!0)},enumerable:!0,configurable:!0}),t.prototype._getQuickAutoSize=function(){return wijmo_1.isBoolean(this._quickSize)?this._quickSize:!this.formatItem.hasHandlers&&null==this.itemFormatter},Object.defineProperty(t.prototype,"allowSorting",{get:function(){return this._alSorting},set:function(e){this._alSorting=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowAddNew",{get:function(){return this._alAddNew},set:function(e){e!=this._alAddNew&&(this._alAddNew=wijmo_1.asBoolean(e),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newRowAtTop",{get:function(){return this._addHdl.newRowAtTop},set:function(e){this._addHdl.newRowAtTop=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDelete",{get:function(){return this._alDelete},set:function(e){e!=this._alDelete&&(this._alDelete=wijmo_1.asBoolean(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMerging",{get:function(){return this._alMerging},set:function(e){(e=wijmo_1.asEnum(e,AllowMerging))!=this._alMerging&&(this._alMerging=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectedHeaders",{get:function(){return this._ssHdr},set:function(e){(e=wijmo_1.asEnum(e,HeadersVisibility))!=this._ssHdr&&(this._ssHdr=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMarquee",{get:function(){return!this._eMarquee.style.display},set:function(e){if(e!=this.showMarquee){var t=this._eMarquee.style;t.visibility="collapse",t.display=wijmo_1.asBoolean(e)?"":"none",this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSort",{get:function(){return this._shSort},set:function(e){e!=this._shSort&&(this._shSort=wijmo_1.asBoolean(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._shGroups},set:function(e){e!=this._shGroups&&(this._shGroups=wijmo_1.asBoolean(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alternatingRowStep",{get:function(){return this._altStep},set:function(e){e!=this._altStep&&(this._altStep=wijmo_1.asInt(e,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAlternatingRows",{get:function(){return this._altStep>0},set:function(e){wijmo_1._deprecated("showAlternatingRows","alternatingRowStep"),this.alternatingRowStep=e?1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showErrors",{get:function(){return this._shErr},set:function(e){e!=this._shErr&&(this._clearCells(),this._shErr=wijmo_1.asBoolean(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorTip",{get:function(){return this._errorTip},set:function(e){e!=this._errorTip&&(this._clearCells(),this._errorTip=wijmo_1.asType(e,wijmo_1.Tooltip,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(e){e!=this.itemValidator&&(this._itemValidator=wijmo_1.asFunction(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validateEdits",{get:function(){return this._valEdt},set:function(e){this._valEdt=wijmo_1.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupHeaderFormat",{get:function(){return this._gHdrFmt},set:function(e){e!=this._gHdrFmt&&(this._gHdrFmt=wijmo_1.asString(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDragging",{get:function(){return this._alDragging},set:function(e){(e=wijmo_1.asEnum(e,AllowDragging))!=this._alDragging&&(this._alDragging=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){if(e!=this._items){var t=new wijmo_1.CancelEventArgs;if(this.onItemsSourceChanging(t)){var i;if(this._cv)(i=wijmo_1.tryCast(this._cv,wijmo_1.CollectionView))&&i.sortConverter==this._bndSortConverter&&(i.sortConverter=null),this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null;if(this._items=e,this._cv=this._getCollectionView(e),this._lastCount=0,this._cv)this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this),(i=wijmo_1.tryCast(this._cv,wijmo_1.CollectionView))&&!i.sortConverter&&(i.sortConverter=this._bndSortConverter);this._bindGrid(!0);var o=SelectionMode;this.selectionMode==o.ListBox&&(this.selectionMode=o.CellRange,this.selectionMode=o.ListBox),this.onItemsSourceChanged(t)}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editableCollectionView",{get:function(){return wijmo_1.tryCast(this._cv,"IEditableCollectionView")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childItemsPath",{get:function(){return this._childItemsPath},set:function(e){e!=this._childItemsPath&&(wijmo_1.assert(null==e||wijmo_1.isArray(e)||wijmo_1.isString(e),"childItemsPath should be an array or a string."),this._childItemsPath=e,this._bindGrid(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaderPath",{get:function(){return this._rowHdrPath?this._rowHdrPath.path:null},set:function(e){e!=this.rowHeaderPath&&(e=wijmo_1.asString(e),this._rowHdrPath=e?new wijmo_1.Binding(e):null,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return this._gpCells},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnHeaders",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnFooters",{get:function(){return this._gpCFtr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaders",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topLeftCells",{get:function(){return this._gpTL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomLeftCells",{get:function(){return this._gpBL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),t.prototype.getColumn=function(e){return this.columns.getColumn(e)},Object.defineProperty(t.prototype,"frozenRows",{get:function(){return this.rows.frozen},set:function(e){this.rows.frozen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozenColumns",{get:function(){return this.columns.frozen},set:function(e){this.columns.frozen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cloneFrozenCells",{get:function(){return this._fzClone},set:function(e){e!=this.cloneFrozenCells&&(wijmo_1.setText(this._fCt,null),this._fzClone=wijmo_1.asBoolean(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortRowIndex",{get:function(){return this._sortRowIndex},set:function(e){e!=this._sortRowIndex&&(this._sortRowIndex=wijmo_1.asNumber(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editColumnIndex",{get:function(){return this._editColIndex},set:function(e){e!=this._editColIndex&&(this._editColIndex=wijmo_1.asNumber(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollPosition",{get:function(){return this._ptScrl.clone()},set:function(e){var i=this._root,o=-e.x;if(this.rightToLeft)switch(t._getRtlMode()){case"rev":o=i.scrollWidth-i.clientWidth+e.x;break;case"neg":o=e.x;break;default:o=-e.x}i.scrollLeft=o,i.scrollTop=-e.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientSize",{get:function(){return this._szClient},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlRect",{get:function(){return this._rcBounds||(this._rcBounds=wijmo_1.getElementRect(this._root)),this._rcBounds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollSize",{get:function(){return new wijmo_1.Size(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewRange",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellFactory",{get:function(){return this._cf},set:function(e){e!=this._cf&&(this._clearCells(),this._cf=wijmo_1.asType(e,CellFactory,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._clearCells(),this._itemFormatter=wijmo_1.asFunction(e))},enumerable:!0,configurable:!0}),t.prototype.canEditCell=function(e,t){return this._edtHdl._allowEditing(e,t)},t.prototype.getCellData=function(e,t,i){return this.cells.getCellData(e,t,i)},t.prototype.getCellBoundingRect=function(e,t,i){return this.cells.getCellBoundingRect(e,t,i)},t.prototype.setCellData=function(e,t,i,o,n){return void 0===o&&(o=!0),void 0===n&&(n=!0),this.cells.setCellData(e,t,i,o,n)},t.prototype.hitTest=function(e,t){return wijmo_1.isNumber(e)&&wijmo_1.isNumber(t)&&(e=new wijmo_1.Point(e,t)),wijmo_1.isBoolean(t)&&t&&(this._rcBounds=null),new HitTestInfo(this,e)},t.prototype.getClipString=function(e,t,i,o){return this._edtHdl.getClipString(e,t,i,o)},t.prototype.setClipString=function(e,t){this._edtHdl.setClipString(e,t)},t.prototype.focus=function(){this._setFocus(!1)},t.prototype.dispose=function(){this.finishEditing(!0),this.itemsSource=null,e.prototype.dispose.call(this)},t.prototype.refresh=function(t){if(void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.finishEditing(),t){this._updateColumnTypes(),this.scrollPosition=this._ptScrl;var i=this._getDefaultRowHeight();this._rows._setDefaultSize(i),this._cols._setDefaultSize(4*i),this._hdrRows._setDefaultSize(i),this._hdrCols._setDefaultSize(Math.round(1.25*i)),this._ftrRows._setDefaultSize(i),this._toInv&&(clearTimeout(this._toInv),this._toInv=null)}this.refreshCells(t);var o=this._e;o&&(this._szCtl=new wijmo_1.Size(o.offsetWidth,o.offsetHeight))},t.prototype.refreshCells=function(e,t,i){this.isUpdating||(e?this._updateLayout():this._updateContent(t,i))},t.prototype.refreshRange=function(e){for(var t=e.topRow;t<=e.bottomRow;t++)for(var i=e.leftCol;i<=e.rightCol;i++){var o=this.cells.getCellElement(t,i);if(o){var n=o[GridPanel._INDEX_KEY];this.cellFactory.updateCell(this.cells,t,i,o,n.rng)}}},t.prototype.autoSizeColumn=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=4),this.autoSizeColumns(e,e,t,i)},t.prototype.autoSizeColumns=function(e,i,o,n){var r=this;void 0===o&&(o=!1),void 0===n&&(n=4);var s=0,l=o?this.topLeftCells:this.columnHeaders,a=o?this.bottomLeftCells:this.columnFooters,h=o?this.rowHeaders:this.cells,c=this.viewRange;e=null==e?0:wijmo_1.asInt(e),i=null==i?h.columns.length-1:wijmo_1.asInt(i),c.row=Math.max(0,c.row-1e3),c.row2=Math.min(c.row2+1e3,this.rows.length-1),this.finishEditing()&&this.columns.deferUpdate(function(){wijmo_1.setCss(r._eCt,{width:r._gpCells.width});for(var o=wijmo_1.createElement('<div style="visibility: hidden" '+t._WJS_MEASURE+'="true"/>',h.hostElement),u=r._getCanvasContext(),d=e;d<=i&&d>-1&&d<h.columns.length;d++){var _=h.columns[d];if(_.isVisible){if(s=0,r.autoSizeMode&AutoSizeMode.Headers){for(var g=0;g<l.rows.length;g++)l.rows[g].isVisible&&(s=Math.max(r._getDesiredWidth(l,g,d,o),s));for(g=0;g<a.rows.length;g++)a.rows[g].isVisible&&(s=Math.max(r._getDesiredWidth(a,g,d,o),s))}if(r.autoSizeMode&AutoSizeMode.Cells&&c.isValid)if(_._getQuickAutoSize()){g=r._getWidestRow(h,c,d,u);s=Math.max(r._getDesiredWidth(h,g,d,o),s)}else for(g=c.row;g<=c.row2&&g<h.rows.length;g++)h.rows[g].isVisible&&(s=Math.max(r._getDesiredWidth(h,g,d,o),s));s>0&&(_.width=s+n+2)}}r.cellFactory.disposeCell(o),wijmo_1.removeChild(o)})},t.prototype.autoSizeRow=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=0),this.autoSizeRows(e,e,t,i)},t.prototype.autoSizeRows=function(e,i,o,n){var r=this;void 0===o&&(o=!1),void 0===n&&(n=0);var s=0,l=o?this.topLeftCells:this.rowHeaders,a=o?this.columnHeaders:this.cells;if(o=wijmo_1.asBoolean(o),n=wijmo_1.asNumber(n),e=null==e?0:wijmo_1.asInt(e),i=null==i?a.rows.length-1:wijmo_1.asInt(i),this.finishEditing()){wijmo_1.setCss(this._eCt,{width:this._gpCells.width});var h=wijmo_1.createElement('<div style="visibility: hidden" '+t._WJS_MEASURE+'="true"/>',a.hostElement);this.rows.deferUpdate(function(){for(var t={},o=e;o<=i&&o>-1&&o<a.rows.length;o++){a.rows[o].isVisible&&(s=0,r.autoSizeMode&AutoSizeMode.Headers&&(s=r._getDesiredRowHeight(l,o,h,t)),r.autoSizeMode&AutoSizeMode.Cells&&(s=Math.max(r._getDesiredRowHeight(a,o,h,t),s)),s>0&&(a.rows[o].height=s+n))}}),this.cellFactory.disposeCell(h),wijmo_1.removeChild(h)}},Object.defineProperty(t.prototype,"treeIndent",{get:function(){return this._indent},set:function(e){e!=this._indent&&(this._indent=wijmo_1.asNumber(e,!1,!0),this.columns.onCollectionChanged())},enumerable:!0,configurable:!0}),t.prototype.collapseGroupsToLevel=function(e){var t=this;this.finishEditing()&&this.deferUpdate(function(){var i=t.rows;i.deferUpdate(function(){for(var t=0;t<i.length;t++){var o=i[t];o instanceof GroupRow&&(o.isCollapsed=o.level>=e)}})})},Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selHdl.selectionMode},set:function(e){(e=wijmo_1.asEnum(e,SelectionMode))!=this.selectionMode&&(this._selHdl.selectionMode=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selHdl.selection.clone()},set:function(e){this._selHdl.selection=e},enumerable:!0,configurable:!0}),t.prototype.select=function(e,t){return void 0===t&&(t=!0),this._selHdl.select(e,t)},t.prototype.getSelectedState=function(e,t){return this.cells.getSelectedState(e,t,null)},Object.defineProperty(t.prototype,"selectedRows",{get:function(){var e=[];if(this.selectionMode==SelectionMode.ListBox)for(var t=0;t<this.rows.length;t++)this.rows[t].isSelected&&e.push(this.rows[t]);else if(this.rows.length){var i=this.selection;for(t=i.topRow;t>-1&&t<=i.bottomRow;t++)e.push(this.rows[t])}return e},set:function(e){var t=this;wijmo_1.assert(this.selectionMode==SelectionMode.ListBox,"This property can be set only in ListBox mode."),e=wijmo_1.asArray(e),this.deferUpdate(function(){for(var i=0,o=!0;i<t.rows.length;i++){var n=t.rows[i],r=e&&e.indexOf(n)>-1;r&&o&&(o=!1,t.select(i,t.selection.col)),n.isSelected=r}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){for(var e=this.selectedRows,t=0;t<e.length;t++)e[t]=e[t].dataItem;return e},set:function(e){var t=this;wijmo_1.assert(this.selectionMode==SelectionMode.ListBox,"This property can be set only in ListBox mode."),e=wijmo_1.asArray(e),this.deferUpdate(function(){for(var i=0,o=!0;i<t.rows.length;i++){var n=t.rows[i],r=e&&e.indexOf(n.dataItem)>-1;r&&o&&(o=!1,t.select(i,t.selection.col)),n.isSelected=r}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedRanges",{get:function(){var e=[this.selection];return this._selHdl.extendedSelection.forEach(function(t){e.push(t)}),e},enumerable:!0,configurable:!0}),t.prototype.scrollIntoView=function(e,t,i){(null==this._maxOffsetY||this._rows._dirty||this._cols._dirty)&&this._updateLayout();var o=this.scrollPosition,n=this._szClient.width,r=this._szClient.height-this._gpCFtr.rows.getTotalSize(),s=this.cells._getFrozenPos();if((e=wijmo_1.asInt(e))>-1&&e<this._rows.length&&e>=this._rows.frozen){var l=this._rows[e],a=this.cells.height>r?Math.round(l.pos/(this.cells.height-r)*100)/100:0,h=Math.round(this._maxOffsetY*a),c=l.pos-h,u=c+l.renderSize;u>r-o.y&&(o.y=Math.max(-c,r-u)),c-s.y<-o.y&&(o.y=-(c-s.y))}if((t=wijmo_1.asInt(t))>-1&&t<this._cols.length&&t>=this._cols.frozen){var d=this._cols[t],_=d.pos+d.renderSize;_>-o.x+n&&(o.x=Math.max(-d.pos,n-_)),d.pos-s.x<-o.x&&(o.x=-(d.pos-s.x))}return!o.equals(this._ptScrl)&&(this.scrollPosition=o,i&&(this._updateScrollPosition(),this.refresh()),!0)},t.prototype.isRangeValid=function(e){return e.isValid&&e.bottomRow<this.rows.length&&e.rightCol<this.columns.length},t.prototype.startEditing=function(e,t,i,o){return void 0===e&&(e=!0),this._edtHdl.startEditing(e,t,i,o)},t.prototype.finishEditing=function(e){return this._edtHdl.finishEditing(e)},Object.defineProperty(t.prototype,"activeEditor",{get:function(){return this._edtHdl.activeEditor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editRange",{get:function(){return this._edtHdl.editRange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mergeManager",{get:function(){return this._mrgMgr},set:function(e){e!=this._mrgMgr&&(this._mrgMgr=wijmo_1.asType(e,MergeManager,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getMergedRange=function(e,t,i,o){return void 0===o&&(o=!0),this._mrgMgr?this._mrgMgr.getMergedRange(e,t,i,o):null},Object.defineProperty(t.prototype,"keyActionTab",{get:function(){return this._keyHdl._kaTab},set:function(e){this._keyHdl._kaTab=wijmo_1.asEnum(e,KeyAction)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyActionEnter",{get:function(){return this._keyHdl._kaEnter},set:function(e){this._keyHdl._kaEnter=wijmo_1.asEnum(e,KeyAction)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDown",{get:function(){return this._shDropDown},set:function(e){e!=this._shDropDown&&(this._shDropDown=wijmo_1.asBoolean(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.toggleDropDownList=function(){this._tglDropDown||(this._tglDropDown=!0,this._edtHdl._toggleListBox(null),this._tglDropDown=!1)},t.prototype.onItemsSourceChanging=function(e){return this.itemsSourceChanging.raise(this,e),!e.cancel},t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.onScrollPositionChanged=function(e){this.scrollPositionChanged.raise(this,e)},t.prototype.onSelectionChanging=function(e){return this.selectionChanging.raise(this,e),!e.cancel},t.prototype.onSelectionChanged=function(e){this.selectionChanged.raise(this,e)},t.prototype.onLoadingRows=function(e){return this.loadingRows.raise(this,e),!e.cancel},t.prototype.onLoadedRows=function(e){this.loadedRows.raise(this,e),this._autoRowHeights()},t.prototype.onUpdatingLayout=function(e){return this.updatingLayout.raise(this,e),!e.cancel},t.prototype.onUpdatedLayout=function(e){this.updatedLayout.raise(this,e)},t.prototype.onResizingColumn=function(e){return this.resizingColumn.raise(this,e),!e.cancel},t.prototype.onResizedColumn=function(e){this.resizedColumn.raise(this,e),this._autoRowHeights()},t.prototype.onAutoSizingColumn=function(e){return this.autoSizingColumn.raise(this,e),!e.cancel},t.prototype.onAutoSizedColumn=function(e){this.autoSizedColumn.raise(this,e)},t.prototype.onStarSizedColumns=function(e){this.starSizedColumns.raise(this,e),this._autoRowHeights()},t.prototype.onDraggingColumn=function(e){return this.draggingColumn.raise(this,e),!e.cancel},t.prototype.onDraggingColumnOver=function(e){return this.draggingColumnOver.raise(this,e),!e.cancel},t.prototype.onDraggedColumn=function(e){this.draggedColumn.raise(this,e)},t.prototype.onResizingRow=function(e){return this.resizingRow.raise(this,e),!e.cancel},t.prototype.onResizedRow=function(e){this.resizedRow.raise(this,e)},t.prototype.onAutoSizingRow=function(e){return this.autoSizingRow.raise(this,e),!e.cancel},t.prototype.onAutoSizedRow=function(e){this.autoSizedRow.raise(this,e)},t.prototype.onDraggingRow=function(e){return this.draggingRow.raise(this,e),!e.cancel},t.prototype.onDraggingRowOver=function(e){return this.draggingRowOver.raise(this,e),!e.cancel},t.prototype.onDraggedRow=function(e){this.draggedRow.raise(this,e)},t.prototype.onGroupCollapsedChanging=function(e){return this.groupCollapsedChanging.raise(this,e),!e.cancel},t.prototype.onGroupCollapsedChanged=function(e){this.groupCollapsedChanged.raise(this,e)},t.prototype.onSortingColumn=function(e){return this.sortingColumn.raise(this,e),!e.cancel},t.prototype.onSortedColumn=function(e){this.sortedColumn.raise(this,e)},t.prototype.onBeginningEdit=function(e){return this.beginningEdit.raise(this,e),!e.cancel},t.prototype.onPrepareCellForEdit=function(e){this.prepareCellForEdit.raise(this,e)},t.prototype.onCellEditEnding=function(e){return this.cellEditEnding.raise(this,e),!e.cancel&&!e.stayInEditMode},t.prototype.onCellEditEnded=function(e){this.cellEditEnded.raise(this,e),this._autoRowHeights()},t.prototype.onRowEditStarting=function(e){this.rowEditStarting.raise(this,e)},t.prototype.onRowEditStarted=function(e){this.rowEditStarted.raise(this,e)},t.prototype.onRowEditEnding=function(e){this.rowEditEnding.raise(this,e)},t.prototype.onRowEditEnded=function(e){this.rowEditEnded.raise(this,e),this._autoRowHeights()},t.prototype.onRowAdded=function(e){return this.rowAdded.raise(this,e),!e.cancel},t.prototype.onDeletingRow=function(e){return this.deletingRow.raise(this,e),!e.cancel},t.prototype.onDeletedRow=function(e){this.deletedRow.raise(this,e)},t.prototype.onCopying=function(e){return this.copying.raise(this,e),!e.cancel},t.prototype.onCopied=function(e){this.copied.raise(this,e)},t.prototype.onPasting=function(e){return this.pasting.raise(this,e),!e.cancel},t.prototype.onPasted=function(e){this.pasted.raise(this,e)},t.prototype.onPastingCell=function(e){return this.pastingCell.raise(this,e),!e.cancel},t.prototype.onPastedCell=function(e){this.pastedCell.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.onUpdatingView=function(e){return this.updatingView.raise(this,e),!e.cancel},t.prototype.onUpdatedView=function(e){this.updatedView.raise(this,e)},t.prototype._autoRowHeights=function(){var e=this;this._autoHeights&&(this._toAutoHeights&&clearTimeout(this._toAutoHeights),this._toAutoHeights=setTimeout(function(){e._toAutoHeights=null,e.autoSizeRows()},wijmo_1.Control._REFRESH_INTERVAL))},t.prototype._getShowErrors=function(){return this.showErrors&&this._hasValidation},t.prototype._getHasValidation=function(){return this._hasValidation},t.prototype._getError=function(e,t,i){if(wijmo_1.isFunction(this.itemValidator)){if(e==this.cells)return this.itemValidator(t,i);if(e==this.rowHeaders)for(i=0;i<this.columns.length;i++){if(a=this.itemValidator(t,i))return a}}var o=this._cv,n=o?o.getError:null;if(wijmo_1.isFunction(n)){var r=e.rows,s=this.columns,l=r[t].dataItem;if(l&&!(l instanceof wijmo_1.CollectionViewGroup))for(;t<r.length&&r[t].dataItem==l;t++){if(e==this.cells)return n(l,this._getBindingColumn(this.cells,t,s[i]).binding);if(e==this.rowHeaders)for(i=0;i<s.length;i++){var a;if(a=n(l,this._getBindingColumn(this.cells,t,s[i]).binding))return a}}}return null},t.prototype._setAria=function(e,t){wijmo_1.setAttribute(this.cells.hostElement,"aria-"+e,t)},t.prototype._setFocus=function(e){if(this.hostElement&&(e||!this.containsFocus())){var t=wijmo_1.getActiveElement(),i=this.activeEditor,o=this._activeCell,n=this._eFocus;i?wijmo_1.contains(i,t)||(i.focus(),n.tabIndex=-1):o?wijmo_1.contains(o,t)||t!=this._root&&(o.tabIndex=this._orgTabIndex,o.focus(),n.tabIndex=-1):wijmo_1.contains(n,t)||t==this._root||(n.tabIndex=this._orgTabIndex,n.focus()),this.containsFocus()||(n.tabIndex=this._orgTabIndex,n.focus())}},t.prototype._setFocusNoScroll=function(e){if(wijmo_1.supportsFocusOptions())e.focus({preventScroll:!0});else{var t=this.scrollPosition,i=e.style,o=i.position,n=i.opacity;i.opacity="0",i.position="fixed",e.focus(),i.position=o,i.opacity=n,this.scrollPosition=t}},t.prototype._getDefaultRowHeight=function(){var e=this.hostElement,t=this._eFocus,i=null;t.offsetHeight||(i=wijmo_1.createElement('<div><div class="wj-cell">0</div></div>',document.body),e&&i.setAttribute("class",e.getAttribute("class")),t=i.children[0]);var o=t.offsetHeight;return(isNaN(o)||o<=6)&&(o=28),wijmo_1.removeChild(i),o},t.prototype._getCollectionView=function(e){return wijmo_1.asCollectionView(e)},t.prototype._getCanvasContext=function(){var e=document.createElement("canvas").getContext("2d"),t=getComputedStyle(this.hostElement);return e.font=t.fontSize+" "+t.fontFamily.split(",")[0],e},t.prototype._getWidestRow=function(e,t,i,o){for(var n=0,r=0,s=e.columns[i].dataType==wijmo_1.DataType.Boolean,l=t.row;l<=t.row2;l++)if(e.rows[l].isVisible){var a=e.getCellData(l,i,!0),h=o.measureText(a).width,c=this.getMergedRange(e,l,i,!1);if(c&&c.columnSpan>1&&(h/=c.columnSpan),h>r&&(r=h,n=l),s)break}return n},t.prototype._getDesiredWidth=function(e,t,i,o){var n=this.getMergedRange(e,t,i,!1),r=o.style;return this.cellFactory.updateCell(e,t,i,o,n),r.width=r.top=r.left="",o.offsetWidth/(n&&n.columnSpan>1?n.columnSpan:1)},t.prototype._getDesiredHeight=function(e,t,i,o){var n=o.style,r=this.getMergedRange(e,t,i,!1),s=r?r.rowSpan:1;return this.cellFactory.updateCell(e,t,i,o,r),o.innerHTML.trim()||(o.innerHTML="&nbsp;"),n.height=n.top=n.left="",o.offsetHeight/s},t.prototype._getDesiredRowHeight=function(e,t,i,o){for(var n=0,r=0;r<e.columns.length;r++){var s=e.columns[r];if(s.isVisible){var l=this.getMergedRange(e,t,r,!1),a=void 0;if(this._getQuickAutoSize()){var h={ct:e.cellType,col:r,rng:l&&l.rowSpan>1?l.rowSpan:1,content:s.dataType==wijmo_1.DataType.Number?"1":e.getCellData(t,r,!0)},c=JSON.stringify(h);null==(a=o[c])&&(a=this._getDesiredHeight(e,t,r,i),o[c]=a)}else a=this._getDesiredHeight(e,t,r,i);n=Math.max(a,n)}}return n},t.prototype._getSortRowIndex=function(){return null!=this._sortRowIndex?this._sortRowIndex:this.columnHeaders.rows.length-1},t.prototype._getEditColumnIndex=function(){return null!=this._editColIndex?this._editColIndex:this.rowHeaders.columns.length-1},t.prototype._sortConverter=function(e,t,i,o){var n;if(o){if(this._mappedColumns=null,this._cv)for(var r=this._cv.sortDescriptions,s=0;s<r.length;s++)(n=this.getColumn(r[s].property))&&n.dataMap&&(this._mappedColumns||(this._mappedColumns={}),this._mappedColumns[n.binding]=n.dataMap);this._mouseHdl._htDown&&this._mouseHdl._htDown.col>-1&&(n=this.columns[this._mouseHdl._htDown.col],this._mappedColumns&&n.dataMap&&(this._mappedColumns[n.binding]=n.dataMap))}if(this._mappedColumns){var l=this._mappedColumns[e.property];l&&l.sortByDisplayValues&&(i=l.getDisplayValue(i))}return i},t.prototype._bindGrid=function(e){var t=this;if(this.finishEditing(),this.deferUpdate(function(){t.autoGenerateColumns&&0==t._lastCount&&wijmo_1.hasItems(t._cv)&&(e=!0);var i,o,n=t.selectionMode==SelectionMode.ListBox;if(t.preserveSelectedState&&n&&(i=t.selectedItems),t.preserveOutlineState&&wijmo_1.isFunction(window.Map)&&t.rows.maxGroupLevel>-1){o=new Map;for(var r=0;r<t.rows.length;r++){var s=t.rows[r];if(s instanceof GroupRow&&s.isCollapsed&&s.dataItem){var l=s.dataItem;l instanceof wijmo_1.CollectionViewGroup&&(l=l._path),o.set(l,!0)}}}e&&t.columns.deferUpdate(function(){t._bindColumns()});var a=new wijmo_1.CancelEventArgs;t.onLoadingRows(a)&&(t.rows.deferUpdate(function(){t._bindRows()}),t.onLoadedRows(a)),t._selHdl.extendedSelection.clear();var h=0;if(i&&i.length)for(r=0;r<t.rows.length&&h<i.length;r++)i.indexOf(t.rows[r].dataItem)>-1&&(t.rows[r].isSelected=!0,h++);if(n&&0==h&&t._lastCount>0){var c=t.selection;for(r=c.topRow;r<=c.bottomRow&&r>-1&&r<t.rows.length;r++)t.rows[r].isSelected=!0}o&&t.rows.deferUpdate(function(){for(var e=0;e<t.rows.length;e++){var i=t.rows[e];if(i instanceof GroupRow){var n=i.dataItem;n instanceof wijmo_1.CollectionViewGroup&&(n=n._path),o.get(n)&&(i.isCollapsed=!0)}}}),!t._lastCount&&t._cv&&t._cv.items&&(t._lastCount=t._cv.items.length)}),!this.rows.length){var i=this._selHdl.selection;i.row=i.row2=-1}if(this._cv){var o=e&&!this._toInv;this._syncSelection(o)}},t.prototype._cvCollectionChanged=function(e,t){if(this.autoGenerateColumns&&0==this.columns.length)this._bindGrid(!0);else{var i=wijmo_1.NotifyCollectionChangedAction;if(this.childItemsPath&&t.action!=i.Change)this._bindGrid(!1);else{switch(t.action){case i.Change:return void this.invalidate();case i.Add:if(t.index==this._cv.items.length-1){var o=this.rows.length;return this.rows[o-1]instanceof _NewRowTemplate&&o--,void this.rows.insert(o,new Row(t.item))}wijmo_1.assert(!1,"added item should be the last one.");break;case i.Remove:var n=this._findRow(t.item);if(n>-1)return this.rows.removeAt(n),void this._syncSelection();wijmo_1.assert(!1,"removed item not found on grid.")}this._bindGrid(!1)}}},t.prototype._cvCurrentChanged=function(e,t){this._syncSelection()},t.prototype._syncSelection=function(e){if(this._cv&&this.selectionMode!=SelectionMode.None){var t=this._selHdl.selection,i=t.row>-1&&t.row<this.rows.length?this.rows[t.row]:null,o=i?i.dataItem:null;if(this.newRowAtTop&&i instanceof _NewRowTemplate&&(o=null),o instanceof wijmo_1.CollectionViewGroup&&(o=null),(o!=this._cv.currentItem||e)&&(!this.childItemsPath||!this.editableCollectionView||!this.editableCollectionView.currentAddItem)){var n=this._getRowIndex(this._cv.currentPosition);n==t.row&&this.childItemsPath||(t=new CellRange(n,t.col,n,t.col2),this.select(t,!1),this.selectionMode&&this.scrollIntoView(t.row,-1))}}},t.prototype._getRowIndex=function(e){if(this._cv){if(e>-1){for(var t=this._cv.items[e];e<this.rows.length;e++)if(this.rows[e].dataItem===t)return e;return-1}if(1==this.rows.length&&this.rows[0]instanceof _NewRowTemplate)return 0;var i=this.selection.row,o=i>-1?this.rows[i]:null;return o&&(o instanceof GroupRow||null==o.dataItem)?i:-1}return this.selection.row},t.prototype._getCvIndex=function(e){if(this._cv&&e>-1&&e<this.rows.length){var t=this._cv.items,i=this.rows[e].dataItem;for(e=Math.min(e,t.length-1);e>-1;e--)if(t[e]===i)return e}return-1},t.prototype._findRow=function(e){for(var t=0;t<this.rows.length;t++)if(this.rows[t].dataItem==e)return t;return-1},t.prototype._updateLayout=function(){var e=new wijmo_1.CancelEventArgs;if(this.onUpdatingLayout(e)){var i=this._hdrVis&HeadersVisibility.Row?this._hdrCols.getTotalSize():0,o=this._hdrVis&HeadersVisibility.Column?this._hdrRows.getTotalSize():0,n=this._ftrRows.getTotalSize(),r=this._rows.getTotalSize()+n;r<1&&(r=1),this._heightBrowser=Math.min(r,t._getMaxSupportedCssHeight()),this._maxOffsetY=Math.max(0,r-this._heightBrowser);var s=getComputedStyle(this._eFocus);this._cellPadLeft=parseInt(this.rightToLeft?s.paddingRight:s.paddingLeft),this._cellPadVert=parseInt(s.paddingTop)+parseInt(s.paddingBottom);var l=this._heightBrowser+o-n,a=this._gpCells.width,h=this._heightBrowser;!a&&this.rows.length&&(a=.1),!h&&this.columns.length&&(h=.1),this.rightToLeft?(wijmo_1.setCss(this._eTL,{right:0,top:0,width:i,height:o}),wijmo_1.setCss(this._eCHdr,{right:i,top:0,height:o}),wijmo_1.setCss(this._eRHdr,{right:0,top:o,width:i}),wijmo_1.setCss(this._eCt,{right:i,top:o,width:a,height:h}),wijmo_1.setCss(this._fCt,{right:i,top:o}),wijmo_1.setCss(this._eBL,{right:0,top:l,width:i,height:n}),wijmo_1.setCss(this._eCFtr,{right:i,top:l,height:n})):(wijmo_1.setCss(this._eTL,{left:0,top:0,width:i,height:o}),wijmo_1.setCss(this._eCHdr,{left:i,top:0,height:o}),wijmo_1.setCss(this._eRHdr,{left:0,top:o,width:i}),wijmo_1.setCss(this._eCt,{left:i,top:o,width:a,height:h}),wijmo_1.setCss(this._fCt,{left:i,top:o}),wijmo_1.setCss(this._eBL,{left:0,top:l,width:i,height:n}),wijmo_1.setCss(this._eCFtr,{left:i,top:l,height:n})),this._stickyHdr&&this._updateStickyHeaders();var c=this.frozenRows||this.frozenColumns?"3":"";wijmo_1.setCss([this._eTL,this._eBL,this._eCHdr,this._eCFtr,this._eRHdr,this._eMarquee],{zIndex:c});var u=this._root,d=u.offsetWidth-u.clientWidth,_=u.offsetHeight-u.clientHeight;wijmo_1.setCss(this._eSz,{width:i+d+this._gpCells.width,height:o+_+this._heightBrowser});var g=null;this.columns._updateStarSizes(u.clientWidth-i)&&(g=u.clientWidth,wijmo_1.setCss(this._eCt,{width:this._gpCells.width}),this.onStarSizedColumns()),this._szClient=new wijmo_1.Size(u.clientWidth-i,u.clientHeight-o),this._rcBounds=null,this._updateScrollHandler(),this._updateContent(!1),d=u.offsetWidth-u.clientWidth,_=u.offsetHeight-u.clientHeight,wijmo_1.setCss(this._eSz,{width:i+d+this._gpCells.width,height:o+_+this._heightBrowser}),this._szClient=new wijmo_1.Size(u.clientWidth-i,u.clientHeight-o),g&&g!=u.clientWidth&&this.columns._updateStarSizes(u.clientWidth-i)&&(wijmo_1.setCss(this._eCt,{width:this._gpCells.width}),this._updateContent(!1)),wijmo_1.setCss([this._eCHdr,this._eCFtr,this._fCt],{width:this._szClient.width}),wijmo_1.setCss([this._eRHdr,this._fCt],{height:this._szClient.height}),n&&(l=Math.min(l,this._szClient.height+o-n),wijmo_1.setCss([this._eBL,this._eCFtr],{top:l})),this.onUpdatedLayout(e)}},t.prototype._updateStickyHeaders=function(){var e=!1,i=0;if(this._stickyHdr){for(var o=0,n=null,r=this.hostElement;r;r=r.parentElement){var s=r.getBoundingClientRect();null==n&&(n=s.top),o=Math.max(o,s.top)}i=-(n=Math.max(0,o-n-1)),e=n>0,this._rcBounds=null}this._eTL.style.top=this._eCHdr.style.top=e?-i+"px":"",wijmo_1.toggleClass(this._eTL,t._WJS_STICKY,e),wijmo_1.toggleClass(this._eCHdr,t._WJS_STICKY,e)},t.prototype._updateScrollHandler=function(){this._clipToScreen=this._getClipToScreen();var e=this._stickyHdr||this._clipToScreen;e!=this._scrollHandlerAttached&&(this._scrollHandlerAttached=e,e?this.addEventListener(window,"scroll",this._scroll.bind(this),!0):this.removeEventListener(window,"scroll"))},t.prototype._getClipToScreen=function(){if(this.rows.length<=t._MIN_VIRT_ROWS)return!1;if(this._root.clientHeight!=this._root.scrollHeight)return!1;for(var e=this.hostElement;e&&e!=document.documentElement;e=e.parentElement){if("auto"==getComputedStyle(e).overflow)return!1}return!0},t.prototype._scroll=function(e){var t=this;wijmo_1.contains(e.target,this.hostElement)&&(this._clipToScreen&&(this._afClip&&cancelAnimationFrame(this._afClip),this._afClip=requestAnimationFrame(function(){t._afClip=null,t.finishEditing(),t._updateContent(!0)})),this._stickyHdr&&(this._afSticky&&cancelAnimationFrame(this._afSticky),this._afSticky=requestAnimationFrame(function(){t._afSticky=null;var e=new wijmo_1.CancelEventArgs;t.onUpdatingLayout(e)&&(t._updateStickyHeaders(),t.onUpdatedLayout(e))})))},t.prototype._updateScrollPosition=function(){var e=this._root,i=e.scrollTop,o=e.scrollLeft;this.rightToLeft&&"rev"==t._getRtlMode()&&(o=e.scrollWidth-e.clientWidth-o);var n=new wijmo_1.Point(-Math.abs(o),-i);return!this._ptScrl.equals(n)&&(this._ptScrl=n,this.onScrollPositionChanged(),!0)},t.prototype._updateContent=function(e,t){var i=this,o=this._root,n=this.hostElement,r=this.cells.hostElement,s=this._activeCell,l=wijmo_1.getActiveElement(),a=wijmo_1.closest(l,".wj-flexgrid")==n?l:null,h=new wijmo_1.CancelEventArgs;if(this.onUpdatingView(h)){wijmo_1.setAttribute(r,"role",this.rows.maxGroupLevel<0?"grid":"treegrid"),this._hasValidation=wijmo_1.isFunction(this._itemValidator)||this._cv&&wijmo_1.isFunction(this._cv.getError);var c=!t&&this._errorTip&&this._errorTip._tips.length;if(this._offsetY=0,this._heightBrowser>this._szClient.height){var u=Math.round(-this._ptScrl.y/(this._heightBrowser-this._szClient.height)*100)/100;this._offsetY=Math.round(this._maxOffsetY*u)}this._updateScrollPosition();var d=this._gpCells._updateContent(e,t,this._offsetY);if(this._hdrVis&HeadersVisibility.Column&&(!t||this._ssHdr&HeadersVisibility.Column)&&(this._gpCHdr._updateContent(e,t,0),this._eRHdr.scrollTop=0),this._hdrVis&HeadersVisibility.Row&&(!t||this._ssHdr&HeadersVisibility.Row)&&this._gpRHdr._updateContent(e,t,this._offsetY),this._hdrVis&&!t&&this._gpTL._updateContent(e,t,0),this._gpCFtr.rows.length&&(this._gpBL._updateContent(e,t,0),this._gpCFtr._updateContent(e,t,0)),this.showMarquee){var _=this._selHdl.selection,g=this._eMarquee;if(this.isRangeValid(_)){var p=this._getMarqueeRect(_),f=g.firstChild,w=g.offsetWidth-f.offsetWidth,m=g.offsetHeight-f.offsetHeight;wijmo_1.setCss(g,{left:p.left+r.offsetLeft-w/2,top:p.top+r.offsetTop-m/2,width:p.width+w,height:p.height+m,visibility:p.width>0&&p.height>0?"":"collapse"})}else wijmo_1.setCss(g,{visibility:"collapse",left:0,top:0,width:0,height:0})}if(c&&this._errorTip&&this._errorTip._tips.length&&(this._toErrorTips&&clearTimeout(this._toErrorTips),this._toErrorTips=setTimeout(function(){i._errorTip.hide();for(var e=i._errorTip._tips,t=0;t<e.length;t++){var o=e[t].element;o.offsetHeight&&wijmo_1.hasClass(o,"wj-state-invalid")||(i._errorTip.setTooltip(o,null),t--)}},250)),this._useFrozenDiv()&&(this._updateFrozenCells(t),d&&wijmo_1.hasClass(d,"wj-frozen")&&(d=null)),this._fCt.style.display=this._fCt.childElementCount?"":"none",this._activeCell=d,a)if(a!=o&&a!=this._eFocus&&wijmo_1.contains(n,a)&&!wijmo_1.contains(r,a)){if(wijmo_1.getActiveElement()!==a&&a.focus(),wijmo_1.isIE()&&a instanceof HTMLInputElement&&!a.type.match(/checkbox|radio|range/i)){var C=a.selectionStart,y=a.selectionEnd;a.setSelectionRange(C,y)}}else{var v=d!==s;this._setFocus(v)}!a&&d&&(d.tabIndex=this.isDisabled?-1:this._orgTabIndex),s&&s!=d&&(s.tabIndex=-1),this._rcBounds=null,this.onUpdatedView(h)}},t.prototype._clearCells=function(){for(var e in this)if("_"==e[0]){var t=this[e];t instanceof GridPanel&&t._clearCells()}this.invalidate()},t.prototype._useFrozenDiv=function(){return wijmo_1.isBoolean(this._fzClone)?this._fzClone:wijmo_1.isIE()||wijmo_1.isFirefox()||wijmo_1.isSafari()||wijmo_1.isMobile()},t.prototype._updateFrozenCells=function(e){var t=this._fCt;if(this.frozenRows||this.frozenColumns){var i=this._eCt.querySelectorAll(".wj-frozen");if(e&&t.children.length==i.length){for(var o=0;o<i.length;o++)t.children[o].className=i[o].className;return}if(wijmo_1.setText(t,null),!this.activeEditor){var n=this._errorTip,r=navigator.userAgent.indexOf("MSIE")>=0;for(o=0;o<i.length;o++){var s=i[o];if(wijmo_1.closest(s,".wj-flexgrid")==this.hostElement){if(r){var l="input[type=checkbox]",a=s.querySelector(l);if(s=s.cloneNode(!0),a)s.querySelector(l).checked=a.checked}else s=s.cloneNode(!0);if(t.appendChild(s),n){var h=n.getTooltip(i[o]);h&&n.setTooltip(s,h)}}}}}else wijmo_1.setText(t,null)},t.prototype._getMarqueeRect=function(e){var t=this.getMergedRange(this.cells,e.topRow,e.leftCol)||new CellRange(e.topRow,e.leftCol),i=this.getMergedRange(this.cells,e.bottomRow,e.rightCol)||new CellRange(e.bottomRow,e.rightCol),o=this.cells.getCellBoundingRect(t.topRow,t.leftCol,!0),n=this.cells.getCellBoundingRect(i.bottomRow,i.rightCol,!0);if(this.rows.frozen){var r=Math.min(this.rows.length,this.rows.frozen),s=this.cells.getCellBoundingRect(r-1,0,!0);e.topRow>=r&&o.top<s.bottom&&(o.top=s.bottom),e.bottomRow>=r&&n.bottom<s.bottom&&(n.height=s.bottom-n.top)}if(this.columns.frozen){var l=Math.min(this.columns.length,this.columns.frozen);s=this.cells.getCellBoundingRect(0,l-1,!0);this.rightToLeft?(t.leftCol>=l&&o.right>s.left&&(o.left=s.left-o.width),t.rightCol>=l&&n.left>s.left&&(n.left=s.left)):(t.leftCol>=l&&o.left<s.right&&(o.left=s.right),t.rightCol>=l&&n.right<s.right&&(n.width=s.right-n.left))}return this.rightToLeft?new wijmo_1.Rect(n.left,o.top,o.right-n.left,n.bottom-o.top):new wijmo_1.Rect(o.left,o.top,n.right-o.left,n.bottom-o.top)},t.prototype._bindColumns=function(){for(var e=this,t=0;t<this.columns.length;t++){this.columns[t]._getFlag(RowColFlags.AutoGenerated)&&(this.columns.removeAt(t),t--)}var i=this._cv,o=i?i.sourceCollection:null;o&&o.length&&this.autoGenerateColumns&&wijmo_1.getTypes(o).forEach(function(t){var i=new Column(t);i._setFlag(RowColFlags.AutoGenerated,!0),i.name=t.binding,i.header=wijmo_1.toHeaderCase(t.binding),i.dataType==wijmo_1.DataType.Number&&(i.width=80),e.columns.push(i)}),this._updateColumnTypes()},t.prototype._updateColumnTypes=function(){var e=this._cv;if(wijmo_1.hasItems(e))for(var t=e.items[0],i=this.columns,o=0;o<i.length;o++){var n=i[o];null==n.dataType&&n._binding&&(n.dataType=wijmo_1.getType(n._binding.getValue(t)))}},t.prototype._getBindingColumn=function(e,t,i){return i},t.prototype._getRowHeaderPath=function(){return this._rowHdrPath},t.prototype._bindRows=function(){this.rows.clear();var e=this._cv;if(e&&e.items){var t=e.items,i=e.groups;if(this.childItemsPath)for(var o=0;o<t.length;o++)this._addNode(t,o,0);else if(null!=i&&i.length>0&&this.showGroups)for(o=0;o<i.length;o++)this._addGroup(i[o]);else for(o=0;o<t.length;o++)this._addBoundRow(t,o)}},t.prototype._addBoundRow=function(e,t){this.rows.push(new Row(e[t]))},t.prototype._addNode=function(e,t,i){var o=new GroupRow,n=this.childItemsPath,r=wijmo_1.isArray(n)?n[i]:n,s=e[t],l=s[r];if(o.dataItem=s,o.level=i,this.rows.push(o),wijmo_1.isArray(l))for(var a=0;a<l.length;a++)this._addNode(l,a,i+1)},t.prototype._addGroup=function(e){var t=new GroupRow;if(t.level=e.level,t.dataItem=e,this.rows.push(t),e.isBottomLevel)for(var i=e.items,o=0;o<i.length;o++)this._addBoundRow(i,o);else for(o=0;o<e.groups.length;o++)this._addGroup(e.groups[o])},t._getSerializableProperties=function(e){var t=[];for(e=e.prototype;e!=Object.prototype;e=Object.getPrototypeOf(e))for(var i=Object.getOwnPropertyNames(e),o=0;o<i.length;o++){var n=i[o],r=Object.getOwnPropertyDescriptor(e,n);r&&r.set&&r.get&&"_"!=n[0]&&!n.match(/disabled|required/)&&t.push(n)}return t},t.prototype._copy=function(e,t){if("columns"==e){this.columns.clear();for(var i=wijmo_1.asArray(t),o=0;o<i.length;o++){var n=new Column;wijmo_1.copy(n,i[o]),this.columns.push(n)}return!0}return!1},t.prototype._isInputElement=function(e){if(e instanceof HTMLElement&&!wijmo_1.hasClass(e,"wj-btn-glyph")){if("true"==e.contentEditable)return!0;var t=e.tagName.match(/^(BUTTON|A|INPUT|TEXTAREA|SELECT|OPTION)$/i);return t&&t.length>0}return!1},t.prototype._wantsInput=function(e){return this._isInputElement(e)&&!this.activeEditor&&!this._edtHdl._isNativeCheckbox(e)&&!wijmo_1.hasClass(e,"wj-grid-ime")&&wijmo_1.contains(document.body,e)},t._getMaxSupportedCssHeight=function(){if(!t._maxCssHeight){var e=335e5;wijmo_1.isIE()?e=15e5:wijmo_1.isFirefox()&&(e=175e5),t._maxCssHeight=e}return t._maxCssHeight},t._getRtlMode=function(){if(!t._rtlMode){var e=wijmo_1.createElement('<div dir="rtl" style="visibility:hidden;width:100px;height:100px;overflow:auto"><div style="width:2000px;height:2000px"></div></div>');document.body.appendChild(e);var i=e.scrollLeft;e.scrollLeft=-1e3;var o=e.scrollLeft;wijmo_1.removeChild(e),t._rtlMode=o<0?"neg":i>0?"rev":"std"}return t._rtlMode},t._WJS_STICKY="wj-state-sticky",t._WJS_MEASURE="wj-state-measuring",t._WJS_UPDATING="wj-state-updating",t._MIN_VIRT_ROWS=200,t.controlTemplate='<div style="position:relative;width:100%;height:100%;overflow:hidden;max-width:inherit;max-height:inherit"><div wj-part="root" style="position:absolute;left:0;top:0;width:100%;height:100%;overflow:auto;max-width:inherit;max-height:inherit;-webkit-overflow-scrolling:touch;"><div wj-part="cells" class="wj-cells" style="position:absolute"></div><div wj-part="marquee" class="wj-marquee" style="display:none"><div style="width:100%;height:100%"></div></div></div><div wj-part="fcells" aria-hidden="true" class="wj-cells wj-frozen-clone" style="position:absolute;left:0;top:0;overflow:hidden;pointer-events:none"></div><div wj-part="rh"><div wj-part="rhcells" class="wj-rowheaders"></div></div><div wj-part="cf"><div wj-part="cfcells" class="wj-colfooters"></div></div><div wj-part="ch"><div wj-part="chcells" class="wj-colheaders"></div></div><div wj-part="bl"><div wj-part="blcells" class="wj-bottomleft"></div></div><div wj-part="tl"><div wj-part="tlcells" class="wj-topleft"></div></div><div wj-part="focus" class="wj-cell" style="position:fixed;left:-32000px">0</div><div wj-part="sz" style="position:relative;visibility:hidden"></div></div>',t}(wijmo_1.Control);exports.FlexGrid=FlexGrid,function(e){e[e.None=0]="None",e[e.MoveDown=1]="MoveDown",e[e.MoveAcross=2]="MoveAcross",e[e.Cycle=3]="Cycle",e[e.CycleOut=4]="CycleOut"}(KeyAction=exports.KeyAction||(exports.KeyAction={}));var _KeyboardHandler=function(){function e(e){this._kaTab=KeyAction.None,this._kaEnter=KeyAction.MoveDown,this._g=e;var t=e.hostElement;e.addEventListener(t,"keypress",this._keypress.bind(this)),e.addEventListener(t,"keydown",this._keydown.bind(this))}return e.prototype._keydown=function(e){var t=this._g,i=t._edtHdl,o=t.selection,n=e.ctrlKey||e.metaKey,r=e.shiftKey,s=e.target,l=!0;if(this._altDown=!1,!t._wantsInput(s)){var a=e.defaultPrevented&&!(s instanceof HTMLInputElement);if(t.isRangeValid(o)&&!a&&(!t.activeEditor||!i._keydown(e))){var h=wijmo_1.tryCast(t.rows[o.row],GroupRow),c=t.editableCollectionView,u=t._getKeyCode(e);if(t.autoClipboard){if(n&&(67==u||45==u)){var d=new CellRangeEventArgs(t.cells,o);if(t.onCopying(d)){var _=t.getClipString()+"\r\n";wijmo_1.Clipboard.copy(_),t.onCopied(d)}return void e.stopPropagation()}if(n&&86==u||r&&45==u)return t.isReadOnly||wijmo_1.Clipboard.paste(function(e){t.setClipString(e)}),void e.stopPropagation()}(r||n)&&"Space"==e.code&&(u=wijmo_1.Key.Space);var g=SelMove,p=SelectionMode;switch(u){case wijmo_1.Key.Space:if(r&&o.isValid)switch(t.selectionMode){case p.CellRange:case p.MultiRange:case p.Row:case p.RowRange:case p.ListBox:t.select(new CellRange(o.row,0,o.row,t.columns.length-1))}else if(n&&o.isValid)switch(t.selectionMode){case p.CellRange:case p.MultiRange:t.select(new CellRange(0,o.col,t.rows.length-1,o.col))}else(l=this._startEditing(!0,e))&&setTimeout(function(){var e=t.activeEditor;e&&(e.disabled||e.readOnly?t.finishEditing():"checkbox"==e.type&&(e.checked=!e.checked,t.finishEditing()))});break;case 65:if(n)switch(t.selectionMode){case p.None:case p.Cell:break;default:t.rows.length&&t.columns.length&&t.select(new CellRange(0,0,t.rows.length-1,t.columns.length-1))}else l=!1;break;case wijmo_1.Key.Left:n||e.altKey?l=!1:o.isValid&&0==o.leftCol&&null!=h&&!h.isCollapsed&&h.hasChildren?h.isCollapsed=!0:this._moveSel(g.None,n?g.Home:g.Prev,r);break;case wijmo_1.Key.Right:n||e.altKey?l=!1:o.isValid&&0==o.leftCol&&null!=h&&h.isCollapsed?h.isCollapsed=!1:this._moveSel(g.None,n?g.End:g.Next,r);break;case wijmo_1.Key.Up:n?l=!1:(this._altDown=e.altKey,e.altKey?l=i._toggleListBox(e):this._moveSel(g.Prev,g.None,r));break;case wijmo_1.Key.Down:n?l=!1:(this._altDown=e.altKey,e.altKey?l=i._toggleListBox(e):this._moveSel(g.Next,g.None,r));break;case wijmo_1.Key.PageUp:if(this._altDown=e.altKey,this._moveSel(e.altKey?g.Home:g.PrevPage,g.None,r),t.rows.frozen&&t.selection.row<t.rows.frozen){var f=t.scrollPosition;f.y&&(t.scrollPosition=new wijmo_1.Point(f.x,0))}break;case wijmo_1.Key.PageDown:this._altDown=e.altKey,this._moveSel(e.altKey?g.End:g.NextPage,g.None,r);break;case wijmo_1.Key.Home:this._moveSel(n?g.Home:g.None,g.Home,r);break;case wijmo_1.Key.End:this._moveSel(n?g.End:g.None,g.End,r);break;case wijmo_1.Key.Tab:l=this._performKeyAction(t.keyActionTab,r);break;case wijmo_1.Key.Enter:l=this._performKeyAction(t.keyActionEnter,r),!r&&c&&null!=c.currentEditItem&&i._commitRowEdits();break;case wijmo_1.Key.Escape:if(l=!1,c&&(c.currentAddItem||c.currentEditItem)){var w=new CellRangeEventArgs(t.cells,t.selection);w.cancel=!0,t.onRowEditEnding(w),c.currentAddItem&&c.cancelNew(),c.currentEditItem&&c.cancelEdit(),t.onRowEditEnded(w),l=!0}t._mouseHdl.resetMouseState();break;case wijmo_1.Key.Delete:case wijmo_1.Key.Back:l=this._deleteSel(e);break;case wijmo_1.Key.F2:l=this._startEditing(!0,e);break;case wijmo_1.Key.F4:l=i._toggleListBox(e);break;default:l=!1}l&&(t.containsFocus()||t.focus(),e.preventDefault(),e.stopPropagation())}}},e.prototype._performKeyAction=function(e,t){var i=KeyAction,o=SelMove;switch(e){case i.MoveDown:return this._moveSel(t?o.Prev:o.Next,o.None,!1),!0;case i.MoveAcross:return this._moveSel(o.None,t?o.Prev:o.Next,!1),!0;case i.Cycle:return this._moveSel(o.None,t?o.PrevCell:o.NextCell,!1),!0;case i.CycleOut:var n=this._g.selection;return this._moveSel(o.None,t?o.PrevCell:o.NextCell,!1),!n.equals(this._g.selection)}return!1},e.prototype._keypress=function(e){var t=this,i=this._g;if(!i._wantsInput(e.target)&&!e.defaultPrevented)if(this._altDown)e.preventDefault();else{var o=i._edtHdl;if(i.activeEditor)o._keypress(e);else if(e.charCode>wijmo_1.Key.Space)if(this._startEditing(!1,e)&&i.activeEditor){var n=wijmo_1.getActiveElement();if(n instanceof HTMLInputElement&&"checkbox"!=n.type||n instanceof HTMLTextAreaElement){var r=i._selHdl.selection,s=i.getCellData(r.row,r.col,!0),l=i.getCellData(r.row,r.col,!1),a=wijmo_1.culture.Globalize.numberFormat["%"]||"%",h=String.fromCharCode(e.charCode),c=wijmo_1.isNumber(l)&&s.indexOf(a)>-1||""==s&&n.value==a;n.value=h+(c?a:""),wijmo_1.setSelectionRange(n,1),n.dispatchEvent(o._evtInput),o._keypress(e),o._edtValue=n.value!=s?n.value:null,e.preventDefault()}}else if(i.autoSearch){var u=!1;r=i._selHdl.selection;if(e.charCode>32||32==e.charCode&&this._search){e.preventDefault(),this._search+=String.fromCharCode(e.charCode).toLowerCase(),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){t._toSearch=null,t._search=""},wijmo_1.Control._SEARCH_DELAY);var d=this._findNext(r.row,r.col);d<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],d=this._findNext(r.row,r.col)),d>-1&&(u=!0,i.select(d,r.col))}u||(this._search="")}}},e.prototype._findNext=function(e,t){var i=this._g,o=i.rows.length;(e<0||1==this._search.length)&&e++;for(var n=0;n<o;n++){var r=(e+n)%o;if(0==i.getCellData(r,t,!0).trim().toLowerCase().indexOf(this._search))return r}return-1},e.prototype._moveSel=function(e,t,i){this._g.selectionMode!=SelectionMode.None&&this._g._selHdl.moveSelection(e,t,i)},e.prototype._deleteSel=function(e){var t=this,i=this._g,o=i.editableCollectionView,n=i.selection,r=i.rows,s=[],l=new CellRange,a=new CellEditEndingEventArgs(i.cells,l,e),h=SelectionMode;if(i.allowDelete&&!i.isReadOnly&&(null==o||o.canRemove&&!o.isAddingNew&&!o.isEditingItem))switch(i.selectionMode){case h.CellRange:case h.MultiRange:i.selectedRanges.forEach(function(e){if(0==e.leftCol&&e.rightCol==i.columns.length-1)for(var t=e.topRow;t>-1&&t<=e.bottomRow;t++){var o=r[t];s.indexOf(o)<0&&s.push(o)}});break;case h.ListBox:for(var c=0;c<r.length;c++)r[c].isSelected&&s.push(r[c]);break;case h.Row:n.topRow>-1&&s.push(r[n.topRow]);break;case h.RowRange:for(c=n.topRow;c>-1&&c<=n.bottomRow;c++)s.push(r[c])}if(s.length>0){if(i.deferUpdate(function(){o&&o.beginUpdate();for(var e=s.length-1;e>=0;e--){var t=s[e];l.setRange(t.index,-1),i.onDeletingRow(a)&&(o&&t.dataItem?o.remove(t.dataItem):i.rows.removeAt(t.index),i.onDeletedRow(a))}o&&o.endUpdate()}),i.selectionMode==h.ListBox){var u=i.selection.row;u>-1&&u<i.rows.length&&(i.rows[u].isSelected=!0)}return i.childItemsPath&&i.collectionView&&i.collectionView.refresh(),!0}if(!i.isReadOnly&&0==s.length){var d=!1,_=i.scrollPosition;return i.deferUpdate(function(){d=t._deleteRange(e,n),i.selectionMode==h.MultiRange&&i._selHdl.extendedSelection.forEach(function(i){t._deleteRange(e,i)&&(d=!0)}),i.selection=n,i.scrollPosition=_,d&&o.endUpdate()}),!0}return!1},e.prototype._deleteRange=function(e,t){for(var i=this._g,o=i.editableCollectionView,n=new CellRange,r=new CellEditEndingEventArgs(i.cells,n,e),s=!1,l=t.topRow;l<=t.bottomRow;l++){var a=i.rows[l];if(!a.isReadOnly)for(var h=t.leftCol;h<=t.rightCol;h++){var c=i._getBindingColumn(i.cells,l,i.columns[h]);if(!c.getIsRequired(a)&&!c.isReadOnly&&!a.isReadOnly&&i.getCellData(l,h,!0)&&(n.setRange(l,h),r.cancel=!1,i.onBeginningEdit(r))){if(o){var u=o.currentEditItem;!s&&u&&u!=a.dataItem&&(s=!0,o.beginUpdate()),u=a.dataItem,o.editItem(u),i._edtHdl._edItem=u}i.setCellData(l,h,"",!0,!1),i.onCellEditEnding(r),i.onCellEditEnded(r)}}}return s},e.prototype._startEditing=function(e,t,i,o){return this._g._edtHdl.startEditing(e,i,o,!0,t)},e}();exports._KeyboardHandler=_KeyboardHandler;var CellType,_ImeHandler=function(){function e(t){this._updateImeFocusBnd=this._updateImeFocus.bind(this),this._cmpstartBnd=this._compositionstart.bind(this),this._mousedownBnd=this._mousedown.bind(this),this._mouseupBnd=this._mouseup.bind(this),this._keypressBnd=this._keypress.bind(this),this._g=t;var i=wijmo_1.createElement('<textarea class="wj-grid-editor wj-form-control wj-grid-ime" aria-hidden="true"/>');wijmo_1.disableAutoComplete(i),wijmo_1.setCss(i,e._cssHidden),this._tbx=i,t._root.appendChild(i),this._updateImeFocus();var o=t.hostElement,n=t.addEventListener.bind(t);n(i,"compositionstart",this._cmpstartBnd),n(o,"blur",this._updateImeFocusBnd,!0),n(o,"focus",this._updateImeFocusBnd),n(o,"mousedown",this._mousedownBnd,!0),n(o,"mouseup",this._mouseupBnd,!0),n(o,"keypress",this._keypressBnd,!0),t.cellEditEnded.addHandler(this._cellEditEnded,this),t.selectionChanged.addHandler(this._updateImeFocus,this)}return e.prototype.dispose=function(){var e=this._g,t=e.hostElement,i=this._tbx,o=e.removeEventListener.bind(e);o(i,"compositionstart",this._cmpstartBnd),o(t,"blur",this._updateImeFocusBnd),o(t,"focus",this._updateImeFocusBnd),o(t,"mousedown",this._mousedownBnd),o(t,"mouseup",this._mouseupBnd),o(t,"keypress",this._keypressBnd),e.cellEditEnded.removeHandler(this._cellEditEnded),e.selectionChanged.removeHandler(this._updateImeFocus),wijmo_1.removeChild(i)},e.prototype._compositionstart=function(){var e=this._g;if(!e.activeEditor){var t=e._selHdl.selection;if(e.startEditing(!1,t.row,t.col,!1)&&e.activeEditor&&"checkbox"!=e.activeEditor.type){t=e.editRange;var i=e.activeEditor,o=this._tbx,n=e.cells.hostElement,r=e.columns[t.col].pos+n.offsetLeft,s=e.rows[t.row].pos+n.offsetTop,l=e.getCellBoundingRect(t.row,t.col),a=wijmo_1.closest(i,".wj-cell");l.width=a.offsetWidth,l.height=a.offsetHeight,t.row<e.frozenRows&&(s+=e._root.scrollTop),t.col<e.frozenColumns&&(r+=e._root.scrollLeft);var h=a.querySelector(".wj-btn.wj-right");h&&(l.width-=h.offsetWidth),"minLength,maxLength,pattern".split(",").forEach(function(e){wijmo_1.setAttribute(o,e,i.getAttribute(e))});var c=i instanceof HTMLTextAreaElement;wijmo_1.setAttribute(o,"wrap",c?"soft":"off");var u=getComputedStyle(a),d=u.paddingTop;if(t.rowSpan>1&&!c){var _=parseFloat(u.lineHeight);isNaN(_)&&(_=1.2*parseFloat(u.fontSize)),d=Math.max(0,(l.height-_)/2)+"px"}wijmo_1.setCss(o,{position:"absolute",left:r,top:s,width:l.width-1,height:l.height-1,paddingTop:d,paddingLeft:u.paddingLeft,paddingRight:u.paddingRight,textAlign:u.textAlign,zIndex:a.style.zIndex}),e._edtHdl._edt=o;var g=i.value;setTimeout(function(){"　"!=o.value&&" "!=o.value||(o.value=g,wijmo_1.setSelectionRange(o,g.length))},20),i.value=""}}},e.prototype._cellEditEnded=function(){var t=this;wijmo_1.setCss(this._tbx,e._cssHidden),setTimeout(function(){t._tbx.value=""})},e.prototype._mousedown=function(e){this._isMouseDown=!0,this._updateImeFocus()},e.prototype._mouseup=function(e){this._isMouseDown=!1,this._updateImeFocus()},e.prototype._keypress=function(e){this._g.activeEditor||(this._tbx.value="",this._compositionstart(),e.stopPropagation())},e.prototype._updateImeFocus=function(){var e=this._g,t=this._tbx,i=wijmo_1.getActiveElement();e.activeEditor||wijmo_1.closest(i,".wj-flexgrid")!=e.hostElement||(this._enableIme()?i!=t&&(t.disabled=!1,t.select(),t.focus()):(t.disabled=!0,t.value=""))},e.prototype._enableIme=function(){var e=this._g,t=e._selHdl.selection;if(!e.canEditCell(t.row,t.col))return!1;var i=t.isValid?e._getBindingColumn(e.cells,t.row,e.columns[t.col]):null;return!(!i||i.dataType==wijmo_1.DataType.Boolean)},e._cssHidden={position:"fixed",left:-10,top:-10,width:"1px",overflow:"hidden"},e}();exports._ImeHandler=_ImeHandler,function(e){e[e.None=0]="None",e[e.Cell=1]="Cell",e[e.ColumnHeader=2]="ColumnHeader",e[e.RowHeader=3]="RowHeader",e[e.TopLeft=4]="TopLeft",e[e.ColumnFooter=5]="ColumnFooter",e[e.BottomLeft=6]="BottomLeft"}(CellType=exports.CellType||(exports.CellType={}));var AllowMerging,GridPanel=function(){function e(e,t,i,o,n){this._offsetY=0,this._rng=new CellRange,this._g=wijmo_1.asType(e,FlexGrid),this._ct=wijmo_1.asInt(t),this._rows=wijmo_1.asType(i,RowCollection),this._cols=wijmo_1.asType(o,ColumnCollection),this._e=wijmo_1.asType(n,HTMLElement),this._vrb=new CellRange}return Object.defineProperty(e.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellType",{get:function(){return this._ct},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewRange",{get:function(){return this._getViewRange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),e.prototype.getCellData=function(e,t,i){var o,n=this._g,r=this._rows[wijmo_1.asNumber(e,!1,!0)],s=null;if(wijmo_1.isString(t)&&(t=this._cols.indexOf(t))<0)throw"Invalid column name or binding.";o=this._cols[wijmo_1.asNumber(t,!1,!0)];var l=n?n._getBindingColumn(this,e,o):o,a=null;if(r instanceof GroupRow&&r.dataItem instanceof wijmo_1.CollectionViewGroup&&!n.childItemsPath&&(a=r.dataItem),l.binding&&r.dataItem&&!a?s=l._binding.getValue(r.dataItem):r._ubv&&(s=r._ubv[o._hash]),null==s)switch(this._ct){case CellType.ColumnHeader:e!=this._rows.length-1&&l==o||(s=l.header);break;case CellType.ColumnFooter:if(l.aggregate!=wijmo_1.Aggregate.None&&r instanceof GroupRow){var h=this._g.collectionView;if(h){var c=wijmo_1.tryCast(h,wijmo_1.CollectionView);s=c?c.getAggregate(l.aggregate,l.binding):wijmo_1.getAggregate(l.aggregate,h.items,l.binding)}}break;case CellType.Cell:l.aggregate!=wijmo_1.Aggregate.None&&r instanceof GroupRow&&a&&(s=a.getAggregate(l.aggregate,l.binding,this._g.collectionView))}return i&&(this.cellType==CellType.Cell&&l.dataMap&&(s=l.dataMap.getDisplayValue(s)),s=null!=s?wijmo_1.Globalize.format(s,l.format||r.format):""),s},e.prototype.setCellData=function(e,t,i,o,n){void 0===o&&(o=!0),void 0===n&&(n=!0);var r,s=this._rows[wijmo_1.asNumber(e,!1,!0)];if(wijmo_1.isString(t)&&(t=this._cols.indexOf(t))<0)throw"Invalid column name or binding.";r=this._cols[wijmo_1.asNumber(t,!1,!0)];var l=this._g?this._g._getBindingColumn(this,e,r):r;if(this._ct==CellType.Cell){if(l.dataMap&&null!=i&&(l.isRequired||""!=i)){var a=l.dataMap,h=a.getKeyValue(i);if(null==h&&null==a.getDisplayValue(null)){if(a.getDisplayValue(i)!=i);else if(!a.isEditable||a.displayMemberPath!=a.selectedValuePath)return!1}else i=h}var c=wijmo_1.DataType.Object,u=l.dataType||s.dataType;if(u)c=u;else{var d=this.getCellData(e,t,!1);c=wijmo_1.getType(d)}var _=l.getIsRequired(s),g=""===i||null==i;if(!_&&g)c!=wijmo_1.DataType.String&&(i=null),o=!1;else if(_&&g&&o)return!1;if(o&&(i=wijmo_1.changeType(i,c,l.format||s.format),c!=wijmo_1.DataType.Object&&wijmo_1.getType(i)!=c))return!1}if(s.dataItem&&l.binding){var p=l._binding,f=s.dataItem,w=p.getValue(f);if(i!==w&&!wijmo_1.DateTime.equals(i,w)){p.setValue(f,i);var m=this._g.collectionView;if(m instanceof wijmo_1.CollectionView&&f!=m.currentEditItem){var C=new wijmo_1.NotifyCollectionChangedEventArgs(wijmo_1.NotifyCollectionChangedAction.Change,f,m.items.indexOf(f));m.onCollectionChanged(C)}}}else s._ubv||(s._ubv={}),s._ubv[r._hash]=i;return n&&this._g&&this._g.invalidate(),!0},e.prototype.getCellBoundingRect=function(e,t,i){var o=this._g,n=this.rows[e],r=this.columns[t],s=new wijmo_1.Rect(r.pos,n.pos,r.renderSize,n.renderSize);if(o.rightToLeft&&(s.left=this.hostElement.clientWidth-s.right,wijmo_1.isIE()||wijmo_1.isFirefox()||(s.left-=o._root.offsetWidth-o._root.clientWidth)),!i){var l=this.hostElement.getBoundingClientRect();s.left+=l.left,s.top+=l.top-this._offsetY}return e<this.rows.frozen&&(s.top-=o.scrollPosition.y),t<this.columns.frozen&&(s.left-=o.scrollPosition.x*(o.rightToLeft?-1:1)),s},e.prototype.getCellElement=function(t,i){for(var o=this.hostElement.children,n=Math.min(t+2,o.length),r=0;r<n;r++)for(var s=o[r].children,l=Math.min(i+2,s.length),a=0;a<l;a++){var h=s[a],c=h[e._INDEX_KEY];if(c&&(c.row==t&&c.col==i||c.rng&&c.rng.contains(t,i)))return h}return null},e.prototype.getSelectedState=function(e,t,i){var o=this._g,n=o.selectionMode,r=o._selHdl.selection,s=SelectionMode,l=SelectedState;if(n==s.None)return l.None;switch(this._ct){case CellType.Cell:if(i||(i=o.getMergedRange(this,e,t)),i){if(i.contains(r.row,r.col))return o.showMarquee?l.Active:l.Cursor;if(i.intersects(r))return l.Selected}if(r.row==e&&r.col==t)return o.showMarquee?l.Active:l.Cursor;if(o.rows[e].isSelected||o.columns[t].isSelected)return l.Selected;if(n==s.MultiRange)for(var a=o._selHdl.extendedSelection,h=0;h<a.length;h++)if(a[h].contains(e,t))return l.Selected;if(i)switch(n){case s.Row:case s.RowRange:case s.ListBox:if(i.containsRow(r.row))return l.Selected}return n==SelectionMode.ListBox?l.None:(r=this._getAdjustedSelection(r)).containsRow(e)&&r.containsColumn(t)?l.Selected:l.None;case CellType.ColumnHeader:if(o.showSelectedHeaders&HeadersVisibility.Column&&(o.columns[t].isSelected||r.containsColumn(t)||r.intersectsColumn(i))&&(i&&(e=i.bottomRow),e==this.rows.length-1))return l.Selected;break;case CellType.RowHeader:if(o.showSelectedHeaders&HeadersVisibility.Row&&(o.rows[e].isSelected||r.containsRow(e)||r.intersectsRow(i))&&(i&&(t=i.rightCol),t==this.columns.length-1))return l.Selected}return l.None},Object.defineProperty(e.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),e.prototype._getAdjustedSelection=function(e){var t=this._g,i=this._rng,o=SelectionMode;switch(t.selectionMode){case o.Cell:i.setRange(e.row,e.col,e.row,e.col);break;case o.Row:i.setRange(e.row,0,e.row,t.columns.length-1);break;case o.RowRange:case o.ListBox:i.setRange(e.row,0,e.row2,t.columns.length-1);break;default:i.copy(e)}return i},e.prototype._getOffsetY=function(){return this._offsetY},e.prototype._updateContent=function(e,t,i){var o=this._g,n=this._e,r=this._rows,s=this._cols,l=this._ct;if(l==CellType.ColumnHeader||l==CellType.ColumnFooter||l==CellType.RowHeader){var a=o._ptScrl,h=n.style;l==CellType.RowHeader?h.top=a.y+"px":o.rightToLeft?h.right=a.x+"px":h.left=a.x+"px"}this._offsetY!=i&&(e=!1,this._offsetY=i);var c=this._getViewRange(),u=c;if(u.isValid){var d=r.length<=o._vtRows?r.length:0,_=s.length<=o._vtCols?s.length:0;u=new CellRange(Math.max(c.row-d,r.frozen),Math.max(c.col-_,s.frozen),Math.min(c.row2+d,r.length-1),Math.min(c.col2+_,s.length-1))}if(e&&!t&&this._vrb.contains(c)&&!r.frozen&&!s.frozen)return this._activeCell;e&&u.equals(this._vrb)||(t=!1),e&&!t&&this._ct!=CellType.TopLeft&&this._reorderCells(u,this._vrb),this._activeCell=null,this._vru=c,this._vrb=u,this._recycle=e;var g=0;this._ct==CellType.Cell&&(g=this._renderColHdrRow(u,t));for(var p=0;p<r.frozen&&p<r.length;p++)g=this._renderRow(p,u,t,g);for(p=u.topRow;p<=u.bottomRow&&p>-1;p++)g=this._renderRow(p,u,t,g);for(;n.childElementCount>g;){var f=n.lastElementChild;n.removeChild(f),this._removeExtraCells(f,0)}return this._activeCell},e.prototype._clearCells=function(){for(var e=this.hostElement,t=this._g.cellFactory,i=e.childElementCount-1;i>=0;i--){var o=e.children[i];e.removeChild(o);for(var n=o.childElementCount-1;n>=0;n--)t.disposeCell(o.children[n])}},e.prototype._reorderCells=function(e,t){if(this._g._reorderCells&&t.isValid&&e.isValid&&e.intersects(t)){if(e.row!=t.row){var i=this._e,o=e.row-t.row,n=Math.max(1,e.rowSpan-1);if(0!=o&&Math.abs(o)<n){var r=this._ct==CellType.Cell?1:0,s=i.childElementCount;if(r+=this.rows.frozen,o>0){var l=r,a=Math.min(r+o,s);(d=this._createRange(i,l,a))&&i.appendChild(d.extractContents())}if(o<0){a=s,l=Math.max(r,a+o);if((d=this._createRange(i,l,a))&&l>r){var h=i.children[r];i.insertBefore(d.extractContents(),h)}}}}if(e.col!=t.col){i=this._e,o=e.col-t.col,n=Math.max(1,e.columnSpan-1);if(0!=o&&Math.abs(o)<n){r=this._ct==CellType.Cell&&this._g.rowHeaderPath?1:0;r+=this.columns.frozen;for(var c=0;c<i.children.length;c++){var u=i.children[c];s=u.children.length;if(wijmo_1.hasClass(u,"wj-row")){if(o>0){l=r,a=Math.min(r+o,s);(d=this._createRange(u,l,a))&&u.appendChild(d.extractContents())}if(o<0){var d;a=s,l=Math.max(r,a+o);if((d=this._createRange(u,l,a))&&l>r){h=u.children[r];u.insertBefore(d.extractContents(),h)}}}}}}}},e.prototype._createRange=function(e,t,i){if(i>t&&i<=e.children.length&&t>-1){this._docRange||(this._docRange=document.createRange());var o=this._docRange;return o.setStart(e,t),o.setEnd(e,i),o}return null},e.prototype._renderColHdrRow=function(e,t){if(t)return 1;var i=this._e.children[0];i||(i=wijmo_1.createElement('<div class="wj-row" role="row"></div>',this._e));var o=this._g,n=o?o.columnHeaders.rows.ariaLabel:null;wijmo_1.setAttribute(i,"aria-label",n),wijmo_1.setAttribute(i,"aria-selected",null);var r=0,s=this._g._getRowHeaderPath();s&&(r=this._renderRowHdrCell(i,-1,s.path));for(var l=0;l<this.columns.frozen&&l<this.columns.length;l++)r=this._renderColHdrCell(i,l,e,t,r);for(l=e.leftCol;l<=e.rightCol&&l>-1;l++)r=this._renderColHdrCell(i,l,e,t,r);return this._removeExtraCells(i,r),1},e.prototype._renderColHdrCell=function(t,i,o,n,r){var s=this.grid,l=this.columns[i];if(l.renderSize<=0)return r;if(n)return r+1;var a=t.children[r];if(a||(a=wijmo_1.createElement(e._HTML_CELL,t)),wijmo_1.setAttribute(a,"role","columnheader"),a&&this._recycle&&s._lazyRender){var h=a[e._INDEX_KEY];if(h&&-1==h.row&&h.col==i&&i>=this.columns.frozen)return r+1}if(a.textContent=this.columns[i].header,wijmo_1.setCss(a,{position:"fixed",left:l.pos,top:-32e3,width:l.renderSize,height:.1,overflow:"hidden",opacity:"0",pointerEvents:"none"}),l.describedById||this.columns.describedById){var c=[l.describedById,this.columns.describedById].join(" ").trim();wijmo_1.setAttribute(a,"aria-describedby",c||null)}if(s.allowSorting){var u="none";switch(s._getBindingColumn(this,0,l).currentSort){case"+":u="ascending";break;case"-":u="descending"}wijmo_1.setAttribute(a,"aria-sort",u)}return s.isReadOnly||(wijmo_1.setAttribute(a,"aria-readonly",l.isReadOnly),wijmo_1.setAttribute(a,"aria-required",l.getIsRequired())),a[e._INDEX_KEY]={row:-1,col:i,panel:this},r+1},e.prototype._renderRowHdrCell=function(t,i,o){var n=t.children[0];return n||(n=wijmo_1.createElement(e._HTML_CELL,t)),n.setAttribute("role",i<0?"columnheader":"rowheader"),n.textContent=o?o.toString():"",wijmo_1.setCss(n,{position:"fixed",left:-32e3,top:-32e3,width:.1,height:.1,overflow:"hidden",opacity:"0"}),n[e._INDEX_KEY]={row:i,col:-1,panel:this},1},e.prototype._renderRow=function(e,t,i,o){var n=this._g,r=this.rows[e];if(r.renderSize<=0)return o;var s=this._e.children[o];if(s||(s=wijmo_1.createElement('<div class="wj-row"></div>',this._e)),this._ct==CellType.Cell){s.setAttribute("role","row");var l=SelectionMode;switch(n.selectionMode){case l.Row:case l.RowRange:case l.ListBox:var a=r.isSelected||this._g._selHdl.selection.containsRow(e);wijmo_1.setAttribute(s,"aria-selected",!!a)}wijmo_1.setAttribute(s,"aria-level",r instanceof GroupRow?r.level+1:null),wijmo_1.setAttribute(s,"aria-expanded",r instanceof GroupRow?!r.isCollapsed:null),this.rows.ariaLabel&&wijmo_1.setAttribute(s,"aria-label",this.rows.ariaLabel)}var h=0;if(this._ct==CellType.Cell){var c=this._g._getRowHeaderPath();c&&(h=this._renderRowHdrCell(s,e,c.getValue(r.dataItem)))}for(var u=0;u<this.columns.frozen&&u<this.columns.length;u++)h=this._renderCell(s,e,u,t,i,h);for(u=t.leftCol;u<=t.rightCol&&u>-1;u++)h=this._renderCell(s,e,u,t,i,h);return this._removeExtraCells(s,h),o+1},e.prototype._renderCell=function(t,i,o,n,r,s){var l=this._g,a=l.getMergedRange(this,i,o);if(a){for(var h=Math.max(n.row,a.row);h<i;h++)if(this.rows[h].isVisible)return s;for(h=Math.max(n.col,a.col);h<o;h++)if(this.columns[h].isVisible)return s;var c=this.columns.frozen;if(c&&a.col<c&&a.col2>=c&&o>a.col)return s}var u=this.columns[o];if(u.renderSize<=0&&(!a||a.getRenderSize(this).width<=0))return s;var d=t.children[s];if(d&&!r&&this._recycle&&l._lazyRender&&!l.activeEditor){var _=d[e._INDEX_KEY];_&&_.row==i&&_.col==o&&_.rng==a&&i>=this.rows.frozen&&o>=this.columns.frozen&&(r=!0)}var g=SelectedState,p=this.getSelectedState(i,o,a),f=p==g.Cursor||p==g.Active;return d&&r?(wijmo_1.toggleClass(d,"wj-state-active",f),wijmo_1.toggleClass(d,"wj-state-selected",p==g.Cursor),wijmo_1.toggleClass(d,"wj-state-multi-selected",p==g.Selected),wijmo_1.setAttribute(d,"aria-selected",f||p!=g.None),f&&(this._activeCell=d),s+1):(d||(d=wijmo_1.createElement(e._HTML_CELL,t)),f&&(this._activeCell=d),this._ct==CellType.Cell&&(wijmo_1.setAttribute(d,"role","gridcell"),wijmo_1.setAttribute(d,"aria-selected",p!=g.None||f),wijmo_1.setAttribute(d,"aria-readonly",!l.canEditCell(i,o)||null),wijmo_1.setAttribute(d,"aria-required",u.getIsRequired())),l.cellFactory.updateCell(this,i,o,d,a),d[e._INDEX_KEY]={row:i,col:o,rng:a,panel:this},s+1)},e.prototype._removeExtraCells=function(e,t){for(var i=this._g.cellFactory;e.childElementCount>t;){var o=e.lastElementChild;e.removeChild(o),i.disposeCell(o)}},e.prototype._getViewRange=function(){var e=this._g,t=e._ptScrl,i=this._rows,o=this._cols,n=new CellRange(0,0,i.length-1,o.length-1);if(this._ct==CellType.Cell||this._ct==CellType.RowHeader){var r=-t.y+this._offsetY,s=e._szClient.height;if((h=Math.min(i.frozen,i.length-1))>0)r+=c=i[h-1].pos,s-=c;n.row=Math.min(i.length-1,Math.max(i.frozen,i.getItemAt(r+1))),n.row2=i.getItemAt(r+s);var l=e.hostElement;if(e._clipToScreen&&l){var a=l.getBoundingClientRect();a.top<0&&(n.row=Math.max(n.row,i.getItemAt(-a.top-e._ptScrl.y)-1)),a.bottom>innerHeight&&(n.row2=Math.min(n.row2,i.getItemAt(-a.top-e._ptScrl.y+innerHeight)+1))}}if(this._ct==CellType.Cell||this._ct==CellType.ColumnHeader){var h,c,u=-t.x,d=e._szClient.width;if((h=Math.min(o.frozen,o.length-1))>0)u+=c=o[h-1].pos,d-=c;n.col=Math.min(o.length-1,Math.max(o.frozen,o.getItemAt(u+1))),n.col2=o.getItemAt(u+d)}return i.length<=i.frozen&&(n.row=n.row2=-1),o.length<=o.frozen&&(n.col=n.col2=-1),n},e.prototype._getFrozenPos=function(){var e=this._rows.frozen,t=this._cols.frozen,i=e>0?this._rows[e-1]:null,o=t>0?this._cols[t-1]:null,n=i?i.pos+i.renderSize:0,r=o?o.pos+o.renderSize:0;return new wijmo_1.Point(r,n)},e._INDEX_KEY="wj-cell-index",e._HTML_CELL='<div class="wj-cell" tabindex="-1"></div>',e}();exports.GridPanel=GridPanel,function(e){e[e.None=0]="None",e[e.Cells=1]="Cells",e[e.ColumnHeaders=2]="ColumnHeaders",e[e.RowHeaders=4]="RowHeaders",e[e.AllHeaders=6]="AllHeaders",e[e.All=7]="All"}(AllowMerging=exports.AllowMerging||(exports.AllowMerging={}));var MergeManager=function(){function e(e){this._g=e}return e.prototype.getMergedRange=function(e,t,i,o){void 0===o&&(o=!0);var n=this._g,r=e.cellType,s=e.columns,l=e.rows,a=l[t],h=s[i];if(a instanceof _NewRowTemplate)return null;if(n.showGroups&&!n.childItemsPath&&a instanceof GroupRow&&a.dataItem instanceof wijmo_1.CollectionViewGroup&&r==CellType.Cell){var c=new CellRange(t,i);if(h.aggregate==wijmo_1.Aggregate.None){for(;c.col>0&&s[c.col-1].aggregate==wijmo_1.Aggregate.None&&c.col!=s.frozen;)c.col--;for(;c.col2<s.length-1&&s[c.col2+1].aggregate==wijmo_1.Aggregate.None&&c.col2+1!=s.frozen;)c.col2++}for(;c.col<i&&!s[c.col].visible;)c.col++;return c.isSingleCell?null:c}var u=!1,d=AllowMerging,_=CellType;switch(n.allowMerging){case d.None:u=!0;break;case d.Cells:u=r!=_.Cell;break;case d.ColumnHeaders:u=r!=_.ColumnHeader&&r!=_.TopLeft;break;case d.RowHeaders:u=r!=_.RowHeader&&r!=_.TopLeft;break;case d.AllHeaders:u=r==_.Cell}if(u)return null;if(s[i].allowMerging){c=new CellRange(t,i);var g=e._vrb,p=0,f=l.length-1;t>=l.frozen?!o||r!=CellType.Cell&&r!=CellType.RowHeader||n._vtRows<l.length&&g&&(p=g.topRow,f=g.bottomRow):f=l.frozen-1;for(var w=t-1;w>=p&&this._mergeCell(e,w,i,t,i);w--)c.row=w;for(var m=t+1;m<=f&&this._mergeCell(e,t,i,m,i);m++)c.row2=m;for(;c.row<t&&!l[c.row].visible;)c.row++;if(!c.isSingleCell)return c}if(l[t].allowMerging){c=new CellRange(t,i),g=e._vrb;var C=0,y=s.length-1;i>=s.frozen?!o||r!=CellType.Cell&&r!=CellType.ColumnHeader||n._vtCols<s.length&&g&&(C=g.leftCol,y=g.rightCol):y=s.frozen-1;for(var v=i-1;v>=C&&this._mergeCell(e,t,v,t,i);v--)c.col=v;for(var b=i+1;b<=y&&this._mergeCell(e,t,i,t,b);b++)c.col2=b;for(;c.col<i&&!s[c.col].visible;)c.col++;if(!c.isSingleCell)return c}return null},e.prototype._mergeCell=function(e,t,i,o,n){var r=e.rows[t],s=e.rows[o];if(r instanceof GroupRow||r instanceof _NewRowTemplate||s instanceof GroupRow||s instanceof _NewRowTemplate)return!1;if(t!=o&&e.rows.isFrozen(t)!=e.rows.isFrozen(o))return!1;if(i!=n&&e.columns.isFrozen(i)!=e.columns.isFrozen(n))return!1;if(t!=o){if(i>0&&(r.allowMerging&&this._mergeCell(e,t,i-1,t,i)||s.allowMerging&&this._mergeCell(e,o,i-1,o,i)))return!1;if(n<e.columns.length-1&&(r.allowMerging&&this._mergeCell(e,t,n,t,n+1)||s.allowMerging&&this._mergeCell(e,o,n,o,n+1)))return!1}return e.getCellData(t,i,!0)==e.getCellData(o,n,!0)},e}();exports.MergeManager=MergeManager;var HitTestInfo=function(){function e(t,i){var o;if(this._row=-1,this._col=-1,this._edge=0,i instanceof Element){if(wijmo_1.closest(i,".wj-flexgrid")!=t.hostElement)return;t=i}if(!(t instanceof Element)||t instanceof FlexGrid){if(t instanceof FlexGrid)o=this._g=t;else{if(!(t instanceof GridPanel))throw"First parameter should be a FlexGrid or GridPanel.";this._p=t,o=this._g=this._p.grid}i instanceof MouseEvent&&"mousedown"==i.type&&(o._rcBounds=null),i=wijmo_1.mouseToPage(i),this._pt=i.clone();var n=o.controlRect,r=o._szClient,s=o.topLeftCells,l=o._eTL,a=o.headersVisibility,h=HeadersVisibility,c=a&h.Row?s.columns.getTotalSize():0,u=a&h.Column?s.rows.getTotalSize():0,d=a&h.Column?u+l.offsetTop:0,_=o._eBL,g=_.offsetHeight;if(i.x-=n.left,i.y-=n.top,this._g.rightToLeft&&(i.x=n.width-i.x),!this._p&&i.x>=0&&i.y>=l.offsetTop&&r&&i.x<=r.width+c&&i.y<=r.height+d&&(i.y<d?this._p=i.x<c?o.topLeftCells:o.columnHeaders:i.y<_.offsetTop?this._p=i.x<c?o.rowHeaders:o.cells:this._p=i.x<c?o.bottomLeftCells:o.columnFooters),null!=this._p){var p=this._p.rows,f=this._p.columns,w=this._p.cellType,m=CellType,C=this._p._getFrozenPos(),y=w==m.TopLeft||w==m.ColumnHeader?u:w==m.BottomLeft||w==m.ColumnFooter?g:p.getTotalSize(),v=w==m.TopLeft||w==m.BottomLeft||w==m.RowHeader?c:f.getTotalSize();w==m.RowHeader||w==m.Cell?(i.y-=u,(i.y>C.y||C.y<=0)&&(i.y-=o._ptScrl.y,i.y+=this._p._getOffsetY())):w!=m.BottomLeft&&w!=m.ColumnFooter||(i.y-=_.offsetTop),w!=m.ColumnHeader&&w!=m.Cell&&w!=m.ColumnFooter||(i.x-=c,(i.x>C.x||C.x<=0)&&(i.x-=o._ptScrl.x)),w!=m.ColumnHeader&&w!=m.TopLeft||(i.y-=d-u),this._edge=0;var b=e._SZEDGE[this._g.isTouching?1:0];if(this._g.isTouching&&(b=e._SZEDGE[1],i.x-=b/2),this._row=i.y>y?-1:p.getItemAt(i.y),this._col=i.x>v?-1:f.getItemAt(i.x),this._row<0||this._col<0)return void(this._p=null);if(this._col>-1){var j=f[this._col];i.x-j.pos<=b&&(this._edge|=1),j.pos+j.renderSize-i.x<=b&&(this._edge|=4)}if(this._row>-1){var R=p[this._row];i.y-R.pos<=b&&(this._edge|=2),R.pos+R.renderSize-i.y<=b&&(this._edge|=8)}}}else{var S=wijmo_1.closest(t,".wj-cell"),E=S?S[GridPanel._INDEX_KEY]:null;E&&(this._row=E.row,this._col=E.col,this._rng=E.rng,this._p=E.panel,this._g=E.panel.grid)}}return Object.defineProperty(e.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellType",{get:function(){return this._p?this._p.cellType:CellType.None},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this._p?this._p.grid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._rng||(this._rng=new CellRange(this._row,this._col)),this._rng},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeLeft",{get:function(){return 0!=(1&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeTop",{get:function(){return 0!=(2&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeRight",{get:function(){return 0!=(4&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeBottom",{get:function(){return 0!=(8&this._edge)},enumerable:!0,configurable:!0}),e._SZEDGE=[5,30],e}();function softInput(){return wijmo_1._getModule("wijmo.input")}exports.HitTestInfo=HitTestInfo,exports.softInput=softInput;var CellFactory=function(){function e(){}return e.prototype.updateCell=function(t,i,o,n,r,s){var l=t.grid,a=l.rightToLeft,h=CellType,c=t.rows,u=t.columns,d=c[i],_=u[o],g=i,p=o,f=d instanceof GroupRow?d:null,w=d instanceof _NewRowTemplate?d:null,m=_.renderWidth,C=d.renderHeight,y=t.cellType,v="wj-cell",b="",j={display:""};if(0!=s&&n.firstElementChild&&(1==n.childNodes.length&&"checkbox"==n.firstElementChild.type||(n.textContent="")),r&&!r.isSingleCell){i=r.row,o=r.col,g=r.row2,p=r.col2,d=c[i],_=u[o],f=d instanceof GroupRow?d:null;var R=r.getRenderSize(t);C=R.height,m=R.width}var S=l._getBindingColumn(t,i,_),E=S.dataType||d.dataType,x=S.dataMap||d.dataMap,z=E==wijmo_1.DataType.Boolean&&!x,T=_.pos,H=d.pos;l._useFrozenDiv()&&y==h.Cell&&!l.editRange?(o<u.frozen&&g>=c.frozen&&(H+=l._ptScrl.y),i<c.frozen&&p>=u.frozen&&(T+=l._ptScrl.x)):(g<c.frozen&&(H-=l._ptScrl.y),p<u.frozen&&(T-=l._ptScrl.x)),a?j.right=T+"px":j.left=T+"px",j.top=H-t._getOffsetY()+"px",j.width=m+"px",j.height=C+"px",j.zIndex="",(i<c.frozen||o<u.frozen)&&(j.zIndex=i<c.frozen&&o<u.frozen?2:1);var M=!1,P=l.alternatingRowStep;P&&(r&&r.row!=r.row2||(M=d.visibleIndex%(P+1)==0,1==P&&(M=!M))),y==h.Cell?(f&&(v+=" wj-group"),M&&(v+=" wj-alt"),(i<c.frozen||o<u.frozen)&&(v+=" wj-frozen"),w&&(v+=" wj-new"),d.cssClass&&(v+=" "+d.cssClass),S.cssClass&&(v+=" "+S.cssClass)):(v+=" wj-header",M&&(v+=" wj-header-alt")),d.cssClassAll&&(v+=" "+d.cssClassAll),S.cssClassAll&&(v+=" "+S.cssClassAll);var A=SelectedState,L=t.getSelectedState(i,o,r);switch(L!=A.None&&y==h.Cell&&!z&&l.editRange&&l.editRange.contains(i,o)&&(L=A.None),L){case A.Active:v+=" wj-state-active";break;case A.Cursor:v+=" wj-state-selected wj-state-active";break;case A.Selected:v+=" wj-state-multi-selected"}g==c._lastFrozen&&(v+=" wj-frozen-row"),p==u._lastFrozen&&(v+=" wj-frozen-col"),(S.wordWrap||d.wordWrap)&&(v+=" wj-wrap"),(S.multiLine||d.multiLine)&&(v+=" wj-multiline");var I=S.getAlignment(d);if(I&&(b=" wj-align-"+I),j.paddingLeft=j.paddingRight=j.paddingTop=j.paddingBottom="",y==h.Cell&&l.rows.maxGroupLevel>-1&&o==l.columns.firstVisibleIndex&&l.treeIndent){var D=f?Math.max(0,f.level):l.rows.maxGroupLevel+1,O=l.treeIndent*D+l._cellPadLeft;a?j.paddingRight=O+"px":j.paddingLeft=O+"px"}if(0!=s){var N=t.getCellData(i,o,!1),B=t.getCellData(i,o,!0);if(y==h.Cell&&o==l.columns.firstVisibleIndex&&f&&f.hasChildren&&!this._isEditingCell(l,i,o)){var F=this._getTreeBtn(f);B=wijmo_1.escapeHtml(B)||f.getGroupHeader(),n.innerHTML=F.outerHTML+" "+B,b=""}else if(y==h.ColumnHeader&&S.currentSort&&l.showSort&&(g==l._getSortRowIndex()||S!=_))v+=" wj-sort-"+("+"==S.currentSort?"asc":"desc"),n.innerHTML=wijmo_1.escapeHtml(B)+"&nbsp;"+this._getSortIcon(S);else if(y!=h.RowHeader||o!=l._getEditColumnIndex()||B)if(y!=h.Cell||E!=wijmo_1.DataType.Boolean||x||f&&!wijmo_1.isBoolean(N))if(y==h.Cell&&this._isEditingCell(l,i,o)){var k=S.inputType||d.inputType;if(k||(k=E!=wijmo_1.DataType.Number||x?"text":"tel"),!x&&!S.mask&&!d.mask){var V=t.getCellData(i,o,!1);if(wijmo_1.isNumber(V)){var G=S.format||d.format,K=V.toString();if(G&&V!=Math.round(V)){var W=K.indexOf("e")<0?K.match(/\.(\d+)/)[1].length:20;G=G.replace(/([a-z])(\d*)(.*)/gi,"$01"+W+"$3")}B=wijmo_1.Globalize.formatNumber(V,G,!0)}}n.innerHTML=(S.multiLine||d.multiLine)&&"checkbox"!=k?'<textarea wrap="soft"></textarea>':'<input type="'+k+'"/>';var q=n.children[0];wijmo_1.addClass(q,"wj-grid-editor wj-form-control"),wijmo_1.disableAutoComplete(q),q.value=B,q.tabIndex=-1,q.required=S.getIsRequired(d),wijmo_1.setAttribute(q,"aria-required",q.required);var U=S.maxLength||d.maxLength;U&&(q.maxLength=U),q.style.textAlign=S.getAlignment(d);var Y=S.mask||d.mask;Y&&new wijmo_1._MaskProvider(q,Y),l._edtHdl._edt=q}else y==h.Cell&&(d.isContentHtml||S.isContentHtml)?n.innerHTML=B:n.textContent=B||"";else{var J=n.firstChild;J instanceof HTMLInputElement&&"checkbox"==J.type||(n.innerHTML='<input type="checkbox" class="wj-cell-check" tabindex="-1"/>',J=n.firstChild),J.checked=1==N,J.indeterminate=null==N,J.disabled=!l.canEditCell(i,o),J.disabled&&(J.style.cursor="default"),l.editRange&&l.editRange.contains(i,o)&&(l._edtHdl._edt=J)}else{var X=l.editableCollectionView,Z=X?X.currentEditItem:null;Z&&d.dataItem==Z?n.innerHTML='<span class="wj-glyph-pencil"></span>':d instanceof _NewRowTemplate&&(n.innerHTML='<span class="wj-glyph-asterisk"></span>')}if(y==h.Cell&&x&&softInput()&&l.showDropDown&&l.canEditCell(i,o)&&(S.dataMap&&0!=S.showDropDown||d.dataMap&&0!=d.showDropDown)){if(!e._ddBtn){var Q=e._WJC_DROPDOWN;F=wijmo_1.createElement('<button class="wj-btn wj-btn-glyph wj-right '+Q+'" type="button" tabindex="-1"><span class="wj-glyph-down"></span></button>');wijmo_1.setAriaLabel(F,wijmo_1.culture.FlexGrid.ariaLabels.toggleDropDown),wijmo_1.setAttribute(F,"aria-expanded",!1),e._ddBtn=F}var $=e._ddBtn.cloneNode(!0);n.appendChild($)}}if(y==h.RowHeader||y==h.ColumnHeader){var ee=y==h.RowHeader?!f&&!w&&d.allowDragging&&0!=(l.allowDragging&AllowDragging.Rows):_.allowDragging&&0!=(l.allowDragging&AllowDragging.Columns);wijmo_1.setAttribute(n,"draggable",ee?"true":null)}v+=b,n.className!=v&&(n.className=v);var te=n.style;for(var ie in j)te[ie]!==j[ie]&&(te[ie]=j[ie]);if(l._edtHdl._edt&&l._edtHdl._edt.parentElement==n){var oe=l._root,ne=oe.getBoundingClientRect(),re=n.getBoundingClientRect(),se=ne.top+oe.clientHeight-re.top,le=ne.left+oe.clientWidth-re.left;re.height>se&&(n.style.height=se+"px"),re.width>le&&(n.style.width=le+"px")}if((y==h.Cell||y==h.RowHeader)&&l._getShowErrors()){var ae=l._getError(t,i,o);l._edtHdl._setCellError(n,ae)}if(l.itemFormatter&&l.itemFormatter(t,i,o,n),l.formatItem.hasHandlers){var he=e._fmtRng;he?he.setRange(i,o,g,p):he=e._fmtRng=new CellRange(i,o,g,p);var ce=new FormatItemEventArgs(t,he,n);l.onFormatItem(ce)}},e.prototype.disposeCell=function(e){},e.prototype.getEditorValue=function(e){var t=e._edtHdl._edt;if(t instanceof HTMLInputElement&&"checkbox"==t.type)return t.checked;if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){var i=t.maxLength;return wijmo_1.isNumber(i)&&i>-1&&t.value.length>i?t.value.substr(0,i):t.value}return null},e.prototype._isEditingCell=function(e,t,i){return e.editRange&&e.editRange.contains(t,i)},e.prototype._getTreeBtn=function(t){var i=e._WJC_COLLAPSE,o=(t.isCollapsed?"":"down-")+(t.grid.rightToLeft?"left":"right"),n=wijmo_1.createElement('<button class="wj-btn wj-btn-glyph '+i+'" type="button" tabindex="-1"><span class="wj-glyph-'+o+'"></span></button>');return wijmo_1.setAriaLabel(n,wijmo_1.culture.FlexGrid.ariaLabels.toggleGroup),wijmo_1.setAttribute(n,"aria-expanded",!t.isCollapsed),n},e.prototype._getSortIcon=function(e){return'<span class="wj-glyph-'+("+"==e.currentSort?"up":"down")+'"></span>'},e._WJC_COLLAPSE="wj-elem-collapse",e._WJC_DROPDOWN="wj-elem-dropdown",e}();exports.CellFactory=CellFactory;var _WJC_CHECKBOX="wj-cell-check",_PAGE_SIZE=4,_EditHandler=function(){function e(e){var t=this;this._fullEdit=!1,this._list=null,this._g=e,this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1),this._evtChange=document.createEvent("HTMLEvents"),this._evtChange.initEvent("change",!0,!1),e.selectionChanging.addHandler(function(i,o){if(t.finishEditing()){var n=e._selHdl.selection.row;if(n!=o.row){var r=e.rows.length;(n>-1&&n<r?e.rows[n].dataItem:null)!=(o.row>-1&&o.row<r?e.rows[o.row].dataItem:null)&&t._commitRowEdits()}}else o.cancel=!0}),e.lostFocus.addHandler(function(){var e=wijmo_1.getActiveElement();e&&"fixed"==getComputedStyle(e).position?t.finishEditing():t._commitRowEdits()});var i=e.hostElement;e.addEventListener(i,"mousedown",function(i){if(!i.defaultPrevented&&0==i.button&&!e._mouseHdl._szRowCol){e.selection;var o=e.hitTest(i);if(o.cellType!=CellType.Cell&&o.cellType!=CellType.None)t.finishEditing();else if(o.cellType!=CellType.None){var n=wijmo_1.tryCast(i.target,HTMLInputElement);if(t._isNativeCheckbox(n)&&(n!=t.activeEditor&&(i.preventDefault(),t.startEditing(!1,o.row,o.col,!0,i)&&(n=t.activeEditor)),n&&"checkbox"==n.type&&!n.disabled&&!n.readOnly)){n.checked=!n.checked;var r=e._eFocus;r.tabIndex=0,r.focus(),t.finishEditing()}}}},!0),e.addEventListener(i,"click",function(e){t._isNativeCheckbox(e.target)&&(e.preventDefault(),e.stopImmediatePropagation())},!0),e.addEventListener(i,"compositionend",this._keypress.bind(this))}return e.prototype.startEditing=function(e,t,i,o,n){void 0===e&&(e=!0);var r=this._g,s=r._selHdl.selection;if(t=wijmo_1.asNumber(t,!0,!0),i=wijmo_1.asNumber(i,!0,!0),null==t&&(t=s.row),null==i&&(i=s.col),null==o&&(o=!0),!this._allowEditing(t,i))return!1;var l=r.getMergedRange(r.cells,t,i,!1);l||(l=new CellRange(t,i));var a=r.rows[t].dataItem;if(r.scrollIntoView(l.row,l.col,!0),!r.select(l,!0))return!1;if(!r.rows[t]||a!=r.rows[t].dataItem)return!1;if(l.equals(this._rng))return!0;if(this.activeEditor&&!this.finishEditing())return!1;var h=new CellRangeEventArgs(r.cells,l,n);if(!r.onBeginningEdit(h))return!1;var c=r.editableCollectionView,u=!1;c&&((u=(a=r.rows[t].dataItem)!=c.currentEditItem)&&r.onRowEditStarting(h),c.editItem(a),u&&(r.onRowEditStarted(h),this._edItem=a)),this._fullEdit=wijmo_1.asBoolean(e),this._rng=l,this._list=null;var d=r.rows[t],_=r._getBindingColumn(r.cells,t,r.columns[i]),g=_.dataMap||d.dataMap;g&&(this._list=g.getDisplayValues(a)),l.isSingleCell?this._updateEditorCell(t,i,u):r.refresh(!1);var p=this._edt;if(p){if("checkbox"==p.type)this._fullEdit=!1;else if(o){var f=0,w=p.value.length,m=!1,C=wijmo_1.culture.Globalize.numberFormat["%"]||"%",y=r.getCellData(t,i,!1);if(wijmo_1.isNumber(y)?m=p.value.indexOf(C)>-1:null==y&&(m=/^p/i.test(_.format))&&p.value.indexOf(C)<0&&(p.value+=C),m){var v=p.value;for(f=0,w=v.length;w>0&&(v[w-1]==C||" "==v[w-1]);)w--;for(;f<w&&v[f]==C;)f++}n&&"keydown"==n.type&&n.keyCode==wijmo_1.Key.Space&&(f=w),wijmo_1.setSelectionRange(p,f,w),wijmo_1.isIE()&&"right"==p.style.textAlign&&(p.style.paddingRight="1px")}r.onPrepareCellForEdit(h)}return null!=p&&!p.disabled&&!p.readOnly},e.prototype.finishEditing=function(e){var t=this._edt;if(!t)return this._removeListBox(),!0;var i=this._g,o=this._rng,n=new CellEditEndingEventArgs(i.cells,o),r=i.containsFocus(),s=i.hostElement.querySelector(".wj-control.wj-state-focused");if(s){var l=wijmo_1.Control.getControl(s);l&&l.onLostFocus(n)}if(n.cancel=e,!e&&i.validateEdits){var a=this._getValidationError();if(a){n.cancel=!0;var h=t.parentElement;h&&(this._setCellError(h,a),n.stayInEditMode=!0)}}if(!i.onCellEditEnding(n)&&n.stayInEditMode)return r?setTimeout(function(){t.select()}):t.select(),!1;if(!n.cancel){n.data=i.cells.getCellData(o.topRow,o.leftCol,!1);for(var c=i.cellFactory.getEditorValue(i),u=o.topRow;u<=o.bottomRow&&u<i.rows.length;u++)for(var d=o.leftCol;d<=o.rightCol&&d<i.columns.length;d++)i.cells.setCellData(u,d,c,!0,!1);t.value==this._edtValue&&t.dispatchEvent(this._evtChange)}this._edt=null,this._rng=null,this._list=null,this._edtValue=null,this._removeListBox();var _=wijmo_1.closest(t,".wj-cell");return wijmo_1.contains(_,wijmo_1.getActiveElement())&&_.focus(),!n.cancel&&n.refresh&&i._refreshOnEdit?i.refresh(!1):this._updateEditorCell(o.row,o.col,!1),r&&i.focus(),i.onCellEditEnded(n),!0},e.prototype._setCellError=function(e,t){""==t&&(t=null),wijmo_1.toggleClass(e,"wj-state-invalid",null!=t);var i=this._g.errorTip;i?i.setTooltip(e,t):wijmo_1.setAttribute(e,"title",t)},Object.defineProperty(e.prototype,"activeEditor",{get:function(){return this._edt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editRange",{get:function(){return this._rng},enumerable:!0,configurable:!0}),e.prototype.getClipString=function(e,t,i,o){var n,r=this,s=this._g,l=[],a=SelectionMode,h=t?"\r\n":"\n",c=t?",":"\t";if(!e)switch(e=s.selection,s.selectionMode){case a.Row:case a.RowRange:case a.ListBox:e.col=0,e.col2=s.columns.length-1;break;case a.MultiRange:var u=s.selectedRanges;if(u.length>1){var d=this._sameCols(u),_=this._sameRows(u);if(d||_){if((u=u.slice()).sort(function(e,t){var i=e.topRow-t.topRow;return i||e.leftCol-t.leftCol}),d){var g=[];return u.forEach(function(e){g.push(r.getClipString(e,t,i,o)),i=!1}),g.join(h)}var p;if(_)return u.forEach(function(e){var n=r.getClipString(e,t,i,o).split(h);null==p?(p=n,o=!1):n.forEach(function(e,t){p[t]+=c+e})}),p.join(h)}}}if(i&&(n=s.columnHeaders).rows.forEach(function(i,s){if(i.isVisible){var a=r._getRowClipString(n,s,e,t,o);l.push(a)}}),n=s.cells,s.selectionMode==a.ListBox)n.rows.forEach(function(i,s){if(i.isSelected&&i.isVisible){var a=r._getRowClipString(n,s,e,t,o);l.push(a)}});else for(var f=e.topRow;f<=e.bottomRow;f++)if(n.rows[f].isVisible){var w=this._getRowClipString(n,f,e,t,o);l.push(w)}return l.join(h)},e.prototype._getRowClipString=function(e,t,i,o,n){var r=[],s=e.rows[t];if(s.isVisible){if(n)for(var l=e.cellType==CellType.ColumnHeader?e.grid.topLeftCells:e.grid.rowHeaders,a=0;a<l.columns.length;a++)if(l.columns[a].isVisible){var h=l.getCellData(t,a,!0);r.push(this._getCellClipString(h,o))}for(a=i.leftCol;a<=i.rightCol;a++){if(e.columns[a].isVisible)!(h=e.getCellData(t,a,!0))&&s instanceof GroupRow&&a==e.columns.firstVisibleIndex&&(h=wijmo_1.toPlainText(s.getGroupHeader())),r.push(this._getCellClipString(h,o))}}return r.join(o?",":"\t")},e.prototype._getCellClipString=function(e,t){var i=null!=(e=e.replace(/\t/g," ")).match(/\n|^"|"$/);return t&&!i&&(i=e.indexOf(",")>-1),i&&(e='"'+(e=e.replace(/"/g,'""'))+'"'),e},e.prototype._sameRows=function(e){for(var t=e[0],i=1;i<e.length;i++)if(e[i].topRow!=t.topRow||e[i].bottomRow!=t.bottomRow)return!1;return!0},e.prototype._sameCols=function(e){for(var t=e[0],i=1;i<e.length;i++)if(e[i].leftCol!=t.leftCol||e[i].rightCol!=t.rightCol)return!1;return!0},e.prototype.setClipString=function(e,t){var i=this,o=this._g,n=null==t,r=SelectionMode;if(!t)switch(t=o.selection,o.selectionMode){case r.Row:case r.RowRange:case r.ListBox:t.col=0,t.col2=o.columns.length-1}t=wijmo_1.asType(t,CellRange);var s=this._parseClipString(wijmo_1.asString(e));n&&!t.isSingleCell&&s.length&&this._expandClipRows(s,t);var l=new CellRange(t.topRow,t.leftCol,t.topRow+s.length-1,t.leftCol+s[0].length-1),a=new CellRangeEventArgs(o.cells,l,e);if(!o.onPasting(a))return!1;l=new CellRange(t.topRow,t.leftCol);var h=o.editableCollectionView,c=!1,u=t.topRow;o.deferUpdate(function(){h&&s.length>1&&h.beginUpdate();for(var e=0;e<s.length&&u<o.rows.length;e++,u++){var n=o.rows[u];if(n.isVisible){for(var r=s[e],d=t.leftCol,_=0;_<r.length&&d<o.columns.length;_++,d++){var g=o.columns[d];if(g.isVisible){if(i._allowEditing(u,d)){var p=r[_],f=g.maxLength||n.maxLength;f&&(p=p.substr(0,f));var w=new CellRangeEventArgs(o.cells,new CellRange(u,d),p);o.onPastingCell(w)&&(h&&(h.editItem(o.rows[u].dataItem),i._edItem=h.currentEditItem),o.cells.setCellData(u,d,w.data)&&(o.onPastedCell(w),c=!0)),l.row2=Math.max(l.row2,u),l.col2=Math.max(l.col2,d)}}else _--}if(i._edItem&&h instanceof wijmo_1.CollectionView){var m=new wijmo_1.NotifyCollectionChangedEventArgs(wijmo_1.NotifyCollectionChangedAction.Change,i._edItem,u);h.onCollectionChanged(m)}}else e--}if(h&&s.length>1&&h.endUpdate(),o.select(l),o.onPasted(a),c&&wijmo_1.closest(o.hostElement,"form")){var C=wijmo_1.createElement("<input>",o.hostElement),y=document.createEvent("HTMLEvents");y.initEvent("change",!0,!1),C.dispatchEvent(y),wijmo_1.removeChild(C)}})},e.prototype._isNativeCheckbox=function(e){return e instanceof HTMLInputElement&&"checkbox"==e.type&&!e.disabled&&!e.readOnly&&wijmo_1.hasClass(e,_WJC_CHECKBOX)&&wijmo_1.closest(e,".wj-flexgrid")==this._g.hostElement},e.prototype._parseClipString=function(e){var t=[];e=(e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).replace(/\n$/,"");var i=0,o=0;for(i=0;i<e.length;i++){var n='"'==e[i]&&e[i+1]>=" ",r=!1,s=!1;for(o=i;o<e.length&&!s;o++){var l=e[o];switch(l){case'"':n&&(r=!r);break;case"\t":case"\n":r||(this._parseClipCell(t,e,i,o,"\n"==l),i=o,s=!0)}}if(o==e.length){this._parseClipCell(t,e,i,o,!1);break}}return 0==t.length&&t.push([""]),t},e.prototype._parseClipCell=function(e,t,i,o,n){e.length||e.push([]);var r=t.substr(i,o-i),s=r.length;s>1&&'"'==r[0]&&'"'==r[s-1]?r=(r=r.substr(1,s-2)).replace(/""/g,'"'):"\t"==r&&(r=""),e[e.length-1].push(r),n&&e.push([])},e.prototype._expandClipRows=function(e,t){for(var i=e.length,o=0,n=0;n<i;n++)o=Math.max(o,e[n].length);for(var r=this._g,s=0,l=0,a=t.topRow;a<=t.bottomRow;a++)r.rows[a].isVisible&&s++;for(var h=t.leftCol;h<=t.rightCol;h++)r.columns[h].isVisible&&l++;if((s>1||l>1)&&(1==s&&(s=i),1==l&&(l=o),l%o==0&&s%i==0)){for(h=o;h<l;h++)for(a=0;a<i;a++)e[a].push(e[a%i][h%o]);for(a=i;a<s;a++)e.push(e[a%i])}},e.prototype._updateEditorCell=function(e,t,i){var o=this._g,n=o.cells.getCellElement(e,t),r=o._useFrozenDiv()&&(e<o.frozenRows||t<o.frozenColumns);if(!n||r||o._hasPendingUpdates())o.refresh(!1);else if(o.onUpdatingView(new wijmo_1.CancelEventArgs)){if(this._updateCell(n),(i=i||o._getHasValidation())&&o.headersVisibility&HeadersVisibility.Row){var s=o.rowHeaders,l=o._getEditColumnIndex(),a=s.getCellElement(e,l);a&&this._updateCell(a)}o.onUpdatedView()}},e.prototype._updateCell=function(e){var t=new HitTestInfo(e,null),i=FlexGrid._WJS_UPDATING;t.panel&&(wijmo_1.addClass(e,i),t.grid.cellFactory.updateCell(t.panel,t.row,t.col,e,t.range),wijmo_1.removeClass(e,i))},e.prototype._getValidationError=function(){var e=this._g;if(e._getHasValidation()){var t=this._rng.row,i=this._rng.col,o=e.cellFactory.getEditorValue(e),n=e.getCellData(t,i,!1);if(e.setCellData(t,i,o,!0,!1)){var r=e._getError(e.cells,t,i);return e.setCellData(t,i,n,!1,!1),r}}return null},e.prototype._allowEditing=function(e,t){var i=this._g;if(i.isReadOnly||i.selectionMode==SelectionMode.None)return!1;if(e<0||e>=i.rows.length||t<0||t>=i.columns.length)return!1;var o=i.rows[e];if(!o||o.isReadOnly||!o.isVisible)return!1;var n=i._getBindingColumn(i.cells,e,i.columns[t]);return!(!n||n.isReadOnly||!n.isVisible)},e.prototype._commitRowEdits=function(){var e=this._g;if(this.finishEditing()&&this._edItem){var t=e.editableCollectionView;if(t&&(t.currentEditItem||t.currentAddItem)){var i=new CellRangeEventArgs(e.cells,e.selection);e.onRowEditEnding(i),t.commitEdit(),e.onRowEditEnded(i)}this._edItem=null}},e.prototype._keydown=function(e){var t=this._edt;switch(e.keyCode){case wijmo_1.Key.F2:return this._fullEdit=!this._fullEdit,e.preventDefault(),!0;case wijmo_1.Key.F4:return this._toggleListBox(e),e.preventDefault(),!0;case wijmo_1.Key.Space:return!t||"checkbox"!=t.type||t.disabled||t.readOnly||(t.checked=!t.checked,this.finishEditing(),e.preventDefault()),!0;case wijmo_1.Key.Enter:if(e.preventDefault(),t&&e.altKey){var i=e.target;if(i instanceof HTMLTextAreaElement&&"soft"==i.wrap){var o=i.value,n=i.selectionStart,r=i.selectionEnd;i.value=o.substr(0,n)+"\n"+o.substr(r),wijmo_1.setSelectionRange(i,n+1)}return!0}return!this.finishEditing();case wijmo_1.Key.Tab:return e.preventDefault(),!this.finishEditing();case wijmo_1.Key.Escape:return e.preventDefault(),this.finishEditing(!0),!0;case wijmo_1.Key.Up:case wijmo_1.Key.Down:case wijmo_1.Key.Left:case wijmo_1.Key.Right:case wijmo_1.Key.PageUp:case wijmo_1.Key.PageDown:case wijmo_1.Key.Home:case wijmo_1.Key.End:if(this._lbx)return this._keydownListBox(e);if(e.altKey)switch(e.keyCode){case wijmo_1.Key.Up:case wijmo_1.Key.Down:return this._toggleListBox(e),e.preventDefault(),!0}if(!this._fullEdit&&this.finishEditing())return!1}return!0},e.prototype._keydownListBox=function(e){var t=!0;if(this._lbx)switch(e.keyCode){case wijmo_1.Key.Up:e.altKey?this._toggleListBox(e):this._lbx.selectedIndex>0&&this._lbx.selectedIndex--;break;case wijmo_1.Key.Down:e.altKey?this._toggleListBox(e):this._lbx.selectedIndex++;break;case wijmo_1.Key.Home:case wijmo_1.Key.PageUp:this._lbx.selectedIndex=0;break;case wijmo_1.Key.End:case wijmo_1.Key.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:t=!1}return!!t&&(e.preventDefault(),!0)},e.prototype._keypress=function(e){var t=this._edt,i=e.charCode||32;if(t&&"checkbox"!=t.type&&wijmo_1.getActiveElement()==t&&this._list&&this._list.length>0&&i>=32){var o=t.selectionStart,n=t.value.substr(0,o);e.target==t&&e.charCode&&(n+=String.fromCharCode(e.charCode),o++);var r=this._findString(this._list,n,!0);r<0&&(r=this._findString(this._list,n,!1)),r>-1&&(t.value=this._list[r],wijmo_1.setSelectionRange(t,o,t.value.length),t.dispatchEvent(this._evtInput),e.preventDefault&&e.preventDefault())}},e.prototype._findString=function(e,t,i){i||(t=t.toLowerCase());for(var o=0;o<e.length;o++){var n=e[o];if(wijmo_1.isString(n)&&(i||(n=n.toLowerCase()),0==n.indexOf(t)))return o}return-1},e.prototype._toggleListBox=function(e,t){var i=this._g,o=i._selHdl.selection,n=i.isTouching;if(t||(t=o),this._lbx&&(this._removeListBox(),o.contains(t)))return i.activeEditor?i.activeEditor.focus():i.containsFocus()||i.focus(),!0;var r=i.rows[t.row],s=i._getBindingColumn(i.cells,t.row,i.columns[t.col]),l=s.dataMap&&0!=s.showDropDown||r.dataMap&&0!=r.showDropDown;return!(!softInput()||!l)&&(!(!softInput()||!this.startEditing(!0,t.row,t.col,!n,e))&&(this._lbx=this._createListBox(),this._lbx.showSelection(),n&&this._lbx.focus(),!0))},e.prototype._createListBox=function(){var e=this,t=this._g,i=t.activeEditor,o=this._rng,n=t.rows[o.row],r=t._getBindingColumn(t.cells,o.row,t.columns[o.col]),s=r.dataMap||n.dataMap,l=r.dropDownCssClass||n.dropDownCssClass,a=document.createElement("div");this._removeListBox(),wijmo_1.addClass(a,"wj-dropdown-panel wj-grid-listbox"),wijmo_1.addClass(a,l);var h=new mInput.ListBox(a,{maxHeight:4*n.renderHeight,isContentHtml:r.isContentHtml,itemsSource:s.getDisplayValues(n.dataItem),selectedValue:i?i.value:t.getCellData(o.row,o.col,!0)});h.addEventListener(h.hostElement,"click",function(){e._removeListBox(),t.focus(),e.finishEditing()}),h.lostFocus.addHandler(function(){e._removeListBox()}),h.selectedIndexChanged.addHandler(function(){var i=t.activeEditor;i&&(i.value=h.selectedValue,i.dispatchEvent(e._evtInput),wijmo_1.setSelectionRange(i,0,i.value.length))});var c=t.cells.getCellElement(o.row,o.col);if(c){wijmo_1.showPopup(a,c,!1,!1,!1);var u=c.querySelector("."+CellFactory._WJC_DROPDOWN);wijmo_1.setAttribute(u,"aria-expanded",!0)}else wijmo_1.showPopup(a,t.getCellBoundingRect(o.row,o.col)),a[wijmo_1.Control._OWNR_KEY]=t.hostElement;return h},e.prototype._removeListBox=function(){var e=this._lbx;e&&(this._lbx=null,wijmo_1.hidePopup(e.hostElement,function(){e.dispose()}))},e}();exports._EditHandler=_EditHandler;var AllowResizing,AutoSizeMode,AllowDragging,_AR_ALLCELLS=4,_WJC_DRAGSRC="wj-state-dragsrc";!function(e){e[e.None=0]="None",e[e.Columns=1]="Columns",e[e.Rows=2]="Rows",e[e.Both=3]="Both",e[e.ColumnsAllCells=e.Columns|_AR_ALLCELLS]="ColumnsAllCells",e[e.RowsAllCells=e.Rows|_AR_ALLCELLS]="RowsAllCells",e[e.BothAllCells=e.Both|_AR_ALLCELLS]="BothAllCells"}(AllowResizing=exports.AllowResizing||(exports.AllowResizing={})),function(e){e[e.None=0]="None",e[e.Headers=1]="Headers",e[e.Cells=2]="Cells",e[e.Both=3]="Both"}(AutoSizeMode=exports.AutoSizeMode||(exports.AutoSizeMode={})),function(e){e[e.None=0]="None",e[e.Columns=1]="Columns",e[e.Rows=2]="Rows",e[e.Both=3]="Both"}(AllowDragging=exports.AllowDragging||(exports.AllowDragging={}));var _MouseHandler=function(){function e(e){var t=this;this._tsLast=0;var i=e.hostElement,o=e.addEventListener.bind(e),n=e.removeEventListener.bind(e);this._g=e,this._dvMarker=wijmo_1.createElement('<div class="wj-marker">&nbsp;</div>'),o(i,"mousedown",function(i){if(e._rcBounds=null,!i.defaultPrevented&&0==i.button){var l=i.target;if(!e.containsFocus()){var a=l instanceof HTMLElement&&l.tabIndex>-1?l:e._eFocus;e._setFocusNoScroll(a)}setTimeout(function(){i.defaultPrevented||e.focus()});var h=wijmo_1.closest(l,".wj-flexgrid");if(h&&h!=e.hostElement||!e.activeEditor&&e._isInputElement(l)){var c=e.hitTest(i),u=CellType;switch(c.cellType){case u.Cell:e.select(c.range,!1),l instanceof HTMLElement&&"root"!=l.getAttribute("wj-part")&&l.focus();break;case u.ColumnHeader:case u.ColumnFooter:e.scrollIntoView(-1,c.col);break;case u.RowHeader:e.scrollIntoView(c.row,-1)}return}var d=document;n(d,"mousemove"),n(d,"mouseup"),o(d,"mousemove",r),o(d,"mouseup",s),t._isDown=!0,t._mousedown(i)}});var r=function(e){t._mousemove(e)},s=function(e){t._isDown=!1,n(document,"mousemove"),n(document,"mouseup"),t._mouseup(e)};o(i,"mouseup",function(e){t._tsLast=Date.now()}),o(i,"mouseenter",function(t){e._rcBounds=null}),o(i,"mousemove",this._hover.bind(this)),o(i,"dblclick",this._dblclick.bind(this)),o(i,"click",this._click.bind(this)),o(i,"selectstart",function(t){e._isInputElement(t.target)||t.preventDefault()}),o(i,"wheel",function(t){if(!t.defaultPrevented&&t.deltaY&&!t.ctrlKey&&!t.metaKey){var i=e._root,o=t.deltaY,n=0;if(i.scrollHeight>i.offsetHeight&&wijmo_1.closest(t.target,".wj-flexgrid")==e.hostElement){switch(t.deltaMode){case 1:n=e.rows.defaultSize*(o<0?-1:1);break;case 2:n=i.clientHeight*(o<0?-1:1);break;case 0:default:wijmo_1.isSafari()&&(o=wijmo_1.clamp(o,-150,150)),n=o}e.focus(),i.scrollTop+=n,t.preventDefault()}}}),o(i,"dragstart",this._dragstart.bind(this)),o(i,"dragover",this._dragover.bind(this)),o(i,"dragleave",this._dragover.bind(this)),o(i,"drop",this._drop.bind(this)),o(i,"dragend",this._dragend.bind(this)),this._enableTouchResizing()}return e.prototype.resetMouseState=function(){this._updating&&(this._updating=!1,this._g.endUpdate()),this._dragSrc&&wijmo_1.removeClass(this._dragSrc,_WJC_DRAGSRC),this._showDragMarker(null);var e=this._g.hostElement;e&&(e.style.cursor="");var t=this._g;t.removeEventListener(document,"mousemove"),t.removeEventListener(document,"mouseup"),this._tsLast=Date.now(),this._eMouse=null,this._isDown=null,this._htDown=null,this._lbSelRows=null,this._szRowCol=null,this._szArgs=null,t._rcBounds=null},e.prototype._enableTouchResizing=function(){var e=this,t=this._g,i=t.hostElement,o="ontouchstart"in window?["touchstart","touchmove","touchend"]:"onpointerdown"in window?["pointerdown","pointermove","pointerup"]:null;o&&(t.addEventListener(i,o[0],function(o){if((null==o.pointerType||"touch"==o.pointerType)&&!wijmo_1.closest(o.target,".wj-elem-filter")){var n=wijmo_1.closest(o.target,".wj-cell");n instanceof HTMLElement&&(t._rcBounds=null,e._htDown=null,e._hover(o),e._szRowCol&&(n.removeAttribute("draggable"),i.style.touchAction="none",e._mousedown(o),o.preventDefault()))}}),t.addEventListener(i,o[1],function(t){null!=t.pointerType&&"touch"!=t.pointerType||e._szRowCol&&(e._mousemove(t),t.preventDefault())}),t.addEventListener(i,o[2],function(t){if((null==t.pointerType||"touch"==t.pointerType)&&e._szRowCol){if(e._szArgs)e._finishResizing(e._eMouse);else{var o=wijmo_1.closest(t.target,".wj-cell");o instanceof HTMLElement&&o.click()}e.resetMouseState(),i.style.touchAction=""}}))},e.prototype._mousedown=function(e){var t=this._g,i=t.hitTest(e),o=i.cellType,n=e.ctrlKey||e.metaKey,r=e.target,s=CellType;if(this._selDown=t.selection,i.panel==t.cells){if(wijmo_1.closestClass(r,CellFactory._WJC_DROPDOWN))return t._edtHdl._toggleListBox(e,i.range),void e.preventDefault();if(t.editRange&&t.editRange.contains(i.range))return}var l=wijmo_1.getActiveElement();if(r!=l||!t._isInputElement(r)){if(o==s.None)return t.finishEditing(),void(r!=t._root&&r!=t._fCt&&t._edtHdl._commitRowEdits());if(this._htDown=i,this._eMouse=e,null!=this._szRowCol)return l!=t._eFocus&&(t._eFocus.tabIndex=0,t._eFocus.focus()),void this._handleResizing(e);if(!(o==s.RowHeader&&i.edgeBottom&&t.allowResizing&AllowResizing.Rows&&this._getResizeRow(i))){switch(o){case s.Cell:case s.RowHeader:n&&t.selectionMode==SelectionMode.ListBox&&this._startListBoxSelection(i.row),this._mouseSelect(e,e.shiftKey),o==s.RowHeader&&0==(t.allowDragging&AllowDragging.Rows)&&(e.preventDefault(),t.focus())}if(o==s.Cell&&t.rows.maxGroupLevel>-1){var a=wijmo_1.tryCast(t.rows[i.row],GroupRow),h=null!=wijmo_1.closestClass(r,CellFactory._WJC_COLLAPSE);if(wijmo_1.isIE9()&&t.showMarquee){var c=a?t.cells.getCellElement(i.row,i.col):null,u=c?c.querySelector("."+CellFactory._WJC_COLLAPSE):null,d=u?wijmo_1.Rect.fromBoundingRect(u.getBoundingClientRect()):null,_=e.touches||e;h=d&&d.contains(new wijmo_1.Point(_.clientX,_.clientY))}h&&(n?t.collapseGroupsToLevel(a.isCollapsed?a.level+1:a.level):a.isCollapsed=!a.isCollapsed,this.resetMouseState())}}}},e.prototype._mousemove=function(e){if(null!=this._htDown){if(0==e.buttons&&this._eMouse&&e.timeStamp-this._eMouse.timeStamp>600)return void this.resetMouseState();if(this._eMouse=e,this._szRowCol)this._handleResizing(e);else switch(this._htDown.cellType){case CellType.Cell:this._mouseSelect(e,!0);break;case CellType.RowHeader:0==(this._g.allowDragging&AllowDragging.Rows)&&this._mouseSelect(e,!0)}}},e.prototype._mouseup=function(e){if(!this._g.isTouching||!(this._dragSrc||e.target instanceof HTMLHtmlElement)){var t=this._g,i=t.hitTest(e),o=this._htDown,n=SelectionMode;if(o&&!e.defaultPrevented)if(this._szArgs)this._finishResizing(e);else if(o.panel!=t.topLeftCells||this._szArgs)o.panel!=t.columnHeaders||e.dataTransfer?o.panel==t.cells&&(this._szRowCol||e.ctrlKey||e.metaKey||e.shiftKey||i.panel==o.panel&&i.range.equals(o.range)&&t.selection.equals(this._selDown)&&t._edtHdl.startEditing(!0,i.row,i.col,!0,e)):i.panel==o.panel&&i.col==o.col&&!i.edgeRight&&i.col>-1&&this._clickSort(e,i);else if(i.panel==o.panel&&i.row==o.row&&i.col==o.col&&t.rows.length&&t.columns.length)switch(t.selectionMode){case n.None:case n.Cell:break;default:t.select(new CellRange(0,0,t.rows.length-1,t.columns.length-1))}this.resetMouseState()}},e.prototype._click=function(e){Date.now()-this._tsLast>50&&!e.pointerType&&this._handleClick(e)},e.prototype._handleClick=function(e){var t=this._g,i=e.target,o=new HitTestInfo(i,null),n=o.panel,r=SelectionMode;if(!e.defaultPrevented&&o.grid==t&&!t._isInputElement(i))if(n==t.topLeftCells)switch(t.selectionMode){case r.None:case r.Cell:break;default:t.rows.length&&t.columns.length&&t.select(new CellRange(0,0,t.rows.length-1,t.columns.length-1))}else if(n==t.columnHeaders)this._clickSort(e,o);else if(n==t.rowHeaders)switch(t.selectionMode){case r.None:case r.Cell:break;default:t.rows.length&&t.columns.length&&t.select(new CellRange(o.row,0,o.row,t.columns.length-1))}else if(n==t.cells)if(o.row<0)this._clickSort(e,o);else if(wijmo_1.closestClass(i,CellFactory._WJC_COLLAPSE)){var s=t.rows[o.row];s instanceof GroupRow&&(e.ctrlKey?t.collapseGroupsToLevel(s.isCollapsed?s.level+1:s.level):s.isCollapsed=!s.isCollapsed)}else wijmo_1.closestClass(i,CellFactory._WJC_DROPDOWN)?t._edtHdl._toggleListBox(e,o.range):t.select(o.range)},e.prototype._clickSort=function(e,t){var i=this._g,o=i.collectionView,n=e.ctrlKey||e.metaKey;if(o&&o.canSort&&i.allowSorting){t.row;var r=t.panel.columns[t.col],s=i._getBindingColumn(t.panel,t.row,r),l=s?s._getBindingSort():null;if(s.allowSorting&&l){if(r==s){var a=i.getMergedRange(t.panel,t.row,t.col,!1);if(a&&a.columnSpan>1)return}for(var h=t.grid.collectionView.sortDescriptions,c=null,u=0;u<h.length;u++)if(h[u].property==l){c=!h[u].ascending;break}if(null==c){if(n)return;c=!0}var d=new CellRangeEventArgs(t.panel,t.range,e);i.onSortingColumn(d)&&(i._edtHdl._commitRowEdits(),n?h.clear():h.splice(0,h.length,new wijmo_1.SortDescription(l,c)),i.onSortedColumn(d))}}},e.prototype._dblclick=function(e){var t,i=this._g,o=i.hitTest(e),n=o.cellType,r=i.selection,s=o.range;if(!e.defaultPrevented)if(o.edgeRight&&i.allowResizing&AllowResizing.Columns){if(n==CellType.ColumnHeader||n==CellType.Cell&&i.allowResizing&_AR_ALLCELLS){e.preventDefault(),e.ctrlKey&&r.containsColumn(o.col)&&(s=r);for(var l=s.leftCol;l<=s.rightCol;l++)i.columns[l].allowResizing&&(t=new CellRangeEventArgs(i.cells,new CellRange(-1,l)),i.onAutoSizingColumn(t)&&i.onResizingColumn(t)&&(i.autoSizeColumn(l),i.onResizedColumn(t),i.onAutoSizedColumn(t)))}else n==CellType.TopLeft&&o.panel.columns[o.col].allowResizing&&(e.preventDefault(),t=new CellRangeEventArgs(o.panel,new CellRange(-1,o.col)),i.onAutoSizingColumn(t)&&i.onResizingColumn(t)&&(i.autoSizeColumn(o.col,!0),i.onAutoSizedColumn(t),i.onResizedColumn(t)));this.resetMouseState()}else if(o.edgeBottom&&i.allowResizing&AllowResizing.Rows){if(n==CellType.RowHeader||n==CellType.Cell&&i.allowResizing&_AR_ALLCELLS){e.ctrlKey&&r.containsRow(o.row)&&(s=r);for(var a=s.topRow;a<=s.bottomRow;a++)i.rows[a].allowResizing&&(t=new CellRangeEventArgs(i.cells,new CellRange(a,-1)),i.onAutoSizingRow(t)&&i.onResizingRow(t)&&(i.autoSizeRow(a),i.onResizedRow(t),i.onAutoSizedRow(t)))}else n==CellType.TopLeft&&o.panel.rows[o.row].allowResizing&&(t=new CellRangeEventArgs(o.panel,new CellRange(o.row,-1)),i.onAutoSizingRow(t)&&i.onResizingRow(t)&&(i.autoSizeRow(o.row,!0),i.onResizedRow(t),i.onAutoSizedRow(t)));this.resetMouseState()}else;},e.prototype._hover=function(e){if(!this._isDown){var t=this._g,i=t.hitTest(e),o=(i.panel,i.cellType),n="";return this._szRowCol=null,(o==CellType.ColumnHeader||o==CellType.TopLeft||o==CellType.Cell&&t.allowResizing&_AR_ALLCELLS)&&i.edgeRight&&0!=(t.allowResizing&AllowResizing.Columns)&&(this._szRowCol=this._getResizeCol(i)),(o==CellType.RowHeader||o==CellType.TopLeft||o==CellType.Cell&&t.allowResizing&_AR_ALLCELLS)&&i.edgeBottom&&0!=(t.allowResizing&AllowResizing.Rows)&&(this._szRowCol=this._getResizeRow(i)),this._szRowCol instanceof Column?n="col-resize":this._szRowCol instanceof Row&&(n="row-resize"),this._szStart=this._szRowCol?this._szRowCol.renderSize:0,t.hostElement.style.cursor=n,i}return null},e.prototype._getResizeCol=function(e){for(var t=e.panel.columns,i=t[e.col],o=e.col+1;o<t.length;o++){if((n=t[o]).visible){n.renderSize<1&&(i=n);break}}if(e.col==t.length-1&&(e.cellType==CellType.TopLeft||e.cellType==CellType.RowHeader)){t=this._g.columns;for(o=0;o<t.length;o++){var n;if((n=t[o]).visible){n.renderSize<1&&(i=n);break}}}return i.allowResizing?i:null},e.prototype._getResizeRow=function(e){for(var t=e.panel.rows,i=t[e.row],o=e.row+1;o<t.length;o++){if((n=t[o]).visible){n.renderSize<1&&(i=n);break}}if(e.row==t.length-1&&(e.cellType==CellType.TopLeft||e.cellType==CellType.ColumnHeader)){t=this._g.rows;for(o=0;o<t.length;o++){var n;if((n=t[o]).visible){n.renderSize<1&&(i=n);break}}}return i.allowResizing?i:null},e.prototype._mouseSelect=function(e,t){var i=this,o=this._g;if(e&&this._htDown&&this._htDown.panel&&o.selectionMode!=SelectionMode.None){var n=new HitTestInfo(this._htDown.panel,e);this._handleSelection(n,t),!wijmo_1.isIE9()&&e.button>=0&&e.target!=o._root&&(n=new HitTestInfo(o,e)).cellType!=CellType.Cell&&n.cellType!=CellType.RowHeader&&setTimeout(function(){i._isDown&&i._eMouse&&i._mouseSelect(i._eMouse,t)},100)}},e.prototype._handleResizing=function(t){if(t.preventDefault(),this._szRowCol instanceof Column){var i=this._g,o=wijmo_1.mouseToPage(t).x,n=Math.round(Math.max(e._SZ_MIN,this._szStart+(o-this._htDown.point.x)*(i.rightToLeft?-1:1)));if(this._szRowCol.renderSize!=n){if(null==this._szArgs){var r=i.rowHeaders.columns.indexOf(this._szRowCol)>-1?i.rowHeaders:i.cells;this._szArgs=new CellRangeEventArgs(r,new CellRange(-1,this._szRowCol.index))}this._szArgs.cancel=!1,i.onResizingColumn(this._szArgs)&&(i.deferResizing?this._showResizeMarker(n):this._szRowCol.width=n)}}if(this._szRowCol instanceof Row){i=this._g;var s=wijmo_1.mouseToPage(t).y;n=Math.round(Math.max(e._SZ_MIN,this._szStart+(s-this._htDown.point.y)));if(this._szRowCol.renderSize!=n){if(null==this._szArgs){r=i.columnHeaders.rows.indexOf(this._szRowCol)>-1?i.columnHeaders:i.cells;this._szArgs=new CellRangeEventArgs(r,new CellRange(this._szRowCol.index,-1))}this._szArgs.cancel=!1,i.onResizingRow(this._szArgs)&&(i.deferResizing?this._showResizeMarker(n):this._szRowCol.height=n)}}},e.prototype._dragstart=function(e){var t=this._g,i=this._htDown,o=AllowDragging;if(i){if(this._dragSrc=null,this._htDrag=null,!this._szRowCol){var n=new CellRangeEventArgs(i.panel,i.range);if(i.cellType==CellType.ColumnHeader&&t.allowDragging&o.Columns&&i.col>-1&&t.columns[i.col].allowDragging)t.onDraggingColumn(n)?this._dragSrc=e.target:e.preventDefault();else if(i.cellType==CellType.RowHeader&&t.allowDragging&o.Rows&&i.row>-1&&t.rows[i.row].allowDragging){var r=t.rows[i.row];r instanceof GroupRow||r instanceof _NewRowTemplate||(t.onDraggingRow(n)?this._dragSrc=e.target:e.preventDefault())}else i.cellType==CellType.TopLeft&&t.allowDragging&o.Columns&&i.col>-1&&t.topLeftCells.columns[i.col].allowDragging&&(t.onDraggingColumn(n)?this._dragSrc=e.target:e.preventDefault())}this._dragSrc&&e.dataTransfer&&!e.defaultPrevented&&(this._htDrag=i,wijmo_1._startDrag(e.dataTransfer,"move"),e.stopPropagation(),wijmo_1.addClass(this._dragSrc,_WJC_DRAGSRC),t.beginUpdate(),this._updating=!0)}},e.prototype._dragend=function(e){this._dragSrc=null,this._htDrag=null,this.resetMouseState()},e.prototype._dragover=function(e){var t=this._g,i=this._hitTest(e),o=this._dragSrc?this._htDrag:null,n=CellType,r=!1;if(o&&i.cellType==o.cellType){var s=new CellRangeEventArgs(i.panel,i.range,o);i.cellType==n.ColumnHeader?(s.cancel=!t.columns.canMoveElement(o.col,i.col),r=t.onDraggingColumnOver(s)):i.cellType==n.RowHeader?(s.cancel=!t.rows.canMoveElement(o.row,i.row),r=t.onDraggingRowOver(s)):i.cellType==n.TopLeft&&(s.cancel=!t.topLeftCells.columns.canMoveElement(o.col,i.col),r=t.onDraggingColumnOver(s))}if(r?(e.dataTransfer.dropEffect="move",this._showDragMarker(i),e.preventDefault(),e.stopPropagation()):this._showDragMarker(null),o&&t.autoScroll){var l=t.controlRect,a=t.scrollPosition,h=wijmo_1.Control._DRAG_SCROLL_EDGE,c=wijmo_1.Control._DRAG_SCROLL_STEP;o.panel==t.columnHeaders?(e.pageX-l.left<h&&(a.x+=c),l.right-e.pageX<h&&(a.x-=c)):o.panel==t.rowHeaders&&(e.pageY-l.top<h&&(a.y+=c),l.bottom-e.pageY<h&&(a.y-=c)),a.equals(t._ptScrl)||(t.scrollPosition=a,t._rcBounds=null)}},e.prototype._drop=function(e){var t=this._g,i=this._hitTest(e),o=this._dragSrc?this._htDrag:null,n=CellType;if(o&&i.cellType==o.cellType){var r=t.selection,s=new CellRangeEventArgs(i.panel,i.range,o);i.cellType==n.ColumnHeader?(t.columns.moveElement(o.col,i.col),t.select(r.row,i.col),t.onDraggedColumn(s)):i.cellType==n.RowHeader?(t.rows.moveElement(o.row,i.row),t.select(i.row,r.col),t.onDraggedRow(s)):i.cellType==n.TopLeft&&(t.topLeftCells.columns.moveElement(o.col,i.col),t.onDraggedColumn(s))}this.resetMouseState()},e.prototype._hitTest=function(e){var t=this._g;return t._rcBounds=null,t.hitTest(e)},e.prototype._showResizeMarker=function(e){var t=this._g,i=this._dvMarker,o=t.cells.hostElement;i.parentElement!=o&&o.appendChild(i);var n,r=this._szArgs.panel.cellType,s=CellType;this._szRowCol instanceof Column?(n={left:this._szRowCol.pos+e-1,top:-1e3,right:"",bottom:0,width:3,height:""},r!=s.TopLeft&&r!=s.RowHeader||(n.left-=t._eTL.offsetWidth),r==s.Cell&&this._szRowCol.index<t.frozenColumns&&(n.left-=t.scrollPosition.x),t.rightToLeft&&(n.left=o.clientWidth-n.left-n.width)):(n={left:-1e3,top:this._szRowCol.pos+e-1,right:0,bottom:"",width:"",height:3},r!=s.TopLeft&&r!=s.ColumnHeader||(n.top-=t._eTL.offsetHeight),r==s.Cell&&this._szRowCol.index<t.frozenRows&&(n.top-=t.scrollPosition.y)),wijmo_1.setCss(i,n)},e.prototype._showDragMarker=function(e){var t=this._g,i=this._dvMarker;if(!e||!e.panel)return wijmo_1.removeChild(i),void(this._rngTarget=null);if(!e.range.equals(this._rngTarget)){this._rngTarget=e.range;var o=e.panel.hostElement;i.parentElement!=o&&o.appendChild(i);var n=CellType,r={left:0,top:0,width:6,height:6,right:"",bottom:""};switch(e.cellType){case n.TopLeft:case n.ColumnHeader:r.height=e.panel.height;var s=e.panel.columns[e.col];r.left=s.pos-r.width/2,this._htDown&&e.col>this._htDown.col&&(r.left+=s.renderWidth),e.cellType==n.ColumnHeader&&e.col<t.frozenColumns&&(r.left-=t.scrollPosition.x),t.rightToLeft&&(r.left=i.parentElement.clientWidth-r.left-r.width);break;case n.RowHeader:r.width=e.panel.width;var l=e.panel.rows[e.row];r.top=l.pos-r.height/2,e.row>this._htDown.row&&(r.top+=l.renderHeight),e.row<t.frozenRows&&(r.top-=t.scrollPosition.y)}wijmo_1.setCss(i,r)}},e.prototype._finishResizing=function(t){var i=this._g,o=i.selection,n=this._szArgs,r=this._eMouse&&this._eMouse.ctrlKey,s=CellType;if(n&&!n.cancel){if(n.col>-1){var l=n.col,a=wijmo_1.mouseToPage(t).x,h=Math.round(Math.max(e._SZ_MIN,this._szStart+(a-this._htDown.point.x)*(this._g.rightToLeft?-1:1)));if(n.panel.columns[l].width=Math.round(h),i.onResizedColumn(n),r&&this._htDown.cellType==s.ColumnHeader&&o.containsColumn(l))for(var c=o.leftCol;c<=o.rightCol;c++)i.columns[c].allowResizing&&c!=l&&(n=new CellRangeEventArgs(i.cells,new CellRange(-1,c)),i.onResizingColumn(n)&&(i.columns[c].size=i.columns[l].size,i.onResizedColumn(n)))}if(n.row>-1){l=n.row;var u=wijmo_1.mouseToPage(t).y;h=Math.round(Math.max(e._SZ_MIN,this._szStart+(u-this._htDown.point.y)));if(n.panel.rows[l].height=Math.round(h),i.onResizedRow(n),r&&this._htDown.cellType==s.RowHeader&&o.containsRow(l))for(var d=o.topRow;d<=o.bottomRow;d++)i.rows[d].allowResizing&&d!=l&&(n=new CellRangeEventArgs(i.cells,new CellRange(d,-1)),i.onResizingRow(n)&&(i.rows[d].size=i.rows[l].size,i.onResizedRow(n)))}}},e.prototype._startListBoxSelection=function(e){var t=this._g.rows,i=this._lbSelRows={};this._lbSelState=!t[e].isSelected,t.forEach(function(e,t){e.isSelected&&(i[t]=!0)})},e.prototype._handleSelection=function(e,t){var i=this._g,o=i.rows,n=i._selHdl.selection,r=new CellRange(e.row,e.col);if(e.row>-1&&e.col>-1)if(null!=this._lbSelRows){var s=!1;r=new CellRange(e.row,e.col,this._htDown.row,this._htDown.col);for(var l=0;l<o.length;l++){var a=r.containsRow(l)?this._lbSelState:null!=this._lbSelRows[l];if(a!=o[l].isSelected){var h=new CellRangeEventArgs(i.cells,new CellRange(l,n.col,l,n.col2));i.onSelectionChanging(h)&&(o[l]._setFlag(RowColFlags.Selected,a,!0),s=!0,i.onSelectionChanged(h))}}s&&i.refreshCells(!1,!0,!0),i.scrollIntoView(e.row,e.col)}else{if(t&&(i.anchorCursor?(r.row=n.row,r.col=n.col):(r.row2=n.row2,r.col2=n.col2)),i.selectionMode==SelectionMode.MultiRange){var c=i._mouseHdl._eMouse,u=i._selHdl.extendedSelection;if(c&&(c.ctrlKey||c.metaKey)){var d=i.selection;d.intersects(r)||u.push(d)}else u.clear()}e.cellType==CellType.RowHeader?(r.col=0,r.col2=i.columns.length-1,i.select(r,!1),i.scrollIntoView(e.row,-1)):i.select(r)}},e._SZ_MIN=0,e}();exports._MouseHandler=_MouseHandler,wijmo_1._registerModule("wijmo.grid",selfModule);

/***/ }),

/***/ "../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.input.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
﻿/*!
    *
    * Wijmo Library 5.20192.631
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

var __extends=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wijmo_1=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js"),selfModule=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.input.js");wijmo_1._addCultureInfo("InputNumber",{ariaLabels:{incVal:"Increase Value",decVal:"Decrease Value"}});var InputNumber=function(t){function e(e,i){var o=t.call(this,e)||this;o._value=null,o._min=null,o._max=null,o._format="",o._step=null,o._showBtn=!0,o._readOnly=!1,o.textChanged=new wijmo_1.Event,o.valueChanged=new wijmo_1.Event;var n=o.hostElement;wijmo_1.setAttribute(n,"role","spinbutton",!0);var s=o.getTemplate();o.applyTemplate("wj-control wj-content wj-inputnumber",s,{_tbx:"input",_btnUp:"btn-inc",_btnDn:"btn-dec"},"input");var r=wijmo_1.culture.InputNumber.ariaLabels;wijmo_1.setAriaLabel(o._btnUp.querySelector("button"),r.incVal),wijmo_1.setAriaLabel(o._btnDn.querySelector("button"),r.decVal),o._tbx.type.match(/number/i)&&(o.inputType="");var a=o._tbx;a.autocomplete="off",a.spellcheck=!1,o._updateSymbols();var l=o.addEventListener.bind(o);l(a,"keypress",o._keypress.bind(o)),l(a,"keydown",o._keydown.bind(o)),l(a,"input",o._input.bind(o)),l(a,"blur",function(){o.text!=o._oldText&&o._setText(o.text)}),l(a,"compositionstart",function(){o._composing=!0}),l(a,"compositionend",function(){o._composing=!1,setTimeout(function(){var t=o.text;o._oldText.indexOf(o._chrPct)>-1&&t.indexOf(o._chrPct)<0&&(t+=o._chrPct),o._setText(t)})});var h=o._clickSpinner.bind(o);return l(o._btnUp,"click",h),l(o._btnDn,"click",h),o._rptUp=new wijmo_1._ClickRepeater(o._btnUp.querySelector("button")),o._rptDn=new wijmo_1._ClickRepeater(o._btnDn.querySelector("button")),l(n,"wheel",function(t){if(!t.defaultPrevented&&!o.isReadOnly&&o.containsFocus()){var e=wijmo_1.clamp(-t.deltaY,-1,1);o._increment((o.step||1)*e),setTimeout(function(){return o.selectAll()}),t.preventDefault()}}),o.value=0,o.isRequired=!0,o.initialize(i),o}return __extends(e,t),Object.defineProperty(e.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=wijmo_1.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this._value)if(null==(t=wijmo_1.asNumber(t,!this.isRequired||null==t&&null==this._value)))this._setText("");else if(!isNaN(t)){var e=wijmo_1.Globalize.format(t,this.format);this._setText(e)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=wijmo_1.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=wijmo_1.asBoolean(t),this.inputElement.readOnly=this._readOnly,wijmo_1.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){t!=this._min&&(this._min=wijmo_1.asNumber(t,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){t!=this._max&&(this._max=wijmo_1.asNumber(t,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step},set:function(t){this._step=wijmo_1.asNumber(t,!0),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=wijmo_1.asString(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._oldText=null,this._setText(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(t){this._tbx.placeholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(t){this._showBtn=wijmo_1.asBoolean(t),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(t){this._rptUp.disabled=this._rptDn.disabled=!wijmo_1.asBoolean(t)},enumerable:!0,configurable:!0}),e.prototype.selectAll=function(){var t=this._tbx;wijmo_1.setSelectionRange(t,0,t.value.length)},e.prototype.clamp=function(t){return wijmo_1.clamp(t,this.min,this.max)},e.prototype.onTextChanged=function(t){this.textChanged.raise(this,t),this._updateState()},e.prototype.onValueChanged=function(t){this._updateAria(),this.valueChanged.raise(this,t)},e.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,t.prototype.dispose.call(this)},e.prototype.onGotFocus=function(e){this._oldValue=this.value,this.isTouching||(this._tbx.focus(),this.selectAll()),t.prototype.onGotFocus.call(this,e)},e.prototype.onLostFocus=function(e){this._composing&&(this._composing=!1,this._setText(this.text));var i=this.clamp(this.value),o=wijmo_1.Globalize.format(i,this.format);this._setText(o),t.prototype.onLostFocus.call(this,e)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this._updateSymbols();var i=wijmo_1.Globalize.format(this.value,this.format);this._setText(i)},e.prototype._updateSymbols=function(){var t=wijmo_1.culture.Globalize.numberFormat,e=this.format?this.format.match(/([a-z])(\d*)(,*)(.*)/i):null;this._chrDec=t["."]||".",this._chrTho=t[","]||",",this._chrNeg=t["-"]||"-",this._chrPls=t["+"]||"+",this._chrPct=t["%"]||"%",this._chrCur=e&&e[4]?e[4]:t.currency.symbol||"$",this._fmtSpc=e&&e[1]?e[1].toLowerCase():"n",this._fmtPrc=e&&e[2]?parseInt(e[2]):null,this._rxSym=new RegExp("^[%+\\-() \\"+this._chrDec+"\\"+this._chrCur+"\\"+this._chrNeg+"\\"+this._chrPls+"\\"+this._chrPct+"]*$"),this._rxNeg=new RegExp("(\\-|\\(|\\"+this._chrNeg+")")},e.prototype._isNumeric=function(t,e){var i=t==this._chrDec||t>="0"&&t<="9",o="x"==this._fmtSpc;return!i&&o&&(i=t>="a"&&t<="f"||t>="A"&&t<="F"),i||e||o||(i=t==this._chrPls||t==this._chrNeg||"("==t||")"==t),i},e.prototype._getInputRange=function(t){for(var e=[0,0],i=this.text,o=!1,n=0;n<i.length;n++)this._isNumeric(i[n],t)&&(o||(e[0]=n,o=!0),e[1]=n+1);return e},e.prototype._flipSign=function(){var t=this._getSelStartDigits();this.value*=-1,this._setSelStartDigits(t)},e.prototype._getSelStartDigits=function(){for(var t=0,e=this._tbx.selectionStart,i=this._tbx.value,o=0;o<i.length&&o<e;o++)this._isNumeric(i[o],!0)&&t++;return t},e.prototype._setSelStartDigits=function(t){for(var e=this._tbx.value,i=0;i<e.length&&t>=0;i++)if(this._isNumeric(e[i],!0)){if(!t){wijmo_1.setSelectionRange(this._tbx,i);break}t--}else if(!t){wijmo_1.setSelectionRange(this._tbx,i);break}},e.prototype._increment=function(t){if(t){var e=this.clamp(wijmo_1.isNumber(this.value)?this.value+t:0),i=wijmo_1.Globalize.format(e,this.format,!1,!1);this._setText(i)}},e.prototype._updateBtn=function(){var t=this.showSpinner&&!!this.step,e=t;wijmo_1.setCss([this._btnUp,this._btnDn],{display:t?"":"none"}),wijmo_1.toggleClass(this.hostElement,"wj-input-show-spinner",t),wijmo_1.enable(this._btnUp,e),wijmo_1.enable(this._btnDn,e),this._updateAria()},e.prototype._setText=function(t){if(!this._composing){var e=this._tbx,i=this._rxNeg.test(t),o=this._delKey,n=this.containsFocus();if(t&&this._rxSym.test(t)&&n&&(t=this.isRequired||!o?"0":""),this._delKey=!1,o&&0==this.value&&!this.isRequired&&(t=""),!t){if(!this.isRequired)return e.value="",null!=this._value&&(this._value=null,this.onValueChanged()),this._oldText&&(this._oldText=t,this.onTextChanged()),void this._updateBtn();t="0"}var s=this._format||(t.indexOf(this._chrDec)>-1?"n2":"n0"),r=wijmo_1.Globalize.parseFloat(t,s);if(isNaN(r))e.value=this._oldText;else{var a=wijmo_1.Globalize.format(r,s,!1);i&&r>=0&&!o&&(a=this._chrNeg+a),n&&(null!=this._fmtPrc&&"g"!=this._fmtSpc||!o&&e.value.match(/\.0?$/)&&(a=t+("0"==t?this._chrDec:""))),e.value!=a&&("g"==this._fmtSpc&&e.value.match(a+"0*")&&this.containsFocus()&&e.selectionStart==e.value.length&&(a=e.value),e.value=a,r=wijmo_1.Globalize.parseFloat(a,this.format)),r!=this._value&&(this._value=r,this.onValueChanged()),this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged()),this._updateBtn()}}},e.prototype._keypress=function(t){if(!(t.defaultPrevented||this._composing||this.isReadOnly)&&t.charCode&&!t.ctrlKey&&!t.metaKey){var e=this._tbx,i=String.fromCharCode(t.charCode);if(this._isNumeric(i,!1)){var o=e.maxLength;if(o>-1&&e.value.length>=o&&e.selectionEnd==e.selectionStart)return void t.preventDefault();var n=this._getInputRange(!0),s=e.selectionStart,r=e.selectionEnd;if(s<n[0]&&r<e.value.length&&(r=Math.max(r,n[0]),wijmo_1.setSelectionRange(e,n[0],r)),s>=n[1]){var a=null!=this._fmtPrc?this._fmtPrc:2,l=e.value.indexOf(this._chrDec);l>-1&&s-l>a&&t.preventDefault()}}else t.preventDefault();switch(i){case"-":case this._chrNeg:this.clamp(-1)>=0?this.value<0&&this._flipSign():this.value&&e.selectionStart==e.selectionEnd?this._flipSign():this.clamp(-1)<0&&(e.value=this._chrNeg,wijmo_1.setSelectionRange(e,1)),t.preventDefault();break;case"+":case this._chrPls:this.value<0&&this._flipSign(),t.preventDefault();break;case".":case this._chrDec:if(0==this._fmtPrc)t.preventDefault();else{var h=e.value.indexOf(this._chrDec);h>-1&&(e.selectionStart<=h&&h++,wijmo_1.setSelectionRange(e,h),t.preventDefault())}}if(!t.defaultPrevented&&wijmo_1.isIE()){var c=e.value;(s=e.selectionStart)==(r=e.selectionEnd)&&(e.value=c.substr(0,s)+i+c.substr(r),wijmo_1.setSelectionRange(e,s+1),t.preventDefault(),this._input())}}},e.prototype._keydown=function(t){var e=this;if(this._delKey=!1,!t.defaultPrevented&&!this._composing){var i=this._tbx,o=i.value,n=i.selectionStart,s=i.selectionEnd;switch(t.keyCode){case 65:t.ctrlKey&&(setTimeout(function(){e.selectAll()}),t.preventDefault());break;case wijmo_1.Key.Up:case wijmo_1.Key.Down:this.step&&!this.isReadOnly&&(this._increment(this.step*(t.keyCode==wijmo_1.Key.Up?1:-1)),setTimeout(function(){e.selectAll()}),t.preventDefault());break;case wijmo_1.Key.Back:if(this._delKey=!0,s-n<2&&!this.isReadOnly){var r=o[s-1];r!=this._chrDec&&r!=this._chrPct&&r!=this._chrTho&&")"!=r||(setTimeout(function(){s=r==e._chrPct?e._getInputRange(!0)[1]:s-1,wijmo_1.setSelectionRange(i,s)}),t.preventDefault())}break;case wijmo_1.Key.Delete:if(this._delKey=!0,s-n<2&&!this.isReadOnly)if("0"==o&&1==n)wijmo_1.setSelectionRange(i,0);else{var a=o[n];a!=this._chrDec&&a!=this._chrPct||(setTimeout(function(){wijmo_1.setSelectionRange(i,n+1)}),t.preventDefault())}break;case wijmo_1.Key.Escape:this.value=this._oldValue,this.selectAll()}}},e.prototype._input=function(){var t=this;this._composing||setTimeout(function(){var e=t._tbx,i=e.value,o=i.indexOf(t._chrDec),n=e.selectionStart,s=t._getSelStartDigits();if("p"==t._fmtSpc&&i.length&&i.indexOf(t._chrPct)<0&&(i+=t._chrPct),t._setText(i),t.containsFocus()){var r=e.value,a=r.indexOf(t._chrDec),l=t._getInputRange(!0);if(i==t._chrNeg+t._chrDec&&a>-1)return void wijmo_1.setSelectionRange(e,a+1);if(i[0]==t._chrNeg&&r[0]!=t._chrNeg)return void(1==r.length?wijmo_1.setSelectionRange(e,1):t._setSelStartDigits(s));i?i==t._chrDec&&a>-1?n=a+1:n<=o&&a>-1||o<0&&a<0?n+=r.length-i.length:o<0&&a>-1&&(n=a):n=a>-1?a:l[1],n=wijmo_1.clamp(n,l[0],l[1]),wijmo_1.setSelectionRange(e,n)}})},e.prototype._clickSpinner=function(t){var e=this;t.defaultPrevented||this.isReadOnly||!this.step||(this._increment(this.step*(wijmo_1.contains(this._btnUp,t.target)?1:-1)),this.isTouching||setTimeout(function(){return e.selectAll()}))},e.prototype._updateAria=function(){var t=this.hostElement;t&&(wijmo_1.setAttribute(t,"aria-valuemin",this.min),wijmo_1.setAttribute(t,"aria-valuemax",this.max),wijmo_1.setAttribute(t,"aria-valuenow",this.value))},e.controlTemplate='<div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">-</button></span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">+</button></span></div></div>',e}(wijmo_1.Control);exports.InputNumber=InputNumber;var InputMask=function(t){function e(e,i){var o=t.call(this,e)||this;o.valueChanged=new wijmo_1.Event;var n=o.getTemplate();if(o.applyTemplate("wj-control wj-content wj-inputmask",n,{_tbx:"input"},"input"),"INPUT"==o._orgTag){var s=o._tbx.getAttribute("value");s&&(o.value=s)}return o._msk=new wijmo_1._MaskProvider(o._tbx),o.isRequired=!0,o.initialize(i),o.addEventListener(o._tbx,"input",function(){setTimeout(function(){o.onValueChanged()})}),o}return __extends(e,t),Object.defineProperty(e.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=wijmo_1.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._tbx.value},set:function(t){t!=this.value&&(this._tbx.value=wijmo_1.asString(t),t=this._msk._applyMask(),this._tbx.value=t,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(t){t!=this.rawValue&&(this.value=wijmo_1.asString(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){var e=this.value;this._msk.mask=wijmo_1.asString(t),this.value!=e&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(t){var e=this.value;this._msk.promptChar=t,this.value!=e&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(t){this._tbx.placeholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=wijmo_1.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(t){this._tbx.readOnly=wijmo_1.asBoolean(t),wijmo_1.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),e.prototype.selectAll=function(){var t=this._msk.getMaskRange();wijmo_1.setSelectionRange(this._tbx,t[0],t[1]+1)},e.prototype.onValueChanged=function(t){this.value!=this._oldValue&&(this._oldValue=this.value,this.valueChanged.raise(this,t)),this._updateState()},e.prototype._updateState=function(){t.prototype._updateState.call(this);var e=!this._pristine&&this._tbx.value&&!this.maskFull;wijmo_1.toggleClass(this.hostElement,"wj-state-invalid",e)},e.prototype.dispose=function(){this._msk.input=null,t.prototype.dispose.call(this)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this._msk.refresh()},e.prototype.onGotFocus=function(e){t.prototype.onGotFocus.call(this,e),this.selectAll()},e.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/></div></div>',e}(wijmo_1.Control);exports.InputMask=InputMask;var ColorPicker=function(t){function e(i,o){var n=t.call(this,i)||this;n._hsb=[.5,1,1],n._alpha=1,n.valueChanged=new wijmo_1.Event;var s=n.getTemplate();n.applyTemplate("wj-control wj-content wj-colorpicker",s,{_eSB:"div-sb",_eHue:"div-hue",_eAlpha:"div-alpha",_ePreview:"div-pv",_ePal:"div-pal",_eText:"div-text"}),n._palette="#FFF,#000, #F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0".split(","),n._updatePalette(),n._eHue.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)",n._eHue.style.backgroundSize="contain",navigator.appVersion.indexOf("MSIE 9")>-1&&(n._eSB.children[0].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)",n._eSB.children[1].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)"),s=e._tplCursor,n._cSB=wijmo_1.createElement(s),n._cHue=wijmo_1.createElement(s),n._cHue.style.width="100%",n._cAlpha=wijmo_1.createElement(s),n._cAlpha.style.height="100%",n._eSB.appendChild(n._cSB),n._eHue.appendChild(n._cHue),n._eAlpha.appendChild(n._cAlpha),n.addEventListener(n.hostElement,"mousedown",function(t){document.addEventListener("mousemove",r),document.addEventListener("mouseup",a),n._mouseDown(t)});var r=function(t){n._mouseMove(t)},a=function(t){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",a),n._mouseUp(t)};return n.addEventListener(n.hostElement,"click",function(t){var e=t.target;if(e&&"DIV"==e.tagName&&wijmo_1.contains(n._ePal,e)){var i=e.style.backgroundColor;i&&(n.value=new wijmo_1.Color(i).toString())}}),n.value="#ffffff",n.initialize(o),n._updatePanels(),n}return __extends(e,t),Object.defineProperty(e.prototype,"showAlphaChannel",{get:function(){return"none"!=this._eAlpha.parentElement.style.display},set:function(t){this._eAlpha.parentElement.style.display=wijmo_1.asBoolean(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showColorString",{get:function(){return"none"!=this._eText.style.display},set:function(t){this._eText.style.display=wijmo_1.asBoolean(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this.value){this._value=wijmo_1.asString(t),this._eText.innerText=this._value;var e=new wijmo_1.Color(this._value),i=e.getHsb();this._hsb[0]==i[0]&&this._hsb[1]==i[1]&&this._hsb[2]==i[2]&&this._alpha==e.a||(0==i[2]?(i[0]=this._hsb[0],i[1]=this._hsb[1]):0==i[1]&&(i[0]=this._hsb[0]),this._hsb=i,this._alpha=e.a,this.onValueChanged())}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"palette",{get:function(){return this._palette},set:function(t){t=wijmo_1.asArray(t);for(var e=0;e<t.length&&e<this._palette.length;e++){var i=wijmo_1.asString(t[e]);this._palette[e]=i}this._updatePalette()},enumerable:!0,configurable:!0}),e.prototype.onValueChanged=function(t){this._updatePanels(),this.valueChanged.raise(this,t)},e.prototype._mouseDown=function(t){this._htDown=this._getTargetPanel(t),this._htDown&&(t.preventDefault(),this.focus(),this._mouseMove(t))},e.prototype._mouseMove=function(t){if(this._htDown){var e=this._htDown.getBoundingClientRect();this._htDown==this._eHue?(this._hsb[0]=wijmo_1.clamp((t.clientY-e.top)/e.height,0,.99),this._updateColor()):this._htDown==this._eSB?(this._hsb[1]=wijmo_1.clamp((t.clientX-e.left)/e.width,0,1),this._hsb[2]=wijmo_1.clamp(1-(t.clientY-e.top)/e.height,0,1),this._updateColor()):this._htDown==this._eAlpha&&(this._alpha=wijmo_1.clamp((t.clientX-e.left)/e.width,0,1),this._updateColor())}},e.prototype._mouseUp=function(t){this._htDown=null},e.prototype._updateColor=function(){var t=wijmo_1.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=t.toString(),this._updatePanels()},e.prototype._updatePalette=function(){var t=new wijmo_1.Color("#fff"),e=new wijmo_1.Color("#000");this._ePal.innerHTML="";for(var i=0;i<this._palette.length;i++){var o=wijmo_1.createElement('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),n=new wijmo_1.Color(this._palette[i]),s=n.getHsb();o.appendChild(this._makePalEntry(n,4));for(var r=0;r<5;r++){if(0==s[1]){var a=.1*r+(s[2]>.5?.05:.55);n=wijmo_1.Color.interpolate(t,e,a)}else n=wijmo_1.Color.fromHsb(s[0],.1+.2*r,1-.1*r);o.appendChild(this._makePalEntry(n,0))}this._ePal.appendChild(o)}},e.prototype._makePalEntry=function(t,e){var i=document.createElement("div");return wijmo_1.setCss(i,{cursor:"pointer",backgroundColor:t.toString(),marginBottom:e||""}),i.innerHTML="&nbsp",i},e.prototype._updatePanels=function(){var t=wijmo_1.Color.fromHsb(this._hsb[0],1,1,1),e=wijmo_1.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=t.toString(),this._eAlpha.style.background="linear-gradient(to right, transparent 0%, "+e.toString()+" 100%)",navigator.appVersion.indexOf("MSIE 9")>-1&&(this._eAlpha.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr="+e.toString()+", GradientType = 1)"),this._ePreview.style.backgroundColor=this.value,this._cHue.style.top=(100*this._hsb[0]).toFixed(0)+"%",this._cSB.style.left=(100*this._hsb[1]).toFixed(0)+"%",this._cSB.style.top=(100-100*this._hsb[2]).toFixed(0)+"%",this._cAlpha.style.left=(100*this._alpha).toFixed(0)+"%"},e.prototype._getTargetPanel=function(t){var e=t.target;return wijmo_1.contains(this._eSB,e)?this._eSB:wijmo_1.contains(this._eHue,e)?this._eHue:wijmo_1.contains(this._eAlpha,e)?this._eAlpha:null},e.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;</div><div style="height:6px"></div></div></div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"></div></div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"></div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"></div></div><div style="float:left;width:1%;height:89%"></div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"></div></div><div style="float:left;width:89%;height:1%"></div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"></div></div></div><div style="float:left;width:1%;height:10%"></div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"></div></div></div></div>',e._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>',e}(wijmo_1.Control);exports.ColorPicker=ColorPicker;var CollectionViewNavigator=function(t){function e(e,i){var o=t.call(this,e)||this;o._byPage=!1,o._fmt="{current:n0} / {count:n0}";var n=o.getTemplate();return o.applyTemplate("wj-control wj-content wj-pager wj-collectionview-navigator",n,{_btnFirst:"btn-first",_btnPrev:"btn-prev",_txtCurr:"txt-curr",_btnNext:"btn-next",_btnLast:"btn-last"},"input"),o._rptNext=new wijmo_1._ClickRepeater(o._btnNext.querySelector("button")),o._rptPrev=new wijmo_1._ClickRepeater(o._btnPrev.querySelector("button")),o.addEventListener(o.hostElement,"click",o._click.bind(o)),o.initialize(i),o._update(),o}return __extends(e,t),Object.defineProperty(e.prototype,"cv",{get:function(){return this._view},set:function(t){if(t!=this._view){var e=this._view;e&&(e.collectionChanged.removeHandler(this._collectionChanged),e.currentChanged.removeHandler(this._currentChanged)),e=this._view=wijmo_1.asType(t,"ICollectionView",!0),this._update(),e&&(e.collectionChanged.addHandler(this._collectionChanged,this),e.currentChanged.addHandler(this._currentChanged,this))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"byPage",{get:function(){return this._byPage},set:function(t){t!=this._byPage&&(this._byPage=wijmo_1.asBoolean(t),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerFormat",{get:function(){return this._fmt},set:function(t){t!=this._fmt&&(this._fmt=wijmo_1.asString(t),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"repeatButtons",{get:function(){return!this._rptNext.disabled},set:function(t){this._rptNext.disabled=this._rptPrev.disabled=!wijmo_1.asBoolean(t)},enumerable:!0,configurable:!0}),e.prototype._update=function(){var t=this._view,e=this._byPage,i=t?e?t.pageIndex:t.currentPosition:0,o=t?e?t.pageCount:t.itemCount:0;wijmo_1.enable(this._btnFirst,t&&i>0),wijmo_1.enable(this._btnPrev,t&&i>0),wijmo_1.enable(this._txtCurr,null!=t),wijmo_1.enable(this._btnNext,t&&i<o-1),wijmo_1.enable(this._btnLast,t&&i<o-1),this._txtCurr.value=wijmo_1.format(this._fmt,{current:t?i+1:0,count:t?o:0,currentItem:t?t.currentPosition+1:0,itemCount:t?t.itemCount:0,currentPage:t?t.pageIndex+1:0,pageCount:t?t.pageCount:0})},e.prototype._currentChanged=function(){this._update()},e.prototype._collectionChanged=function(){this._update()},e.prototype._click=function(t){var e=t.target,i=this._view,o=this._byPage;i&&(wijmo_1.contains(this._btnFirst,e)?o?i.moveToFirstPage():i.moveCurrentToFirst():wijmo_1.contains(this._btnPrev,e)?o?i.moveToPreviousPage():i.moveCurrentToPrevious():wijmo_1.contains(this._btnNext,e)?o?i.moveToNextPage():i.moveCurrentToNext():wijmo_1.contains(this._btnLast,e)&&(o?i.moveToLastPage():i.moveCurrentToLast()),t.preventDefault())},e.controlTemplate='<div class="wj-input-group"><span wj-part="btn-first" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-backward"></span></button></span><span wj-part="btn-prev" class="wj-input-group-btn"> <button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span> </button></span><input wj-part="txt-curr" class="wj-form-control" readonly><span wj-part="btn-next" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></span><span wj-part="btn-last" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-forward"></span></button></span></div>',e}(wijmo_1.Control);exports.CollectionViewNavigator=CollectionViewNavigator;var ListBox=function(t){function e(e,i){var o=t.call(this,e)||this;o._pathDisplay=new wijmo_1.Binding(null),o._pathValue=new wijmo_1.Binding(null),o._pathChecked=new wijmo_1.Binding(null),o._html=!1,o._shGroups=!1,o._checkedItems=[],o._itemRole="option",o._search="",o._fmtItemHandlers=0,o._itemCount=0,o.selectedIndexChanged=new wijmo_1.Event,o.itemsChanged=new wijmo_1.Event,o.loadingItems=new wijmo_1.Event,o.loadedItems=new wijmo_1.Event,o.itemChecked=new wijmo_1.Event,o.checkedItemsChanged=new wijmo_1.Event,o.formatItem=new wijmo_1.Event(function(){o.invalidate()}),o.applyTemplate("wj-control wj-content wj-listbox",null,null);var n=o.hostElement;return wijmo_1.setAttribute(n,"role","listbox",!0),"SELECT"==o._orgTag&&o._initFromSelect(o.hostElement),o.addEventListener(n,"click",o._click.bind(o)),o.addEventListener(n,"keydown",o._keydown.bind(o)),o.addEventListener(n,"keypress",o._keypress.bind(o)),o.addEventListener(n,"wheel",function(t){n.scrollHeight>n.offsetHeight&&(t.deltaY<0&&0==n.scrollTop||t.deltaY>0&&n.scrollTop+n.offsetHeight>=n.scrollHeight)&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())}),o.initialize(i),o}return __extends(e,t),Object.defineProperty(e.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=wijmo_1.asCollectionView(t),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showGroups",{get:function(){return this._shGroups},set:function(t){t!=this._shGroups&&(this._shGroups=wijmo_1.asBoolean(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){t!=this._html&&(this._html=wijmo_1.asBoolean(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=wijmo_1.asFunction(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMemberPath",{get:function(){return this._pathDisplay.path},set:function(t){t!=this.displayMemberPath&&(this._pathDisplay.path=wijmo_1.asString(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValuePath",{get:function(){return this._pathValue.path},set:function(t){this._pathValue.path=wijmo_1.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedMemberPath",{get:function(){return this._pathChecked.path},set:function(t){t!=this.checkedMemberPath&&(this._pathChecked.path=wijmo_1.asString(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemRole",{get:function(){return this._itemRole},set:function(t){t!=this.itemRole&&(this._itemRole=wijmo_1.asString(t),this._populateList())},enumerable:!0,configurable:!0}),e.prototype.getDisplayValue=function(t){var e=null;t>-1&&wijmo_1.hasItems(this._cv)&&(e=this._cv.items[t],this.displayMemberPath&&(e=this._pathDisplay.getValue(e)));var i=null!=e?e.toString():"";return this._itemFormatter&&(i=this._itemFormatter(t,i)),i},e.prototype.getDisplayText=function(t){var e=this._getChild(t);return null!=e?e.textContent:""},e.prototype.isItemEnabled=function(t){var e=this._getChild(t);return null!=e&&!e.hasAttribute("disabled")&&!wijmo_1.hasClass(e,"wj-state-disabled")&&!wijmo_1.hasClass(e,"wj-separator")},Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(t){this._cv&&this._cv.moveCurrentToPosition(wijmo_1.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(t){this._cv&&this._cv.moveCurrentTo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValue",{get:function(){var t=this.selectedItem;return t&&this.selectedValuePath&&(t=this._pathValue.getValue(t)),t},set:function(t){var e=this.selectedValuePath,i=-1;if(this._cv){for(var o=0;o<this._cv.items.length;o++){var n=this._cv.items[o],s=e?this._pathValue.getValue(n):n;if(s===t||wijmo_1.DateTime.equals(s,t)){i=o;break}}this.selectedIndex=i}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxHeight",{get:function(){var t=this.hostElement;return t?parseFloat(t.style.maxHeight):null},set:function(t){var e=this.hostElement;e&&(e.style.maxHeight=wijmo_1.asNumber(t)+"px")},enumerable:!0,configurable:!0}),e.prototype.showSelection=function(t){var e=this.selectedIndex,i=this.hostElement,o=i.children;e=this._getElementIndex(e);for(var n=0;n<o.length;n++){var s=o[n],r=n==e;wijmo_1.toggleClass(s,"wj-state-selected",r),wijmo_1.setAttribute(s,"aria-selected",r),s.tabIndex=r?this._orgTabIndex:-1}if(e>-1&&e<o.length){var a=(s=o[e]).getBoundingClientRect(),l=i.getBoundingClientRect(),h=0;if(this._shGroups){var c=o[0];wijmo_1.hasClass(c,"wj-header")&&(h=c.offsetHeight)}a.bottom>l.bottom?i.scrollTop+=a.bottom-l.bottom:a.top<l.top+h&&(i.scrollTop-=l.top+h-a.top)}e>-1&&(null==t&&(t=this.containsFocus()),t&&(s=o[e])instanceof HTMLElement&&!wijmo_1.contains(s,wijmo_1.getActiveElement())&&s.focus());i.tabIndex=e<0?this._orgTabIndex:-1},e.prototype.loadList=function(){this._populateList()},e.prototype.getItemChecked=function(t){var e=this._cv.items[t],i=this._pathChecked;if(wijmo_1.isObject(e)&&i.path)return i.getValue(e);var o=this._getCheckbox(t);return!!o&&o.checked},e.prototype.setItemChecked=function(t,e){this._setItemChecked(t,e,!0)},e.prototype.toggleItemChecked=function(t){this.setItemChecked(t,!this.getItemChecked(t))},Object.defineProperty(e.prototype,"checkedItems",{get:function(){if(this._checkedItems.splice(0,this._checkedItems.length),this._cv)for(var t=0;t<this._cv.items.length;t++)this.getItemChecked(t)&&this._checkedItems.push(this._cv.items[t]);return this._checkedItems},set:function(t){var e=this._cv,i=this.hostElement,o=wijmo_1.asArray(t,!1),n=!1;if(e&&o){for(var s=e.currentPosition,r=i.scrollTop,a=0;a<e.items.length;a++){var l=e.items[a];this._setItemChecked(a,o.indexOf(l)>-1,!1)&&(n=!0)}e.moveCurrentToPosition(s),i.scrollTop=r,n&&this.onCheckedItemsChanged()}},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(t){if(this._shGroups&&wijmo_1.hasClass(t,"wj-header"))return-1;for(var e=this.hostElement.children,i=0,o=0;i<e.length;i++){var n=e[i];if(wijmo_1.contains(e[i],t))return o;this._shGroups&&wijmo_1.hasClass(n,"wj-header")||o++}return-1},e.prototype.onSelectedIndexChanged=function(t){this.selectedIndexChanged.raise(this,t)},e.prototype.onItemsChanged=function(t){this.itemsChanged.raise(this,t)},e.prototype.onLoadingItems=function(t){this.loadingItems.raise(this,t)},e.prototype.onLoadedItems=function(t){this.loadedItems.raise(this,t)},e.prototype.onItemChecked=function(t){this.itemChecked.raise(this,t)},e.prototype.onCheckedItemsChanged=function(t){this.checkedItemsChanged.raise(this,t)},e.prototype.onFormatItem=function(t){this.formatItem.raise(this,t)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e);var i=this._cv?this._cv.items.length:0,o=this.formatItem.handlerCount;i==this._itemCount&&o==this._fmtItemHandlers||(this._fmtItemHandlers=o,this._populateList())},e.prototype._getChild=function(t){return t=this._getElementIndex(t),this.hostElement.children[t]},e.prototype._getElementIndex=function(t){if(this._shGroups)for(var e=this.hostElement.children,i=0;i<=t&&i<e.length;i++){var o=e[i];wijmo_1.hasClass(o,"wj-header")&&t++}return t},e.prototype._setItemChecked=function(t,e,i){void 0===i&&(i=!0);var o=this._cv.items[t],n=this._pathChecked,s=!1;if(wijmo_1.isObject(o)&&n.path){var r=wijmo_1.tryCast(this._cv,"IEditableCollectionView");n.getValue(o)!=e&&(s=!0,this._checking=!0,r?(r.editItem(o),n.setValue(o,e),r.commitEdit()):(n.setValue(o,e),this._cv.refresh()),this._checking=!1)}else s=!0;var a=this._getCheckbox(t);if(a){a.checked=e;var l=wijmo_1.closest(a,".wj-listbox-item");l&&(wijmo_1.toggleClass(l,"wj-state-checked",e),wijmo_1.setAttribute(l,"aria-checked",!!e))}return i&&s&&(this.onItemChecked(),this.onCheckedItemsChanged()),s},e.prototype._cvCollectionChanged=function(t,e){this._checking||(this._populateList(),this.onItemsChanged())},e.prototype._cvCurrentChanged=function(t,e){this._checking||(this.showSelection(),this.onSelectedIndexChanged())},e.prototype._populateList=function(){var t=this.hostElement;if(this._itemCount=this._cv?this._cv.items.length:0,t){var e=this.containsFocus(),i=-1,o=void 0;this.onLoadingItems(),t.textContent="",t.scrollTop=0;var n=this._cv;if(n){var s=[],r=0,a=void 0;if(i=n.currentPosition,this._shGroups&&n.groups&&n.groups.length){o={};for(var l=0;l<n.groups.length;l++){var h=n.groups[l];o[r]=h,a=this._createHeaderItem(h),s.push(a);for(var c=0;c<h.items.length;c++,r++)a=this._createItem(r),s.push(a)}}else for(c=0;c<n.items.length;c++,r++)a=this._createItem(r),s.push(a);t.innerHTML=s.join("")}if(this.formatItem.hasHandlers&&n){var u=t.children,p=n.items,d=(r=0,new FormatItemEventArgs(0,null,null));for(c=0;c<u.length;c++)d._item=u[c],this._shGroups&&wijmo_1.hasClass(d._item,"wj-header")?(d._index=-1,d._data=o[r]):(d._index=r,d._data=p[r],r++),this.onFormatItem(d)}if(0==t.children.length&&t.appendChild(document.createElement("div")),t.tabIndex=i<0?this._orgTabIndex:-1,e)(i>=0?t.children[this._getElementIndex(i)]:t).focus();else i>0&&this.showSelection();this.onLoadedItems()}},e.prototype._createItem=function(t){var e=this._cv.items[t],i=t==this._cv.currentPosition,o=this.getDisplayValue(t);1!=this._html&&(o=wijmo_1.escapeHtml(o));var n=null;this.checkedMemberPath&&(o='<label><input tabindex="-1" type="checkbox"'+((n=!!this._pathChecked.getValue(e))?" checked":"")+"> "+o+"</label>");var s="wj-listbox-item";if(i&&(s+=" wj-state-selected"),n&&(s+=" wj-state-checked"),this._html){var r=["wj-separator","wj-state-disabled"];if(o.indexOf(r[0])>-1||o.indexOf(r[1])>-1){var a=wijmo_1.createElement(o);r.forEach(function(t){wijmo_1.hasClass(a,t)&&(s+=" "+t)})}}var l='<div class="'+s+'" role="'+this.itemRole+'" aria-selected="'+i+'" ';return null!=n&&(l+='aria-checked="'+n+'" '),l+='tabindex="'+(i?this._orgTabIndex:-1)+'">'+o+"</div>"},e.prototype._createHeaderItem=function(t){return'<div class="wj-listbox-item wj-header wj-state-disabled" role="presentation" tabindex="-1">'+wijmo_1.escapeHtml(t.name)+"</div>"},e.prototype._click=function(t){if(0==t.button&&!t.defaultPrevented){var e=this.indexOf(t.target);if(e>-1&&(this.selectedIndex=e,this.checkedMemberPath)){var i=this._getCheckbox(e),o=this.hostElement.children[e];i!=t.target&&t.target!=o||(o.focus({preventScroll:!0}),this.setItemChecked(e,i.checked))}}},e.prototype._keydown=function(t){var e=this.selectedIndex;this.hostElement;if(!t.defaultPrevented){if(65==t.keyCode&&(t.ctrlKey||t.metaKey)&&this.checkedMemberPath&&wijmo_1.hasItems(this.collectionView))return this.checkedItems=this.getItemChecked(0)?[]:this.collectionView.items,void t.preventDefault();if(!(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey))switch(t.keyCode){case wijmo_1.Key.Down:t.preventDefault(),this._selectNext();break;case wijmo_1.Key.Up:t.preventDefault(),this._selectPrev();break;case wijmo_1.Key.Home:t.preventDefault(),this._selectFirst();break;case wijmo_1.Key.End:t.preventDefault(),this._selectLast();break;case wijmo_1.Key.PageDown:t.preventDefault(),this._selectNextPage();break;case wijmo_1.Key.PageUp:t.preventDefault(),this._selectPrevPage();break;case wijmo_1.Key.Space:if(this.checkedMemberPath&&e>-1){var i=this._getCheckbox(e);i&&this.isItemEnabled(e)&&(this.setItemChecked(e,!i.checked),t.preventDefault())}}}},e.prototype._keypress=function(t){var e=this;if(!t.defaultPrevented&&!(t.target instanceof HTMLInputElement)&&(t.charCode>32||32==t.charCode&&this._search)){t.preventDefault(),this._search+=String.fromCharCode(t.charCode).toLowerCase(),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){e._toSearch=null,e._search=""},wijmo_1.Control._SEARCH_DELAY);var i=this._findNext();i<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],i=this._findNext()),i>-1&&(this.selectedIndex=i)}},e.prototype._selectNext=function(){for(var t=this.hostElement.children.length,e=this.selectedIndex+1;e<t;e++)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},e.prototype._selectPrev=function(){for(var t=this.selectedIndex-1;t>=0;t--)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},e.prototype._selectFirst=function(){for(var t=this.hostElement.children.length,e=0;e<t;e++)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},e.prototype._selectLast=function(){for(var t=this.hostElement.children.length-1;t>=0;t--)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},e.prototype._selectNextPage=function(){for(var t=this.hostElement,e=t.offsetHeight,i=t.children,o=0,n=this.selectedIndex+1;n<this._cv.items.length;n++){var s=i[n].scrollHeight;if(o+s>e&&this.isItemEnabled(n))return this.selectedIndex=n,!0;o+=s}return this._selectLast()},e.prototype._selectPrevPage=function(){for(var t=this.hostElement,e=t.offsetHeight,i=t.children,o=0,n=this.selectedIndex-1;n>0;n--){var s=i[n].scrollHeight;if(o+s>e&&this.isItemEnabled(n))return this.selectedIndex=n,!0;o+=s}return this._selectFirst()},e.prototype._findNext=function(){if(this.hostElement){var t=this.hostElement.childElementCount,e=this.selectedIndex;(e<0||1==this._search.length)&&e++;for(var i=0;i<t;i++){var o=(e+i)%t;if(0==this.getDisplayText(o).trim().toLowerCase().indexOf(this._search)&&this.isItemEnabled(o))return o}}return-1},e.prototype._getCheckbox=function(t){var e=this.hostElement,i=e?e.children:null;return t=this._getElementIndex(t),e&&t>-1&&t<i.length?i[t].querySelector("input[type=checkbox]"):null},e.prototype._initFromSelect=function(t){for(var e=t.children,i=[],o=-1,n=0;n<e.length;n++){var s=e[n];"OPTION"==s.tagName&&(s.hasAttribute("selected")&&(o=i.length),s.innerHTML?i.push({hdr:s.innerHTML,val:s.getAttribute("value"),cmdParam:s.getAttribute("cmd-param")}):i.push({hdr:'<div class="wj-separator"></div>'}),t.removeChild(s),n--)}i&&(this.displayMemberPath="hdr",this.selectedValuePath="val",this.itemsSource=i,this.selectedIndex=o)},e}(wijmo_1.Control);exports.ListBox=ListBox;var DateSelectionMode,FormatItemEventArgs=function(t){function e(e,i,o){var n=t.call(this)||this;return n._index=wijmo_1.asNumber(e),n._data=i,n._item=wijmo_1.asType(o,HTMLElement,!0),n}return __extends(e,t),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),e}(wijmo_1.EventArgs);exports.FormatItemEventArgs=FormatItemEventArgs,wijmo_1._addCultureInfo("Calendar",{ariaLabels:{calendar:"Calendar",monthView:"Month View",yearView:"Year View",prvMo:"Previous Month",today:"Today",nxtMo:"Next Month",prvYr:"Previous Year",currMo:"Current Month",nxtYr:"Next Year"}}),function(t){t[t.None=0]="None",t[t.Day=1]="Day",t[t.Month=2]="Month"}(DateSelectionMode=exports.DateSelectionMode||(exports.DateSelectionMode={}));var Calendar=function(t){function e(e,i){var o=t.call(this,e)||this;o._min=null,o._max=null,o._readOnly=!1,o._selMode=DateSelectionMode.Day,o._yrPicker=!0,o._tmYrHidden=0,o._fmtYrMo="y",o._fmtYr="yyyy",o._fmtDayHdr="ddd",o._fmtDay="d ",o._fmtMonths="MMM",o.valueChanged=new wijmo_1.Event,o.displayMonthChanged=new wijmo_1.Event,o.formatItem=new wijmo_1.Event(function(){o.invalidate()});var n=o.hostElement;n.tabIndex=-1,o._value=wijmo_1.DateTime.newDate(),o._currMonth=o._getMonth(o._value),o._createChildren(),o._createYearPicker();var s=o.addEventListener.bind(o);return s(n,"keydown",o._keydown.bind(o)),s(n,"click",o._click.bind(o)),o._rptUp=new wijmo_1._ClickRepeater(o._btnPrv),o._rptDn=new wijmo_1._ClickRepeater(o._btnNxt),o.addEventListener(n,"wheel",function(t){if(!t.defaultPrevented&&!o.isReadOnly&&o.containsFocus()){wijmo_1.clamp(-t.deltaY,-1,1);t.deltaY<0?o._btnPrv.click():o._btnNxt.click(),t.preventDefault()}}),o.initialize(i),o.refresh(!0),o}return __extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){t=wijmo_1.asDate(t,!0),t=this._clamp(t),(this._valid(t)||null==t)&&(this.displayMonth=this._getMonth(t),wijmo_1.DateTime.equals(this._value,t)||(this._value=t,this.invalidate(!1),this.onValueChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){t!=this.min&&(this._min=wijmo_1.asDate(t,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){t!=this.max&&(this._max=wijmo_1.asDate(t,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionMode",{get:function(){return this._selMode},set:function(t){if((t=wijmo_1.asEnum(t,DateSelectionMode))!=this._selMode){this._selMode=t;var e=this._monthMode();e&&(this.monthView=!1);var i=this._btnMth.querySelector(".wj-glyph-down");i&&(i.style.display=e?"none":""),this.refresh()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=wijmo_1.asBoolean(t),wijmo_1.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(t){this._rptUp.disabled=this._rptDn.disabled=!wijmo_1.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showYearPicker",{get:function(){return this._yrPicker},set:function(t){this._yrPicker=wijmo_1.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(t){if(t!=this._fdw){if((t=wijmo_1.asNumber(t,!0))&&(t>6||t<0))throw"firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).";this._fdw=t,this.refresh()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMonth",{get:function(){return this._currMonth},set:function(t){wijmo_1.DateTime.equals(this.displayMonth,t)||(t=wijmo_1.asDate(t),(this.monthView?this._monthInValidRange(t):this._yearInValidRange(t))&&(this._currMonth=this._getMonth(this._clamp(t)),this.invalidate(!0),this.onDisplayMonthChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatYearMonth",{get:function(){return this._fmtYrMo},set:function(t){t!=this._fmtYrMo&&(this._fmtYrMo=wijmo_1.asString(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatDayHeaders",{get:function(){return this._fmtDayHdr},set:function(t){t!=this._fmtDayHdr&&(this._fmtDayHdr=wijmo_1.asString(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatDays",{get:function(){return this._fmtDay},set:function(t){t!=this._fmtDay&&(this._fmtDay=wijmo_1.asString(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatYear",{get:function(){return this._fmtYr},set:function(t){t!=this._fmtYr&&(this._fmtYr=wijmo_1.asString(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatMonths",{get:function(){return this._fmtMonths},set:function(t){t!=this._fmtMonths&&(this._fmtMonths=wijmo_1.asString(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showHeader",{get:function(){return"none"!=this._tbHdr.style.display},set:function(t){this._tbHdr.style.display=wijmo_1.asBoolean(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"monthView",{get:function(){return"none"!=this._tbMth.style.display},set:function(t){if(t!=this.monthView){this._tbMth.style.display=t?"":"none",this._tbYr.style.display=t?"none":"",this.refresh();var e=wijmo_1.culture.Calendar.ariaLabels;wijmo_1.setAriaLabel(this._btnPrv,t?e.prvMo:e.prvYr),wijmo_1.setAriaLabel(this._btnTdy,t?e.today:e.currMo),wijmo_1.setAriaLabel(this._btnNxt,t?e.nxtMo:e.nxtYr),wijmo_1.setAriaLabel(this._btnMth,t?e.monthView:e.yearView)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=wijmo_1.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(t){t!=this._itemValidator&&(this._itemValidator=wijmo_1.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},e.prototype.onDisplayMonthChanged=function(t){this.displayMonthChanged.raise(this,t)},e.prototype.onFormatItem=function(t){this.formatItem.raise(this,t)},e.prototype.containsFocus=function(){return t.prototype.containsFocus.call(this)||this._lbYears.containsFocus()},e.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,this._lbYears.dispose(),t.prototype.dispose.call(this)},e.prototype.refresh=function(e){void 0===e&&(e=!0);var i,o,n,s=this.displayMonth,r=null!=this.firstDayOfWeek?this.firstDayOfWeek:wijmo_1.Globalize.getFirstDayOfWeek(),a=this.hostElement,l=wijmo_1.getActiveElement(),h=this.containsFocus(),c=wijmo_1.contains(a,l)?l:null;t.prototype.refresh.call(this,e),this._firstDay=wijmo_1.DateTime.addDays(s,-(s.getDay()-r+7)%7),wijmo_1.setText(this._spMth,wijmo_1.Globalize.format(s,this._fmtYrMo)),i=this._tbMth.querySelectorAll("td");for(var u=0;u<7&&u<i.length;u++)n=wijmo_1.DateTime.addDays(this._firstDay,u),wijmo_1.setText(i[u],wijmo_1.Globalize.format(n,this._fmtDayHdr));for(u=7;u<i.length;u++){o=i[u],n=wijmo_1.DateTime.addDays(this._firstDay,u-7),wijmo_1.setText(o,wijmo_1.Globalize.format(n,this._fmtDay));var p=!this._valid(n),d=this._selMode&&wijmo_1.DateTime.sameDate(n,this.value),_=n.getDay();if(wijmo_1.toggleClass(o,"wj-state-invalid",p),wijmo_1.toggleClass(o,"wj-state-selected",d),wijmo_1.toggleClass(o,"wj-day-weekend",0==_||6==_),wijmo_1.toggleClass(o,"wj-day-today",wijmo_1.DateTime.sameDate(n,wijmo_1.DateTime.newDate())),wijmo_1.toggleClass(o,"wj-day-othermonth",p||n.getMonth()!=s.getMonth()||!this._inValidRange(n)),wijmo_1.setAttribute(o,"aria-selected",d),o.tabIndex=-1,this.itemFormatter&&this.itemFormatter(n,o),this.formatItem.hasHandlers){var m=new FormatItemEventArgs(u,n,o);this.onFormatItem(m)}}var f=this._tbMth.querySelectorAll("tr");f.length&&(n=wijmo_1.DateTime.addDays(this._firstDay,28),f[f.length-2].style.display=n.getMonth()==s.getMonth()?"":"none",n=wijmo_1.DateTime.addDays(this._firstDay,35),f[f.length-1].style.display=n.getMonth()==s.getMonth()?"":"none"),(i=this._tbYr.querySelectorAll("td")).length&&wijmo_1.setText(i[0],wijmo_1.Globalize.format(s,this._fmtYr));for(u=1;u<i.length;u++){n=wijmo_1.DateTime.newDate(s.getFullYear(),u-1,1);p=!this._monthInValidRange(n),d=this._sameMonth(n,this.value);o=i[u],wijmo_1.setText(o,wijmo_1.Globalize.format(n,this._fmtMonths)),wijmo_1.toggleClass(o,"wj-state-disabled",p),wijmo_1.toggleClass(o,"wj-state-selected",d),wijmo_1.setAttribute(o,"aria-selected",d),o.tabIndex=-1}var w=(this.monthView?this._tbMth:this._tbYr).querySelector("td.wj-state-selected")||a;w&&(w.tabIndex=this._orgTabIndex,h&&(c&&c!=w&&(c.tabIndex=-1),w.focus()))},e.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=DateSelectionMode.None},e.prototype._valid=function(t){return!!wijmo_1.isDate(t)&&(!!wijmo_1.DateTime.sameDate(t,this._clamp(t))&&(!wijmo_1.isFunction(this.itemValidator)||this.itemValidator(t)))},e.prototype._inValidRange=function(t){return!(this.min&&t<wijmo_1.DateTime.fromDateTime(this.min,t))&&!(this.max&&t>wijmo_1.DateTime.fromDateTime(this.max,t))},e.prototype._monthInValidRange=function(t){if(this.min||this.max){var e=t.getFullYear(),i=t.getMonth(),o=wijmo_1.DateTime.newDate(e,i,1),n=wijmo_1.DateTime.newDate(e,i+1,0);if(this.min&&this.min>n)return!1;if(this.max&&this.max<o)return!1}return!0},e.prototype._yearInValidRange=function(t){if(this.min||this.max){var e=t.getFullYear(),i=wijmo_1.DateTime.newDate(e,0,1),o=wijmo_1.DateTime.newDate(e,11,31);if(this.min&&this.min>o)return!1;if(this.max&&this.max<i)return!1}return!0},e.prototype._sameMonth=function(t,e){return wijmo_1.isDate(t)&&wijmo_1.isDate(e)&&t.getMonth()==e.getMonth()&&t.getFullYear()==e.getFullYear()},e.prototype._getValidDate=function(t,e){if(wijmo_1.isDate(t))for(var i=t.getFullYear(),o=t.getMonth()+(e?0:1),n=e?1:0,s=wijmo_1.DateTime.newDate(i,o,n),r=e?1:-1,a=0;a<31;a++){if(this._valid(s))return s;s=wijmo_1.DateTime.addDays(s,r)}return null},e.prototype._clamp=function(t){if(t){if(this.min){var e=wijmo_1.DateTime.fromDateTime(this.min,t);t<e&&(t=e)}if(this.max){var i=wijmo_1.DateTime.fromDateTime(this.max,t);t>i&&(t=i)}}return t},e.prototype._createChildren=function(){var t=this.getTemplate();this.applyTemplate("wj-control wj-calendar",t,{_tbHdr:"tbl-header",_btnMth:"btn-month",_spMth:"span-month",_btnPrv:"btn-prev",_btnTdy:"btn-today",_btnNxt:"btn-next",_tbMth:"tbl-month",_tbYr:"tbl-year"});var e=wijmo_1.culture.Calendar.ariaLabels;wijmo_1.setAriaLabel(this._tbMth,e.calendar),wijmo_1.setAriaLabel(this._tbYr,e.calendar),wijmo_1.setAriaLabel(this._btnPrv,e.calendar),wijmo_1.setAriaLabel(this._btnMth,e.monthView),wijmo_1.setAriaLabel(this._btnPrv,e.prvMo),wijmo_1.setAriaLabel(this._btnTdy,e.today),wijmo_1.setAriaLabel(this._btnNxt,e.nxtMo);for(var i=this._createElement("tr",this._tbMth,"wj-header"),o=0;o<7;o++)this._createElement("td",i);for(var n=0;n<6;n++){i=this._createElement("tr",this._tbMth);for(o=0;o<7;o++)this._createElement("td",i)}i=this._createElement("tr",this._tbYr,"wj-header"),this._createElement("td",i).setAttribute("colspan","4");for(var s=0;s<3;s++){i=this._createElement("tr",this._tbYr);for(var r=0;r<4;r++)this._createElement("td",i)}},e.prototype._createYearPicker=function(){var t=this,e=this.hostElement,i=this._createElement("div",null,"wj-dropdown-panel wj-yearpicker");i.tabIndex=this._orgTabIndex,this._lbYears=new ListBox(i,{lostFocus:function(e,o){if(wijmo_1.hidePopup(i),t._tmYrHidden=Date.now(),t.removeEventListener(window,"touchstart"),e.selectedIndex>-1){var n=wijmo_1.DateTime.clone(t.displayMonth);n.setFullYear(e.selectedIndex+e.itemsSource[0]),t.displayMonth=n}}}),this.addEventListener(i,"keydown",function(i){switch(i.keyCode){case wijmo_1.Key.Enter:e.focus();break;case wijmo_1.Key.Escape:t._lbYears.selectedIndex=-1,e.focus()}i.defaultPrevented&&i.stopPropagation()}),this.addEventListener(i,"click",function(t){e.focus()})},e.prototype._createElement=function(t,e,i){var o=document.createElement(t);if(o.tabIndex=-1,i&&wijmo_1.addClass(o,i),"TD"==o.tagName){var n=wijmo_1.closest(o,".wj-header")?"columnheader":"gridcell";wijmo_1.setAttribute(o,"role",n),wijmo_1.setAttribute(o,"aria-selected",!1)}return e&&e.appendChild(o),o},e.prototype._click=function(t){var e=this;if(!t.defaultPrevented&&0==t.button){var i=!1,o=t.target;if(wijmo_1.contains(this._btnMth,o)&&!this._monthMode()?(this.monthView=!this.monthView,i=!0):wijmo_1.contains(this._btnPrv,o)?(this._navigate(-1),i=!0):wijmo_1.contains(this._btnNxt,o)?(this._navigate(1),i=!0):wijmo_1.contains(this._btnTdy,o)&&(this._navigate(0),i=!0),o&&!i&&this._yrPicker&&wijmo_1.contains(this._tbYr,o)&&wijmo_1.closest(o,".wj-header")){if(Date.now()-this._tmYrHidden<600)return void t.preventDefault();for(var n=this.displayMonth.getFullYear(),s=this.min?this.min.getFullYear():n-100,r=this.max?this.max.getFullYear():n+100,a=[],l=s;l<=r;l++)a.push(l);var h=this._lbYears,c=h.hostElement,u=wijmo_1.closest(o,".wj-header");return h.itemsSource=a,h.selectedIndex=n-a[0],wijmo_1.setAttribute(c,"dir",this.rightToLeft?"rtl":null),c.style.minWidth="",wijmo_1.showPopup(c,u,!1,!1,this.hostElement),h.focus(),this.addEventListener(window,"touchstart",function(t){wijmo_1.contains(c,t.target)||(wijmo_1.hidePopup(c),e._tmYrHidden=Date.now(),e.removeEventListener(window,"touchstart"))}),void t.preventDefault()}if(o&&!i){var p,d=wijmo_1.closest(o,"TD");if(d)if(this.monthView){if((p=this._getCellIndex(this._tbMth,d))>6&&this._canChangeValue()){var _=wijmo_1.DateTime.fromDateTime(wijmo_1.DateTime.addDays(this._firstDay,p-7),this.value);this._inValidRange(_)&&this._valid(_)&&(this.value=_),i=!0}}else if((p=this._getCellIndex(this._tbYr,d))>0){if(this.displayMonth=wijmo_1.DateTime.newDate(this.displayMonth.getFullYear(),p-1,1),this._monthMode()){if(this._canChangeValue()){_=wijmo_1.DateTime.fromDateTime(this.displayMonth,this.value);this._inValidRange(_)&&(this.value=_)}}else this.monthView=!0;i=!0}}i&&(t.preventDefault(),this.focus())}},e.prototype._getCellIndex=function(t,e){for(var i=t.querySelectorAll("TD"),o=0;o<i.length;o++)if(i[o]==e)return o;return-1},e.prototype._keydown=function(t){if(!t.defaultPrevented){if(t.altKey)switch(t.keyCode){case wijmo_1.Key.Up:case wijmo_1.Key.Down:return;case wijmo_1.Key.End:return this._navigate(0),void t.preventDefault()}if(!(t.ctrlKey||t.metaKey||t.shiftKey)){var e=this._getKeyCode(t),i=0,o=0,n=!0;if(this.monthView)switch(e){case wijmo_1.Key.Left:i=-1;break;case wijmo_1.Key.Right:i=1;break;case wijmo_1.Key.Up:i=-7;break;case wijmo_1.Key.Down:i=7;break;case wijmo_1.Key.PageDown:o=t.altKey?12:1;break;case wijmo_1.Key.PageUp:o=t.altKey?-12:-1;break;case wijmo_1.Key.Home:case wijmo_1.Key.End:if(this._canChangeValue()){var s=this.value||this.displayMonth;(r=this._getValidDate(s,e==wijmo_1.Key.Home))&&(this.value=wijmo_1.DateTime.fromDateTime(r,this.value))}break;default:n=!1}else switch(e){case wijmo_1.Key.Left:o=-1;break;case wijmo_1.Key.Right:o=1;break;case wijmo_1.Key.Up:o=-4;break;case wijmo_1.Key.Down:o=4;break;case wijmo_1.Key.PageDown:o=t.altKey?120:12;break;case wijmo_1.Key.PageUp:o=t.altKey?-120:-12;break;case wijmo_1.Key.Home:o=this.value?-this.value.getMonth():0;break;case wijmo_1.Key.End:o=this.value?11-this.value.getMonth():0;break;case wijmo_1.Key.Enter:this._monthMode()?n=!1:this.monthView=!0;break;default:n=!1}if(this._canChangeValue()&&(i||o)){var r;if((r=this.value)?(r=wijmo_1.DateTime.addDays(r,i),r=wijmo_1.DateTime.addMonths(r,o)):r=this._getValidDate(new Date,!0),o&&!this._valid(r)){s=r.getMonth();for(var a=1;a<31&&!this._valid(r);a++){var l=wijmo_1.DateTime.addDays(r,+a),h=wijmo_1.DateTime.addDays(r,-a);this._valid(l)&&l.getMonth()==s?r=l:this._valid(h)&&h.getMonth()==s&&(r=h)}}for(a=0;a<31&&!this._valid(r);a++)r=wijmo_1.DateTime.addDays(r,i>0||o>0?1:-1);this.value=r}n&&t.preventDefault()}}},e.prototype._getMonth=function(t){return t||(t=wijmo_1.DateTime.newDate()),wijmo_1.DateTime.newDate(t.getFullYear(),t.getMonth(),1)},e.prototype._monthMode=function(){return this.selectionMode==DateSelectionMode.Month},e.prototype._navigate=function(t){var e=this.monthView,i=this.displayMonth;switch(t){case 0:var o=wijmo_1.DateTime.newDate();this._canChangeValue()&&(this.value=e?wijmo_1.DateTime.fromDateTime(o,this.value):this._getMonth(o)),i=this._getMonth(o);break;case 1:i=wijmo_1.DateTime.addMonths(i,e?1:12);break;case-1:i=wijmo_1.DateTime.addMonths(i,e?-1:-12)}this.displayMonth=i},e.controlTemplate='<div class="wj-content wj-calendar-outer"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select" role="button"><span wj-part="span-month"></span> <span class="wj-glyph-down"></span></div><div class="wj-btn-group"><button wj-part="btn-prev" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span></button><button wj-part="btn-today" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-circle"></span></button><button wj-part="btn-next" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></div></div><table wj-part="tbl-month" class="wj-calendar-month" role="grid"></table><table wj-part="tbl-year" class="wj-calendar-year" role="grid" style="display:none"></table></div>',e}(wijmo_1.Control);exports.Calendar=Calendar,wijmo_1._addCultureInfo("DropDown",{ariaLabels:{tgl:"Toggle Dropdown"}});var PopupTrigger,_Edges,DropDown=function(t){function e(e,i){var o=t.call(this,e)||this;o._showBtn=!0,o._autoExpand=!0,o._animate=!1,o.textChanged=new wijmo_1.Event,o.isDroppedDownChanging=new wijmo_1.Event,o.isDroppedDownChanged=new wijmo_1.Event;var n=o.getTemplate();o.applyTemplate("wj-control wj-content wj-dropdown",n,{_tbx:"input",_btn:"btn",_dropDown:"dropdown"},"input");var s=wijmo_1.culture.DropDown.ariaLabels;wijmo_1.setAriaLabel(o._btn.querySelector("button"),s.tgl);var r=o._elRef=o._tbx;wijmo_1.disableAutoComplete(r),o._createDropDown(),o._updateBtn();var a=o.hostElement;wijmo_1.addClass(a,"wj-state-collapsed"),o.addEventListener(window,"resize",function(){o.isDroppedDown&&o.invalidate()});var l=o.dropDown,h=o.addEventListener.bind(o),c=o._updateFocusState.bind(o);h(l,"blur",c,!0),h(l,"focus",c);var u=o._keydown.bind(o);return h(a,"keydown",u),h(l,"keydown",u),h(r,"keypress",function(t){9787==t.keyCode&&o._altDown&&t.preventDefault()}),h(r,"keyup",function(t){o._altDown=o._altDown||t.altKey}),h(r,"input",function(){o._setText(o.text,!1)}),h(r,"click",function(){o._autoExpand&&o._expandSelection()}),h(r,"blur",function(){o._commitText()},!0),h(o._btn,"mousedown",function(t){o._btnclick(t)}),wijmo_1.removeChild(l),wijmo_1.isIE()&&o._elRef==o._tbx&&h(a,"mouseup",function(t){if(!t.defaultPrevented&&0==t.button&&wijmo_1.hasClass(t.target,"wj-btn")){var e=wijmo_1.getActiveElement();e&&e!=t.target&&setTimeout(function(){e.focus()})}}),wijmo_1.isIE9()&&h(r,"keyup",function(){o._setText(o.text,!1)}),h(l,"click",o._dropDownClick.bind(o)),o}return __extends(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(t,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=wijmo_1.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(t){this._tbx.readOnly=wijmo_1.asBoolean(t),wijmo_1.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=wijmo_1.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(t){this._tbx.placeholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDroppedDown",{get:function(){var t=this._dropDown;return t&&"none"!=t.style.display},set:function(t){var e=this,i=this.hostElement,o=this._dropDown,n=this.containsFocus()||this._setFocus;i&&o&&(t=wijmo_1.asBoolean(t)&&!this.isDisabled&&!this.isReadOnly)!=this.isDroppedDown&&this.onIsDroppedDownChanging(new wijmo_1.CancelEventArgs)&&(t?(this._minWidthDropdown=o.style.minWidth,o.style.display="block",this._updateDropDown(),this.addEventListener(window,"touchstart",function(t){for(var o=t.target;o;){if(o==i)return;o=o[wijmo_1.Control._OWNR_KEY]||o.parentNode}wijmo_1.Control._touching=!0,e.isDroppedDown=!1,wijmo_1.Control._touching=!1})):(this.removeEventListener(window,"touchstart"),wijmo_1.hidePopup(o),o.style.minWidth=this._minWidthDropdown),this._setFocus=!1,n&&(this.isTouching&&this.showDropDownButton?i.focus():this.selectAll()),this._updateFocusState(),wijmo_1.toggleClass(i,"wj-state-collapsed",!this.isDroppedDown),this.onIsDroppedDownChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(wijmo_1.removeClass(this._dropDown,this._cssClass),this._cssClass=wijmo_1.asString(t),wijmo_1.addClass(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(t){this._showBtn=wijmo_1.asBoolean(t),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(t){this._autoExpand=wijmo_1.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAnimated",{get:function(){return this._animate},set:function(t){this._animate=wijmo_1.asBoolean(t)},enumerable:!0,configurable:!0}),e.prototype.selectAll=function(){var t=this._tbx;this._elRef==t&&wijmo_1.setSelectionRange(t,0,this.text.length),this.containsFocus()||this.focus()},e.prototype.onTextChanged=function(t){this.textChanged.raise(this,t),this._updateState()},e.prototype.onIsDroppedDownChanging=function(t){return this.isDroppedDownChanging.raise(this,t),!t.cancel},e.prototype.onIsDroppedDownChanged=function(t){this.isDroppedDownChanged.raise(this,t)},e.prototype.onGotFocus=function(e){this.isTouching||wijmo_1.contains(this._dropDown,wijmo_1.getActiveElement())||this.selectAll(),t.prototype.onGotFocus.call(this,e)},e.prototype.onLostFocus=function(e){this._commitText(),this.isDroppedDown=!1,t.prototype.onLostFocus.call(this,e)},e.prototype.containsFocus=function(){return t.prototype.containsFocus.call(this)||this.isDroppedDown&&wijmo_1.contains(this._dropDown,wijmo_1.getActiveElement())},e.prototype.dispose=function(){this.isDroppedDown=!1;var e=this._dropDown;if(e){var i=wijmo_1.Control.getControl(e);i&&i.dispose(),wijmo_1.removeChild(e),this._dropDown=null}t.prototype.dispose.call(this)},e.prototype.refresh=function(e){if(void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement.offsetHeight&&this.isDroppedDown){var i=wijmo_1.getActiveElement();this.isAnimated&&""!=this._dropDown.style.opacity||wijmo_1.showPopup(this._dropDown,this.hostElement,!1,!1,null==this.dropDownCssClass),i instanceof HTMLElement&&i!=wijmo_1.getActiveElement()&&i.focus()}},e.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},e.prototype._dropDownClick=function(t){t.stopPropagation()},e.prototype._expandSelection=function(){var t=this._tbx,e=t.value,i=t.selectionStart,o=t.selectionEnd;if(e&&i==o){var n=this._getCharType(e,i);if(n>-1){for(;o<e.length&&this._getCharType(e,o)==n;o++);for(;i>0&&this._getCharType(e,i-1)==n;i--);i!=o&&wijmo_1.setSelectionRange(t,i,o)}}},e.prototype._getCharType=function(t,e){var i=t[e];return i>="0"&&i<="9"?0:i>="a"&&i<="z"||i>="A"&&i<="Z"?1:-1},e.prototype._keydown=function(t){if(this._altDown=t.altKey,!t.defaultPrevented)switch(t.keyCode){case wijmo_1.Key.Tab:case wijmo_1.Key.Escape:case wijmo_1.Key.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,t.keyCode==wijmo_1.Key.Tab||this.containsFocus()||this.focus(),t.preventDefault());break;case wijmo_1.Key.F4:case wijmo_1.Key.Up:case wijmo_1.Key.Down:if(t.keyCode==wijmo_1.Key.F4||t.altKey){var e=this.hostElement;e&&e.offsetHeight&&(this.isDroppedDown=!this.isDroppedDown,t.preventDefault())}}},e.prototype._btnclick=function(t){t.defaultPrevented||0!=t.button||(this._setFocus=!0,this.isDroppedDown=!this.isDroppedDown,t.preventDefault())},e.prototype._setText=function(t,e){null==t&&(t=""),(t=t.toString())!=this._tbx.value&&(this._tbx.value=t),t!=this._oldText&&(this._oldText=t,this.onTextChanged())},e.prototype._updateBtn=function(){this._btn.style.display=this._showBtn?"":"none"},e.prototype._createDropDown=function(){},e.prototype._commitText=function(){},e.prototype._updateDropDown=function(){if(this.isDroppedDown){this._commitText();var t=this.dropDown;wijmo_1.setAttribute(t,"dir",this.rightToLeft?"rtl":null),wijmo_1.showPopup(t,this.hostElement,!1,this._animate,null==this.dropDownCssClass)}},e.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"/><span wj-part="btn" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-down"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel" style="display:none"></div></div>',e}(wijmo_1.Control);exports.DropDown=DropDown,function(t){t[t.None=0]="None",t[t.Click=1]="Click",t[t.Blur=2]="Blur",t[t.ClickOrBlur=3]="ClickOrBlur"}(PopupTrigger=exports.PopupTrigger||(exports.PopupTrigger={})),function(t){t[t.None=0]="None",t[t.Left=1]="Left",t[t.Top=2]="Top",t[t.Right=4]="Right",t[t.Bottom=8]="Bottom",t[t.LeftTop=3]="LeftTop",t[t.RightTop=6]="RightTop",t[t.RightBottom=12]="RightBottom",t[t.LeftBottom=9]="LeftBottom"}(_Edges||(_Edges={}));var Popup=function(t){function e(e,i){var o=t.call(this,e)||this;o._showTrigger=PopupTrigger.Click,o._hideTrigger=PopupTrigger.Blur,o._hideAnim=[],o._fadeIn=!0,o._fadeOut=!0,o._removeOnHide=!0,o._visible=!1,o._ownerClickBnd=o._ownerClick.bind(o),o._ownerMousedownBnd=o._ownerMouseDown.bind(o),o._mousedownBnd=o._mousedown.bind(o),o._mousemoveBnd=o._mousemove.bind(o),o._mousedragBnd=o._mousedrag.bind(o),o._mouseupBnd=o._mouseup.bind(o),o.showing=new wijmo_1.Event,o.shown=new wijmo_1.Event,o.hiding=new wijmo_1.Event,o.hidden=new wijmo_1.Event;var n=o.hostElement;wijmo_1.addClass(n,"wj-control wj-content wj-popup"),n.getAttribute("tabindex")||(n.tabIndex=0),wijmo_1.hidePopup(n,!1);var s=o.addEventListener.bind(o);return s(n,"compositionstart",function(){o._composing=!0}),s(n,"compositionend",function(){o._composing=!1}),s(window,"resize",function(){o.isVisible&&!o._dragged&&o.invalidate()}),s(n,"keydown",function(t){if(!t.defaultPrevented){if(t.keyCode!=wijmo_1.Key.Escape||o._composing||(t.preventDefault(),o.hide()),t.keyCode==wijmo_1.Key.Enter){var e=o.dialogResultEnter;e&&(t.preventDefault(),o._validateAndHide(e))}t.keyCode==wijmo_1.Key.Tab&&o.modal&&(t.preventDefault(),wijmo_1.moveFocus(n,t.shiftKey?-1:1))}}),s(n,"click",function(t){if(t.target instanceof HTMLElement){var e=t.target.className.match(/\bwj-hide[\S]*\b/);e&&e.length>0&&(t.preventDefault(),t.stopPropagation(),o.hide(e[0]))}}),s(document,"wheel",function(t){if(o.isVisible&&o._modal){for(var e=t.target;e&&e!=document.body;e=e.parentElement)if(e.scrollHeight>e.clientHeight)return;t.preventDefault()}}),o.initialize(i),o}return __extends(e,t),Object.defineProperty(e.prototype,"owner",{get:function(){return this._owner},set:function(t){var e=this._owner;e&&(this.removeEventListener(e,"mousedown"),this.removeEventListener(e,"click")),(e=this._owner=null!=t?wijmo_1.getElement(t):null)&&(this.addEventListener(e,"mousedown",this._ownerMousedownBnd,!0),this.addEventListener(e,"click",this._ownerClickBnd,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(t){t!=this.content&&(this.hostElement.innerHTML="",t instanceof HTMLElement&&this.hostElement.appendChild(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(t){this._showTrigger=wijmo_1.asEnum(t,PopupTrigger)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(t){this._hideTrigger=wijmo_1.asEnum(t,PopupTrigger)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(t){this._fadeIn=wijmo_1.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(t){this._fadeOut=wijmo_1.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"removeOnHide",{get:function(){return this._removeOnHide},set:function(t){this._removeOnHide=wijmo_1.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modal",{get:function(){return this._modal},set:function(t){this._modal=wijmo_1.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDraggable",{get:function(){return this._draggable},set:function(t){this._draggable=wijmo_1.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isResizable",{get:function(){return this._resizable},set:function(t){this._resizable=wijmo_1.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dialogResult",{get:function(){return this._result},set:function(t){this._result=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(t){this._resultEnter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){var t=this.hostElement;return this._visible&&null!=t&&t.offsetHeight>0},enumerable:!0,configurable:!0}),e.prototype.show=function(t,e){var i=this;if(!this.isVisible){var o=this.hostElement;this.dialogResult=null,this._callback=null,this._hideAnim.forEach(function(t){clearInterval(t)}),this._hideAnim.length=0;var n=new wijmo_1.CancelEventArgs;this.onShowing(n)&&(null!=t&&(this.modal=wijmo_1.asBoolean(t)),null!=e&&(this._callback=wijmo_1.asFunction(e)),wijmo_1.showPopup(o,this._owner,!1,this._fadeIn,!1),this._modal&&this._showBackdrop(),this._composing=!1,this._visible=!0,this.onShown(n),this.modal&&this.addEventListener(window,"focus",function(){i.containsFocus()||wijmo_1.moveFocus(o,0)}),this._dragged=!1,this._handleDragResize(!0),this.addEventListener(window,"touchstart",function(t){i._hideTrigger&PopupTrigger.Blur&&!wijmo_1.contains(o,t.target,!0)&&i.hide()}),setTimeout(function(){if(!i.isTouching){var t=o.querySelector("input[autofocus]");t&&t.clientHeight>0&&!t.disabled&&t.tabIndex>-1&&!wijmo_1.closest(t,"[disabled],.wj-state-disabled")?(t.focus(),t.select()):wijmo_1.moveFocus(o,0)}i.containsFocus()||(o.tabIndex=0,o.focus())},200))}},e.prototype.hide=function(t){var e=this;if(this._handleDragResize(!1),this.removeEventListener(window,"touchstart"),this.isVisible){wijmo_1.isUndefined(t)||(this.dialogResult=t);var i=new wijmo_1.CancelEventArgs;if(this.onHiding(i)){for(var o=this.hostElement.querySelectorAll(".wj-control.wj-dropdown"),n=0;n<o.length;n++){var s=wijmo_1.Control.getControl(o[n]);s instanceof DropDown&&(s.isDroppedDown=!1)}var r=this.removeOnHide,a=this.fadeOut;this._bkdrop&&this._hideAnim.push(wijmo_1.hidePopup(this._bkdrop,r,a)),this._hideAnim.push(wijmo_1.hidePopup(this.hostElement,r,a)),this._visible=!1,this.removeEventListener(window,"focus"),this.containsFocus()&&wijmo_1.getActiveElement().blur(),setTimeout(function(){e._updateState(),e.onHidden(i),e._callback&&e._callback(e)})}}},e.prototype.onShowing=function(t){return this.showing.raise(this,t),!t.cancel},e.prototype.onShown=function(t){this.shown.raise(this,t)},e.prototype.onHiding=function(t){return this.hiding.raise(this,t),!t.cancel},e.prototype.onHidden=function(t){this.hidden.raise(this,t)},e.prototype.dispose=function(){this.owner=null,t.prototype.dispose.call(this)},e.prototype.onLostFocus=function(e){this.isVisible&&this._hideTrigger&PopupTrigger.Blur&&(this.containsFocus()||this.hide()),t.prototype.onLostFocus.call(this,e)},e.prototype.refresh=function(e){if(void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.isVisible&&!this._refreshing){this._refreshing=!0;var i=wijmo_1.getActiveElement(),o=this._owner?this._owner.getBoundingClientRect():null;wijmo_1.showPopup(this.hostElement,o),this._modal&&i instanceof HTMLElement&&i!=wijmo_1.getActiveElement()&&i.focus(),this._refreshing=!1}},e.prototype._handleDragResize=function(t){var e=this.hostElement,i=this._draggable?this._getHeaderElement():null,o=this.addEventListener.bind(this),n=this.removeEventListener.bind(this),s=this._mousemoveBnd,r=this._mousedownBnd;t?(o(e,"mousemove",s),o(e,"mousedown",r),o(e,"touchstart",r),i&&(i.style.touchAction="none")):(this._mousedownEvt=null,this._rcBounds=null,n(e,"mousemove",s),n(e,"mousedown",r),n(e,"touchstart",r),n(document,"mousemove",this._mousedragBnd),n(document,"mouseup",this._mouseupBnd),i&&(i.style.touchAction=""))},e.prototype._mousemove=function(t){if(!this._mousedownEvt){var e=this.hostElement,i=this._getEdges(e,t),o="",n=_Edges;this._edges=i,this._resizable&&(i==n.LeftTop||i==n.RightBottom?o="nwse-resize":i==n.LeftBottom||i==n.RightTop?o="nesw-resize":i==n.Left||i==n.Right?o="ew-resize":i!=n.Top&&i!=n.Bottom||(o="ns-resize")),this._draggable&&!o&&this._getClosestHeader(t.target)&&(o="move"),e.style.cursor=o}},e.prototype._mousedown=function(t){var e=t.touches&&t.touches.length>0?t.touches[0]:t;if(this._edges=this._getEdges(this.hostElement,e),this._edges||this._draggable&&this._getClosestHeader(t.target)){this._mousedownEvt=e,this._rcBounds=this.hostElement.getBoundingClientRect();var i=this.addEventListener.bind(this),o=document,n=this._mousedragBnd,s=this._mouseupBnd;i(o,"mousemove",n),i(o,"touchmove",n),i(o,"mouseup",s),i(o,"touchend",s)}},e.prototype._mouseup=function(){this._mousedownEvt=null,this._rcBounds=null;var t=this.removeEventListener.bind(this),e=document,i=this._mousedragBnd,o=this._mouseupBnd;t(e,"mousemove",i),t(e,"touchmove",i),t(e,"mouseup",o),t(e,"touchend",o)},e.prototype._mousedrag=function(t){if(!t.defaultPrevented){var i=this.hostElement.style,o=this._mousedownEvt,n=t.touches&&t.touches.length>0?t.touches[0]:t,s=n.clientX-o.clientX,r=n.clientY-o.clientY,a=this._rcBounds,l=this._edges,h=e._SZ_MIN;l?(l&_Edges.Left?(i.left=a.left+s+(n.pageX-n.clientX)+"px",i.width=Math.max(a.width-s,h)+"px"):l&_Edges.Right&&(i.width=Math.max(a.width+s,h)+"px"),l&_Edges.Top?(i.top=a.top+r+(n.pageY-n.clientY)+"px",i.height=Math.max(a.height-r,h)+"px"):l&_Edges.Bottom&&(i.height=Math.max(a.height+r,h)+"px"),this._dragged=!0):this._draggable&&(this._dragged||Math.abs(s)+Math.abs(r)>e._DRAG_THRESHOLD)&&(i.left=Math.max(a.left+s+(n.pageX-n.clientX),50-a.width)+"px",i.top=Math.max(a.top+r+(n.pageY-n.clientY),0)+"px",this._dragged=!0)}},e.prototype._getEdges=function(t,i){var o=0;if(this._resizable){var n=t.getBoundingClientRect(),s=e._SZ_EDGE;i.clientX-n.left<s&&(o|=_Edges.Left),i.clientY-n.top<s&&(o|=_Edges.Top),n.right-i.clientX<s&&(o|=_Edges.Right),n.bottom-i.clientY<s&&(o|=_Edges.Bottom)}return o},e.prototype._ownerClick=function(){this.isVisible?this._hideTrigger&PopupTrigger.Click&&this.hide():this._showTrigger&PopupTrigger.Click&&(this._wasVisible||this.show())},e.prototype._ownerMouseDown=function(t){this._wasVisible=this.isVisible},e.prototype._getHeaderElement=function(){var t=this.hostElement;return t.querySelector(".wj-dialog-header")||t.querySelector(".modal-header")},e.prototype._getClosestHeader=function(t){return wijmo_1.closest(t,".wj-dialog-header")||wijmo_1.closest(t,".modal-header")},e.prototype._showBackdrop=function(){var t=this;this._bkdrop||(this._bkdrop=document.createElement("div"),this._bkdrop.tabIndex=-1,wijmo_1.addClass(this._bkdrop,"wj-popup-backdrop"),this.addEventListener(this._bkdrop,"mousedown",function(e){e.preventDefault(),e.stopPropagation(),t.hostElement.focus(),t.hideTrigger&PopupTrigger.Blur&&t.hide()})),wijmo_1.setCss(this._bkdrop,{zIndex:wijmo_1.Control._POPUP_ZINDEX,display:""});var e=this.hostElement;e.parentElement.insertBefore(this._bkdrop,e)},e.prototype._validateAndHide=function(t){var e=this.hostElement.querySelector(":invalid");e?e.focus():this.hide(t)},e._DRAG_THRESHOLD=6,e._SZ_EDGE=10,e._SZ_MIN=40,e}(wijmo_1.Control);exports.Popup=Popup;var InputDate=function(t){function e(e,i){var o=t.call(this,e)||this;if(o._format="d",o.valueChanged=new wijmo_1.Event,wijmo_1.addClass(o.hostElement,"wj-inputdate"),o._msk=new wijmo_1._MaskProvider(o._tbx),wijmo_1.isIE9()||(o.inputType="tel"),o._tbx.type.match(/date/i)&&(o.inputType=""),o.addEventListener(o.hostElement,"wheel",function(t){if(!t.defaultPrevented&&!o.isDroppedDown&&o.containsFocus()&&null!=o.value&&o._canChangeValue()){var e=wijmo_1.clamp(-t.deltaY,-1,1);o.value=o.selectionMode==DateSelectionMode.Month?wijmo_1.DateTime.addMonths(o.value,e):wijmo_1.DateTime.addDays(o.value,e),o.selectAll(),t.preventDefault()}}),o.value=wijmo_1.DateTime.newDate(),"INPUT"==o._orgTag){var n=o._tbx.getAttribute("value");n&&(o.value=wijmo_1.Globalize.parseDate(n,"yyyy-MM-dd"))}return o.isRequired=!0,o.initialize(i),o}return __extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){if(wijmo_1.DateTime.equals(this._value,t))this._tbx.value=wijmo_1.Globalize.format(t,this.format);else{var e=!this.isRequired||null==t&&null==this.value;t=wijmo_1.asDate(t,e),t=this._clamp(t),this._isValidDate(t)?(this._tbx.value=t?wijmo_1.Globalize.format(t,this.format):"",t==this._value||wijmo_1.DateTime.equals(this._value,t)||(this._value=t,this.onValueChanged())):this._tbx.value=t?wijmo_1.Globalize.format(this.value,this.format):"",this._calChanging=!0,this._calendar.value=this.value,this._calChanging=!1,this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged())}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(t,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionMode",{get:function(){return this.calendar.selectionMode},set:function(t){this.calendar.selectionMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._calendar.min},set:function(t){this._calendar.min=wijmo_1.asDate(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._calendar.max},set:function(t){this._calendar.max=wijmo_1.asDate(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"repeatButtons",{get:function(){return this.calendar.repeatButtons},set:function(t){this.calendar.repeatButtons=wijmo_1.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showYearPicker",{get:function(){return this.calendar.showYearPicker},set:function(t){this.calendar.showYearPicker=wijmo_1.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=wijmo_1.asString(t),this._tbx.value=wijmo_1.Globalize.format(this.value,this.format))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=wijmo_1.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"calendar",{get:function(){return this._calendar},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=wijmo_1.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemValidator",{get:function(){return this._calendar.itemValidator},set:function(t){t!=this.itemValidator&&(this._calendar.itemValidator=wijmo_1.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemFormatter",{get:function(){return this.calendar.itemFormatter},set:function(t){t!=this.itemFormatter&&(this.calendar.itemFormatter=wijmo_1.asFunction(t))},enumerable:!0,configurable:!0}),e.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.isDroppedDown=!1,this._msk&&this._msk.refresh(),this._calendar&&this._calendar.refresh(),this._tbx.value=wijmo_1.Globalize.format(this.value,this.format)},e.prototype.onIsDroppedDownChanged=function(e){t.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown&&(this._calChanged=!1,this.dropDown.focus(),this._calendar.refresh())},e.prototype._createDropDown=function(){var t=this;this._calendar=new Calendar(this._dropDown),this._calendar.valueChanged.addHandler(function(){t._calChanging||(t.value=wijmo_1.DateTime.fromDateTime(t._calendar.value,t.value),t._calChanged=!0)}),this.addEventListener(this._dropDown,"click",function(e){var i=e.target;wijmo_1.hasClass(i,"wj-state-invalid")||wijmo_1.closest(i,".wj-header")&&wijmo_1.closest(i,".wj-calendar-year")||(t._calChanged&&!wijmo_1.closest(i,".wj-calendar-header")?t.isDroppedDown=!1:(i=wijmo_1.closest(i,".wj-btn"))&&"btn-today"==i.getAttribute("wj-part")&&(t.isDroppedDown=!1))})},e.prototype._updateDropDown=function(){this._commitText();var e=this._calendar;e.value=this.value,e.min=this.min,e.max=this.max,this.selectionMode!=DateSelectionMode.Month&&(e.monthView=!0);var i=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=18*parseFloat(i.fontSize)+"px",this._calendar.refresh(),t.prototype._updateDropDown.call(this)},e.prototype._keydown=function(e){if(!(e.defaultPrevented||e.altKey||e.ctrlKey||e.metaKey))switch(e.keyCode){case wijmo_1.Key.Enter:this._commitText(),this.selectAll();break;case wijmo_1.Key.Escape:this.text=wijmo_1.Globalize.format(this.value,this.format),this.selectAll();break;case wijmo_1.Key.Up:case wijmo_1.Key.Down:if(!this.isDroppedDown&&this.value&&this._canChangeValue()){var i=e.keyCode==wijmo_1.Key.Up?1:-1,o=this.selectionMode==DateSelectionMode.Month?wijmo_1.DateTime.addMonths(this.value,i):wijmo_1.DateTime.addDays(this.value,i);this.value=wijmo_1.DateTime.fromDateTime(o,this.value),this.selectAll(),e.preventDefault()}}t.prototype._keydown.call(this,e)},e.prototype._canChangeValue=function(){return!this.isReadOnly&&this.selectionMode!=DateSelectionMode.None},e.prototype._clamp=function(t){return this.calendar._clamp(t)},e.prototype._commitText=function(){var t=this._tbx.value;if(t||this.isRequired){var e=wijmo_1.Globalize.parseDate(t,this.format,this.value);e?this.value=wijmo_1.DateTime.fromDateTime(e,this.value):this.text=wijmo_1.Globalize.format(this.value,this.format)}else this.value=null},e.prototype._isValidDate=function(t){if(t){if(this._clamp(t)!=t)return!1;if(this.itemValidator&&!this.itemValidator(t))return!1}return!0},e}(DropDown);exports.InputDate=InputDate;var InputColor=function(t){function e(e,i){var o=t.call(this,e)||this;o.valueChanged=new wijmo_1.Event,wijmo_1.addClass(o.hostElement,"wj-inputcolor");return o._ePreview=wijmo_1.createElement('<div class="wj-inputcolorbox"></div>',o.hostElement.firstElementChild),"INPUT"==o._orgTag&&(o._tbx.type="",o._commitText()),o.value="#ffffff",o.isRequired=!0,o.initialize(i),o.addEventListener(o._colorPicker.hostElement,"click",function(t){var e=t.target;e&&"DIV"==e.tagName&&((wijmo_1.closest(e,'[wj-part="div-pal"]')||wijmo_1.closest(e,'[wj-part="div-pv"]'))&&e.style.backgroundColor&&(o.isDroppedDown=!1))}),o}return __extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){t!=this.value&&(!t&&this.isRequired||(this.text=wijmo_1.asString(t)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(wijmo_1.asString(t),!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(t){this._colorPicker.showAlphaChannel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"palette",{get:function(){return this._colorPicker.palette},set:function(t){this._colorPicker.palette=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),e.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},e.prototype.onIsDroppedDownChanged=function(e){t.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown&&!this.isTouching&&this.selectAll()},e.prototype._createDropDown=function(){var t=this;this._colorPicker=new ColorPicker(this._dropDown),wijmo_1.setCss(this._dropDown,{minWidth:420,minHeight:200}),this._colorPicker.valueChanged.addHandler(function(){t.value=t._colorPicker.value})},e.prototype._keydown=function(e){if(!e.defaultPrevented)switch(e.keyCode){case wijmo_1.Key.Enter:this._commitText(),this.selectAll();break;case wijmo_1.Key.Escape:this.text=this.value,this.selectAll()}t.prototype._keydown.call(this,e)},e.prototype._commitText=function(){if(this.value!=this.text){if(!this.isRequired&&!this.text)return this._value=this.text,void(this._ePreview.style.backgroundColor="");wijmo_1.Color.fromString(this.text)?(this._colorPicker.value=this.text,this._value=this._colorPicker.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()):this.text=this._value?this._value:""}},e}(DropDown);exports.InputColor=InputColor;var ComboBox=function(t){function e(e,i){var o=t.call(this,e)||this;o._editable=!1,o._trimText=!0,o._delKey=0,o._composing=!1,o._pathHdr=new wijmo_1.Binding(null),o._bsCollapse=!0,o._fmtItemHandlers=0,o.itemsSourceChanged=new wijmo_1.Event,o.selectedIndexChanged=new wijmo_1.Event;var n=o.hostElement;return wijmo_1.addClass(n,"wj-combobox"),o.dropDown.id=wijmo_1.getUniqueId(n.id+"_dropdown"),o.autoExpandSelection=!1,o.addEventListener(o._tbx,"compositionstart",function(){o._composing=!0}),o.addEventListener(o._tbx,"compositionend",function(){o._composing=!1,setTimeout(function(){o._setText(o.text,!0)})}),o.addEventListener(n,"wheel",o._wheel.bind(o)),"SELECT"==o._orgTag&&o._lbx._initFromSelect(n),o._lbx.loadedItems.addHandler(function(t){o.selectedIndex>-1&&(o.selectedIndex=o._lbx.selectedIndex)}),o.isRequired=!0,o.initialize(i),o}return __extends(e,t),Object.defineProperty(e.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(t){this._lbx.itemsSource!=t&&(this._lbx.itemsSource=t,this.onItemsSourceChanged()),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(t){this._lbx.showGroups=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(t){this._lbx.displayMemberPath=t;var e=this.getDisplayText();this.text!=e&&this._setText(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerPath",{get:function(){return this._pathHdr.path},set:function(t){this._pathHdr.path=wijmo_1.asString(t);var e=this.getDisplayText();this.text!=e&&this._setText(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(t){this._lbx.selectedValuePath=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(t){if(t!=this.isContentHtml){this._lbx.isContentHtml=wijmo_1.asBoolean(t);var e=this.getDisplayText();this.text!=e&&this._setText(e,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trimText",{get:function(){return this._trimText},set:function(t){t!=this._trimText&&(this._trimText=wijmo_1.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(t){this._lbx.itemFormatter=wijmo_1.asFunction(t),this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatItem",{get:function(){return this.listBox.formatItem},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(t){t!=this.selectedIndex&&wijmo_1.isNumber(t)&&(this._lbx.selectedIndex=t),t=this.selectedIndex;var e=this.getDisplayText(t);this.text!=e&&this._setText(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(t){this._lbx.selectedItem=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValue",{get:function(){return this.collectionView?this._lbx.selectedValue:this.text},set:function(t){this.collectionView?this._lbx.selectedValue=t:null!=t&&(this.text=t.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=wijmo_1.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(t){this._lbx.maxHeight=wijmo_1.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDropDownWidth",{get:function(){var t=this._dropDown;return parseInt(t.style.maxWidth)},set:function(t){var e=this._dropDown;e.style.maxWidth=wijmo_1.asNumber(t)+"px",e.style.minWidth=""},enumerable:!0,configurable:!0}),e.prototype.getDisplayText=function(t){var e;if(void 0===t&&(t=this.selectedIndex),this.headerPath&&t>-1&&wijmo_1.hasItems(this.collectionView)){var i=this.collectionView.items[t];e=null!=(e=i?this._pathHdr.getValue(i):null)?e.toString():"",this.isContentHtml&&(e=wijmo_1.toPlainText(e))}else e=this._lbx.getDisplayText(t);return this._trimText?e.trim():e},e.prototype.indexOf=function(t,e){var i=this.collectionView;if(wijmo_1.hasItems(i)&&null!=t){var o=this.selectedIndex;if(e&&t==this.getDisplayText(o))return o;t=t.toString().toLowerCase();for(var n=0;n<i.items.length;n++)if(this.listBox.isItemEnabled(n)){var s=this.getDisplayText(n).toLowerCase();if(e){if(s==t)return n}else if(t&&0==s.indexOf(t))return n}}return-1},Object.defineProperty(e.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),e.prototype.onItemsSourceChanged=function(t){this.itemsSourceChanged.raise(this,t)},e.prototype.onSelectedIndexChanged=function(t){this._updateBtn(),this.selectedIndexChanged.raise(this,t)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),wijmo_1.hasItems(this.collectionView)&&(this._lbx.refresh(),this.selectedIndex>-1&&(this.selectedIndex=this._lbx.selectedIndex))},e.prototype.onLostFocus=function(e){this._composing&&(this._composing=!1,this._setText(this.text,!0)),this.isEditable&&this.isRequired&&!this.text&&wijmo_1.hasItems(this.collectionView)&&(this.selectedIndex=0),t.prototype.onLostFocus.call(this,e)},e.prototype.onIsDroppedDownChanging=function(e){return this.isDroppedDown||wijmo_1.hasItems(this.collectionView)?t.prototype.onIsDroppedDownChanging.call(this,e):(e.cancel=!0,!1)},e.prototype.onIsDroppedDownChanged=function(e){t.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown&&(this._fmtItemHandlers=this.formatItem.handlerCount,this._lbx.showSelection()),wijmo_1.setAttribute(this.dropDown,"aria-expanded",this.isDroppedDown)},e.prototype._updateBtn=function(){var e=this.collectionView,i=this._tbx,o=this.dropDown.id,n=wijmo_1.hasItems(e);t.prototype._updateBtn.call(this),this._btn.style.display=this._showBtn&&null!=e?"":"none",wijmo_1.enable(this._btn,n),wijmo_1.setAttribute(i,"role",n?"combobox":null),wijmo_1.setAttribute(i,"aria-autocomplete",n?"both":null),wijmo_1.setAttribute(i,"aria-owns",n&&this.dropDown.parentElement?o:null),wijmo_1.setAttribute(this.dropDown,"aria-expanded",!n&&null)},e.prototype._createDropDown=function(){var t=this;this._lbx||(this._lbx=new ListBox(this._dropDown)),this._lbx.maxHeight=200,this._lbx.selectedIndexChanged.addHandler(function(){t._updateBtn();var e=t._lbx.selectedIndex,i=t._lbx.hostElement.children,o=e>-1&&e<i.length?i[e].id:null;wijmo_1.setAttribute(t._tbx,"aria-activedescendant",o&&o.length?o:null),t.selectedIndex=e,t.onSelectedIndexChanged()}),this._lbx.itemsChanged.addHandler(function(){t._updateBtn()})},e.prototype._wheel=function(t){if(!t.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex>-1){var e=wijmo_1.clamp(-t.deltaY,-1,1);this.selectedIndex=wijmo_1.clamp(this.selectedIndex-e,0,this.collectionView.items.length-1),t.preventDefault()}},e.prototype._dropDownClick=function(e){e.defaultPrevented||e.target!=this._dropDown&&(this.isDroppedDown=!1),t.prototype._dropDownClick.call(this,e)},e.prototype._setText=function(e,i){if(!this._composing&&!this._settingText){if(this._settingText=!0,this.containsFocus()){var o=this.formatItem.handlerCount;this._fmtItemHandlers!=o&&(this._fmtItemHandlers=o,this._lbx.loadList())}null==e&&(e=""),e=e.toString();var n=this.selectedIndex,s=this.collectionView,r=this._getSelStart(),a=-1,l=!0;if(this.isEditable&&(this._delKey||this._getSelEnd()<e.length||!this.containsFocus())&&(i=!0,l=!1),n=this.indexOf(e,i),l&&(n<0&&i&&(n=this.indexOf(e,!1)),n<0&&r>0&&(n=this.indexOf(e.substr(0,r),!1))),n<0&&!this.isEditable&&wijmo_1.hasItems(s)&&(this.isRequired||e)){var h=this._oldText||"";n=Math.max(0,this.indexOf(h,!1));for(var c=0;c<e.length&&c<h.length;c++)if(e[c]!=h[c]){r=c;break}}n>-1&&(a=r,e=this.getDisplayText(n)),e!=this._tbx.value&&(this._tbx.value=e),a>-1&&this.containsFocus()&&!this.isTouching&&this._updateInputSelection(a),s&&s.moveCurrentToPosition(n),this._delKey=0,this._settingText=!1;var u=this._oldText,p=this.selectedIndex;t.prototype._setText.call(this,e,i),(null==!this.itemsSource||this.isEditable)&&p<0&&this.text!=u&&this.selectedIndex==p&&this.onSelectedIndexChanged()}},e.prototype._findNext=function(t,e){var i=this.selectedIndex,o=this.collectionView,n=o?o.items.length:0,s=this.listBox;if(o&&n&&e){t=t.toLowerCase();for(var r=i+e;r>-1&&r<n;r+=e){if(0==this.getDisplayText(r).toLowerCase().indexOf(t))if(!this.dropDown.children[r]||s.isItemEnabled(r))return r}}return i},e.prototype._keydown=function(e){if(t.prototype._keydown.call(this,e),!e.defaultPrevented&&!this.isReadOnly&&!e.altKey&&wijmo_1.hasItems(this.collectionView)&&this._elRef==this._tbx){this._delKey=0;var i=this._getSelStart();switch(e.keyCode){case wijmo_1.Key.Back:if(this._bsCollapse&&!this.isEditable){var o=this._getSelEnd();i>0&&o==this._tbx.value.length&&wijmo_1.hasItems(this.collectionView)&&this._setSelRange(i-1,o)}this._delKey=e.keyCode;break;case wijmo_1.Key.Delete:this._delKey=e.keyCode;break;case wijmo_1.Key.Up:case wijmo_1.Key.Down:i==this.text.length&&(i=0),this.selectedIndex=this._findNext(this.text.substr(0,i),e.keyCode==wijmo_1.Key.Up?-1:1),this._setSelRange(i,this.text.length),e.preventDefault();break;case wijmo_1.Key.PageUp:this._lbx._selectPrevPage(),this.selectAll(),e.preventDefault();break;case wijmo_1.Key.PageDown:this._lbx._selectNextPage(),this.selectAll(),e.preventDefault()}}},e.prototype._updateInputSelection=function(t){this._elRef==this._tbx&&this._setSelRange(t,this._tbx.value.length)},e.prototype._getSelStart=function(){return this._tbx&&this._tbx.value?this._tbx.selectionStart:0},e.prototype._getSelEnd=function(){return this._tbx&&this._tbx.value?this._tbx.selectionEnd:0},e.prototype._setSelRange=function(t,e){var i=this._tbx;this._elRef!=i||i.readOnly||wijmo_1.setSelectionRange(i,t,e)},e}(DropDown);exports.ComboBox=ComboBox,wijmo_1._addCultureInfo("MultiSelect",{itemsSelected:"{count:n0} items selected",selectAll:"Select All"});var MultiSelect=function(t){function e(e,i){var o=t.call(this,e)||this;return o._maxHdrItems=2,o._readOnly=!1,o._hdrFmt=wijmo_1.culture.MultiSelect.itemsSelected,o.checkedItemsChanged=new wijmo_1.Event,wijmo_1.addClass(o.hostElement,"wj-multiselect"),o._tbx.readOnly=!0,o.checkedMemberPath=null,o.addEventListener(o.inputElement,"click",function(t){document.elementFromPoint(t.clientX,t.clientY)==o.inputElement&&(o._btnclick(t),t.preventDefault())}),o.addEventListener(o._selectAll,"click",function(t){wijmo_1.hasItems(o.collectionView)&&t.target==o._selectAllCheckbox&&(o.checkedItems=t.target.checked?o.collectionView.items:[])}),o.removeEventListener(o.dropDown,"click"),o._updateHeader(),o.listBox.itemsChanged.addHandler(function(){o._updateHeader()}),o.listBox.checkedItemsChanged.addHandler(function(){o._updateHeader(),o.onCheckedItemsChanged()}),o.initialize(i),o}return __extends(e,t),Object.defineProperty(e.prototype,"showSelectAllCheckbox",{get:function(){return""==this._selectAll.style.display},set:function(t){this._selectAll.style.display=wijmo_1.asBoolean(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectAllLabel",{get:function(){return this._selectAllLabel},set:function(t){t!=this._selectAllLabel&&(this._selectAllLabel=wijmo_1.asString(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedMemberPath",{get:function(){var t=this.listBox.checkedMemberPath;return t!=e._DEF_CHECKED_PATH?t:null},set:function(t){t=wijmo_1.asString(t),this.listBox.checkedMemberPath=t||e._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(t){this._maxHdrItems!=t&&(this._maxHdrItems=wijmo_1.asNumber(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(t){t!=this._hdrFmt&&(this._hdrFmt=wijmo_1.asString(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(t){t!=this._hdrFormatter&&(this._hdrFormatter=wijmo_1.asFunction(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(t){this.listBox.checkedItems=wijmo_1.asArray(t)},enumerable:!0,configurable:!0}),e.prototype.onCheckedItemsChanged=function(t){this.checkedItemsChanged.raise(this,t)},e.prototype.dispose=function(){this.listBox.dispose(),t.prototype.dispose.call(this)},e.prototype.onIsDroppedDownChanged=function(e){t.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown&&this.listBox.focus()},e.prototype._createDropDown=function(){this._selectAll=wijmo_1.createElement('<div class="wj-header wj-select-all wj-listbox-item" style="display:none" tabindex="0"><label><input type="checkbox"> <span></span></label></div>',this._dropDown),this._selectAllCheckbox=this._selectAll.querySelector("input[type=checkbox]"),this._selectAllSpan=this._selectAll.querySelector("label>span"),wijmo_1.setText(this._selectAllSpan,wijmo_1.culture.MultiSelect.selectAll);var e=wijmo_1.createElement("<div></div>",this._dropDown);this._lbx=new ListBox(e),t.prototype._createDropDown.call(this),wijmo_1.addClass(this.dropDown,"wj-control wj-listbox"),this.dropDown.style.overflow="hidden"},Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=wijmo_1.asBoolean(t),wijmo_1.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this._updateHeader(),this._selectAllSpan&&wijmo_1.setText(this._selectAllSpan,this._selectAllLabel||wijmo_1.culture.MultiSelect.selectAll)},e.prototype._setText=function(t,e){},e.prototype._keydown=function(e){if(t.prototype._keydown.call(this,e),!e.defaultPrevented&&wijmo_1.hasItems(this.collectionView)){var i=this.selectedIndex;32==e.keyCode&&this.isDroppedDown&&i>-1?(this._lbx.toggleItemChecked(i),e.preventDefault()):e.keyCode>32&&(this.isDroppedDown=!0)}},e.prototype._updateHeader=function(){var t=this.checkedItems;if(wijmo_1.isFunction(this._hdrFormatter))this.inputElement.value=this._hdrFormatter();else{var e="";if(t.length>0)if(t.length<=this._maxHdrItems){if(this.displayMemberPath){var i=new wijmo_1.Binding(this.displayMemberPath);t=t.map(function(t){return i.getValue(t)})}e=t.join(", ")}else e=wijmo_1.format(this.headerFormat,{count:t.length});this.inputElement.value=e}var o=null,n=this.collectionView;wijmo_1.hasItems(n)&&(0==t.length?o=!1:t.length==n.items.length&&(o=!0)),this._selectAllCheckbox.indeterminate=null==o,null!=o&&(this._selectAllCheckbox.checked=o),this._updateState()},e._DEF_CHECKED_PATH="$checked",e}(ComboBox);exports.MultiSelect=MultiSelect;var Menu=function(t){function e(e,i){var o=t.call(this,e)||this;o._isButton=!1,o._openOnHover=!1,o._closeOnLeave=!0,o._hoverEnterBnd=o._hoverEnter.bind(o),o._hoverLeaveBnd=o._hoverLeave.bind(o),o._hoverOverBnd=o._hoverOver.bind(o),o.itemClicked=new wijmo_1.Event;var n=o.hostElement,s=o._tbx,r=o._lbx,a=o.dropDown;wijmo_1.addClass(n,"wj-menu"),s.style.display="none";o._hdr=o._elRef=wijmo_1.createElement('<div wj-part="header" class="wj-form-control"/>'),s.parentElement.insertBefore(o._hdr,o._tbx);var l=o._orgOuter.match(/tabindex="?(-?\d+)"?/i);return n.tabIndex=l?parseInt(l[1]):0,o.isRequired=!1,wijmo_1.setAttribute(n,"role","menubar",!0),wijmo_1.setAttribute(s,"role",null),wijmo_1.setAttribute(s,"aria-autocomplete",null),wijmo_1.setAttribute(s,"aria-owns",null),wijmo_1.setAttribute(a,"role","menu"),r.itemRole="menuitem","SELECT"==o._orgTag&&(o.header=n.getAttribute("header"),o._lbx.itemsSource&&(o.commandParameterPath="cmdParam")),o.isContentHtml=!0,o.maxDropDownHeight=500,o.addEventListener(o._hdr,"click",function(t){t.defaultPrevented||(o._clearHover(),o._isButton?(o.isDroppedDown=!1,o._raiseCommand()):o.isDroppedDown=!o.isDroppedDown)}),r.lostFocus.addHandler(function(){o.containsFocus()||(o.isDroppedDown=!1)}),wijmo_1.addClass(a,"wj-menu-items"),r.formatItem.addHandler(o._formatMenuItem.bind(o)),o.initialize(i),o}return __extends(e,t),Object.defineProperty(e.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(t){this._hdr.innerHTML=wijmo_1.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"command",{get:function(){return this._cmd},set:function(t){this._cmd=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(t){this._cmdPath=wijmo_1.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(t){this._cmdParamPath=wijmo_1.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subItemsPath",{get:function(){return this._subPath},set:function(t){t!=this._subPath&&(this._subPath=t,this.refresh(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openOnHover",{get:function(){return this._openOnHover},set:function(t){this._openOnHover=wijmo_1.asBoolean(t),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closeOnLeave",{get:function(){return this._closeOnLeave},set:function(t){this._closeOnLeave=wijmo_1.asBoolean(t),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isButton",{get:function(){return this._isButton},set:function(t){this._isButton=wijmo_1.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owner",{get:function(){return this._owner},set:function(t){this._owner=wijmo_1.asType(t,HTMLElement,!0),this._enableDisableItems()},enumerable:!0,configurable:!0}),e.prototype.show=function(t){if(!this.isDroppedDown&&(this.selectedIndex=-1,this.onIsDroppedDownChanging(new wijmo_1.CancelEventArgs))){var e=this.dropDown,i=this.owner;!i&&t instanceof MouseEvent&&(i=t.target),i instanceof HTMLElement&&(e[wijmo_1.Control._OWNR_KEY]=i),wijmo_1.showPopup(e,t,!1,this.isAnimated),this.onIsDroppedDownChanged(),e.focus()}},e.prototype.hide=function(){this.isDroppedDown&&this.onIsDroppedDownChanging(new wijmo_1.CancelEventArgs)&&(wijmo_1.hidePopup(this.dropDown),this.onIsDroppedDownChanged())},e.prototype.onItemClicked=function(t){this.itemClicked.raise(this,t)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this._enableDisableItems()},e.prototype.onIsDroppedDownChanged=function(e){if(t.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown)this._closing=!0,this._defaultItem=this.selectedItem,this.isRequired=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1,this.dropDown.focus();else{this.selectedItem||(this.selectedItem=this._defaultItem);var i=this._subMenu;i&&(i.isDroppedDown=!1)}},e.prototype._updateHoverEvents=function(){var t=this.hostElement,e=this.dropDown,i=this.addEventListener.bind(this),o=this.removeEventListener.bind(this),n="mouseleave";o(t,"mouseenter",this._hoverEnterBnd),o(t,n,this._hoverLeaveBnd),o(e,"mouseover",this._hoverOverBnd),o(e,n,this._hoverLeaveBnd),this._openOnHover&&(i(t,"mouseenter",this._hoverEnterBnd),i(e,"mouseover",this._hoverOverBnd),this._closeOnLeave&&(i(t,n,this._hoverLeaveBnd),i(e,n,this._hoverLeaveBnd)))},e.prototype._getSubItems=function(t){var e=this.subItemsPath,i=t&&e?t[e]:null;return wijmo_1.isArray(i)&&i.length?i:null},e.prototype._formatMenuItem=function(t,e){var i=e.item;this._getSubItems(e.data)?wijmo_1.addClass(i,"wj-subitems"):"-"==i.innerHTML&&(i.innerHTML="",wijmo_1.addClass(i,"wj-separator"))},e.prototype._keydown=function(i){if(!i.defaultPrevented){var o=this._getKeyCode(i);if(this.isDroppedDown)switch(o){case wijmo_1.Key.Enter:case wijmo_1.Key.Right:if(this._showSubMenu())return void i.preventDefault();break;case wijmo_1.Key.Left:var n=wijmo_1.Control.getControl(this.owner);if(n instanceof e){var s=n.dropDown,r=n.selectedIndex;return(r>-1?s.children[r]:s).focus(),void i.preventDefault()}}o==wijmo_1.Key.Enter&&(this.isDroppedDown?this.getDisplayText(this.selectedIndex)&&this._raiseCommand():(this.isDroppedDown=!0,i.preventDefault()))}t.prototype._keydown.call(this,i)},e.prototype._dropDownClick=function(e){if(!e.defaultPrevented&&e.target!=this.dropDown){if(this._clearHover(),this._showSubMenu())return void e.preventDefault();this.getDisplayText(this.selectedIndex)&&this._raiseCommand()}t.prototype._dropDownClick.call(this,e)},e.prototype._showSubMenu=function(){var t=this,i=this._getSubItems(this.selectedItem);if(!i)return null;var o=this.dropDown.children[this.selectedIndex].getBoundingClientRect(),n=new wijmo_1.Point(o.right,o.top);if(0==o.height)return null;var s=this.rightToLeft||"rtl"==this.dropDown.getAttribute("dir");s&&(n.x=o.left);var r=this._subMenu;r&&(r.isDroppedDown=!1),r=new e(document.createElement("div"),{owner:this.hostElement,itemsSource:i,itemClicked:function(e,i){t.itemClicked.raise(e,i)}}),"displayMemberPath,selectedValuePath,isContentHtml,command,commandPath,commandParameterPath,maxDropDownWidth,maxDropDownHeight,dropDownCssClass,isAnimated,subItemsPath,openOnHover,closeOnLeave".split(",").forEach(function(e){r[e]=t[e]});var a=r.dropDown;return wijmo_1.setAttribute(a,"dir",s?"rtl":null),r.show(n),a[wijmo_1.Control._OWNR_KEY]=this.dropDown,a.focus(),r},e.prototype._raiseCommand=function(t){var i=this.selectedItem,o=this._getSubItems(i),n=this._getCommand(i);if(n&&!o){var s=this._getCommandParm(i);if(!this._canExecuteCommand(n,s))return;this._executeCommand(n,s)}if(this.onItemClicked(t),this.containsFocus()){for(var r=this;r&&r.owner;){var a=wijmo_1.Control.getControl(r.owner);if(!(a instanceof e))break;r=a}var l=r.owner;!l&&r.dropDown&&(l=r.dropDown[wijmo_1.Control._OWNR_KEY]),r.isDroppedDown=!1,r.focus(),r.containsFocus()||l instanceof HTMLElement&&l.focus()}},e.prototype._getCommand=function(t){var e=t&&this._cmdPath?t[this._cmdPath]:null;return e||this._cmd},e.prototype._getCommandParm=function(t){var e=this._cmdParamPath;return t&&e?t[e]:t},e.prototype._executeCommand=function(t,e){t&&!wijmo_1.isFunction(t)&&(t=t.executeCommand),wijmo_1.isFunction(t)&&t(e)},e.prototype._canExecuteCommand=function(t,e){if(t){var i=t.canExecuteCommand;if(wijmo_1.isFunction(i))return i(e)}return!0},e.prototype._enableDisableItems=function(){if(this.collectionView&&(this._cmd||this._cmdPath))for(var t=this.collectionView.items,e=0;e<t.length;e++){var i=t[e],o=this._getCommand(i);if(o){var n=this._lbx.hostElement.children[e],s=this._getCommandParm(i);wijmo_1.toggleClass(n,"wj-state-disabled",!this._canExecuteCommand(o,s))}}},e.prototype._clearHover=function(){this._toHover&&clearTimeout(this._toHover),this._toHover=null},e.prototype._hoverEnter=function(t){var e=this;this._clearHover(),this._toHover=setTimeout(function(){e._toHover=null,e.isDroppedDown=!0},wijmo_1.Control._HOVER_DELAY)},e.prototype._hoverLeave=function(t){if(this._clearHover(),this.isDroppedDown){var e=document.elementFromPoint(t.clientX,t.clientY),i=wijmo_1.closest(e,".wj-listbox.wj-menu-items"),o=this._subMenu;i||wijmo_1.contains(this.hostElement,e)||(this.isDroppedDown=!1,o&&(o.isDroppedDown=!1))}},e.prototype._hoverOver=function(t){var e=this;this._clearHover(),this._toHover=setTimeout(function(){e._toHover=null;var i=e.listBox.indexOf(t.target);i>-1&&(e.selectedIndex=i,e._subMenu=e._showSubMenu())},wijmo_1.Control._HOVER_DELAY)},e}(ComboBox);exports.Menu=Menu;var InputTime=function(t){function e(e,i){var o=t.call(this,e)||this;if(o._format="t",o.valueChanged=new wijmo_1.Event,wijmo_1.addClass(o.hostElement,"wj-inputtime"),o.isEditable=!0,o._value=wijmo_1.DateTime.newDate(),o._msk=new wijmo_1._MaskProvider(o._tbx),wijmo_1.isIE9()||(o._tbx.type="tel"),"INPUT"==o._orgTag){var n=o._tbx.getAttribute("value");n&&(o.value=wijmo_1.Globalize.parseDate(n,"HH:mm:ss"))}return o.step=15,o.autoExpandSelection=!0,o.initialize(i),o}return __extends(e,t),Object.defineProperty(e.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=wijmo_1.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){(t=wijmo_1.asDate(t,!this.isRequired))&&(t=this._clamp(t)),this._setText(t?wijmo_1.Globalize.format(t,this.format):"",!0),this.selectedItem&&this.selectedItem.value&&(t=wijmo_1.DateTime.fromDateTime(t,this.selectedItem.value)),t==this._value||wijmo_1.DateTime.equals(t,this._value)||(this._value=t,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(t,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){this._min=wijmo_1.asDate(t,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){this._max=wijmo_1.asDate(t,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step},set:function(t){this._step=wijmo_1.asNumber(t,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=wijmo_1.asString(t),this._tbx.value=wijmo_1.Globalize.format(this.value,this.format),wijmo_1.hasItems(this.collectionView)&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=wijmo_1.asString(t)},enumerable:!0,configurable:!0}),e.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},e.prototype.onItemsSourceChanged=function(e){t.prototype.onItemsSourceChanged.call(this,e),this._hasCustomItems=null!=this.itemsSource},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.isDroppedDown=!1,this._msk.refresh(),this._tbx.value=wijmo_1.Globalize.format(this.value,this.format),this._updateItems()},e.prototype.onSelectedIndexChanged=function(e){if(this.selectedIndex>-1&&!this._settingText){var i=this.value?this.value:wijmo_1.DateTime.newDate(),o=null!=this.selectedItem.value?this.selectedItem.value:wijmo_1.Globalize.parseDate(this.text,this.format,this.value);this.value=wijmo_1.DateTime.fromDateTime(i,o)}t.prototype.onSelectedIndexChanged.call(this,e)},e.prototype._clamp=function(t){return null!=this._min&&this._getTime(t)<this._getTime(this._min)&&(t=wijmo_1.DateTime.fromDateTime(t,this._min)),null!=this._max&&this._getTime(t)>this._getTime(this._max)&&(t=wijmo_1.DateTime.fromDateTime(t,this._max)),t},e.prototype._wheel=function(e){if(!e.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex<0&&this.value&&wijmo_1.isNumber(this.step)&&this.step>0){var i=wijmo_1.DateTime.addMinutes(this.value,this.step*wijmo_1.clamp(e.deltaY,-1,1));this.value=this._clamp(i),this.selectAll(),e.preventDefault()}t.prototype._wheel.call(this,e)},e.prototype._updateInputSelection=function(e){if(this._delKey)t.prototype._updateInputSelection.call(this,e);else{for(var i=this._tbx.value;e<i.length&&!i[e].match(/[a-z0-9]/i);)e++;wijmo_1.setSelectionRange(this._tbx,e,this._tbx.value.length)}},e.prototype._updateItems=function(){if(!this._hasCustomItems){var t=[],e=wijmo_1.DateTime.newDate(0,0,0,0,0),i=wijmo_1.DateTime.newDate(0,0,0,23,59,59);if(this.min&&e.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&i.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),wijmo_1.isNumber(this.step)&&this.step>0)for(var o=e;o<=i;o=wijmo_1.DateTime.addMinutes(o,this.step))t.push({value:o,text:wijmo_1.Globalize.format(o,this.format)});var n=this.value;this._settingText=!0,this.displayMemberPath="text",this.selectedValuePath="text",this.itemsSource=t,this._hasCustomItems=!1,this._settingText=!1,this.value=n}},e.prototype._getTime=function(t){return 3600*t.getHours()+60*t.getMinutes()+t.getSeconds()},e.prototype._keydown=function(e){if(t.prototype._keydown.call(this,e),!e.defaultPrevented)switch(e.keyCode){case wijmo_1.Key.Enter:this.isDroppedDown||(this._commitText(),this.selectAll());break;case wijmo_1.Key.Escape:this.text=wijmo_1.Globalize.format(this.value,this.format),this.selectAll()}},e.prototype._commitText=function(){if(this.text||this.isRequired){var t=this.value?wijmo_1.Globalize.format(this.value,this.format):null;if(this.text!=t){var e=this.selectedItem&&this.selectedItem.value?this.selectedItem.value:wijmo_1.Globalize.parseDate(this.text,this.format,this.value);e?this.value=wijmo_1.DateTime.fromDateTime(this.value,e):this.text=t}}else this.value=null},e}(ComboBox);exports.InputTime=InputTime,wijmo_1._addCultureInfo("InputDateTime",{ariaLabels:{tglDate:"Toggle Calendar",tglTime:"Toggle Time List"}});var InputDateTime=function(t){function e(e,i){var o=t.call(this,e)||this;wijmo_1.addClass(o.hostElement,"wj-inputdatetime");var n=wijmo_1.culture.InputDateTime.ariaLabels;wijmo_1.setAriaLabel(o._btn,n.tglDate),wijmo_1.setAriaLabel(o._btnTm,n.tglTime),o.format="g",o._inputTime=new InputTime(document.createElement("div"),{valueChanged:function(t){o.value=wijmo_1.DateTime.fromDateTime(o.value,t.value)}});var s=o.addEventListener.bind(o);o._btnTm=o.hostElement.querySelector('[wj-part="btn-tm"]'),s(o._btnTm,"mousedown",function(t){o._btnclick(t)});var r=o._inputTime.dropDown;return s(r,"keydown",o._keydown.bind(o),!0),s(r,"blur",function(){o._updateFocusState()},!0),s(r,"click",function(t){t.defaultPrevented||t.target!=r&&o.hostElement.focus()},!0),o.initialize(i),o}return __extends(e,t),Object.defineProperty(e.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(t){this._inputTime.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(t){this._inputTime.max=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(t){this._inputTime.format=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(t){this._inputTime.step=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputTime",{get:function(){return this._inputTime},enumerable:!0,configurable:!0}),e.prototype._btnclick=function(e){var i=wijmo_1.closest(e.target,"button")==this._btn?this.calendar.hostElement:this._inputTime.dropDown;this._setDropdown(i),t.prototype._btnclick.call(this,e)},e.prototype.dispose=function(){this._setDropdown(this.calendar.hostElement),t.prototype.dispose.call(this),this._inputTime.dispose()},e.prototype.refresh=function(e){void 0===e&&(e=!0),this._setDropdown(this.calendar.hostElement),this._inputTime.refresh(),t.prototype.refresh.call(this,e)},e.prototype._updateBtn=function(){t.prototype._updateBtn.call(this),this._btnTm&&(this._btnTm.tabIndex=this._btn.tabIndex,this._btnTm.parentElement.style.display=this._btn.style.display)},e.prototype._clamp=function(t){return t&&(this.min&&t<this.min&&(t=this.min),this.max&&t>this.max&&(t=this.max)),t},e.prototype._commitText=function(){var t=this._tbx.value;if(t||this.isRequired){var e=wijmo_1.Globalize.parseDate(t,this.format,this.value);e?this.value=e:this._tbx.value=wijmo_1.Globalize.format(this.value,this.format)}else this.value=null},e.prototype._setDropdown=function(t){if(this._dropDown==t)return!1;this.isDroppedDown&&(this.isDroppedDown=!1);var e=this.dropDownCssClass;return this.dropDownCssClass="",this._dropDown=t,this.dropDownCssClass=e,!0},e.prototype._updateDropDown=function(){var e=this._inputTime;this._dropDown==e.dropDown?(this._commitText(),t.prototype._updateDropDown.call(this),e.isRequired=this.isRequired&&null!=this.value,e.value=this.value,this.isDroppedDown&&e.listBox.showSelection()):t.prototype._updateDropDown.call(this)},e.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"/><span class="wj-input-group-btn"><button wj-part="btn" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-calendar"></span></button><button wj-part="btn-tm" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-clock"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel" style="display:none"></div></div>',e}(InputDate);exports.InputDateTime=InputDateTime;var AutoComplete=function(t){function e(e,i){var o=t.call(this,e)||this;return o._cssMatch="wj-autocomplete-match",o._minLength=2,o._maxItems=6,o._itemCount=0,o._delay=500,o._query="",o._inCallback=!1,o._srchProps=[],wijmo_1.addClass(o.hostElement,"wj-autocomplete"),o._bsCollapse=!1,o.isEditable=!0,o.isRequired=!1,o.listBox.formatItem.addHandler(o._formatListItem,o),o._itemsSourceFnCallBackBnd=o._itemSourceFunctionCallback.bind(o),o.initialize(i),o}return __extends(e,t),Object.defineProperty(e.prototype,"minLength",{get:function(){return this._minLength},set:function(t){this._minLength=wijmo_1.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxItems",{get:function(){return this._maxItems},set:function(t){this._maxItems=wijmo_1.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=wijmo_1.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(t){this._srchProp=wijmo_1.asString(t),this._srchProps=t?t.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(t){this._itemsSourceFn=wijmo_1.asFunction(t),wijmo_1.isFunction(this._itemsSourceFn)&&this.itemsSourceFunction(this.text,this.maxItems,this._itemsSourceFnCallBackBnd)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(t){this._cssMatch=wijmo_1.asString(t)},enumerable:!0,configurable:!0}),e.prototype._keydown=function(e){if(!e.defaultPrevented&&this.isDroppedDown)switch(e.keyCode){case wijmo_1.Key.Up:case wijmo_1.Key.Down:this.selectAll()}t.prototype._keydown.call(this,e)},e.prototype._setText=function(t){var e=this;if(!this._inCallback&&!this._composing){if(!t&&this.selectedIndex>-1&&this.getDisplayText()&&(this.selectedIndex=-1),t!=this._oldText&&(this._tbx.value!=t&&(this._tbx.value=t),this._oldText=t,this.onTextChanged(),!t&&this.collectionView))return(this._query||this.selectedIndex<0)&&(this.isDroppedDown=!1),this._query=this._rxHighlight=null,void(this.collectionView.filter=null);this._toSearch&&clearTimeout(this._toSearch),t!=this.getDisplayText()&&(this._toSearch=setTimeout(function(){e._toSearch=null;var t=e.text.trim();if(t.length>=e._minLength&&t!=e._query){e._query=t,t=t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var i=wijmo_1.escapeHtml(t);e._rxSrch=new RegExp("(?=.*"+t.replace(/ /g,")(?=.*")+")","ig"),e._rxHighlight=new RegExp("("+i.replace(/\s+/g,"|")+")","ig"),e.itemsSourceFunction?e.itemsSourceFunction(t,e.maxItems,e._itemsSourceFnCallBackBnd):e._updateItems()}},this._delay))}},e.prototype._itemSourceFunctionCallback=function(t){this._inCallback=!0;var e=wijmo_1.asCollectionView(t);if(e&&e.moveCurrentToPosition(-1),this.itemsSource=e,this._inCallback=!1,this.containsFocus()){var i=this._tbx,o=i.selectionStart,n=i.selectionEnd;this.isDroppedDown=!0,wijmo_1.setSelectionRange(i,o,n),this.refresh()}},e.prototype.onIsDroppedDownChanged=function(e){if(t.prototype.onIsDroppedDownChanged.call(this,e),this.containsFocus()&&!this.isTouching&&this.selectedIndex<0){var i=this.collectionView.items,o=this.text;1==i.length&&i[0]==o?this.selectedIndex=0:wijmo_1.setSelectionRange(this._tbx,o.length)}this._query=""},e.prototype._updateItems=function(){var t=this.collectionView;if(t){this._inCallback=!0,t.beginUpdate(),this._itemCount=0,t.filter=this._filter.bind(this),t.moveCurrentToPosition(-1),t.endUpdate(),this._inCallback=!1;var e=t.items.length,i=this._tbx,o=i.selectionStart,n=i.selectionEnd;this.isDroppedDown=e>0&&this.containsFocus(),e||this.isEditable||(this.selectedIndex=-1),this.isDroppedDown&&wijmo_1.setSelectionRange(i,o,n),this.refresh()}},e.prototype._filter=function(t){if(this._itemCount>=this._maxItems)return!1;var e=this._getItemText(t,!1);return this._srchProps&&this._srchProps.forEach(function(i){var o=t[i];o&&(e+="\0"+o)}),this.isContentHtml&&(e=e.replace(/(<[^>]*>|&[^;]*;)/g,"")),!!e.match(this._rxSrch)&&(this._itemCount++,!0)},e.prototype._getItemText=function(t,e){var i=t?t.toString():"",o=e&&this.headerPath?this._pathHdr:this._lbx._pathDisplay;return o&&(i=null!=(i=o.getValue(t))?i.toString():""),i},e.prototype._formatListItem=function(t,e){var i=this;this._cssMatch&&this._rxHighlight&&(e.item.innerHTML=e.item.innerHTML.replace(this._rxHighlight,function(t,e,o,n){return i._enclosed(n,o,"<",">")||i._enclosed(n,o,"&",";")?t:'<span class="'+i._cssMatch+'">'+t+"</span>"}))},e.prototype._enclosed=function(t,e,i,o){for(var n=e;n>=0&&t[n]!=o;n--)if(t[n]==i)for(var s=e;s<t.length&&t[s]!=i;s++)if(t[s]==o)return!0;return!1},e}(ComboBox);exports.AutoComplete=AutoComplete;var MultiAutoComplete=function(t){function e(e,i){var o=t.call(this,e)||this;return o._selItems=[],o._lastInputValue="",o._selPath=new wijmo_1.Binding(null),o._notAddItm=!1,o.selectedItemsChanged=new wijmo_1.Event,wijmo_1.addClass(o.hostElement,"wj-multi-autocomplete"),o._wjTpl=o.hostElement.querySelector(".wj-template"),o._wjInput=o.hostElement.querySelector(".wj-input"),o.showDropDownButton=!1,o.initialize(i),o.addEventListener(o.hostElement,"keyup",o._keyup.bind(o),!0),o.addEventListener(window,"resize",o._adjustInputWidth.bind(o)),o.addEventListener(o._tbx,"focus",function(){o._itemOff()}),o._addHelperInput(),o._initSeltems(),o.listBox.itemsChanged.addHandler(function(){return o.selectedIndex=-1}),o._refreshHeader(),o}return __extends(e,t),Object.defineProperty(e.prototype,"showDropDownButton",{set:function(t){this._showBtn=!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxSelectedItems",{get:function(){return this._maxSelItems},set:function(t){this._maxSelItems!=t&&(this._maxSelItems=wijmo_1.asNumber(t,!0),this._updateMaxItems(),this._refreshHeader(),this._clearSelIndex())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedMemberPath",{get:function(){return this._selPath.path},set:function(t){(t=wijmo_1.asString(t))!==this.selectedMemberPath&&(this._selPath.path=t,this._initSeltems(),this._refreshHeader(),this.onSelectedItemsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItems",{get:function(){return this._selItems},set:function(t){if(this._selItems=wijmo_1.asArray(t),this.selectedMemberPath&&""!==this.selectedMemberPath&&this._selItems)for(var e=0;e<this._selItems.length;e++){var i=this._selItems[e];this._setSelItem(i,!1)}this._updateMaxItems(),this.onSelectedItemsChanged(),this._refreshHeader(),this._clearSelIndex()},enumerable:!0,configurable:!0}),e.prototype.onSelectedItemsChanged=function(t){this.selectedItemsChanged.raise(this,t)},e.prototype.onIsDroppedDownChanged=function(e){!this.isDroppedDown&&this.selectedIndex>-1&&!this._notAddItm&&this._addItem(!0),this._notAddItm=!1,t.prototype.onIsDroppedDownChanged.call(this,e)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this._initSeltems(),this.isDroppedDown||this._refreshHeader()},e.prototype._keydown=function(e){if(!this.isReadOnly){if(!e.defaultPrevented)switch(e.keyCode){case wijmo_1.Key.Back:this._lastInputValue=this._tbx.value;break;case wijmo_1.Key.Enter:this._itemOff(),this._addItem(!0),wijmo_1.isIE&&wijmo_1.setSelectionRange(this._tbx,0,0);break;case wijmo_1.Key.Tab:this.isDroppedDown?(this._addItem(!1),this._tbx.value="",this._lbx.selectedIndex=-1,e.preventDefault()):this._updateFocus();break;case wijmo_1.Key.Space:if(""!==this._tbx.value)return;this.isDroppedDown||this._tbx.disabled||(this.isDroppedDown=!0,this._clearSelIndex());break;case wijmo_1.Key.Escape:this.isDroppedDown&&(this._notAddItm=!0);break;case wijmo_1.Key.Left:this._itemOn(!this.rightToLeft);break;case wijmo_1.Key.Right:this._itemOn(!!this.rightToLeft);break;case wijmo_1.Key.Up:case wijmo_1.Key.Down:var i=wijmo_1.getActiveElement();if(e.altKey){if(this._tbx==i)return this.isDroppedDown=!this.isDroppedDown,this.isDroppedDown||this._tbx.focus(),void e.preventDefault()}else if(this._tbx!==i)return;default:if(e.keyCode===wijmo_1.Key.Back||e.keyCode===wijmo_1.Key.Delete)return;this._itemOff(),null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems&&e.preventDefault()}this._tbx.disabled||t.prototype._keydown.call(this,e)}},e.prototype._updateState=function(){t.prototype._updateState.call(this),this._wjTpl&&(wijmo_1.hasClass(this.hostElement,"wj-state-focused")||this._itemOff())},e.prototype._keyup=function(t){if(!this.isReadOnly&&!t.defaultPrevented)switch(t.keyCode){case wijmo_1.Key.Back:0===this._tbx.value.length&&0===this._lastInputValue.length&&this._delItem(!1);break;case wijmo_1.Key.Delete:this._delItem(!0)}},e.prototype._addHelperInput=function(){var t=document.createElement("input");t.type="text",t.tabIndex=-1,t.className="wj-token-helper",t.readOnly=!0,this._wjTpl.insertBefore(t,this._wjInput),this._helperInput=t},e.prototype._refreshHeader=function(){for(var t=this.hostElement.querySelectorAll(".wj-token"),e=0;e<t.length;e++)this._wjTpl.removeChild(t[e]);var i=this.selectedItems;if(!i||0===i.length)return this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",void this._adjustInputWidth();for(e=0;e<i.length;e++)this._insertToken(i[e]);this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()},e.prototype._insertToken=function(t){var e=this._getItemText(t,!0);this.isContentHtml||(e=wijmo_1.escapeHtml(e)),this._wjTpl.insertBefore(this._createItem(e),this._wjInput)},e.prototype._updateMaxItems=function(){null!=this._maxSelItems&&this._selItems&&this._selItems.length>this._maxSelItems&&(this._selItems=this._selItems.slice(0,this._maxSelItems))},e.prototype._updateFocus=function(){var t=this,i=this._wjTpl.querySelector("."+e._clsActive);i?(wijmo_1.removeClass(i,e._clsActive),setTimeout(function(){t._tbx.focus()})):(this._clearSelIndex(),wijmo_1.removeClass(this.hostElement,"wj-state-focused"))},e.prototype._addItem=function(t){this.selectedItems.indexOf(this.selectedItem)>-1?this._clearSelIndex():this.selectedIndex>-1&&(this._updateSelItems(this.selectedItem,!0),this._refreshHeader(),t&&this._clearSelIndex(),this._disableInput(!0))},e.prototype._delItem=function(t){var i,o,n=this._wjTpl.querySelector("."+e._clsActive),s=!1;t&&!n||(n?(o=this._getItemIndex(n))>-1&&(i=this._selItems[o],s=!0):this._selItems.length>0&&(i=this._selItems[this._selItems.length-1],s=!0),s&&(this._updateSelItems(i,!1),this._refreshHeader(),this._clearSelIndex(),this._disableInput(!1)),this._tbx.focus())},e.prototype._updateSelItems=function(t,e){if(e){if(this._selItems&&0!==this._selItems.length||(this._selItems=[]),null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems)return;this._selItems.push(t)}else{var i=this._selItems.indexOf(t);this._selItems.splice(i,1)}this._hasSelectedMemeberPath()&&this._setSelItem(t,e),this.onSelectedItemsChanged()},e.prototype._createItem=function(t){var i=this,o=document.createElement("div"),n=document.createElement("span"),s=document.createElement("a");return o.appendChild(n),o.appendChild(s),o.className="wj-token",n.className="wj-token-label",n.innerHTML=t,s.className="wj-token-close",s.href="#",s.tabIndex=-1,s.text="×",o.style.cssFloat=this.rightToLeft?"right":"left",this.addEventListener(o,"click",function(t){i._helperInput.focus();var n=i._wjTpl.querySelector("."+e._clsActive);n&&wijmo_1.removeClass(n,e._clsActive),wijmo_1.addClass(o,e._clsActive),t.stopPropagation(),t.preventDefault()}),this.addEventListener(s,"click",function(t){if(!i.isReadOnly){var e=i._getItemIndex(o);if(e>-1){var n=i._selItems[e];i._updateSelItems(n,!1)}i._wjTpl.removeChild(o),i._adjustInputWidth(),i._disableInput(!1),i._tbx.focus(),t.stopPropagation(),t.preventDefault()}}),o},e.prototype._itemOn=function(t){var i,o,n,s=wijmo_1.getActiveElement();if((this._tbx!=s||0===this._tbx.value.length)&&0!==(i=this._wjTpl.querySelectorAll(".wj-token")).length)if(o=this._wjTpl.querySelector("."+e._clsActive),n=this._getItemIndex(o),t){if(0===n)return;-1===n?(wijmo_1.addClass(i[i.length-1],e._clsActive),this._helperInput.focus()):(wijmo_1.removeClass(o,e._clsActive),wijmo_1.addClass(i[n-1],e._clsActive),this._helperInput.focus())}else if(!t){if(-1===n)return;n!==i.length-1?(wijmo_1.removeClass(o,e._clsActive),wijmo_1.addClass(i[n+1],e._clsActive),this._helperInput.focus()):(wijmo_1.removeClass(o,e._clsActive),this._tbx.focus())}},e.prototype._itemOff=function(){var t=this._wjTpl.querySelector("."+e._clsActive);t&&wijmo_1.removeClass(t,e._clsActive)},e.prototype._initSeltems=function(){if(this.selectedMemberPath&&""!==this.selectedMemberPath){var t=this.itemsSource;if(this._selItems.splice(0,this._selItems.length),t)for(var e=0;e<t.sourceCollection.length;e++)this._getSelItem(e)&&this._selItems.push(t.sourceCollection[e])}},e.prototype._getSelItem=function(t){var e=this.itemsSource.sourceCollection[t];return!(!wijmo_1.isObject(e)||!this.selectedMemberPath)&&this._selPath.getValue(e)},e.prototype._setSelItem=function(t,e){this.itemsSource;wijmo_1.isObject(t)&&this._selPath.getValue(t)!=e&&this._selPath.setValue(t,e)},e.prototype._clearSelIndex=function(){this.selectedIndex=-1},e.prototype._hasSelectedMemeberPath=function(){return this.selectedMemberPath&&""!==this.selectedMemberPath},e.prototype._disableInput=function(t){null!=this._maxSelItems&&(this._selItems.length<this._maxSelItems?(this._tbx.disabled=!1,this._tbx.focus()):(this._tbx.disabled=!0,this.hostElement.focus()))},e.prototype._adjustInputWidth=function(){this._tbx.style.width="60px";var t,e=wijmo_1.getElementRect(this.hostElement),i=wijmo_1.getElementRect(this._tbx),o=getComputedStyle(this._tbx),n=parseInt(o.paddingLeft,10),s=parseInt(o.paddingRight,10);t=this.rightToLeft?i.left+i.width-e.left-n-s-8:e.left+e.width-i.left-n-s-8,this._tbx.style.width=t+"px"},e.prototype._getItemIndex=function(t){for(var e=this.hostElement.querySelectorAll(".wj-token"),i=0;i<e.length;i++)if(t===e[i])return i;return-1},e._clsActive="wj-token-active",e}(AutoComplete);exports.MultiAutoComplete=MultiAutoComplete,wijmo_1._registerModule("wijmo.input",selfModule);

/***/ }),

/***/ "../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
﻿/*!
    *
    * Wijmo Library 5.20192.631
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var selfModule=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js"),Binding=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"path",{get:function(){return this._path},set:function(t){this._path=t,this._parts=t?t.split("."):[];for(var e=0;e<this._parts.length;e++){var n=this._parts[e],r=n.indexOf("[");r>-1&&(this._parts[e]=n.substr(0,r),this._parts.splice(++e,0,parseInt(n.substr(r+1))))}this._key=1==this._parts.length?this._parts[0]:null},enumerable:!0,configurable:!0}),t.prototype.getValue=function(t){if(t){if(this._key)return t[this._key];if(this._path&&this._path in t)return t[this._path];for(var e=0;e<this._parts.length&&t;e++)t=t[this._parts[e]]}return t},t.prototype.setValue=function(t,e){if(t){if(this._path in t)return void(t[this._path]=e);for(var n=0;n<this._parts.length-1;n++)if(null==(t=t[this._parts[n]]))return;t[this._parts[this._parts.length-1]]=e}},t}();exports.Binding=Binding;var EventHandler=function(){return function(t,e){this.handler=t,this.self=e}}(),Event=function(){function t(t){this._handlers=[],this._handlersChanged=t}return t.prototype.addHandler=function(t,e){t=asFunction(t),this._handlers.push(new EventHandler(t,e)),isFunction(this._handlersChanged)&&this._handlersChanged()},t.prototype.removeHandler=function(t,e){var n=!1;t=asFunction(t);for(var r=0;r<this._handlers.length;r++){var i=this._handlers[r];if((i.handler==t||null==t)&&(i.self==e||null==e)&&(this._handlers.splice(r,1),n=!0,t&&e))break}n&&isFunction(this._handlersChanged)&&this._handlersChanged()},t.prototype.removeAllHandlers=function(){var t=this._handlers.length>0;this._handlers.length=0,t&&isFunction(this._handlersChanged)&&this._handlersChanged()},t.prototype.raise=function(t,e){void 0===e&&(e=EventArgs.empty);for(var n=0;n<this._handlers.length;n++){var r=this._handlers[n];r.handler.call(r.self,t,e)}},Object.defineProperty(t.prototype,"hasHandlers",{get:function(){return this._handlers.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handlerCount",{get:function(){return this._handlers.length},enumerable:!0,configurable:!0}),t}();exports.Event=Event;var EventArgs=function(){function t(){}return t.empty=new t,t}();exports.EventArgs=EventArgs;var CancelEventArgs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cancel=!1,e}return __extends(e,t),e}(EventArgs);exports.CancelEventArgs=CancelEventArgs;var PropertyChangedEventArgs=function(t){function e(e,n,r){var i=t.call(this)||this;return i._name=e,i._oldVal=n,i._newVal=r,i}return __extends(e,t),Object.defineProperty(e.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),e}(EventArgs);exports.PropertyChangedEventArgs=PropertyChangedEventArgs;var NotifyCollectionChangedAction,RequestErrorEventArgs=function(t){function e(e,n){var r=t.call(this)||this;return r._xhr=e,r._msg=n,r}return __extends(e,t),Object.defineProperty(e.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._msg},set:function(t){this._msg=t},enumerable:!0,configurable:!0}),e}(CancelEventArgs);exports.RequestErrorEventArgs=RequestErrorEventArgs,function(t){t[t.Add=0]="Add",t[t.Remove=1]="Remove",t[t.Change=2]="Change",t[t.Reset=3]="Reset"}(NotifyCollectionChangedAction=exports.NotifyCollectionChangedAction||(exports.NotifyCollectionChangedAction={}));var NotifyCollectionChangedEventArgs=function(t){function e(e,n,r){void 0===e&&(e=NotifyCollectionChangedAction.Reset),void 0===n&&(n=null),void 0===r&&(r=-1);var i=t.call(this)||this;return i.action=e,i.item=n,i.index=r,i}return __extends(e,t),e.reset=new e(NotifyCollectionChangedAction.Reset),e}(EventArgs);exports.NotifyCollectionChangedEventArgs=NotifyCollectionChangedEventArgs;var SortDescription=function(){function t(t,e){this._bnd=new Binding(t),this._asc=e}return Object.defineProperty(t.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),t}();exports.SortDescription=SortDescription;var PageChangingEventArgs=function(t){function e(e){var n=t.call(this)||this;return n.newPageIndex=e,n}return __extends(e,t),e}(CancelEventArgs);exports.PageChangingEventArgs=PageChangingEventArgs;var GroupDescription=function(){function t(){}return t.prototype.groupNameFromItem=function(t,e){return""},t.prototype.namesMatch=function(t,e){return t===e},t}();exports.GroupDescription=GroupDescription;var PropertyGroupDescription=function(t){function e(e,n){var r=t.call(this)||this;return r._bnd=new Binding(e),r._converter=n,r}return __extends(e,t),Object.defineProperty(e.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),e.prototype.groupNameFromItem=function(t,e){return this._converter?this._converter(t,this.propertyName):this._bnd.getValue(t)},e.prototype.namesMatch=function(t,e){return t===e},e}(GroupDescription);exports.PropertyGroupDescription=PropertyGroupDescription;var Key,DataType,_VERSION="5.20192.631";function getVersion(){return _VERSION}function setLicenseKey(t){Control._licKey=t}function tryCast(t,e){return null==t?null:isString(e)?isFunction(t.implementsInterface)&&t.implementsInterface(e)?t:null:t instanceof e?t:null}function isPrimitive(t){return isString(t)||isNumber(t)||isBoolean(t)||isDate(t)}function isString(t){return"string"==typeof t}function isNullOrWhiteSpace(t){return!t||!/\S/.test(t)}function isNumber(t){return"number"==typeof t}function isInt(t){return isNumber(t)&&t==Math.round(t)}function isBoolean(t){return"boolean"==typeof t}function isFunction(t){return"function"==typeof t}function isUndefined(t){return void 0===t}function isDate(t){return(t instanceof Date||"[object Date]"===Object.prototype.toString.call(t))&&!isNaN(t.getTime())}function isArray(t){return t instanceof Array||Array.isArray(t)||"[object Array]"===Object.prototype.toString.call(t)}function isObject(t){return null!=t&&"object"==typeof t&&!isDate(t)&&!isArray(t)}function isEmpty(t){for(var e in t)return!1;return!0}function getUniqueId(t){for(var e=t,n=0;null!=document.getElementById(e);n++)e=t+n;return e}function mouseToPage(t){if(t instanceof Point)return t;if(t.touches&&t.touches.length>0&&(t=t.touches[0]),isNumber(t.clientX)&&isNumber(t.clientY))return new Point(t.clientX+pageXOffset,t.clientY+pageYOffset);throw"Mouse or touch event expected."}function getType(t){return isNumber(t)?DataType.Number:isBoolean(t)?DataType.Boolean:isDate(t)?DataType.Date:isString(t)?DataType.String:isArray(t)?DataType.Array:DataType.Object}function getTypes(t){var e=[];if(t&&t.length>0){var n=t[0];for(var r in n)for(var i=null,o=0;o<t.length&&o<1e3&&null==i;o++)isPrimitive(i=t[o][r])&&e.push({binding:r,dataType:getType(i)})}return e}function changeType(t,e,n){if(null!=t){if(isString(t))switch(e){case DataType.Number:var r=Globalize.parseFloat(t,n);return isNaN(r)?t:r;case DataType.Date:var i=Globalize.parseDate(t,n);return i||n||!t||(i=new Date(t)),i&&isFinite(i.getTime())?i:t;case DataType.Boolean:switch(t.toLowerCase()){case"true":return!0;case"false":return!1}return t}if(e==DataType.String)return Globalize.format(t,n)}return t}function toFixed(t,e,n){if(n){var r=(i=t.toString()).indexOf(".");i.indexOf("e")<0&&r>-1&&(i=i.substr(0,r+1+e),t=parseFloat(i))}else{var i=t.toFixed(e);t=parseFloat(i)}return t}function format(t,e,n){if((t=asString(t)).match(/\{.*"count".*:.*"when".*:.*\}/))try{var r=JSON.parse(t);if(isString(r.count)){var i=e[r.count],o=r.when;if(isNumber(i)&&isObject(o)){var s=o[i]||o.other;isString(s)&&(t=s)}}}catch(t){}return t.replace(/\{(.*?)(:(.*?))?\}/g,function(t,r,i,o){var s=t;return r&&"{"!=r[0]&&e&&(s=new Binding(r).getValue(e),o&&(s=Globalize.format(s,o)),n&&(s=n(e,r,o,s))),null==s?"":s})}function glbz(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=[];return t[0].forEach(function(e,r){if(r>0){var i=t[r],o=e.match(/^:([a-z][0-9]*)/i)||e.match(/^:'(.+?)'/)||e.match(/^:"(.+?)"/);if(o){var s=o[1];i=Globalize.format(i,s),e=e.substr(o[0].length)}n.push(i)}n.push(e)}),n.join("")}function clamp(t,e,n){return null!=t&&(null!=n&&t>n&&(t=n),null!=e&&t<e&&(t=e)),t}function copy(t,e){if(e)for(var n in e)if("_"!=n[0]){assert(n in t,'Unknown property "'+n+'".');var r=e[n];t._copy&&t._copy(n,r)||(t[n]instanceof Event?isFunction(r)&&t[n].addHandler(r):!isObject(r)||"undefined"!=typeof Element&&r instanceof Element||!t[n]||"itemsSource"==n?t[n]=r:copy(t[n],r))}}function assert(t,e){if(!t){e="** Assertion failed in Wijmo: "+e;var n=new Error;throw isString(n.stack)&&(e+=" "+n.stack),e}}function _deprecated(t,e){console.error('** WARNING: "'+t+'" has been deprecated; please use "'+e+'" instead.')}function asString(t,e){return void 0===e&&(e=!0),assert(e&&null==t||isString(t),"String expected."),t}function asNumber(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),assert(e&&null==t||isNumber(t),"Number expected."),n&&t&&t<0)throw"Positive number expected.";return t}function asInt(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),assert(e&&null==t||isInt(t),"Integer expected."),n&&t&&t<0)throw"Positive integer expected.";return t}function asBoolean(t,e){return void 0===e&&(e=!1),assert(e&&null==t||isBoolean(t),"Boolean expected."),t}function asDate(t,e){if(void 0===e&&(e=!1),isString(t)){var n=changeType(t,DataType.Date,"r");isDate(n)&&(t=n)}return assert(e&&null==t||isDate(t),"Date expected."),t}function asFunction(t,e){return void 0===e&&(e=!0),assert(e&&null==t||isFunction(t),"Function expected."),t}function asArray(t,e){return void 0===e&&(e=!0),assert(e&&null==t||isArray(t),"Array expected."),t}function asType(t,e,n){return void 0===n&&(n=!1),t=tryCast(t,e),assert(n||null!=t,e+" expected."),t}function asEnum(t,e,n){if(void 0===n&&(n=!1),null==t&&n)return null;var r=e[t];return assert(null!=r,'Invalid enum value: "'+t+'"'),isNumber(r)?r:t}function asCollectionView(t,e){if(void 0===e&&(e=!0),null==t&&e)return null;var n=tryCast(t,"ICollectionView");return null!=n?n:(isArray(t)||assert(!1,"Array or ICollectionView expected."),new CollectionView(t))}function hasItems(t){return null!=t&&null!=t.items&&t.items.length>0}function toHeaderCase(t){return t&&t.length?t[0].toUpperCase()+t.substr(1).replace(/([a-z])([A-Z])/g,"$1 $2"):""}function escapeHtml(t){return t&&isString(t)&&(t=t.replace(/[&<>"'\/]/g,function(t){return _ENTITYMAP[t]})),t}exports.getVersion=getVersion,exports.setLicenseKey=setLicenseKey,function(t){t[t.Back=8]="Back",t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.Left=37]="Left",t[t.Up=38]="Up",t[t.Right=39]="Right",t[t.Down=40]="Down",t[t.Delete=46]="Delete",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12"}(Key=exports.Key||(exports.Key={})),function(t){t[t.Object=0]="Object",t[t.String=1]="String",t[t.Number=2]="Number",t[t.Boolean=3]="Boolean",t[t.Date=4]="Date",t[t.Array=5]="Array"}(DataType=exports.DataType||(exports.DataType={})),exports.tryCast=tryCast,exports.isPrimitive=isPrimitive,exports.isString=isString,exports.isNullOrWhiteSpace=isNullOrWhiteSpace,exports.isNumber=isNumber,exports.isInt=isInt,exports.isBoolean=isBoolean,exports.isFunction=isFunction,exports.isUndefined=isUndefined,exports.isDate=isDate,exports.isArray=isArray,exports.isObject=isObject,exports.isEmpty=isEmpty,exports.getUniqueId=getUniqueId,exports.mouseToPage=mouseToPage,exports.getType=getType,exports.getTypes=getTypes,exports.changeType=changeType,exports.toFixed=toFixed,exports.format=format,exports.glbz=glbz,exports.clamp=clamp,exports.copy=copy,exports.assert=assert,exports._deprecated=_deprecated,exports.asString=asString,exports.asNumber=asNumber,exports.asInt=asInt,exports.asBoolean=asBoolean,exports.asDate=asDate,exports.asFunction=asFunction,exports.asArray=asArray,exports.asType=asType,exports.asEnum=asEnum,exports.asCollectionView=asCollectionView,exports.hasItems=hasItems,exports.toHeaderCase=toHeaderCase,exports.escapeHtml=escapeHtml;var _cvt,_ENTITYMAP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function toPlainText(t){var e=t;return e.indexOf("<")>-1&&(this._cvt||(this._cvt=document.createElement("div")),this._cvt.innerHTML=e,e=this._cvt.textContent),e}function hasClass(t,e){if(t&&e){if(t instanceof HTMLElement&&t.classList&&!isIE9())return t.classList.contains(e);if(t.getAttribute){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");return t&&n.test(t.getAttribute("class"))}}return!1}function addClass(t,e){if(t&&e){if(t instanceof HTMLElement&&t.classList&&!isIE9())return void(e.indexOf(" ")<0?t.classList.add(e):e.split(" ").forEach(function(e){t.classList.add(e)}));if(t.setAttribute)for(var n=e.split(" "),r=0;r<n.length;r++){var i=n[r];if(!hasClass(t,i)){var o=t.getAttribute("class");t.setAttribute("class",o?o+" "+i:i)}}}}function removeClass(t,e){if(t&&e){if(t instanceof HTMLElement&&t.classList&&!isIE9())return void(e.indexOf(" ")<0?t.classList.remove(e):e.split(" ").forEach(function(e){t.classList.remove(e)}));if(t.setAttribute)for(var n=e.split(" "),r=0;r<n.length;r++){var i=n[r];if(hasClass(t,i)){var o=new RegExp("((\\s|^)"+i+"(\\s|$))","g"),s=t.getAttribute("class");(s=s.replace(o," ").replace(/ +/g," ").trim())?t.setAttribute("class",s):t.removeAttribute("class")}}}}function toggleClass(t,e,n){null==n&&(n=!hasClass(t,e)),n?addClass(t,e):removeClass(t,e)}function setAttribute(t,e,n,r){t&&(null!=n?r&&t.getAttribute(e)||t.setAttribute(e,n.toString()):t.removeAttribute(e))}function setAriaLabel(t,e){setAttribute(t,"aria-label",e)}function setSelectionRange(t,e,n){if(void 0===n&&(n=e),assert(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected"),contains(document.body,t)&&!t.disabled&&t.offsetHeight){try{t.setSelectionRange(e,n,"backward")}catch(t){}try{return t.focus(),!0}catch(t){}}return!1}function disableAutoComplete(t){"autocomplete,autocorrect,autocapitalize,spellcheck".split(",").forEach(function(e){t.setAttribute(e,"spellcheck"==e?"false":"off")})}function removeChild(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function getActiveElement(){var t=document.activeElement;if(t){var e=t.shadowRoot;e&&e.activeElement&&(t=e.activeElement)}return t}function moveFocus(t,e){var n=_getFocusableElements(t),r=0;if(e){var i=n.indexOf(getActiveElement());i>-1&&(r=(i+e+n.length)%n.length)}if(r<n.length){var o=n[r];return o.focus(),o instanceof HTMLInputElement&&o.select(),!0}return!1}function _getFocusableElements(t){for(var e=[],n=t.querySelectorAll("input,select,textarea,button,a,div"),r=0;r<n.length;r++){var i=n[r];if(i.offsetHeight>0&&i.tabIndex>-1&&!i.disabled&&!closest(i,"[disabled],.wj-state-disabled")){if(i instanceof HTMLAnchorElement&&!i.hasAttribute("href"))continue;if(isIE()&&!i.hasAttribute("tabindex")){if(i instanceof HTMLDivElement)continue;var o=Control.getControl(closest(i,".wj-flexgrid"));if(o&&0==o.keyActionTab)continue}!Control.getControl(i)&&_getFocusableElements(i).length||e.push(i)}}return e}function getElement(t){return t instanceof Element?t:isString(t)?document.querySelector(t):t&&t.jquery?t[0]:null}function createElement(t,e){var n=document.createElement("div");return n.innerHTML=t,1==n.children.length&&(n=n.children[0]),e&&(e=getElement(e)).appendChild(n),n}function setText(t,e){t.textContent=e||""}function contains(t,e,n){for(var r=e;r&&t;){if(r===t)return!0;r=(n?r[Control._OWNR_KEY]:null)||r.parentNode||r.host}return!1}function closest(t,e){if(t&&isFunction(t.closest))return t.closest(e);var n=t?t.matches||t.webkitMatchesSelector||t.msMatchesSelector||t.mozMatchesSelector:null;if(n)for(;t&&1===t.nodeType;t=t.parentElement||t.parentNode)if(n.call(t,e))return t;return null}function closestClass(t,e){return closest(t,"."+e)}function enable(t,e){var n=!e,r="disabled";toggleClass(t,"wj-state-disabled",n),setAttribute(t,r,n?r:null);for(var i=t.querySelectorAll("input,button"),o=0;o<i.length;o++)setAttribute(i[o],r,n?r:null)}function getElementRect(t){var e=t.getBoundingClientRect();return new Rect(e.left+pageXOffset,e.top+pageYOffset,e.width,e.height)}function setCss(t,e){if(assert(isObject(e),"css parameter should be an object"),t instanceof Array)for(var n=0;n<t.length;n++)setCss(t[n],e);else if(t&&t.style){var r=t.style;for(var i in e){var o=e[i];"number"==typeof o&&i.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(o+="px"),r[i]!==o&&(r[i]=o)}}}function animate(t,e,n){null==e&&(e=Control._ANIM_DEF_DURATION),null==n&&(n=Control._ANIM_DEF_STEP),t=asFunction(t),e=asNumber(e,!1,!0),n=asNumber(n,!1,!0);var r,i=Date.now(),o=setInterval(function(){var n=Math.min(1,(Date.now()-i)/e);n=Math.sin(n*Math.PI/2),n*=n,r&&cancelAnimationFrame(r),r=requestAnimationFrame(function(){r=null,t(n)}),n>=1&&clearInterval(o)},n);return o}exports.toPlainText=toPlainText,exports.hasClass=hasClass,exports.addClass=addClass,exports.removeClass=removeClass,exports.toggleClass=toggleClass,exports.setAttribute=setAttribute,exports.setAriaLabel=setAriaLabel,exports.setSelectionRange=setSelectionRange,exports.disableAutoComplete=disableAutoComplete,exports.removeChild=removeChild,exports.getActiveElement=getActiveElement,exports.moveFocus=moveFocus,exports.getElement=getElement,exports.createElement=createElement,exports.setText=setText,exports.contains=contains,exports.closest=closest,exports.closestClass=closestClass,exports.enable=enable,exports.getElementRect=getElementRect,exports.setCss=setCss,exports.animate=animate;var Point=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=asNumber(t),this.y=asNumber(e)}return t.prototype.equals=function(e){return e instanceof t&&this.x==e.x&&this.y==e.y},t.prototype.clone=function(){return new t(this.x,this.y)},t}();exports.Point=Point;var Size=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.width=asNumber(t),this.height=asNumber(e)}return t.prototype.equals=function(e){return e instanceof t&&this.width==e.width&&this.height==e.height},t.prototype.clone=function(){return new t(this.width,this.height)},t}();exports.Size=Size;var Rect=function(){function t(t,e,n,r){this.left=asNumber(t),this.top=asNumber(e),this.width=asNumber(n),this.height=asNumber(r)}return Object.defineProperty(t.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return e instanceof t&&this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height},t.prototype.clone=function(){return new t(this.left,this.top,this.width,this.height)},t.fromBoundingRect=function(e){return null!=e.left?new t(e.left,e.top,e.width,e.height):null!=e.x?new t(e.x,e.y,e.width,e.height):void assert(!1,"Invalid source rectangle.")},t.union=function(e,n){var r=Math.min(e.left,n.left),i=Math.min(e.top,n.top);return new t(r,i,Math.max(e.right,n.right)-r,Math.max(e.bottom,n.bottom)-i)},t.intersection=function(e,n){var r=Math.max(e.left,n.left),i=Math.max(e.top,n.top);return new t(r,i,Math.min(e.right,n.right)-r,Math.min(e.bottom,n.bottom)-i)},t.prototype.contains=function(e){if(e instanceof Point)return e.x>=this.left&&e.x<=this.right&&e.y>=this.top&&e.y<=this.bottom;if(e instanceof t){var n=e;return n.left>=this.left&&n.right<=this.right&&n.top>=this.top&&n.bottom<=this.bottom}assert(!1,"Point or Rect expected.")},t.prototype.inflate=function(e,n){return new t(this.left-e,this.top-n,this.width+2*e,this.height+2*n)},t}();exports.Rect=Rect;var DateTime=function(){function t(){}return t.addDays=function(e,n){return t.newDate(e.getFullYear(),e.getMonth(),e.getDate()+n)},t.addMonths=function(e,n){return t.newDate(e.getFullYear(),e.getMonth()+n,e.getDate())},t.addYears=function(e,n){return t.newDate(e.getFullYear()+n,e.getMonth(),e.getDate())},t.addHours=function(e,n){return t.newDate(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+n)},t.addMinutes=function(e,n){return t.newDate(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()+n)},t.addSeconds=function(e,n){return t.newDate(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()+n)},t.sameDate=function(t,e){return isDate(t)&&isDate(e)&&t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()},t.sameTime=function(t,e){return isDate(t)&&isDate(e)&&t.getHours()==e.getHours()&&t.getMinutes()==e.getMinutes()&&t.getSeconds()==e.getSeconds()},t.equals=function(t,e){return isDate(t)&&isDate(e)&&t.getTime()==e.getTime()},t.fromDateTime=function(e,n){return e||n?(e||(e=n),n||(n=e),t.newDate(e.getFullYear(),e.getMonth(),e.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())):null},t.toFiscal=function(e,n){var r=exports.culture.Globalize.calendar;return isArray(r.fiscalYearOffsets)?t.addMonths(e,-r.fiscalYearOffsets[n?0:1]):e},t.fromFiscal=function(e,n){var r=exports.culture.Globalize.calendar;return isArray(r.fiscalYearOffsets)?t.addMonths(e,+r.fiscalYearOffsets[n?0:1]):e},t.newDate=function(t,e,n,r,i,o,s){if(null==t||null==e||null==n){var a=new Date;null==t&&(t=a.getFullYear()),null==e&&(e=a.getMonth()),null==n&&(n=a.getDate())}null==r&&(r=0),null==i&&(i=0),null==o&&(o=0),null==s&&(s=0);var u=new Date(t,e,n,r,i,o,s),l=u.getFullYear();return t<100&&l>=1900&&u.setFullYear(u.getFullYear()-1900),u},t.clone=function(e){return t.fromDateTime(e,e)},t}();function httpRequest(t,e){e||(e={});var n=e.method?asString(e.method).toUpperCase():"GET",r=null==e.async||asBoolean(e.async),i=e.data;if(null!=i&&"GET"==n){var o=[];for(var s in i){var a=i[s];isDate(a)&&(a=a.toJSON()),o.push(s+"="+a)}if(o.length)t+=(t.indexOf("?")<0?"?":"&")+o.join("&");i=null}var u=new XMLHttpRequest;u.URL_DEBUG=t;var l=!1;if(null==i||isString(i)||(l=isObject(i),i=JSON.stringify(i)),u.onload=function(){4==u.readyState&&(u.status<300?e.success&&asFunction(e.success)(u):e.error&&asFunction(e.error)(u),e.complete&&asFunction(e.complete)(u))},u.onerror=function(){if(!isFunction(e.error))throw"HttpRequest Error: "+u.status+" "+u.statusText;e.error(u)},u.open(n,t,r,e.user,e.password),e.user&&e.password&&u.setRequestHeader("Authorization","Basic "+btoa(e.user+":"+e.password)),l&&u.setRequestHeader("Content-Type","application/json"),e.requestHeaders)for(var c in e.requestHeaders)u.setRequestHeader(c,e.requestHeaders[c]);return isNumber(e.timeout)&&(u.timeout=e.timeout),isFunction(e.beforeSend)&&e.beforeSend(u),u.send(i),u}exports.DateTime=DateTime,exports.httpRequest=httpRequest;var _modules={};function _registerModule(t,e){if(_modules[t]=e,"wijmo"===t){var n="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;n&&(n.wijmo=e)}}function _getModule(t){return _modules[t]}exports._registerModule=_registerModule,exports._getModule=_getModule;var Color=function(){function t(t){this._r=0,this._g=0,this._b=0,this._a=1,t&&this._parse(t)}return Object.defineProperty(t.prototype,"r",{get:function(){return this._r},set:function(t){this._r=clamp(asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this._g},set:function(t){this._g=clamp(asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this._b},set:function(t){this._b=clamp(asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"a",{get:function(){return this._a},set:function(t){this._a=clamp(asNumber(t),0,1)},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return e instanceof t&&this.r==e.r&&this.g==e.g&&this.b==e.b&&this.a==e.a},t.prototype.toString=function(){var t=Math.round(100*this.a);return t>99?"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):"rgba("+this.r+","+this.g+","+this.b+","+t/100+")"},t.fromRgba=function(e,n,r,i){void 0===i&&(i=1);var o=new t(null);return o.r=Math.round(clamp(asNumber(e),0,255)),o.g=Math.round(clamp(asNumber(n),0,255)),o.b=Math.round(clamp(asNumber(r),0,255)),o.a=clamp(asNumber(i),0,1),o},t.fromHsb=function(e,n,r,i){void 0===i&&(i=1);var o=t._hsbToRgb(clamp(asNumber(e),0,1),clamp(asNumber(n),0,1),clamp(asNumber(r),0,1));return t.fromRgba(o[0],o[1],o[2],i)},t.fromHsl=function(e,n,r,i){void 0===i&&(i=1);var o=t._hslToRgb(clamp(asNumber(e),0,1),clamp(asNumber(n),0,1),clamp(asNumber(r),0,1));return t.fromRgba(o[0],o[1],o[2],i)},t.fromString=function(e){var n=new t(null);return n._parse(asString(e))?n:null},t.prototype.getHsb=function(){return t._rgbToHsb(this.r,this.g,this.b)},t.prototype.getHsl=function(){return t._rgbToHsl(this.r,this.g,this.b)},t.interpolate=function(e,n,r){r=clamp(asNumber(r),0,1);var i=t._rgbToHsl(e.r,e.g,e.b),o=t._rgbToHsl(n.r,n.g,n.b),s=1-r,a=e.a*s+n.a*r,u=[i[0]*s+o[0]*r,i[1]*s+o[1]*r,i[2]*s+o[2]*r],l=t._hslToRgb(u[0],u[1],u[2]);return t.fromRgba(l[0],l[1],l[2],a)},t.toOpaque=function(e,n){if(1==(e=isString(e)?t.fromString(e):asType(e,t)).a)return e;n=null==n?t.fromRgba(255,255,255,1):isString(n)?t.fromString(n):asType(n,t);var r=e.a,i=1-r;return t.fromRgba(e.r*r+n.r*i,e.g*r+n.g*i,e.b*r+n.b*i)},t.prototype._parse=function(e){if("transparent"==(e=e.toLowerCase()))return this._r=this._g=this._b=this._a=0,!0;if(e&&0!=e.indexOf("#")&&0!=e.indexOf("rgb")&&0!=e.indexOf("hsl")){var n=document.createElement("div");n.style.color=e;var r=n.style.color;r==e&&((r=window.getComputedStyle(n).color)||(document.body.appendChild(n),r=window.getComputedStyle(n).color,removeChild(n))),e=r.toLowerCase()}if(0==e.indexOf("#"))return 4==e.length?(this.r=parseInt(e[1]+e[1],16),this.g=parseInt(e[2]+e[2],16),this.b=parseInt(e[3]+e[3],16),this.a=1,!0):7==e.length&&(this.r=parseInt(e.substr(1,2),16),this.g=parseInt(e.substr(3,2),16),this.b=parseInt(e.substr(5,2),16),this.a=1,!0);if(0==e.indexOf("rgb")){var i=e.indexOf("("),o=e.indexOf(")");if(i>-1&&o>-1)if((s=e.substr(i+1,o-(i+1)).split(",")).length>2)return this.r=parseInt(s[0]),this.g=parseInt(s[1]),this.b=parseInt(s[2]),this.a=s.length>3?parseFloat(s[3]):1,!0}if(0==e.indexOf("hsl")){var s;i=e.indexOf("("),o=e.indexOf(")");if(i>-1&&o>-1)if((s=e.substr(i+1,o-(i+1)).split(",")).length>2){var a=parseInt(s[0])/360,u=parseInt(s[1]),l=parseInt(s[2]);s[1].indexOf("%")>-1&&(u/=100),s[2].indexOf("%")>-1&&(l/=100);var c=t._hslToRgb(a,u,l);return this.r=c[0],this.g=c[1],this.b=c[2],this.a=s.length>3?parseFloat(s[3]):1,!0}}return!1},t._hslToRgb=function(e,n,r){var i,o,s;if(assert(e>=0&&e<=1&&n>=0&&n<=1&&r>=0&&r<=1,"bad HSL values"),0==n)i=o=s=r;else{var a=r<.5?r*(1+n):r+n-r*n,u=2*r-a;i=t._hue2rgb(u,a,e+1/3),o=t._hue2rgb(u,a,e),s=t._hue2rgb(u,a,e-1/3)}return[Math.round(255*i),Math.round(255*o),Math.round(255*s)]},t._hue2rgb=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},t._rgbToHsl=function(t,e,n){assert(t>=0&&t<=255&&e>=0&&e<=255&&n>=0&&n<=255,"bad RGB values"),t/=255,e/=255,n/=255;var r,i,o=Math.max(t,e,n),s=Math.min(t,e,n),a=(o+s)/2;if(o==s)r=i=0;else{var u=o-s;switch(i=a>.5?u/(2-o-s):u/(o+s),o){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return[r,i,a]},t._rgbToHsb=function(e,n,r){assert(e>=0&&e<=255&&n>=0&&n<=255&&r>=0&&r<=255,"bad RGB values");var i=t._rgbToHsl(e,n,r);return t._hslToHsb(i[0],i[1],i[2])},t._hsbToRgb=function(e,n,r){var i=t._hsbToHsl(e,n,r);return t._hslToRgb(i[0],i[1],i[2])},t._hsbToHsl=function(t,e,n){assert(t>=0&&t<=1&&e>=0&&e<=1&&n>=0&&n<=1,"bad HSB values");var r=clamp(n*(2-e)/2,0,1),i=1-Math.abs(2*r-1),o=clamp(i>0?n*e/i:e,0,1);return assert(!isNaN(r)&&!isNaN(o),"bad conversion to HSL"),[t,o,r]},t._hslToHsb=function(t,e,n){assert(t>=0&&t<=1&&e>=0&&e<=1&&n>=0&&n<=1,"bad HSL values");var r=clamp(1==n?1:(2*n+e*(1-Math.abs(2*n-1)))/2,0,1),i=clamp(r>0?2*(r-n)/r:e,0,1);return assert(!isNaN(r)&&!isNaN(i),"bad conversion to HSB"),[t,i,r]},t}();exports.Color=Color,exports.culture="undefined"!=typeof window&&window.wijmo&&window.wijmo.culture||{Globalize:{numberFormat:{".":".",",":",","-":"-","+":"+","%":"%",percent:{pattern:["-n %","n %"]},currency:{decimals:2,symbol:"$",pattern:["($n)","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:["AM","A"],pm:["PM","P"],eras:["A.D.","B.C."],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"},fiscalYearOffsets:[-3,-3]}}};var Globalize=function(){function t(){}return t.format=function(e,n,r,i){return isString(e)?e:isNumber(e)?(n=n||(e==Math.round(e)?"n0":"n2"),t.formatNumber(e,n,r,i)):isDate(e)?(n=n||"d",t.formatDate(e,n)):null!=e?e.toString():""},t.formatNumber=function(e,n,r,i){e=asNumber(e),n=asString(n);var o,s=exports.culture.Globalize.numberFormat,a=t._parseNumericFormat(n),u=a.spec,l=a.prec,c=s["."]||".",h=s[","]||",",p=s["-"]||"-";if(null==l&&(l="c"==u?s.currency.decimals:e==Math.round(e)?0:2),a.scale&&(e/=Math.pow(10,a.scale)),"d"==u||"x"==u){for(o=Math.round(Math.abs(e)).toString("d"==u?10:16);o.length<l;)o="0"+o;return e<0&&(o=p+o),n&&"X"==n[0]&&(o=o.toUpperCase()),o}if("p"==u&&(e=toFixed(e=t._shiftDecimal(e,2),l,i)),i&&"p"!=u&&(e=toFixed(e,l,!0)),o="c"==u||"p"==u?t._toFixedStr(Math.abs(e),l):t._toFixedStr(e,l),(r||"g"==u)&&o.indexOf(".")>-1&&(o=(o=o.replace(/(\.[0-9]*?)0+$/g,"$1")).replace(/\.$/,"")),"."!=c&&(o=o.replace(".",c)),"-"!=p&&(o=o.replace("-",p)),h&&"ncp".indexOf(u)>-1){var f=o.indexOf(c),d=/\B(?=(\d\d\d)+(?!\d))/g;o=f>-1?o.substr(0,f).replace(d,h)+o.substr(f):o.replace(d,h)}if("c"==u){var g=s.currency.pattern[e<0?0:1],_=a.curr||s.currency.symbol;"​"==_&&(_=""),o=g.replace("n",o).replace("$",_)}if("p"==u){g=s.percent.pattern[e<0?0:1];var m=s["%"]||"%";o=g.replace("n",o),"%"!=m&&(o=o.replace("%",m)),"-"!=p&&e<0&&(o=o.replace("-",p))}return a.prefix+o+a.suffix},t.formatDate=function(e,n){switch(e=asDate(e),n){case"r":case"R":return e.toUTCString();case"u":return e.toISOString().replace(/\.\d{3}/,"")}n=t._expandFormat(n);for(var r=t._parseDateFormat(n),i="",o=0;o<r.length;o++)i+=t._formatDatePart(e,n,r[o]);return i},t.parseInt=function(e,n){return Math.round(t.parseFloat(e,n))},t.parseFloat=function(e,n){var r=exports.culture.Globalize.numberFormat,i=r["-"]||"-",o=r["%"]||"%",s=e.indexOf(i)>-1||e.indexOf("(")>-1&&e.indexOf(")")>-1?-1:1,a=e.indexOf(o)>-1,u=n?n.match(/,+/):null,l=u?3*u[0].length:0,c=0;if(!n||"x"!=n[0]&&"X"!=n[0]){var h=r["."]||".",p=new RegExp("[^\\d\\"+h+"]","g");e=e.replace(p,"").replace(h,"."),c=parseFloat(e)}else e=e.replace(/[^0-9a-f]+.*$/gi,""),c=parseInt(e,16);return a&&(c=t._shiftDecimal(c,-2)),c*s*Math.pow(10,l)},t.parseDate=function(e,n,r){if(!(e=asString(e)))return null;if("u"==n)return new Date(e);var i;if("R"==n||"r"==n){var o=e.match(/(([0-9]+)\-([0-9]+)\-([0-9]+))?\s?(([0-9]+):([0-9]+)(:([0-9]+))?)?/);return o[1]||o[5]?(i=o[1]?new Date(parseInt(o[2]),parseInt(o[3])-1,parseInt(o[4])):new Date,o[5]&&(i.setHours(parseInt(o[6])),i.setMinutes(parseInt(o[7])),i.setSeconds(o[8]?parseInt(o[9]):0))):i=new Date(e),isNaN(i.getTime())?null:i}n=t._expandFormat(n||"d");var s,a,u,l,c,h,p=exports.culture.Globalize.calendar,f=t._CJK,d=new RegExp("(\\"+p["/"]+")|(\\"+p[":"]+")|(\\d+)|(["+f+"\\.]{2,})|(["+f+"]+)","gi"),g=e.match(d),_=t._parseDateFormat(n),m=0,v=-1,y=0,b=1,C=0,w=0,x=0,E=0,A=-1;if(!(g&&g.length&&_&&_.length))return null;for(var S=0;S<_.length&&g;S++){var T=S-m,D=T>-1&&T<g.length?g[T]:"",F=_[S].length;switch(_[S]){case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":h=_[S];case"yyyy":case"yyy":case"yy":case"y":F>1&&D.length>F&&(g[T]=D.substr(F),D=D.substr(0,F),m++),v=parseInt(D),c=4==D.length;break;case"MMMM":case"MMM":l=!0;var P=D.toLowerCase();y=-1;for(var I=0;I<12;I++)if(0==p.months[I].toLowerCase().indexOf(P)){y=I;break}if(y>-1)break;case"MM":case"M":l=!0,F>1&&D.length>F&&(g[T]=D.substr(F),D=D.substr(0,F),m++),y=parseInt(D)-1;break;case"dddd":case"ddd":s=!0;break;case"dd":case"d":F>1&&D.length>F&&(g[T]=D.substr(F),D=D.substr(0,F),m++),b=parseInt(D),a=!0;break;case"hh":case"h":F>1&&D.length>F&&(g[T]=D.substr(F),D=D.substr(0,F),m++),C=12==(C=parseInt(D))?0:C;break;case"HH":F>1&&D.length>F&&(g[T]=D.substr(F),D=D.substr(0,F),m++),C=parseInt(D);break;case"H":C=parseInt(D);break;case"mm":case"m":F>1&&D.length>F&&(g[T]=D.substr(F),D=D.substr(0,F),m++),w=parseInt(D);break;case"ss":case"s":F>1&&D.length>F&&(g[T]=D.substr(F),D=D.substr(0,F),m++),x=parseInt(D);break;case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":E=parseInt(D)/Math.pow(10,F-3);break;case"tt":case"t":D=D.toUpperCase(),C<12&&p.pm.indexOf(D)>-1&&(C+=12);break;case"q":case"Q":case"u":case"U":u=!0;break;case"ggg":case"gg":case"g":A=p.eras.length>1?t._getEra(D,p):-1;break;case"/":case":":if(D&&D!=p[_[S]])return null;break;case"K":break;default:t._unquote(_[S]).trim()!=D.trim()&&m++}}if(l&&a&&(isNaN(C)&&(C=0),isNaN(w)&&(w=0),isNaN(x)&&(x=0)),y<0||y>11||isNaN(y)||b<1||b>31||isNaN(b)||C<0||C>24||isNaN(C)||w<0||w>60||isNaN(w)||x<0||x>60||isNaN(x))return null;if(h){if(!l)return null;var O=exports.culture.Globalize.calendar;if(isArray(O.fiscalYearOffsets)){var M="E"==h[0],N=y-O.fiscalYearOffsets[M?0:1];v+=N>11?-1:N<0?1:0}}if(s&&!a)return null;if(u&&!l)return null;if(v<0)v=isDate(r)?r.getFullYear():(new Date).getFullYear();else if(A>-1)v=v+p.eras[A].start.getFullYear()-1;else if(v<100&&!c){var k=isNumber(p.twoDigitYearMax)?p.twoDigitYearMax:2029;k>99&&(v+=v+2e3<=k?2e3:1900)}return b>new Date(v,y+1,0).getDate()?null:(i=DateTime.newDate(v,y,b,C,w+0,x,E),isNaN(i.getTime())?null:i)},t.getFirstDayOfWeek=function(){var t=exports.culture.Globalize.calendar.firstDay;return t||0},t.getNumberDecimalSeparator=function(){var t=exports.culture.Globalize.numberFormat["."];return t||"."},t._toFixedStr=function(t,e){var n=t.toString(),r=n.indexOf("."),i=e-(n.length-r)+1,o=n.indexOf("e")>-1;if(!o&&r>-1&&i>=0)return n+Array(i+1).join("0");r&&!o&&"5"==n[n.length-1]&&(t=+(Math.round(+(Math.abs(t)+"e"+e))+"e"+-e)*(t<0?-1:1));return t.toFixed(e)},t._unquote=function(t){return t.length>1&&t[0]==t[t.length-1]&&("'"==t[0]||'"'==t[0])?t.substr(1,t.length-2):t},t._parseNumericFormat=function(e){var n=t._numFormatInfo[e];if(!n){var r=e&&e.match(/(\"(.*?)\"\s*)?([a-z])\s*(\d*)\s*(,*)(\s*\"(.*?)\"\s*)?(.*)/i)||[];n={prefix:r[2]||"",spec:r[3]?r[3].toLowerCase():"n",prec:r[4]?parseInt(r[4]):null,scale:r[5]?3*r[5].length:0,suffix:r[7]||"",curr:r[8]||null},t._numFormatInfo[e]=n}return n},t._parseDateFormat=function(e){var n=t._dateFormatParts[e];if(!n){if(n=[],e){var r=void 0,i=void 0;for(r=0;r>-1&&r<e.length;r++){var o=e[r];if(("'"==o||'"'==o)&&(i=e.indexOf(o,r+1))>-1)n.push(e.substring(r,i+1)),r=i;else if("\\"==o&&r<e.length-1)r++,n.push('"'+e[r]+'"');else{for(i=r+1;i<e.length&&e[i]==o;i++);n.push(e.substring(r,i)),r=i-1}}}t._dateFormatParts[e]=n}return n},t._formatDatePart=function(e,n,r){var i,o=exports.culture.Globalize.calendar,s=0,a=0,u=0,l=r.length;switch(r){case"yyyy":case"yyy":case"yy":case"y":case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":if(a=(i="E"==r[0]?DateTime.toFiscal(e,!0):"e"==r[0]?DateTime.toFiscal(e,!1):e).getFullYear(),o.eras.length>1&&n.indexOf("g")>-1)if((s=t._getEra(e,o))>-1)a=isDate((h=o.eras[s]).start)?a-h.start.getFullYear()+1:Math.abs(a);var c=r.length<3?a%100:3==r.length?a%1e3:a;return t._zeroPad(c,r.length);case"MMMMM":return o.monthsAbbr[e.getMonth()][0];case"MMMM":return o.months[e.getMonth()];case"MMM":return o.monthsAbbr[e.getMonth()];case"MM":case"M":return t._zeroPad(e.getMonth()+1,l);case"dddd":return o.days[e.getDay()];case"ddd":return o.daysAbbr[e.getDay()];case"dd":return t._zeroPad(e.getDate(),2);case"d":return e.getDate().toString();case"hh":case"h":return t._zeroPad(t._h12(e),l);case"HH":case"H":return t._zeroPad(e.getHours(),l);case"mm":case"m":return t._zeroPad(e.getMinutes(),l);case"ss":case"s":return t._zeroPad(e.getSeconds(),l);case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":return u=e.getMilliseconds()*Math.pow(10,l-3),"f"==r[0]?t._zeroPad(u,l):u.toFixed(0);case"tt":return e.getHours()<12?o.am[0]:o.pm[0];case"t":return e.getHours()<12?o.am[1]:o.pm[1];case"q":case"Q":return(Math.floor(e.getMonth()/3)+1).toString();case"u":case"U":return i=DateTime.toFiscal(e,"U"==r),(Math.floor(i.getMonth()/3)+1).toString();case"ggg":case"gg":case"g":if(o.eras.length>1&&(s=t._getEra(e,o))>-1){var h;if(isString(h=o.eras[s]))return h;switch(r){case"gg":return h.name[0];case"g":return h.symbol;default:return h.name}}return o.eras[0];case":":case"/":return o[r];case"K":var p=e.toString().match(/(\+|\-)(\d{2})(\d{2})/);return p?p[1]+p[2]+p[3]:"";case"zzz":case"zz":case"z":var f=-e.getTimezoneOffset(),d=void 0;switch(r){case"zzz":d=t.format(f/60,"d2",!1,!0)+o[":"]+t.format(f%60,"d2",!1,!0);break;case"zz":d=t.format(f/60,"d2",!1,!0);break;case"z":d=t.format(f/60,"d",!1,!0)}return f>=0?"+"+d:d}return l>1&&r[0]==r[l-1]&&('"'==r[0]||"'"==r[0])?r.substr(1,l-2):r},t._getEra=function(t,e){if(e.eras){var n=e.eras.length;if(isDate(t)){if(isString(e.eras[0]))return t.getFullYear()>=0?0:1;if(isDate(e.eras[0].start)){for(var r=0;r<n;r++)if(t>=e.eras[r].start)return r;return n-1}}else if(isString(t)&&t.length>0){t=t.toLowerCase();for(r=0;r<n;r++){var i=e.eras[r],o=i.name,s=i.symbol;if(o&&0==o.toLowerCase().indexOf(t)||s&&0==s.toLowerCase().indexOf(t))return r}}}return-1},t._expandFormat=function(t){var e=exports.culture.Globalize.calendar.patterns[t];return e||t},t._zeroPad=function(t,e){var n=t.toFixed(0),r=e-n.length+1;return r>0?Array(r).join("0")+n:n},t._h12=function(t){var e=exports.culture.Globalize.calendar,n=t.getHours();return e.am&&e.am[0]&&0==(n%=12)&&(n=12),n},t._shiftDecimal=function(t,e){if(0==e||isNaN(t))return t;var n=t.toString();if(n.indexOf("e")>-1)return t*Math.pow(10,e);var r=Array(Math.abs(e)+1).join("0");e<0&&(n=r+n);var i=n.indexOf(".");return i<0&&(i=(n+=".").indexOf(".")),e>0&&(n+=r),i+=e,n=(n=n.replace(".","")).substr(0,i)+"."+n.substr(i),parseFloat(n)},t._CJK="a-z"+"u00c0-u017fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u")+"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff".replace(/u/g,"\\u"),t._numFormatInfo={},t._dateFormatParts={},t}();function _updateCulture(t){exports.culture=t}function _addCultureInfo(t,e){exports.culture[t]="undefined"!=typeof window&&window.wijmo.culture[t]||e}exports.Globalize=Globalize,exports._updateCulture=_updateCulture,exports._addCultureInfo=_addCultureInfo;var _MaskProvider=function(){function t(t,e,n){void 0===e&&(e=null),void 0===n&&(n="_"),this._promptChar="_",this._mskArr=[],this._full=!0,this._hbInput=this._input.bind(this),this._hbKeyDown=this._keydown.bind(this),this._hbKeyPress=this._keypress.bind(this),this._hbCompositionStart=this._compositionstart.bind(this),this._hbCompositionEnd=this._compositionend.bind(this),this.mask=asString(e),this.input=t,this.promptChar=asString(n,!1),this._connect(!0),this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1)}return Object.defineProperty(t.prototype,"input",{get:function(){return this._tbx},set:function(t){this._connect(!1),this._tbx=t,this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk},set:function(t){t!=this._msk&&(this._msk=asString(t,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"promptChar",{get:function(){return this._promptChar},set:function(t){t!=this._promptChar&&(this._promptChar=asString(t,!1),assert(1==this._promptChar.length,"promptChar must be a string with length 1."),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),t.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},t.prototype.getRawValue=function(){var t=this._tbx?this._tbx.value:"";if(!this.mask)return t;for(var e="",n=0;n<this._mskArr.length&&n<t.length;n++)this._mskArr[n].literal||t[n]==this._promptChar||(e+=t[n]);return e},t.prototype.refresh=function(){this._parseMask(),this._valueChanged()},t.prototype._input=function(t){var e=this;this._composing?t.stopImmediatePropagation():setTimeout(function(){e._valueChanged()})},t.prototype._keydown=function(t){if(t.keyCode==Key.Back){var e=this._tbx.selectionStart,n=this._tbx.selectionEnd;if(e<=this._firstPos&&n==e)return t.preventDefault(),void(this._backSpace=!1)}this._backSpace=t.keyCode==Key.Back},t.prototype._keypress=function(t){t.ctrlKey||t.metaKey||t.altKey||this._composing||!this._preventKey(t.charCode)||t.preventDefault()},t.prototype._compositionstart=function(t){this._composing=!0},t.prototype._compositionend=function(t){var e=this;this._composing&&(this._composing=!1,setTimeout(function(){var t=e._tbx;t&&t.dispatchEvent(e._evtInput)}))},t.prototype._preventKey=function(t){if(t&&this._mskArr.length){var e=this._tbx,n=e.selectionStart,r=String.fromCharCode(t);if(n<this._firstPos&&setSelectionRange(e,n=this._firstPos),n>=this._mskArr.length)return!0;var i=this._mskArr[n];if(i.literal)this._validatePosition(n);else if(i.wildCard!=r&&!this._isCharValid(i.wildCard,r))return!0}return!1},t.prototype._connect=function(t){var e=this._tbx;e&&(assert(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected."),t?(this._autoComplete=e.autocomplete,this._spellCheck=e.spellcheck,e.autocomplete="off",e.spellcheck=!1,e.addEventListener("input",this._hbInput,!0),e.addEventListener("keydown",this._hbKeyDown,!0),e.addEventListener("keypress",this._hbKeyPress,!0),e.addEventListener("compositionstart",this._hbCompositionStart,!0),e.addEventListener("compositionend",this._hbCompositionEnd,!0),e.addEventListener("blur",this._hbCompositionEnd,!0),this._valueChanged()):(e.autocomplete=this._autoComplete,e.spellcheck=this._spellCheck,e.removeEventListener("input",this._hbInput,!0),e.removeEventListener("keydown",this._hbKeyDown,!0),e.removeEventListener("keypress",this._hbKeyPress,!0),e.removeEventListener("compositionstart",this._hbCompositionStart,!0),e.removeEventListener("compositionend",this._hbCompositionEnd,!0),e.removeEventListener("blur",this._hbCompositionEnd,!0)))},t.prototype._valueChanged=function(){if(!this._tbx||!this._msk)return!1;var t=this._tbx,e=t.value.length<2,n=t.selectionStart,r=n>0?t.value[n-1]:"",i=t.value;t.value=this._applyMask(),e&&(n=this._firstPos+1);var o=n>0?t.value[n-1]:"";return n>0&&o==this._promptChar&&r!=this.promptChar&&n--,n==i.length&&(n=this._matchEnd),this._validatePosition(n),i!=t.value},t.prototype._applyMask=function(){this._full=!0,this._matchEnd=0;var t=this._tbx.value;if(!this._msk)return t;if(!t&&!this._tbx.required)return t;var e="",n=0,r=this._promptChar;t=this._handleVagueLiterals(t);for(var i=0;i<this._mskArr.length;i++){var o=this._mskArr[i],s=o.literal;if(s&&s==t[n]&&n++,o.wildCard){if(s=r,t){for(var a=n;a<t.length;a++)if(this._isCharValid(o.wildCard,t[a])){switch(s=t[a],o.charCase){case">":s=s.toUpperCase();break;case"<":s=s.toLowerCase()}s!=r&&(this._matchEnd=e.length+1);break}n=a+1}s==r&&(this._full=!1)}e+=s}return e},t.prototype._handleVagueLiterals=function(t){if(t.length>this._mskArr.length+1)return t;var e=t.length-this._mskArr.length;if(0!=e&&t.length>1){for(var n=-1,r=this._tbx,i=r==getActiveElement()?r.selectionStart:r.value.length,o=Math.max(0,i-e);o<this._mskArr.length;o++)if(this._mskArr[o].vague){n=o;break}if(n>-1)if(e<0){var s=Array(1-e).join(this._promptChar),a=n+e;a>-1&&(t=t.substr(0,a)+s+t.substr(a))}else{for(;n>0&&this._mskArr[n-1].literal;)n--;t=t.substr(0,n)+t.substr(n+e)}}return t},t.prototype._isCharValid=function(e,n){var r=this._promptChar;switch(e){case"0":return n>="0"&&n<="9"||n==r;case"9":return n>="0"&&n<="9"||" "==n||n==r;case"#":return n>="0"&&n<="9"||" "==n||"+"==n||"-"==n||n==r;case"L":return n>="a"&&n<="z"||n>="A"&&n<="Z"||n==r;case"l":return n>="a"&&n<="z"||n>="A"&&n<="Z"||" "==n||n==r;case"A":return n>="0"&&n<="9"||n>="a"&&n<="z"||n>="A"&&n<="Z"||n==r;case"a":return n>="0"&&n<="9"||n>="a"&&n<="z"||n>="A"&&n<="Z"||" "==n||n==r;case"９":return n>="０"&&n<="９"||n==r;case"Ｊ":case"Ｇ":return!("Ｇ"==e&&t._X_DBCS_BIG_HIRA.indexOf(n)>-1)&&(n>="ぁ"&&n<="ゖ"||n==r);case"Ｋ":case"Ｎ":return!("Ｎ"==e&&t._X_DBCS_BIG_KATA.indexOf(n)>-1)&&(n>="ァ"&&n<="ヺ"||n==r);case"Ｚ":return n<="!"||n>="ÿ"||n==r;case"H":return n>="!"&&n<="ÿ"||n==r;case"K":case"N":return!("N"==e&&t._X_SBCS_BIG_KATA.indexOf(n)>-1)&&(n>="ｦ"&&n<="ﾟ"||n==r)}return!1},t.prototype._validatePosition=function(t){var e=this._mskArr;if(this._backSpace)for(;t>0&&t<e.length&&e[t-1].literal;)t--;if(0==t||!this._backSpace)for(;t<e.length&&e[t].literal;)t++;getActiveElement()==this._tbx&&setSelectionRange(this._tbx,t),this._backSpace=!1},t.prototype._parseMask=function(){this._mskArr=[],this._firstPos=-1,this._lastPos=-1;for(var t,e=this._msk,n="|",r=0;e&&r<e.length;r++)switch(e[r]){case"0":case"9":case"#":case"A":case"a":case"L":case"l":case"９":case"Ｊ":case"Ｇ":case"Ｋ":case"Ｎ":case"Ｚ":case"K":case"N":case"H":this._firstPos<0&&(this._firstPos=this._mskArr.length),this._lastPos=this._mskArr.length,this._mskArr.push(new _MaskElement(e[r],n));break;case".":case",":case":":case"/":case"$":switch(e[r]){case".":case",":t=exports.culture.Globalize.numberFormat[e[r]];break;case":":case"/":t=exports.culture.Globalize.calendar[e[r]];break;case"$":t=exports.culture.Globalize.numberFormat.currency.symbol}for(var i=0;i<t.length;i++)this._mskArr.push(new _MaskElement(t[i]));break;case"<":case">":case"|":n=e[r];break;case"\\":r<e.length-1&&r++,this._mskArr.push(new _MaskElement(e[r]));break;default:this._mskArr.push(new _MaskElement(e[r]))}for(r=0;r<this._mskArr.length;r++){var o=this._mskArr[r];if(o.literal)for(i=0;i<r;i++){var s=this._mskArr[i];if(s.wildCard&&this._isCharValid(s.wildCard,o.literal)){o.vague=!0;break}}}},t._X_DBCS_BIG_HIRA="ぁぃぅぇぉっゃゅょゎゕゖ",t._X_DBCS_BIG_KATA="ァィゥェォッャュョヮヵヶ",t._X_SBCS_BIG_KATA="ｧｨｩｪｫｬｭｮｯ",t}();exports._MaskProvider=_MaskProvider;var _MaskElement=function(){return function(t,e){e?(this.wildCard=t,this.charCase=e):this.literal=t}}();exports._MaskElement=_MaskElement;var _isMobile="undefined"!=typeof navigator&&null!=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i);function isMobile(){return _isMobile}exports.isMobile=isMobile;var _isFF="undefined"!=typeof navigator&&null!=navigator.userAgent.match(/Firefox\//);function isFirefox(){return _isFF}exports.isFirefox=isFirefox;var _isSafari="undefined"!=typeof navigator&&null!=navigator.userAgent.match(/^((?!chrome|android).)*safari/i);function isSafari(){return _isSafari}exports.isSafari=isSafari;var _isEdge="undefined"!=typeof navigator&&null!=navigator.userAgent.match(/Edge\//);function isEdge(){return _isEdge}exports.isEdge=isEdge;var _isIE="undefined"!=typeof navigator&&null!=navigator.userAgent.match(/MSIE |Trident\/|Edge\//);function isIE(){return _isIE}exports.isIE=isIE;var _isIE9=!1;function isIE9(){return _isIE9}exports.isIE9=isIE9;var _isIE10=!1;function isIE10(){return _isIE10}exports.isIE10=isIE10;var _supportsPassive=!1;function getEventOptions(t,e){return _supportsPassive?{capture:t,passive:e}:t}"undefined"!=typeof document&&document.addEventListener("test",function(t){},{get passive(){return _supportsPassive=!0,!0}}),exports.getEventOptions=getEventOptions;var _supportsFocusOptions=!1;function supportsFocusOptions(){return _supportsFocusOptions}function _startDrag(t,e){t.effectAllowed=e,isFirefox()&&t.setData("text","")}if("undefined"!=typeof document&&document.createElement("div").focus({get preventScroll(){return _supportsFocusOptions=!0,!0}}),exports.supportsFocusOptions=supportsFocusOptions,exports._startDrag=_startDrag,"undefined"!=typeof document&&document.doctype&&(navigator.appVersion.indexOf("MSIE 10")>-1&&(_isIE10=!0),navigator.appVersion.indexOf("MSIE 9")>-1&&(_isIE9=!0,document.addEventListener("mousemove",function(t){if(1==t.which){var e=closest(t.target,".wj-control");if(e&&!e.style.cursor)for(var n=t.target;n;n=n.parentElement)if(n.attributes&&n.attributes.draggable)return n.dragDrop(),!1}}))),"undefined"!=typeof window){var raf="requestAnimationFrame",caf="cancelAnimationFrame";if(!window[raf]){var expectedTime_1=0;window[raf]=function(t){var e=Date.now(),n=16-(e-expectedTime_1),r=n>0?n:0;return expectedTime_1=e+r,setTimeout(function(){t(expectedTime_1)},r)},window[caf]=clearTimeout}if(!window.atob){var keys_1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",keysRe_1=new RegExp("[^"+keys_1+"]");window.atob=function(t){var e,n,r,i,o=[],s=0,a=t.length;if(keysRe_1.test(t)||/=/.test(t)&&(/=[^=]/.test(t)||/={3}/.test(t)))throw new Error("Invalid base64 data");for(a%4>0&&(a=(t+=Array(4-a%4+1).join("=")).length);s<a;){for(n=[],i=s;s<i+4;)n.push(keys_1.indexOf(t.charAt(s++)));for(r=[((e=(n[0]<<18)+(n[1]<<12)+((63&n[2])<<6)+(63&n[3]))&255<<16)>>16,64===n[2]?-1:(65280&e)>>8,64===n[3]?-1:255&e],i=0;i<3;++i)(r[i]>=0||0===i)&&o.push(String.fromCharCode(r[i]))}return o.join("")},window.btoa=function(t){for(var e,n,r=[],i=0,o=t.length;i<o;)e=((n=[t.charCodeAt(i++),t.charCodeAt(i++),t.charCodeAt(i++)])[0]<<16)+((n[1]||0)<<8)+(n[2]||0),r.push(keys_1.charAt((e&63<<18)>>18),keys_1.charAt((258048&e)>>12),keys_1.charAt(isNaN(n[1])?64:(4032&e)>>6),keys_1.charAt(isNaN(n[2])?64:63&e));return r.join("")}}}var Aggregate,PrintDocument=function(){function t(t){this._copyCss=!0,null!=t&&copy(this,t)}return Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyCss",{get:function(){return this._copyCss},set:function(t){this._copyCss=asBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.addCSS=function(t){this._css||(this._css=[]),this._css.push(t)},t.prototype.append=function(t){var e=this._getDocument();isString(t)?e.write(t):t instanceof HTMLElement?e.write(t.outerHTML):assert(!1,"child should be an HTML element or a string.")},t.prototype.print=function(t){var e=this;this._iframe&&(this._close(),setTimeout(function(){var n=e._iframe.contentWindow,r="onafterprint"in n&&!isFirefox();r&&(n.onafterprint=function(){e._afterPrint(t)}),!(isIE()&&null==n.document.body)&&document.queryCommandSupported("print")?n.document.execCommand("print",!0,null):(n.focus(),n.print()),r||e._afterPrint(t)},100))},t.prototype._afterPrint=function(t){document.body.removeChild(this._iframe),this._iframe=null,isFunction(t)&&t()},t.prototype._getDocument=function(){if(!this._iframe){var t=this._iframe=document.createElement("iframe");addClass(t,"wj-printdocument"),setCss(t,{position:"fixed",left:32e3,top:32e3}),document.body.appendChild(t)}return this._iframe.contentDocument},t.prototype._close=function(){var t=this._getDocument();if(t.close(),t.title=null!=this.title?this.title:document.title,t.title&&t.title.trim()||(t.title=" "),this._copyCss){for(var e=document.head.querySelectorAll("link"),n=0;n<e.length;n++){var r=e[n];if(r.href.match(/\.css$/i)&&r.rel.match(/stylesheet/i)){var i=httpRequest(r.href,{async:!1});this._addStyle(i.responseText)}}var o=document.head.querySelectorAll("STYLE");for(n=0;n<o.length;n++)this._addStyle(o[n].textContent)}if(this._css)for(n=0;n<this._css.length;n++){var s=t.createElement("style");i=httpRequest(this._css[n],{async:!1});s.textContent=i.responseText,t.head.appendChild(s)}},t.prototype._addStyle=function(t){var e=this._getDocument(),n=e.createElement("style");n.textContent=t,e.head.appendChild(n)},t}();function getAggregate(t,e,n){var r=0,i=0,o=0,s=0,a=null,u=null,l=null,c=n?new Binding(n):null;if((t=asEnum(t,Aggregate))==Aggregate.CntAll)return e.length;for(var h=0;h<e.length;h++){var p=e[h];if(c&&(p=c.getValue(p)),t==Aggregate.First)return p;null!=p&&(r++,(null==a||p<a)&&(a=p),(null==u||p>u)&&(u=p),l=p,isNumber(p)&&!isNaN(p)?(i++,o+=p,s+=p*p):isBoolean(p)&&(i++,1==p&&(o++,s++)))}var f=0==i?0:o/i;switch(t){case Aggregate.Avg:return f;case Aggregate.Cnt:return r;case Aggregate.Max:return u;case Aggregate.Min:return a;case Aggregate.Rng:return u-a;case Aggregate.Sum:return o;case Aggregate.VarPop:return i<=1?0:s/i-f*f;case Aggregate.StdPop:return i<=1?0:Math.sqrt(s/i-f*f);case Aggregate.Var:return i<=1?0:(s/i-f*f)*i/(i-1);case Aggregate.Std:return i<=1?0:Math.sqrt((s/i-f*f)*i/(i-1));case Aggregate.Last:return l}throw"Invalid aggregate type."}exports.PrintDocument=PrintDocument,function(t){t[t.None=0]="None",t[t.Sum=1]="Sum",t[t.Cnt=2]="Cnt",t[t.Avg=3]="Avg",t[t.Max=4]="Max",t[t.Min=5]="Min",t[t.Rng=6]="Rng",t[t.Std=7]="Std",t[t.Var=8]="Var",t[t.StdPop=9]="StdPop",t[t.VarPop=10]="VarPop",t[t.CntAll=11]="CntAll",t[t.First=12]="First",t[t.Last=13]="Last"}(Aggregate=exports.Aggregate||(exports.Aggregate={})),exports.getAggregate=getAggregate;var ArrayBase=function(t){function e(){var e=this;return canChangePrototype?e.length=0:e=t.call(this)||this,e}return __extends(e,t),e}(Array);exports.ArrayBase=ArrayBase;var canChangePrototype=!0;try{ArrayBase.prototype=Array.prototype,canChangePrototype=ArrayBase.prototype===Array.prototype}catch(t){canChangePrototype=!1}var symb="undefined"!=typeof window?window.Symbol:null;!canChangePrototype&&symb&&symb.species&&Object.defineProperty(ArrayBase,symb.species,{get:function(){return Array},enumerable:!1,configurable:!1});var ObservableArray=function(t){function e(e){var n=t.call(this)||this;if(n._updating=0,n.collectionChanged=new Event,e){e=asArray(e),n._updating++;for(var r=0;r<e.length;r++)n.push(e[r]);n._updating--}return n}return __extends(e,t),e.prototype.push=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=this.length,i=0;e&&i<e.length;i++)r=t.prototype.push.call(this,e[i]),this._updating||this._raiseCollectionChanged(NotifyCollectionChangedAction.Add,e[i],r-1);return r},e.prototype.pop=function(){var e=t.prototype.pop.call(this);return this._raiseCollectionChanged(NotifyCollectionChangedAction.Remove,e,this.length),e},e.prototype.splice=function(e,n,r){var i,o=NotifyCollectionChangedAction;return n&&r?(i=t.prototype.splice.call(this,e,n,r),1==n?this._raiseCollectionChanged(o.Change,r,e):this._raiseCollectionChanged(),i):r?(i=t.prototype.splice.call(this,e,0,r),this._raiseCollectionChanged(o.Add,r,e),i):(i=t.prototype.splice.call(this,e,n),1==n?this._raiseCollectionChanged(o.Remove,i[0],e):this._raiseCollectionChanged(),i)},e.prototype.slice=function(e,n){return t.prototype.slice.call(this,e,n)},e.prototype.indexOf=function(e,n){return t.prototype.indexOf.call(this,e,n)},e.prototype.sort=function(e){var n=t.prototype.sort.call(this,e);return this._raiseCollectionChanged(),n},e.prototype.insert=function(t,e){this.splice(t,0,e)},e.prototype.remove=function(t){var e=this.indexOf(t);return e>-1&&(this.removeAt(e),!0)},e.prototype.removeAt=function(t){this.splice(t,1)},e.prototype.setAt=function(t,e){t>=this.length&&(this.length=t+1),this.splice(t,1,e)},e.prototype.clear=function(){this.length&&this.splice(0,this.length)},e.prototype.beginUpdate=function(){this._updating++},e.prototype.endUpdate=function(){this._updating>0&&(this._updating--,0==this._updating&&this._raiseCollectionChanged())},Object.defineProperty(e.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),e.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},e.prototype.implementsInterface=function(t){return"INotifyCollectionChanged"==t},e.prototype.onCollectionChanged=function(t){void 0===t&&(t=NotifyCollectionChangedEventArgs.reset),this.isUpdating||this.collectionChanged.raise(this,t)},e.prototype._raiseCollectionChanged=function(t,e,n){if(void 0===t&&(t=NotifyCollectionChangedAction.Reset),!this.isUpdating){var r=new NotifyCollectionChangedEventArgs(t,e,n);this.onCollectionChanged(r)}},e}(ArrayBase);exports.ObservableArray=ObservableArray;var CollectionView=function(){function t(t,e){var n=this;this._idx=-1,this._srtDsc=new ObservableArray,this._grpDesc=new ObservableArray,this._newItem=null,this._edtItem=null,this._pgSz=0,this._pgIdx=0,this._updating=0,this._stableSort=!1,this._nullsFirst=!1,this._canFilter=!0,this._canGroup=!0,this._canSort=!0,this._canAddNew=!0,this._canCancelEdit=!0,this._canRemove=!0,this._canChangePage=!0,this._trackChanges=!1,this._chgAdded=new ObservableArray,this._chgRemoved=new ObservableArray,this._chgEdited=new ObservableArray,this.collectionChanged=new Event,this.sourceCollectionChanging=new Event,this.sourceCollectionChanged=new Event,this.currentChanged=new Event,this.currentChanging=new Event,this.pageChanged=new Event,this.pageChanging=new Event,this._srtDsc.collectionChanged.addHandler(function(){n._srtDsc.forEach(function(t){assert(t instanceof SortDescription,"sortDescriptions array must contain SortDescription objects.")}),n.canSort&&n.refresh()}),this._grpDesc.collectionChanged.addHandler(function(){n._grpDesc.forEach(function(t){assert(t instanceof GroupDescription,"groupDescriptions array must contain GroupDescription objects.")}),n.canGroup&&(n.currentEditItem||n.currentAddItem?n.commitEdit():n.refresh())}),this.sourceCollection=t||new ObservableArray,e&&(this._initializing=!0,this.beginUpdate(),copy(this,e),this.endUpdate(),this._initializing=!1),null==this._keepCurrentItem&&(this._keepCurrentItem=!0)}return t.prototype._copy=function(t,e){switch(t){case"sortDescriptions":this.sortDescriptions.clear();for(var n=asArray(e),r=0;r<n.length;r++){isString(o=n[r])?o=new SortDescription(o,!0):o instanceof SortDescription||!o.property||(o=new SortDescription(o.property,o.ascending)),this.sortDescriptions.push(o)}return!0;case"groupDescriptions":this.groupDescriptions.clear();var i=asArray(e);for(r=0;r<i.length;r++){var o;isString(o=i[r])&&(o=new PropertyGroupDescription(o)),this.groupDescriptions.push(o)}return!0;case"currentItem":return this.currentItem=e,!0}return!1},Object.defineProperty(t.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(t){this._itemCreator=asFunction(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(t){t!=this._srtCvt&&(this._srtCvt=asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(t){t!=this._srtCmp&&(this._srtCmp=asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(t){t!=this._stableSort&&(this._stableSort=asBoolean(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortNullsFirst",{get:function(){return this._nullsFirst},set:function(t){t!=this._stableSort&&(this._nullsFirst=asBoolean(t),this.refresh())},enumerable:!0,configurable:!0}),t.prototype.getAggregate=function(t,e,n){return getAggregate(t,n?this._pgView:this._view,e)},Object.defineProperty(t.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(t){this._trackChanges=asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),t.prototype.clearChanges=function(){this._chgAdded.clear(),this._chgRemoved.clear(),this._chgEdited.clear()},t.prototype.implementsInterface=function(t){switch(t){case"ICollectionView":case"IEditableCollectionView":case"IPagedCollectionView":case"INotifyCollectionChanged":return!0}return!1},Object.defineProperty(t.prototype,"getError",{get:function(){return this._getError},set:function(t){this._getError!=t&&(this._getError=asFunction(t),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),t.prototype.onCollectionChanged=function(t){void 0===t&&(t=NotifyCollectionChangedEventArgs.reset),t.action!=NotifyCollectionChangedAction.Change||this._committing||this._canceling||t.item==this.currentEditItem||t.item==this.currentAddItem||this._trackItemChanged(t.item),this.collectionChanged.raise(this,t)},t.prototype._raiseCollectionChanged=function(t,e,n){void 0===t&&(t=NotifyCollectionChangedAction.Reset);var r=new NotifyCollectionChangedEventArgs(t,e,n);this.onCollectionChanged(r)},t.prototype._notifyItemChanged=function(t){var e=new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Change,t,this.items.indexOf(t));this.onCollectionChanged(e)},t.prototype.onSourceCollectionChanging=function(t){return this.sourceCollectionChanging.raise(this,t),!t.cancel},t.prototype.onSourceCollectionChanged=function(t){this.sourceCollectionChanged.raise(this,t)},Object.defineProperty(t.prototype,"canFilter",{get:function(){return this._canFilter},set:function(t){this._canFilter=asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canGroup",{get:function(){return this._canGroup},set:function(t){this._canGroup=asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canSort",{get:function(){return this._canSort},set:function(t){this._canSort=asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentItem",{get:function(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(t){this.moveCurrentTo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentPosition",{get:function(){return this._idx},set:function(t){this.moveCurrentToPosition(asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter!=t&&(this._filter=asFunction(t),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return!this._pgView||!this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sourceCollection",{get:function(){return this._src},set:function(t){if(t!=this._src){if(!this.onSourceCollectionChanging(new CancelEventArgs))return;var e=this.currentPosition;this.commitEdit(),null!=this._ncc&&this._ncc.collectionChanged.removeHandler(this._sourceChanged),this._src=asArray(t,!1),this._ncc=tryCast(this._src,"INotifyCollectionChanged"),this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this),this.clearChanges(),this.refresh(),this.moveCurrentToFirst(),this.onSourceCollectionChanged(),this.currentPosition<0&&e>-1&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),t.prototype._sourceChanged=function(t,e){this._updating<=0&&this.refresh()},t.prototype.contains=function(t){return this._pgView.indexOf(t)>-1},t.prototype.moveCurrentTo=function(t){return this.moveCurrentToPosition(this._pgView.indexOf(t))},t.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},t.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},t.prototype.moveCurrentToPrevious=function(){return this._idx>0&&this.moveCurrentToPosition(this._idx-1)},t.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},t.prototype.moveCurrentToPosition=function(t){if(t>=-1&&t<this._pgView.length&&t!=this._idx){var e=new CancelEventArgs;if(this.onCurrentChanging(e)){var n=this._pgView[t];this._edtItem&&n!=this._edtItem?this.commitEdit():this._newItem&&n!=this._newItem&&this.commitNew(),this._idx=t,this.onCurrentChanged()}}return this._idx==t},t.prototype.refresh=function(){this._newItem||this._edtItem?this._pendingRefresh=!0:this._updating<=0&&(this._performRefresh(),this.onCollectionChanged())},t.prototype._performRefresh=function(){if(!(this._updating>0)){this._pendingRefresh=!1;var t=this.currentItem;this._view=this._src?this._performFilter(this._src):[],this.canSort&&this._srtDsc.length>0&&(this._view==this._src&&(this._view=this._src.slice()),this._performSort(this._view)),this._groups=this.canGroup?this._createGroups(this._view):null,this._fullGroups=this._groups,this._groups&&(this._view=this._mergeGroupItems(this._groups)),this._pgIdx=clamp(this._pgIdx,0,this.pageCount-1),this._pgView=this._getPageView(),this._groups&&this.pageCount>1&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups));var e=this._keepCurrentItem?this._pgView.indexOf(t):-1;e<0&&(e=Math.min(this._idx,this._pgView.length-1)),this._idx=e,this._digest=this._getGroupsDigest(this.groups),this.currentItem===t||this._initializing||this.onCurrentChanged()}},t.prototype._performSort=function(t){if(this._stableSort){var e=t.map(function(t,e){return{item:t,index:e}}),n=this._compareItems();e.sort(function(t,e){var r=n(t.item,e.item);return 0==r?t.index-e.index:r});for(var r=0;r<t.length;r++)t[r]=e[r].item}else t.sort(this._compareItems())},t.prototype._compareItems=function(){var e=this._srtDsc,n=this._srtCvt,r=this._srtCmp,i=this._nullsFirst?-1:1,o=t._collator,s=!0,a=0;return function(t,u){for(var l=0;l<e.length;l++){var c=e[l],h=c._bnd.getValue(t),p=c._bnd.getValue(u);if(n&&(h=n(c,t,h,s),p=n(c,u,p,!1),s=!1),r&&null!=(a=r(h,p)))return c.ascending?+a:-a;if(h!=h&&(h=null),p!=p&&(p=null),null!=h&&null==p)return-1*i;if(null==h&&null!=p)return 1*i;if("string"==typeof h&&"string"==typeof p){if(o){if(0!=(a=o.compare(h,p)))return c.ascending?+a:-a;continue}var f=h.toLowerCase(),d=p.toLowerCase();f!=d&&(h=f,p=d)}if(0!=(a=h<p?-1:h>p?1:0))return c.ascending?+a:-a}return 0}},t.prototype._performFilter=function(t){return this.canFilter&&this._filter?t.filter(this._filter,this):t},t.prototype.onCurrentChanged=function(t){void 0===t&&(t=EventArgs.empty),this.currentChanged.raise(this,t)},t.prototype.onCurrentChanging=function(t){return this.currentChanging.raise(this,t),!t.cancel},Object.defineProperty(t.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.refresh()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},Object.defineProperty(t.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(t){this._canAddNew=asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(t){this._canCancelEdit=asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canRemove",{get:function(){return this._canRemove},set:function(t){this._canRemove=asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAddingNew",{get:function(){return null!=this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEditingItem",{get:function(){return null!=this._edtItem},enumerable:!0,configurable:!0}),t.prototype.editItem=function(t){t!=this._edtItem&&this.moveCurrentTo(t)&&(this.commitEdit(),this._edtItem=t,this._edtClone={},this._extend(this._edtClone,this._edtItem))},t.prototype.commitEdit=function(){var t=this._edtItem,e=this._edtClone;if(null!=t){this._committing=!0;var n=this._getChangedFields(t,e),r=this._pendingRefresh;this._edtItem=null,this._edtClone=null;var i=this._pgView.indexOf(t),o=this._digest;if(this._needRefresh(n)&&this._performRefresh(),n&&this._trackItemChanged(t),this._pgView.indexOf(t)!=i||o!=this._digest||r?this._raiseCollectionChanged():this._raiseCollectionChanged(NotifyCollectionChangedAction.Change,t,i),this.commitNew(),this._committing=!1,this.sourceCollection instanceof ObservableArray){this._updating++;var s=new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Change,t);this.sourceCollection.onCollectionChanged(s),this._updating--}}},t.prototype.cancelEdit=function(){var t=this._edtItem;if(null!=t){if(this._edtItem=null,!this.canCancelEdit)return void assert(!1,"cannot cancel edits (canCancelEdit == false).");var e=this._src.indexOf(t);e>=0&&this._edtClone&&(this._extend(this._src[e],this._edtClone),this._edtClone=null,this._canceling=!0,this._raiseCollectionChanged(NotifyCollectionChangedAction.Change,t,e),this._canceling=!1,this._pendingRefresh&&(this._performRefresh(),this._raiseCollectionChanged()))}},t.prototype.addNew=function(){if(arguments.length>0&&assert(!1,"addNew does not take any parameters, it creates an empty new item."),this.commitEdit(),!this.canAddNew)return assert(!1,"cannot add items (canAddNew == false)."),null;var t=null,e=this.sourceCollection;if(null!=(t=this.newItemCreator?this.newItemCreator():e&&e.length?new e[0].constructor:{})){if(this._newItem=t,this._updating++,this._src.push(t),this._updating--,this._pgView!=this._src&&this._pgView.push(t),this.groups&&this.groups.length){var n=this.groups[this.groups.length-1];for(n.items.push(t);n.groups&&n.groups.length;)(n=n.groups[n.groups.length-1]).items.push(t)}this._raiseCollectionChanged(NotifyCollectionChangedAction.Add,t,this._pgView.length-1),this.moveCurrentTo(t)}return this._newItem},t.prototype.commitNew=function(){var t=this._newItem;if(null!=t){this._newItem=null;var e=this._pgView.indexOf(t),n=this._digest;if(this._performRefresh(),this._trackChanges){var r=this._chgEdited.indexOf(t);r>-1&&this._chgEdited.removeAt(r),this._chgAdded.indexOf(t)<0&&this._chgAdded.push(t)}this._pgView.indexOf(t)==e&&n==this._digest?this._raiseCollectionChanged(NotifyCollectionChangedAction.Change,t,e):this._raiseCollectionChanged()}},t.prototype.cancelNew=function(){var t=this._newItem;null!=t&&this.remove(t)},t.prototype.remove=function(t){var e=t==this._newItem;if(e&&(this._newItem=null),t==this._edtItem&&this.cancelEdit(),this.canRemove){var n=this._src.indexOf(t);if(n>-1){var r=this.currentItem;this._updating++,this._src.splice(n,1),this._updating--;var i=this._digest;if(this._performRefresh(),this._trackChanges){var o=this._chgAdded.indexOf(t);o>-1&&this._chgAdded.removeAt(o);var s=this._chgEdited.indexOf(t);s>-1&&this._chgEdited.removeAt(s),this._chgRemoved.indexOf(t)<0&&!e&&o<0&&this._chgRemoved.push(t)}var a=this.sortDescriptions.length>0,u=this.pageSize>0&&this._pgIdx>-1;a||u||i!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():this._raiseCollectionChanged(NotifyCollectionChangedAction.Remove,t,n),this.currentItem!==r&&this.onCurrentChanged()}}else assert(!1,"cannot remove items (canRemove == false).")},t.prototype.removeAt=function(t){t=asInt(t),this.remove(this._pgView[t])},t.prototype._trackItemChanged=function(t){if(this._trackChanges){var e=this.sourceCollection;if(e&&e.indexOf(t)>-1){var n=this._chgEdited.indexOf(t),r=NotifyCollectionChangedAction.Change;if(n<0&&this._chgAdded.indexOf(t)<0)this._chgEdited.push(t);else if(n>-1){var i=new NotifyCollectionChangedEventArgs(r,t,n);this._chgEdited.onCollectionChanged(i)}else if((n=this._chgAdded.indexOf(t))>-1){i=new NotifyCollectionChangedEventArgs(r,t,n);this._chgAdded.onCollectionChanged(i)}}}},t.prototype._extend=function(t,e){for(var n in e)t[n]=e[n]},t.prototype._needRefresh=function(t){if(!t)return!1;if(this._filter)return!0;for(var e=0;e<this._srtDsc.length;e++)for(var n=0;n<t.length;n++)if(0==this._srtDsc[e].property.indexOf(t[n]))return!0;for(e=0;e<this._grpDesc.length;e++){var r=this._grpDesc[e];if(!(r instanceof PropertyGroupDescription))return!0;for(n=0;n<t.length;n++)if(0==r.propertyName.indexOf(t[n]))return!0}return!1},t.prototype._sameContent=function(t,e){return null==this._getChangedFields(t,e)},t.prototype._getChangedFields=function(t,e){assert(null!=e&&null!=t,"Two objects expected");var n={};for(var r in e)this._sameValue(t[r],e[r])&&!isObject(e[r])||(n[r]=!0);for(var r in t)this._sameValue(t[r],e[r])&&!isObject(t[r])||(n[r]=!0);var i=Object.keys(n);return i.length?i:null},t.prototype._sameValue=function(t,e){return t===e||DateTime.equals(t,e)},Object.defineProperty(t.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(t){this._canChangePage=asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageSize",{get:function(){return this._pgSz},set:function(t){t!=this._pgSz&&(this._pgSz=asInt(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),t.prototype.moveToFirstPage=function(){return this.moveToPage(0)},t.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},t.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},t.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},t.prototype.moveToPage=function(t){var e=clamp(t,0,this.pageCount-1);if(e!=this._pgIdx){this.canChangePage||assert(!1,"cannot change pages (canChangePage == false).");var n=new PageChangingEventArgs(e);this.onPageChanging(n)&&(this._pgIdx=e,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&0!=this.groupDescriptions.length?this.refresh():this.onCollectionChanged(),this.onPageChanged())}return this._pgIdx==t},t.prototype.onPageChanged=function(t){void 0===t&&(t=EventArgs.empty),this.pageChanged.raise(this,t)},t.prototype.onPageChanging=function(t){return this.pageChanging.raise(this,t),!t.cancel},t.prototype._getFullGroup=function(t){var e=this._getGroupByPath(this._fullGroups,t.level,t._path);return null!=e&&(t=e),t},t.prototype._getGroupByPath=function(t,e,n){if(t)for(var r=0;r<t.length;r++){var i=t[r];if(i.level==e&&i._path==n)return i;if(i.level<e&&0==n.indexOf(i._path)&&null!=(i=this._getGroupByPath(i.groups,e,n)))return i}return null},t.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var t=this._pgSz*this._pgIdx,e=Math.min(t+this._pgSz,this._view.length);return this._view.slice(t,e)},t.prototype._createGroups=function(t){var e=this;if(!this._grpDesc||!this._grpDesc.length)return null;var n=[],r={},i=null;return t.forEach(function(t){for(var o=n,s=e._grpDesc.length,a="",u=0;u<s;u++){var l=e._grpDesc[u],c=l.groupNameFromItem(t,u),h=u==s-1;!(i=r[a])&&isPrimitive(c)&&(i={},r[a]=i);var p=e._getGroup(l,o,i,c,u,h);a+="/"+c,p._path=a,h&&p.items.push(t),o=p.groups}}),n},t.prototype._getGroupsDigest=function(t){for(var e="",n=0;null!=t&&n<t.length;n++){var r=t[n];e+="{"+r.name+":"+(r.items?r.items.length:"*"),r.groups.length>0&&(e+=",",e+=this._getGroupsDigest(r.groups)),e+="}"}return e},t.prototype._mergeGroupItems=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(!r._isBottomLevel)for(var i=this._mergeGroupItems(r.groups),o=0,s=i.length;o<s;o++)r._items.push(i[o]);for(o=0,s=r._items.length;o<s;o++)e.push(r._items[o])}return e},t.prototype._getGroup=function(t,e,n,r,i,o){var s;if(n&&isPrimitive(r)){if(s=n[r])return s}else for(var a=0;a<e.length;a++)if(t.namesMatch(e[a].name,r))return e[a];var u=new CollectionViewGroup(t,r,i,o);return e.push(u),n&&(n[r]=u),u},t._collator="undefined"!=typeof window&&window.Intl&&Intl.Collator?new Intl.Collator:null,t}();exports.CollectionView=CollectionView;var CollectionViewGroup=function(){function t(t,e,n,r){this._gd=t,this._name=e,this._level=n,this._isBottomLevel=r,this._groups=[],this._items=[]}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),t.prototype.getAggregate=function(t,e,n){var r=tryCast(n,CollectionView);return getAggregate(t,(r?r._getFullGroup(this):this).items,e)},t}();exports.CollectionViewGroup=CollectionViewGroup,exports.controlBaseClass="undefined"!=typeof window&&window["wj-control-is-element"]?HTMLElement:Object;var __isES6Mode=!1;try{var f=function(){return function(){}}();f.prototype=Array.prototype,__isES6Mode=f.prototype!==Array.prototype}catch(t){__isES6Mode=!0}var __callSuper=__isES6Mode||exports.controlBaseClass!==Object,ControlBase=function(t){function e(){var e=this;return __callSuper&&(e=t.call(this)||this),e}return __extends(e,t),e}(exports.controlBaseClass);exports.ControlBase=ControlBase;var Control=function(t){function e(n,r,i){void 0===r&&(r=null),void 0===i&&(i=!1);var o=t.call(this)||this;o._listeners=[],o._pristine=!0,o._focus=!1,o._updating=0,o._fullUpdate=!1,o.gotFocus=new Event,o.lostFocus=new Event,o.refreshing=new Event,o.refreshed=new Event,o._updateWme(),assert(null==e.getControl(n),"Element is already hosting a control.");var s=getElement(n);assert(null!=s,"Cannot find the host element."),o._orgTabIndex=s.hasAttribute("tabindex")?s.tabIndex:0,o._orgOuter=s.outerHTML,o._orgTag=s.tagName,o._orgAtts=s.attributes,"INPUT"!=s.tagName&&"SELECT"!=s.tagName||(s=o._replaceWithDiv(s)),o._e=s,s[e._CTRL_KEY]=o;var a=o.addEventListener.bind(o);if(1==i){o._szCtl=new Size(s.offsetWidth,s.offsetHeight);var u=window.ResizeObserver,l=null;u&&(l=o._szObserver=new u(function(t){t.forEach(function(t){var n=e.getControl(t.target);n&&n._handleResize()})})),l?l.observe(s):a(window,"resize",o._handleResize.bind(o))}var c=o._handleFocusBlur.bind(o);a(s,"focus",c,!0),a(s,"blur",c,!0);var h=o._handleDisabled.bind(o);if(a(s,"mousedown",h,!0),a(s,"mouseup",h,!0),a(s,"click",h,!0),a(s,"dblclick",h,!0),a(s,"wheel",h,getEventOptions(!0,!0)),a(s,"keydown",function(t){o.isDisabled&&t.keyCode!=Key.Tab&&t.preventDefault()}),null==e._touching&&(e._touching=!1,"ontouchstart"in window||"onpointerdown"in window)){var p=document,f=o._handleTouchStart,d=o._handleTouchEnd,g=getEventOptions(!0,!0);"ontouchstart"in window?(p.addEventListener("touchstart",f,g),"touchend,touchcancel".split(",").forEach(function(t){p.addEventListener(t,d,g)})):"onpointerdown"in window&&(p.addEventListener("pointerdown",f,g),"pointerup,pointercancel".split(",").forEach(function(t){p.addEventListener(t,d,g)}))}return o}return __extends(e,t),e.prototype.getTemplate=function(){for(var t=Object.getPrototypeOf(this);t;t=Object.getPrototypeOf(t)){var e=t.constructor.controlTemplate;if(e)return e}return null},e.prototype.applyTemplate=function(t,n,r,i){var o=this,s=this._e;t&&addClass(s,t);var a=null;n&&(a=createElement(n,s));for(var u=s.querySelectorAll("a.wj-btn"),l=0;l<u.length;l++){var c=u[l];setAttribute(c,"role","button",!0),setAttribute(c,"href","",!0),setAttribute(c,"draggable",!1,!0)}var h=s.querySelectorAll("button");for(l=0;l<h.length;l++)setAttribute(h[l],"type","button",!0);var p=s.querySelectorAll("input"),f=1==p.length?p[0]:null;if(f){var d=e._rxInputAtts;this._copyAttributes(f,s.attributes,d),this._copyAttributes(f,this._orgAtts,d)}if(f&&s.id){for(var g=s;g.parentElement;)g=g.parentElement;var _=g.querySelector('label[for="'+s.id+'"]');if(_ instanceof HTMLLabelElement){var m=getUniqueId(s.id+"_input");f.id=m,_.htmlFor=m}}if(f){var v=f.value,y=document.createEvent("HTMLEvents");y.initEvent("change",!0,!1),this.addEventListener(f,"input",function(){setTimeout(function(){o._pristine=!1,v=f.value})}),this.gotFocus.addHandler(function(){v=f.value}),this.addEventListener(s,"blur",function(){o.containsFocus()||(o._pristine&&(o._pristine=!1,o._updateState()),v!=f.value&&(f.dispatchEvent(y),v=f.value))},!0)}if(f?s.tabIndex=-1:s.getAttribute("tabindex")||(s.tabIndex=0),this._updateState(),r)for(var b in r){var C=r[b];if(this[b]=a.querySelector('[wj-part="'+C+'"]'),null==this[b]&&a.getAttribute("wj-part")==C&&(this[b]=a),null==this[b])throw'Missing template part: "'+C+'"';if(C==i){var w="name",x=s.attributes[w];x&&x.value&&this[b].setAttribute(w,x.value),w="accesskey",(x=s.attributes[w])&&x.value&&(this[b].setAttribute(w,x.value),s.removeAttribute(w))}}return a},e.prototype.dispose=function(){if(this._e){for(var t=this._e.querySelectorAll(".wj-control"),n=0;n<t.length;n++){var r=e.getControl(t[n]);r&&r.dispose()}this._toInv&&(clearTimeout(this._toInv),this._toInv=null);var i=this._szObserver;for(var o in i&&i.disconnect(),this.removeEventListener(),this){if(o.length>2&&0==o.indexOf("on"))(a=this[o[2].toLowerCase()+o.substr(3)])instanceof Event&&a.removeAllHandlers()}var s=this.collectionView;if(s instanceof CollectionView)for(var o in s){var a;(a=s[o])instanceof Event&&a.removeHandler(null,this)}this._e.parentNode&&(this._e.outerHTML=this._orgOuter),this._e[e._CTRL_KEY]=null,this._e=this._orgOuter=this._orgTag=this._szObserver=null}},e.getControl=function(t){var n=getElement(t);return n?asType(n[e._CTRL_KEY],e,!0):null},Object.defineProperty(e.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightToLeft",{get:function(){return null==this._rtlDir&&(this._rtlDir=!!this._e&&"rtl"==getComputedStyle(this._e).direction),this._rtlDir},enumerable:!0,configurable:!0}),e.prototype.focus=function(){var t=this._e;t&&(t.tabIndex>=0||!moveFocus(t,0))&&t.focus()},e.prototype.containsFocus=function(){return contains(this._e,getActiveElement(),!0)},e.prototype.invalidate=function(t){var n=this;void 0===t&&(t=!0),this._rtlDir=null,this._fullUpdate=this._fullUpdate||t,this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.isUpdating||(this._toInv=setTimeout(function(){n.refresh(n._fullUpdate),n._toInv=null},e._REFRESH_INTERVAL))},e.prototype.refresh=function(t){var e=this;void 0===t&&(t=!0),this.isUpdating||(this.onRefreshing(),setTimeout(function(){e.onRefreshed()})),!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._fullUpdate=!1),this._updateState(),this._updateWme()},e.invalidateAll=function(t){if(t||(t=document.body),t.children)for(var n=0;n<t.children.length;n++)e.invalidateAll(t.children[n]);var r=e.getControl(t);r&&r.invalidate()},e.refreshAll=function(t){if(t||(t=document.body),t.children)for(var n=0;n<t.children.length;n++)e.refreshAll(t.children[n]);var r=e.getControl(t);r&&r.refresh()},e.disposeAll=function(t){var n=e.getControl(t);if(n)n.dispose();else if(t.children)for(var r=0;r<t.children.length;r++)e.disposeAll(t.children[r])},e.prototype.beginUpdate=function(){this._updating++},e.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.invalidate()},Object.defineProperty(e.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),e.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},Object.defineProperty(e.prototype,"isTouching",{get:function(){return e._touching},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(t){if((t=asBoolean(t,!0))!=this.isDisabled){var e=this._e;e&&(enable(e,!t),e.tabIndex=this.isDisabled||e.querySelector("input")?-1:this._orgTabIndex)}},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){t&&copy(this,t)},e.prototype.addEventListener=function(t,e,n,r,i){if(t){null==r&&(r=!1),isBoolean(r)&&null==i&&e.match(/touch|wheel/)&&(i=!1);var o=isBoolean(r)&&isBoolean(i)?getEventOptions(r,i):r;t.addEventListener(e,n,o),this._listeners.push({target:t,type:e,fn:n,capture:r})}},e.prototype.removeEventListener=function(t,e,n,r){for(var i=0,o=0;o<this._listeners.length;o++){var s=this._listeners[o];null!=t&&t!=s.target||null!=e&&e!=s.type||null!=n&&n!=s.fn||null!=r&&r!=s.capture||(s.target.removeEventListener(s.type,s.fn,s.capture),this._listeners.splice(o,1),o--,i++)}return i},e.prototype.onGotFocus=function(t){this.gotFocus.raise(this,t)},e.prototype.onLostFocus=function(t){this.lostFocus.raise(this,t)},e.prototype.onRefreshing=function(t){this.refreshing.raise(this,t)},e.prototype.onRefreshed=function(t){this.refreshed.raise(this,t)},e.prototype._getProductInfo=function(){return"B0C3,Control"},e.prototype._updateWme=function(){var t=_updateWme;isFunction(t)&&t(this,e._licKey)},e.prototype._hasPendingUpdates=function(){return null!=this._toInv},e.prototype._handleResize=function(){if(this._e.parentElement){var t=new Size(this._e.offsetWidth,this._e.offsetHeight);t.equals(this._szCtl)||(this._szCtl=t,(t.width||t.height)&&this.invalidate())}},e.prototype._handleFocusBlur=function(){var t=this;this._toFocus||(this._toFocus=setTimeout(function(){t._toFocus=null,t._updateFocusState()},e._FOCUS_INTERVAL))},e.prototype._updateFocusState=function(){setTimeout(function(){for(var t=EventArgs.empty,n=document.body.querySelectorAll(".wj-state-focused"),r=0;r<n.length;r++){(a=e.getControl(n[r]))&&a._focus&&!a.containsFocus()&&(removeClass(a._e,"wj-state-focus"),a._focus=!1,a._updateState(),a.onLostFocus(t))}var i=getActiveElement();if(i)for(var o=!0,s=i;s;){var a;(a=e.getControl(s))&&!a._focus&&a.containsFocus()&&(o&&(addClass(s,"wj-state-focus"),o=!1),a._focus=!0,a._updateState(),a.onGotFocus(t)),s=s[e._OWNR_KEY]||s.parentNode}})},e.prototype._updateState=function(){var t=this.hostElement;if(t){toggleClass(t,"wj-state-focused",this._focus),this._rtlDir="rtl"==getComputedStyle(t).direction,toggleClass(t,"wj-rtl",this._rtlDir);var e=t.querySelector("input");if(e instanceof HTMLInputElement){toggleClass(t,"wj-state-empty",0==e.value.length),toggleClass(t,"wj-state-readonly",e.readOnly);var n=e.validationMessage;toggleClass(t,"wj-state-invalid",!this._pristine&&null!=n&&n.length>0)}}},e.prototype._handleTouchStart=function(t){null!=t.pointerType&&"touch"!=t.pointerType||(e._toTouch&&(clearTimeout(e._toTouch),e._toTouch=null),e._touching=!0)},e.prototype._handleTouchEnd=function(t){if((null==t.pointerType||"touch"==t.pointerType)&&(e._toTouch=setTimeout(function(){e._toTouch=null,e._touching=!1},900),document.querySelector("ion-app"))){var n=t.target;closest(n,".wj-dropdown-panel,.wj-dropdown")&&(n.focus(),t.stopPropagation(),t.stopImmediatePropagation())}},e.prototype._handleDisabled=function(t){(this.isDisabled||closest(t.target,".wj-state-disabled"))&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())},e.prototype._replaceWithDiv=function(t){var e=document.createElement("div");return t.parentElement.replaceChild(e,t),e.innerHTML=t.innerHTML,this._copyAttributes(e,t.attributes,/id|style|class/i),e},e.prototype._copyAttributes=function(t,e,n){if(t)for(var r=0;r<e.length;r++){var i=e[r].name;i.match(n)&&t.setAttribute(i,e[r].value)}},e.prototype._getKeyCode=function(t){var e=t.keyCode;if(this.rightToLeft)switch(e){case Key.Right:e=Key.Left;break;case Key.Left:e=Key.Right}return e},e._REFRESH_INTERVAL=10,e._FOCUS_INTERVAL=5,e._ANIM_DEF_DURATION=400,e._ANIM_DEF_STEP=35,e._CLICK_DELAY=800,e._CLICK_REPEAT=75,e._CLIPBOARD_DELAY=100,e._POPUP_ZINDEX=1500,e._SEARCH_DELAY=600,e._HOVER_DELAY=300,e._DRAG_SCROLL_EDGE=15,e._DRAG_SCROLL_STEP=10,e._CTRL_KEY="$WJ-CTRL",e._OWNR_KEY="$WJ-OWNR",e._SCRL_KEY="$WJ-SCRL",e._rxInputAtts=/name|tabindex|placeholder|autofocus|autocomplete|autocorrect|autocapitalize|spellcheck|readonly|minlength|maxlength|pattern|type|aria-.+/i,e}(ControlBase);exports.Control=Control;var Clipboard=function(){function t(){}return t.copy=function(e){t._copyPaste(asString(e),null)},t.paste=function(e){t._copyPaste(null,asFunction(e))},t._copyPaste=function(t,e){for(var n=getActiveElement(),r=closest(n,".wj-control");r&&Control.getControl(r);)r=r.parentElement;if(r=r||document.body){var i=createElement('<textarea class="wj-clipboard" style="position:fixed;opacity:0"/>',r),o=!1;i.onkeydown=function(t){t.preventDefault()},i.onchange=function(t){t.stopImmediatePropagation()},isString(t)?(i.value=t,i.select(),document.execCommand("copy")&&(o=!0)):(i.select(),isFunction(e)&&document.execCommand("paste")&&(e(i.value),o=!0)),setTimeout(function(){n.focus(),removeChild(i),!o&&isFunction(e)&&e(i.value)},Control._CLIPBOARD_DELAY)}},t}();exports.Clipboard=Clipboard;var _ClickRepeater=function(){function t(t){this._isDown=!1,this._mousedownBnd=this._mousedown.bind(this),this._mouseupBnd=this._mouseup.bind(this),this._clickBnd=this._click.bind(this),this.element=t,this._connect(!0)}return Object.defineProperty(t.prototype,"element",{get:function(){return this._e},set:function(t){this._connect(!1),this._e=asType(t,HTMLElement,!0),this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=asBoolean(t)},enumerable:!0,configurable:!0}),t.prototype._connect=function(t){if(this._e){t?this._e.addEventListener("mousedown",this._mousedownBnd):this._e.removeEventListener("mousedown",this._mousedownBnd)}},t.prototype._clearTimeouts=function(){this._toRepeat&&(clearInterval(this._toRepeat),this._toRepeat=null),this._toDelay&&(clearInterval(this._toDelay),this._toDelay=null)},t.prototype._mousedown=function(e){var n=this;this._isDown&&this._mouseup(null),this._disabled||(this._isDown=!0,t._stopEvents.forEach(function(t){document.addEventListener(t,n._mouseupBnd)}),this._clearTimeouts(),this._toDelay=setTimeout(function(){n._isDown&&(n._click(),n._toRepeat=setTimeout(n._clickBnd,Control._CLICK_REPEAT))},Control._CLICK_DELAY))},t.prototype._mouseup=function(e){var n=this;this._isDown&&e&&"mouseup"==e.type&&e.preventDefault(),t._stopEvents.forEach(function(t){document.removeEventListener(t,n._mouseupBnd)}),this._clearTimeouts(),this._isDown=!1},t.prototype._click=function(){this._clearTimeouts(),this._e&&(this._e.click(),this._isDown&&(this._toRepeat=setTimeout(this._clickBnd,Control._CLICK_REPEAT)))},t._stopEvents=["mouseup","mouseout","keydown"],t}();function showPopup(t,e,n,r,i){void 0===i&&(i=!0);var o=document.body;if(e instanceof HTMLElement){if(!contains(document.body,e))return;for(var s=e;s;s=s.parentElement){if("DIALOG"==s.tagName||"ION-CONTENT"==s.tagName||"fixed"==getComputedStyle(s).position){o=s;break}if(_isjQueryDialog(s)){o=s.querySelector(".ui-dialog")||s;break}}}setCss(t,{display:"",opacity:"0",position:"fixed",left:0,top:0,transform:"",pointerEvents:"auto"}),t.offsetHeight&&t.offsetWidth&&t.parentElement==o||o.lastChild!=t&&o.appendChild(t);var a=document.body,u=new Point(a.scrollLeft||pageXOffset,a.scrollTop||pageYOffset),l=document.documentElement,c=l.clientWidth/window.innerWidth;if(o!=a||c>1.005){var h=o==a?l:t.offsetParent||o;if(h==a&&(h=o),h){var p=h.getBoundingClientRect();u=new Point(h.scrollLeft-p.left,h.scrollTop-p.top)}}var f=getComputedStyle(o);if(u.x-=parseFloat(f.borderLeftWidth),u.y-=parseFloat(f.borderTopWidth),e instanceof HTMLElement&&i){var d=i instanceof HTMLElement?i:e,g=getComputedStyle(d);1==new Color(g.backgroundColor).a&&setCss(t,{color:g.color,backgroundColor:g.backgroundColor,fontFamily:g.fontFamily,fontSize:g.fontSize,fontWeight:g.fontWeight,fontStyle:g.fontStyle})}Control.refreshAll(t);var _=getComputedStyle(t),m=parseFloat(_.marginTop)+parseFloat(_.marginBottom),v=parseFloat(_.marginLeft)+parseFloat(_.marginRight),y=new Size(t.offsetWidth+v,t.offsetHeight+m),b=hasClass(t,"wj-rtl")||"rtl"==t.getAttribute("dir"),C=new Point,w=null,x=l.clientWidth,E=l.clientHeight;if(e&&null!=e.clientX&&null!=e.clientY&&null!=e.pageX&&null!=e.pageY)e.clientX<=0&&e.clientY<=0&&e.target?w=e.target.getBoundingClientRect():(C.x=e.pageX-pageXOffset,C.y=e.pageY-pageYOffset,b&&(C.x-=y.width));else if(e instanceof Point)C=e,b&&(C.x-=y.width);else if(e instanceof HTMLElement)w=e.getBoundingClientRect();else if(e&&null!=e.top&&null!=e.left)w=e;else{if(null!=e)throw"Invalid ref parameter.";C.x=(x-y.width)/2,C.y=Math.round((E-y.height)/2*.7)}var A=parseFloat(_.minWidth);if(w){if(A=Math.max(A,w.width),isIE()&&(!e||"TR"!=e.tagName))A-=t.offsetWidth-(t.clientWidth+parseInt(_.borderLeftWidth)+parseInt(_.borderRightWidth));C.x=w.left;var S=w.top,T=E-w.bottom;C.y=n?S>y.height||S>T?w.top-y.height:w.bottom:T>y.height||T>S?w.bottom:w.top-y.height}C.y+y.height>E-20&&(C.y=Math.max(0,E-20-y.height)),C.x+y.width>x-20&&(C.x=Math.max(0,x-20-y.width)),C.x=Math.max(0,C.x)+u.x,C.y=Math.max(0,C.y)+u.y;var D={position:"absolute",opacity:r?"0":"",minWidth:A,zIndex:Control._POPUP_ZINDEX};0==u.x?(D.left=C.x,D.top=C.y):D.transform=format("translate({x}px, {y}px)",C),e instanceof HTMLElement&&(t[Control._OWNR_KEY]=e);var F=null;r&&(F=animate(function(e){t.style.opacity=e<1?e.toString():""})),setCss(t,D);var P=e instanceof MouseEvent?e.target:e;if(P instanceof HTMLElement&&P.parentElement!=document.body){var I=Date.now(),O=P.getBoundingClientRect(),M=new Control(document.createElement("div"));t[Control._SCRL_KEY]=M,M.addEventListener(document,"scroll",function(n){if(n.target!=t.parentElement&&Date.now()-I>100&&contains(document,P)&&!contains(t,n.target)&&(n.target!=document||null!=e&&"fixed"==t.style.position)){var r=P.getBoundingClientRect(),i=Math.abs(r.left-O.left),o=Math.abs(r.top-O.top);(i>1||o>1)&&(_hidePopup(t,!0),M.dispose())}},!0)}return F}function hidePopup(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!1);var r=null;return n?r=animate(function(n){t.style.opacity=(1-n).toString(),1==n&&(_hidePopup(t,e),t.style.opacity="")}):_hidePopup(t,e),r}function _hidePopup(t,e){t.style.display="none",e&&t.parentElement&&setTimeout(function(){"none"==t.style.display&&(removeChild(t),isFunction(e)&&e())},Control._FOCUS_INTERVAL+50);var n=t[Control._SCRL_KEY];n instanceof Control&&n.dispose(),delete t[Control._SCRL_KEY],delete t[Control._OWNR_KEY]}function _isjQueryDialog(t){var e=window.jQuery,n=isFunction(e)?e(t):null;return n&&isFunction(n.dialog)&&hasClass(t,"ui-dialog")}exports._ClickRepeater=_ClickRepeater,exports.showPopup=showPopup,exports.hidePopup=hidePopup;var Tooltip=function(){function t(t){this._showAutoTipBnd=this._showAutoTip.bind(this),this._hideAutoTipBnd=this._hideAutoTip.bind(this),this._html=!0,this._gap=6,this._showAtMouse=!1,this._showDelay=500,this._hideDelay=0,this._tips=[],this.popup=new Event,copy(this,t)}return t.prototype.setTooltip=function(t,e){t=getElement(t),e=this._getContent(e);var n=this._indexOf(t);n>-1&&(this._detach(t),this._tips.splice(n,1)),e&&(this._attach(t),this._tips.push({element:t,content:e}))},t.prototype.getTooltip=function(t){t=getElement(t);for(var e=this._tips,n=0;n<e.length;n++)if(e[n].element==t)return e[n].content;return null},t.prototype.show=function(e,n,r){e=getElement(e),n=this._getContent(n),r||(r=Rect.fromBoundingRect(e.getBoundingClientRect()));var i=t._eTip;i||(addClass(i=t._eTip=document.createElement("div"),"wj-tooltip"),i.style.visibility="none"),addClass(i,this.cssClass),this._setContent(n);var o=new TooltipEventArgs(n,e);this.onPopup(o),o.content&&!o.cancel&&(document.body.appendChild(i),this._setContent(o.content),i.style.minWidth="",showPopup(i,r=new Rect(r.left-(i.offsetWidth-r.width)/2,r.top-this.gap,i.offsetWidth,r.height+2*this.gap),!0),document.addEventListener("mousedown",this._hideAutoTipBnd))},t.prototype.hide=function(){var e=t._eTip;e&&(removeChild(e),removeClass(e,this.cssClass),e.innerHTML=""),document.removeEventListener("mousedown",this._hideAutoTipBnd)},t.prototype.dispose=function(){var t=this;this.isVisible&&this.hide();var e=this._tips;e.length&&(e.forEach(function(e){t._detach(e.element)}),e.splice(0,e.length)),this._clearTimeouts()},Object.defineProperty(t.prototype,"isVisible",{get:function(){var e=t._eTip;return null!=e&&null!=e.parentElement&&e.offsetWidth>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){this._html=asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){this._cssClass=asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(t){this._showAtMouse=asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDelay",{get:function(){return this._showDelay},set:function(t){this._showDelay=asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(t){this._hideDelay=asInt(t)},enumerable:!0,configurable:!0}),t.prototype.onPopup=function(t){return this.popup&&this.popup.raise(this,t),!t.cancel},t.prototype._indexOf=function(t){for(var e=0;e<this._tips.length;e++)if(this._tips[e].element==t)return e;return-1},t.prototype._attach=function(t){t.addEventListener("mouseenter",this._showAutoTipBnd),t.addEventListener("mouseleave",this._hideAutoTipBnd),t.addEventListener("click",this._showAutoTipBnd)},t.prototype._detach=function(t){t.removeEventListener("mouseenter",this._showAutoTipBnd),t.removeEventListener("mouseleave",this._hideAutoTipBnd),t.removeEventListener("click",this._showAutoTipBnd)},t.prototype._showAutoTip=function(t){var e=this;if(!t.defaultPrevented)if("click"!=t.type||Control._touching){var n="mouseenter"==t.type?this._showDelay:0,r=this._hideDelay;this._clearTimeouts(),this._toShow=setTimeout(function(){var n=e._indexOf(t.target);if(n>-1){var i=e._tips[n],o=e._showAtMouse?new Rect(t.clientX,t.clientY,0,0):null;e.show(i.element,i.content,o),r>0&&(e._toHide=setTimeout(function(){e.hide()},r))}},n)}else this._hideAutoTip(t)},t.prototype._hideAutoTip=function(t){this._clearTimeouts(),this.hide()},t.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},t.prototype._getContent=function(t){if((t=asString(t))&&"#"==t[0]){var e=getElement(t);e&&(t=e.innerHTML)}return t},t.prototype._setContent=function(e){var n=t._eTip;n&&(this._html?n.innerHTML=e:n.textContent=e)},t}();exports.Tooltip=Tooltip;var TooltipEventArgs=function(t){function e(e,n){var r=t.call(this)||this;return r._content=asString(e),r._e=n,r}return __extends(e,t),Object.defineProperty(e.prototype,"tip",{get:function(){return Tooltip._eTip},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(t){this._content=asString(t)},enumerable:!0,configurable:!0}),e}(CancelEventArgs);exports.TooltipEventArgs=TooltipEventArgs,_registerModule("wijmo",selfModule);var theLic="The Wijmo license in this application ",_licStr={evl:"Wijmo Evaluation Version ({version})",prd:theLic+"is not valid for the <b>{control}</b> control.",ver:theLic+"is not valid for the version in use. The license version is <b>{licVer}</b>; the product version is <b>{version}</b>.",dmn:theLic+"is not valid for the current domain. The license domain is <b>{licDomain}</b>; the current domain is <b>{domain}</b>.",exp:theLic+"has expired. The license expiration date is <b>{expDate:d}</b>.",lic:theLic+"is invalid.",mss:theLic+"is not set.",ctc:'Please <a target="_blank" rel="noopener" href="https://www.grapecity.com/licensing/wijmo">create a license</a> or contact GrapeCity: <a href="mailto:us.sales@grapecity.com">us.sales@grapecity.com</a>.',hdr:"Wijmo License",cls:"CLOSE"},_codes={};function _updateWme(t,e){var n=Control._wme;if(!(n&&contains(document.body,n)&&n.offsetWidth&&n.offsetHeight))if(e){var r=_getControlCode(t);if(!_codes[r]){_codes[r]=!0;_attorn(e,{algorithmCode:"B0",publicKey:"l6/zrbWoSbcLFwEetFh38rH3ErBZE9H+Cqix3R+wTlfA1wD5B+lUcCQn+EJ60I4RGrm0x1sFjkiLWwB0jAn6BWZv0W4WbqAKriOdeoivxDp1Wmjs3qkEDhvbsjPtfvwx2BHil6o+/tDrdMJQSGs18WZm2PoQLQuL+9VhZ4FNRHUQU3Jtioke/OZEGHJOdYVwvCGalzBad6QFOiVbDBQPePpS3++GJzOxN8SN/7lyS5/IdKiy3WJRaVGkB370+HbN6hKraDfUgReLX26yxRaKC/5aWnGAJ2NnWLoGyAGRcwT9dVjo4bcAZNrrA0U9JVKQxaSskhdv2p49XzJkltXx5w=="},function(n){_checkLicense(t,e,n)},function(){_checkLicense(t,e,null)}),setTimeout(function(){delete _codes[r]},50)}}else _checkLicense(t,null,null)}function _getControlCode(t){return t._getProductInfo().split(",")[0]}function _getControlName(t){return t._getProductInfo().split(",")[1]}function _checkLicense(t,e,n){var r=exports.culture.Licensing||_licStr,i=null;n?_checkExpiration(t,n)?_checkVersion(t,n)?_checkDomain(t,n)?_checkProductCode(t,n)?_checkEval(t,n)&&(i=r.evl):i=r.prd:i=r.dmn:i=r.ver:i=r.exp:i=e?r.lic:r.mss,i&&_addWme(t,i+="<br/><br/>"+r.ctc,n)}function _checkProductCode(t,e){var n=_getControlCode(t);if(n&&n.length>=4)for(var r=0;r<e.Prd.length;r++)if(e.Prd[r].C.indexOf(n)>-1)return!0;return!1}function _checkExpiration(t,e){if(e.Exp){var n=e.Exp,r=new Date(parseInt(n.substr(0,4))||0,parseInt(n.substr(4,2))-1||0,parseInt(n.substr(6,2))||0);if(Math.ceil((r.valueOf()-Date.now())/864e5)<=0)return!1}return!0}function _checkVersion(t,e){var n=e.Anl?e.Anl.ver:null,r=getVersion();return!n||!r||parseInt(n.replace("v",""))+10>=parseInt(r.split(".")[1])}function _checkDomain(t,e){if(_isLocalHost()||!e.Dms)return!0;for(var n=location.hostname,r=e.Dms.split(","),i=0;i<r.length;i++)if(_checkHost(n,r[i]))return!0;return!1}function _checkHost(t,e){var n="^"+e.replace(/\./g,"\\.").replace(/\*/g,"(.*)")+"$",r=new RegExp(n,"i").test(t);return r||"*."!=e.substr(0,2)?r:_checkHost(t,e.substr(2))}function _checkEval(t,e){return!!e&&e.Evl}function _isLocalHost(){var t=location,e=atob("Xih8bG9jYWxob3N0fGZpZGRsZS5qc2hlbGwubmV0fHJ1bi5wbG5rci5jb3xzLmNvZGVwZW4uaW98bnVsbC5qc2Jpbi5jb218Lio/LnN0YWNrYmxpdHouaW98MTI3LjAuMC4xfFt3LV0rLmxvY2FsfFt3LV0rfDo6MSkk");return"file:"==t.protocol||new RegExp(e,"i").test(t.hostname)}function _addWme(t,e,n){if(e=_getMessage(t,e,n),!_codes[" "]&&!_isLocalHost()&&!_checkEval(t,n)){_codes[" "]=!0;var r=exports.culture.Licensing||_licStr,i=createElement('<div style="position:fixed;background:rgba(0,0,0,0.3);left:0;top:0;width:100%;height:100%;font-family: sans-serif;z-index:10000;"><div style="position:relative;overflow:auto;background:white;width:450px;padding:36pt;left:50%;top:50%;transform:translate(-50%,-50%)"><div><p style="font-size:150%;font-weight:bold">'+r.hdr+"</p><p>"+e+'</p></div><div style="text-align:right;margin-top:24pt"><button style="border:none;background:rgba(158,158,158,.2);padding:8px 16px">'+r.cls+"</button></div></div></div>",document.body);i.addEventListener("click",function(t){t.target instanceof HTMLButtonElement&&removeChild(i)})}if(!Control._wme){var o=createElement('<div><a href="'+_getWmeHref()+'" target="_blank" rel="noopener">'+_getMessage(t)+"</a></div>"),s={position:"fixed",display:"block",visibility:"visible",background:"rgba(240,240,240,.9)",padding:"8px 12px",margin:"6px",fontFamily:"sans-serif",fontSize:"14pt",fontWeight:"bold",zIndex:1e4,opacity:.8,height:"auto",width:"auto",transform:"none"};switch(Math.round(100*Math.random())%3){case 0:s.right=s.bottom=0;break;case 1:s.left=s.bottom=0;break;case 2:s.right=s.top=0}setCss(o,s),document.body.appendChild(o),Control._wme=o,(new Tooltip).setTooltip(o,e)}}function _getWmeHref(){return"ja"==exports.culture.Globalize.name?"https://www.grapecity.co.jp/developer/support/wijmo-license":"https://www.grapecity.com/licensing/wijmo"}function _getMessage(t,e,n){(!e||e.trim().length<15)&&(e=(exports.culture.Licensing||_licStr).evl);(!e||e.trim().length<15)&&(e=atob("V2lqbW8gRXZhbHVhdGlvbiBWZXJzaW9uICh7dmVyc2lvbn0p"));var r=null;if(n&&n.Exp){var i=n.Exp;r=new Date(parseInt(i.substr(0,4))||0,parseInt(i.substr(4,2))-1||0,parseInt(i.substr(6,2))||0)}return e=format(e,{version:getVersion(),domain:location.hostname,control:_getControlName(t),licVer:n&&n.Anl?"5."+n.Anl.ver.replace("v","")+".*":null,licDomain:n?n.Dms:null,expDate:r})}function _attorn(t,e,n,r){var i=parseKeyData(t,e.algorithmCode);if(!i)return r();var o=i.lic,s=i.prefix+"#"+e.algorithmCode;if(tripleHash(s+JSON.stringify(o.D))!=o.H)return r();var a=window.msCrypto||window.crypto,u=a?a.subtle:null;if(!u||!location.protocol.match(/^https/i))return n(o.D);var l={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},c={alg:"RS256",e:"AQAB",kty:"RSA",n:str64ToJwkBase64(e.publicKey)};c=window.msCrypto?str2ArrayBuffer(JSON.stringify(c)):c;try{asPromise(u.importKey("jwk",c,l,!1,["verify"])).then(function(t){var e=s+arrayBuffer2Str(str64ToArrayBuffer(str64EncodeUnicode(JSON.stringify(o.D))));asPromise(u.verify(l,t,str64ToArrayBuffer(o.S),str2ArrayBuffer(e))).then(function(t){return t?n(o.D):r()})},function(){return n(o.D)})}catch(t){return n(o.D)}}exports._updateWme=_updateWme;var uint8Array="undefined"==typeof window?null:window.Uint8Array||window.TypedArray;function parseKeyData(t,e){try{e="#"+e;var n=t.indexOf(e);if(n>-1)return{prefix:t.substring(0,n),lic:JSON.parse(decode(t.substr(n+e.length)))}}catch(t){}return null}function decode(t){if(!t)return"";var e=unshiftString(t);e=reverseString(e);var n=Math.ceil(e.length/2);return str64DecodeUnicode(e=(e=(e=e.substr(n)+e.substr(0,n)).replace("#","=")).replace("&","=="))}function unshiftString(t){for(var e=t.split(""),n=e.length-5;n>=0;n--)swapArrayElements(e,n+1,n+3,unshiftChar),swapArrayElements(e,n,n+2,unshiftChar);return e.join("")}function swapArrayElements(t,e,n,r){t.length>1&&t.splice(n,1,r(t.splice(e,1,r(t[n]))[0]))}function shiftChar(t,e){var n=t.charCodeAt(0);return n>=65&&n<=90?t.toLowerCase():n>=97&&n<=122?t.toUpperCase():n>=48&&n<=57?String.fromCharCode(48+(n-48+10+e)%10):t}function unshiftChar(t){return shiftChar(t,-1)}function reverseString(t){return t.split("").reverse().join("")}function str64DecodeUnicode(t){return decodeURIComponent(Array.prototype.map.call(atob(t),function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function arrayBuffer2Str(t){return String.fromCharCode.apply(null,new uint8Array(t))}function str64ToArrayBuffer(t){for(var e=atob(t),n=e.length,r=new uint8Array(n),i=0;i<n;i++)r[i]=e.charCodeAt(i);return r.buffer}function str64EncodeUnicode(t){return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode(parseInt(e,16))}))}function str64ToJwkBase64(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}function str2ArrayBuffer(t){for(var e=new ArrayBuffer(t.length),n=new uint8Array(e),r=0,i=t.length;r<i;r++)n[r]=t.charCodeAt(r);return e}function tripleHash(t){for(var e=0,n=5381,r=0,i=t.length-1;i>=0;i--){var o=t.charCodeAt(i);e=o+(e<<6)+(e<<16)-e,n=o+((n<<5)+n),r=o+((r<<5)-r),r&=r}var s=e^n^r;return s<0&&(s=~s),s.toString(16).toUpperCase()}function asPromise(t){return"oncomplete"in t&&(t.then=function(e,n){t.resolve=e,t.reject=n},t.oncomplete=function(e){t.resolve(t.result)},t.onerror=function(e){t.reject()}),t}

/***/ }),

/***/ "../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.viewer.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
﻿/*!
    *
    * Wijmo Library 5.20192.631
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

var __extends=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wijmo_1=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.js"),wijmo_input_1=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.input.js"),wijmo_grid_1=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.grid.js"),selfModule=__webpack_require__("../../../../../wijmo/NpmImages/wijmo-commonjs-min/wijmo.viewer.js"),_MultiSelectEx=function(){function e(e){this._selectedAll=!1,this._innerCheckedItemsChanged=!1,this.checkedItemsChanged=new wijmo_1.Event;var t=this,o=new wijmo_input_1.MultiSelect(e);t._multiSelect=o,o.checkedItemsChanged.addHandler(t.onCheckedItemsChanged,t),o.isDroppedDownChanged.addHandler(t.onIsDroppedDownChanged,t),o.headerFormatter=function(){return t._updateHeader()}}return e.prototype._updateHeader=function(){var e=this.checkedItems||[],t=[],o=this.displayMemberPath;if(!e.length)return wijmo_1.culture.Viewer.parameterNoneItemsSelected;if(this._selectedAll)return wijmo_1.culture.Viewer.parameterAllItemsSelected;if(o){for(var n=0;n<e.length;n++)t[n]=e[n][o];return t.join(", ")}return e.join(", ")},e.prototype.onIsDroppedDownChanged=function(){this._multiSelect.isDroppedDown&&this._updateSelectedAll()},e.prototype.onCheckedItemsChanged=function(e,t){this._innerCheckedItemsChanged||(this._selectAllItem?(this._updateSelectedAll(),this.checkedItemsChanged.raise(this,t)):this.checkedItemsChanged.raise(this,t))},Object.defineProperty(e.prototype,"isEditable",{get:function(){return this._multiSelect.isEditable},set:function(e){this._multiSelect.isEditable=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisabled",{get:function(){return this._multiSelect.isDisabled},set:function(e){this._multiSelect.isDisabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMemberPath",{get:function(){return this._multiSelect.displayMemberPath},set:function(e){this._multiSelect.displayMemberPath=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValuePath",{get:function(){return this._multiSelect.selectedValuePath},set:function(e){this._multiSelect.selectedValuePath=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsSource",{get:function(){return this._itemsSource},set:function(e){var t=this.displayMemberPath||"name";this._itemsSource=e;var o=[];e&&(e.length>1?(this._selectAllItem={},this._selectAllItem[t]=wijmo_1.culture.Viewer.parameterSelectAllItemText,o.push(this._selectAllItem)):this._selectAllItem=null,o=o.concat(e)),this._multiSelect.itemsSource=o},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedItems",{get:function(){var e=[];this._multiSelect.checkedItems&&(e=this._multiSelect.checkedItems.slice());var t=e.indexOf(this._selectAllItem);return t>-1&&e.splice(t,1),e},set:function(e){this._multiSelect.checkedItems=e,this._selectedAll=!1,this._updateSelectedAll()},enumerable:!0,configurable:!0}),e.prototype._updateSelectedAll=function(){if(this._selectAllItem){var e=this._multiSelect.checkedItems||[],t=e.indexOf(this._selectAllItem),o=t>-1;if(this._selectedAll!==o)return this._selectedAll=o,this._innerCheckedItemsChanged=!0,this._selectedAll?this._multiSelect.checkedItems=this._multiSelect.itemsSource.slice():this._multiSelect.checkedItems=[],void(this._innerCheckedItemsChanged=!1);this._selectedAll=e&&this._itemsSource&&e.length-(o?1:0)===this._itemsSource.length,this._selectedAll!==o&&(this._innerCheckedItemsChanged=!0,this._selectedAll?this._multiSelect.checkedItems=e.concat(this._selectAllItem):((e=e.slice()).splice(t,1),this._multiSelect.checkedItems=e),this._innerCheckedItemsChanged=!1)}},e}();exports._MultiSelectEx=_MultiSelectEx,exports.parametersIcon='<path d="M24,11.9v-2h-4V7h0V5h0h-1h-5V2h0V0h0h-1H1H0h0v2h0v11h0v1h0h1h5v4h0v1h0h1h3v4h0v1h0h1h2.1v-1H11V12h2.1v-2H11h-1h0v2h0v6H7V7h12v2.9h-1v2h5V23h-4.9v1H23h1h0v-1h0L24,11.9L24,11.9z M6,5L6,5l0,2h0v6H1V2h12v3H7H6z"/><path d="M20,20v-3v-1h-1h-1v-1v-1h-1h-3h-1v1v3v1h1h1v2h0h1h3h1h0L20,20L20,20z M14,18v-3h3v1h-1h-1v1v1H14z M17,17v1h-1v-1H17z M16,20v-1h1h1v-1v-1h1v3H16z"/>',exports.icons={paginated:'<rect x="16" y= "1" width="1" height="1" /><rect x="17" y= "2" width="1" height="1" /><rect x="18" y= "3" width="1" height="1" /><path d= "M20,5V4h-1v1h-0.6H18h-3V2V1.3V1h1V0h-1h0H5H4H3v24h2v0h13h1.1H20L20,5L20,5z M5,22.1V2h8v5h1h1h3v15.1H5z" /><rect x="6" y= "8" width="10" height="1" /><rect x="6" y= "5" width="5" height="1" /><rect x="6" y= "11" width="10" height="1" /><rect x="6" y= "14" width="10" height="1" /><rect x="6" y= "17" width="10" height="1" /><rect x="6" y= "20" width="10" height="1" />',print:'<rect x="5" y= "1" width="14" height="4" /><polygon points= "22,8 22,7 19,7 19,6 5,6 5,7 2,7 2,8 1,8 1,11 1,20 2,20 2,21 5,21 5,11 19,11 19,21 22,21 22,20 23,20 23, 11 23, 8 "/><path d="M6,12v11h12V12H6z M16,21H8v-1h8V21z M16,18H8v-1h8V18z M16,15H8v-1h8V15z" />',exports:'<path d="M19.6,23"/><polyline points="5,19 5,2 13,2 13,7 14.3,7 15,7 18,7 18,9 20,9 20,7 20,6.4 20,5 20,4 19,4 19,5 15,5 15,2 15,1 16,1 16,0 15,0 5,0 3,0 3,2 3,19 3,21 5,21 "/><rect x="18" y="3" width="1" height="1"/><rect x="17" y="2" width="1" height="1"/><rect x="16" y="1" width="1" height="1"/><polygon points="17,16.6 20,14.1 17,11.6 17,13.6 13,13.6 13,14.6 17,14.6 "/><rect x="3" y="20.9" width="2" height="3.1"/><rect x="4.5" y="22" width="15.6" height="2"/><rect x="18" y="8.4" width="2" height="1.6"/><rect x="18" y="18" width="2.1" height="6"/>',portrait:'<path d="M19,0L19,0L5,0v0H3v24h0.1H5h14h1.7H21V0H19z M12.5,23h-1v-1h1V23z M19,21H5V2h14V21z"/>',landscape:'<path d="M24,19L24,19l0-14h0V3H0v0.1V5v14v1.7V21h24V19z M1,12.5v-1h1v1H1z M3,19V5h19v14H3z"/>',pageSetup:'<rect x="18" y="1" width="1" height="1"/><rect x="19" y="2" width="1" height="1"/><rect x="20" y="3" width="1" height="1"/><polygon points="22,5 22,4 21,4 21,5 20.4,5 20,5 17,5 17,2 17,1.3 17,1 18,1 18,0 17,0 17,0 7,0 6,0 5,0 5,5 7,5 7,2 15,2 15,7 16,7 17,7 20,7 20,22.1 7,22.1 7,19 5,19 5,24 5.9,24 7,24 20,24 21.1,24 22,24 22,5 "/><rect x="5" y="7" width="2" height="2"/><rect x="5" y="11" width="2" height="2"/><rect x="5" y="15" width="2" height="2"/><rect x="9" y="11" width="2" height="2"/><rect x="1" y="11" width="2" height="2"/><polygon points="9,8 9,8 8,8 8,9 9,9 9,10 10,10 10,8 "/><polygon points="2,9 2,9 2,10 3,10 3,9 4,9 4,8 2,8 "/><polygon points="3,16 3,16 4,16 4,15 3,15 3,14 2,14 2,16 "/><polygon points="10,15 10,15 10,14 9,14 9,15 8,15 8,16 10,16 "/>',previousPage:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon points="5.6,10.7 12,4.4 18.4,10.7 18.4,15 13.5,10.1 13.5,19.6 10.4,19.6 10.4,10.1 5.6,15 " />',nextPage:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon points="18.4,13.3 12,19.6 5.6,13.3 5.6,9 10.5,13.9 10.5,4.4 13.6,4.4 13.6,13.9 18.4,9 " />',firstPage:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon points="6.5,13.1 12,7.8 17.5,13.1 17.5,17.5 13.5,13.5 13.5,19.6 10.4,19.6 10.4,13.5 6.5,17.5 " /><rect x="6.5" y= "4.4" width="10.9" height="2.2" />',lastPage:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon points="17.5,10.9 12,16.2 6.5,10.9 6.5,6.5 10.5,10.5 10.5,4.4 13.6,4.4 13.6,10.5 17.5,6.5 " /><rect x="6.5" y= "17.5" transform="matrix(-1 -8.987357e-011 8.987357e-011 -1 24 37.0909)" width="10.9" height="2.2" />',backwardHistory:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon points="10.7,18.4 4.4,12 10.7,5.6 15,5.6 10.1,10.5 19.6,10.5 19.6,13.6 10.1,13.6 15,18.4 " />',forwardHistory:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon points="13.3,5.6 19.6,12 13.3,18.4 9,18.4 13.9,13.5 4.4,13.5 4.4,10.4 13.9,10.4 9,5.6 " />',selectTool:'<polygon points="19.9,13.4 5.6,1.1 5.3,19.9 10.5,14.7 14.3,23.3 16.4,22.4 12.6,13.8 "/>',moveTool:'<polygon points="12.5,3 14.5,3 12,0 9.5,3 11.5,3 11.5,21 11.5,21 9.6,21 12,24 14.5,21 12.5,21 "/><polygon points="21,12.5 21,14.5 24,12 21,9.5 21,11.5 3,11.5 3,11.5 3,9.6 0,12 3,14.5 3,12.5 "/>',continuousView:'<polygon points="22,0 22,5 9,5 9,0 7,0 7,5 7,7 7,7 24,7 24,7 24,5 24,0 "/><polygon points="23,15 19,15 19,11 20,11 20,10 19,10 18,10 17,10 9,10 7.4,10 7,10 7,24 9,24 9,12 17,12 17,15 17,16.6 17,17 22,17 22,24 24,24 24,17 24,15.1 24,15 24,15 24,14 23,14 "/><rect x="22" y="13" width="1" height="1"/><polygon points="20.9,12 20.9,13 22,13 22,12 21,12 21,11 20,11 20,12 "/><polygon points="4.9,5.2 2.5,2.2 0,5.2 2,5.2 2,9.2 3,9.2 3,5.2 "/><polygon points="2.9,19.2 2.9,15.2 1.9,15.2 1.9,19.2 0,19.2 2.5,22.1 4.9,19.2 "/>',singleView:'<rect x="16" y="1" width="1" height="1"/><rect x="17" y="2" width="1" height="1"/><rect x="18" y="3" width="1" height="1"/><path d="M20,5V4h-1v1h-0.6H18h-3V2V1.3V1h1V0h-1h0H5H4H3v24h2v0h13h1.1H20L20,5L20,5z M5,22.1V2h8v5h1h1h3v15.1H5z"/>',fitWholePage:'<rect x="16" y="1" width="1" height="1"/><rect x="17" y="2" width="1" height="1"/><rect x="18" y="3" width="1" height="1"/><path d="M20,5V4h-1v1h-0.6H18h-3V2V1.3V1h1V0h-1h0H5H4H3v24h2v0h13h1.1H20L20,5L20,5z M18,22.1H5V2h8v5h1h1h3V22.1z"/><polygon points="17,13.5 15,11 15,13 13,13 13,14 15,14 15,16 "/><polygon points="6,13.5 8,16 8,14 10,14 10,13 8,13 8,11 "/><polygon points="11.5,7 9,9 11,9 11,11 12,11 12,9 14,9 "/><polygon points="11.5,20 14,18 12,18 12,16 11,16 11,18 9,18 "/>',fitPageWidth:'<rect x="16" y="1" width="1" height="1"/><rect x="17" y="2" width="1" height="1"/><rect x="18" y="3" width="1" height="1"/><path d="M20,5V4h-1v1h-0.6H18h-3V2V1.3V1h1V0h-1h0H5H4H3v24h2v0h13h1.1H20L20,5L20,5z M5,22.1V2h8v5h1h1h3v15.1H5z"/><polygon points="14,15.5 17,13 14,10.6 14,12.6 13,12.6 13,13.6 14,13.6 "/><polyline points="6,13.1 9,15.6 9,13.6 10,13.6 10,12.6 9,12.6 9,10.6 6,13.1 "/>',zoomOut:'<circle opacity=".25" cx="12" cy="12" r="12"/><rect opacity=".75" x="5" y="10" width="14" height="3"/>',zoomIn:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon opacity=".75" points="19,10 13.5,10 13.5,4.5 10.5,4.5 10.5,10 5,10 5,13 10.5,13 10.5,18.5 13.5,18.5 13.5,13 19,13 " />',fullScreen:'<path d="M22,0H0v2.8V4v20h1.5H2h20h0.7H24V4V0H22z M7,1h1v1H7V1z M5,1h1v1H5V1z M3,1h1v1H3V1z M22,22H2L2,4h20L22,22z" /><polygon points="19.6,9.9 20,6 16.1,6.4 17.6,7.8 14.7,10.6 15.4,11.3 18.3,8.5"/><polygon points="4.4,16.2 4,20 7.9,19.7 6.5,18.3 9.3,15.5 8.6,14.8 5.8,17.6"/>',exitFullScreen:'<path d="M22,0H0v2.8V4v20h1.5H2h20h0.7H24V4V0H22z M7,1h1v1H7V1z M5,1h1v1H5V1z M3,1h1v1H3V1z M22,22H2L2,4h20L22,22z" /><polygon points="9.2,18.6 9.6,14.7 5.7,15.1 7.2,16.5 4.3,19.3 5,20 7.9,17.2"/><polygon points="14.8,7.5 14.4,11.3 18.3,11 16.9,9.6 19.7,6.8 19,6.1 16.2,8.9"/>',thumbnails:'<path d="M20,2h-5h-2v2v5v2v0h2v0h5v0h2v0V9V4V2H20z M20,9h-5V4h5V9z"/><path d="M20,13h-5h-2v2v5v2v0h2v0h5v0h2v0v-2v-5v-2H20z M20,20h-5v-5h5V20z"/><path d="M9,13H4H2v2v5v2v0h2v0h5v0h2v0v-2v-5v-2H9z M9,20H4v-5h5V20z"/><rect x="2" y="2" width="9" height="9"/>',outlines:'<path d="M22,0H2H0v2v20v2h2h20h2v-2V2V0H22z M2,2h12v20H2V2z M22,22h-6V2h6V22z"/><rect x="17.5" y="5" width="3" height="1" /><rect x="17.5" y="8" width="3" height="1"/><rect x="17.5" y="11" width="3" height="1"/>',search:'<circle stroke-width="2" fill="none" cx="9.5" cy="9.5" r="8.5"/><rect x="16.9" y="13.7" transform="matrix(-0.7193 0.6947 -0.6947 -0.7193 44.3315 18.4942)" width="3" height="9"/>',searchNext:'<polygon points="12,12.6 4,4.5 4,11.4 12,19.5 20,11.4 20,4.5 "/>',searchPrevious:'<polygon points="12,11.4 20,19.5 20,12.6 12,4.5 4,12.6 4,19.5 "/>',hamburgerMenu:'<rect x="2" y="4.875" width="20" height="1.5"/><rect x="2" y="11.25" width="20" height="1.5"/><rect x="2" y="17.625" width="20" height="1.5"/>',viewMenu:'<path transform="scale(1.5)" d="M8,2.9c-4.4,0-8,2.2-8,5s3.6,5,8,5s8-2.2,8-5S12.4,2.9,8,2.9z M8,11.8c-2.2,0-4-1.8-4-4c0-2.2,1.8-4,4-4s4, 1.8,4,4C12, 10,10.2,11.8,8,11.8z"/><circle class="st0" cx="12" cy="11.85" r="3.45"/>',searchOptions:'<polygon points="12,12.6 4,4.5 4,11.4 12,19.5 20,11.4 20,4.5 "/>',searchLeft:'<polygon points="11.4,12 19.5,20 12.6,20 4.5,12 12.6,4 19.5,4 "/>',searchRight:'<polygon points="12.6,12 4.5,4 11.4,4 19.5,12 11.4,20 4.5,20 "/>',showZoomBar:'<path d="M22.8,20.7l-4.4-4.4c1.1-1.6,1.8-3.5,1.8-5.6c0-5.2-4.3-9.5-9.5-9.5s-9.5,4.3-9.5,9.5s4.3,9.5,9.5,9.5 c2.1,0,4-0.7,5.6-1.8l4.4,4.4L22.8,20.7z M4.2,10.7c0-3.6,2.9-6.5,6.5-6.5s6.5,2.9,6.5,6.5s-2.9,6.5-6.5,6.5S4.2,14.3,4.2,10.7z"/><polygon points="7.2,9.2 7.2,7.2 9.2,7.2 9.2,6.2 6.2,6.2 6.2,9.2 "/><polygon points="12.2,7.2 14.2,7.2 14.2,9.2 15.2,9.2 15.2,6.2 12.2,6.2 "/><polygon points="9.2,14.2 7.2,14.2 7.2,12.2 6.2,12.2 6.2,15.2 9.2,15.2 "/><polygon points="14.2,12.2 14.2,14.2 12.2,14.2 12.2,15.2 15.2,15.2 15.2,12.2"/>',rubberbandTool:'\n    <g>\n        <polygon points="11.5,2 4,2 2,2 2,4 2,11.5 4,11.5 4,4 11.5,4 \t"/>\n        <path d="M16,10V8h-2h-4H8v2v4v2h2h4h2v-2V10z M14,14h-4v-4h4V14z"/>\n        <polygon points="20,12 20,19 19,19 19,20 12,20 12,22 20,22 22,22 22,20 22,12"/>\n        <rect x="16" y="16" class="st0" width="1" height="1"/>\n        <rect x="17" y="17" class="st0" width="1" height="1"/>\n        <rect x="18" y="18" class="st0" width="1" height="1"/>\n    </g>',magnifierTool:'\n    <circle fill="none" stroke-width="2" stroke-miterlimit="10" cx="9.5" cy="9.5" r="7.5"/>\n    <rect x="17" y="13.7" transform="matrix(0.7193 -0.6947 0.6947 0.7193 -7.4537 17.9238)" class="st1" width="3" height="9"/>\n    <polygon points="14,8.5 10.5,8.5 10.5,5 8.5,5 8.5,8.5 5,8.5 5,10.5 8.5,10.5 8.5,14 10.5,14 10.5,10.5 14,10.5"/>\n    ',rotateDocument:'\n    <g>\n        <path d="M18,0H5H3v4v18v2h2h13h2v-2V4V0H18z M18,22H5V4h13V22z"/>\n        <polygon points="9,12 13,12 13,14 15,11.5 13,9 13,11 9,11 8,11 8,12 8,17 9,17"/>\n    </g>',rotatePage:'\n    <g>\n        <rect x="16" y="1" width="1" height="1"/>\n        <rect x="17" y="2" width="1" height="1"/>\n        <rect x="18" y="3" width="1" height="1"/>\n        <path class="st0" d="M19,4v1h-0.6H18h-3V2V1.3V1h1V0h-1H5H4H3v24h2h13h1.1H20V5V4H19z M18,22.1H5V2h8v5h1h1h3V22.1z"/>\n        <polygon points="13,11 9,11 8,11 8,12 8,17 9,17 9,12 13,12 13,14 15,11.5 13,9"/>\n    </g>'};var _ActionQueue=function(){function e(){this._actions=[],this._isStarted=!1}return e.prototype._any=function(){return this._actions.length>0},e.prototype.queue=function(e){var t=this,o=this._any();this._actions.push(function(){e(),t._continue()}),this.isStarted&&!o&&this._continue()},e.prototype._continue=function(){var e=this._actions.shift();e&&e()},e.prototype.start=function(){this._isStarted||(this._isStarted=!0,this._continue())},Object.defineProperty(e.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!0,configurable:!0}),e}();exports._ActionQueue=_ActionQueue,"undefined"!=typeof window&&(window.TouchEvent=window.TouchEvent||function(){},window.PointerEvent=window.PointerEvent||function(){},window.Touch=window.Touch||function(){});var _TouchDirection,_eventSeparator=",",_touchEventsMap={startName:"touchstart",moveName:"touchmove",endName:["touchend","touchcancel","touchleave"].join(_eventSeparator)},_pointerEventsMap={startName:["pointerdown","pointerenter"].join(_eventSeparator),moveName:"pointermove",endName:["pointerup","pointercancel","pointerleave"].join(_eventSeparator)};function _getTouchEventMap(){return"ontouchstart"in window?_touchEventsMap:_pointerEventsMap}exports._getTouchEventMap=_getTouchEventMap,function(e){e[e.None=0]="None",e[e.Left=1]="Left",e[e.Up=2]="Up",e[e.Right=3]="Right",e[e.Down=4]="Down"}(_TouchDirection=exports._TouchDirection||(exports._TouchDirection={}));var _TouchInfo=function(){function e(e){this._systemTouchInfo=e,e instanceof Touch?this._id=e.identifier:this._id=e.pointerId,this._target=e.target,this._screenX=e.screenX,this._screenY=e.screenY,this._clientX=e.clientX,this._clientY=e.clientY}return e.getCenter=function(e,t){return new wijmo_1.Point(e.x+(t.x-e.x)/2,e.y+(t.y-e.y)/2)},e.getCenterClient=function(t,o){return e.getCenter(new wijmo_1.Point(t.clientX,t.clientY),new wijmo_1.Point(o.clientX,o.clientY))},e.getCenterScreen=function(t,o){return e.getCenter(new wijmo_1.Point(t.screenX,t.screenY),new wijmo_1.Point(o.screenX,o.screenY))},e.getDistance=function(e,t){var o=Math.abs(e.clientX-t.clientX),n=Math.abs(e.clientY-t.clientY);return Math.sqrt(o*o+n*n)},e._getDirection=function(e,t){var o=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.abs(o)>=Math.abs(n)?o>0?_TouchDirection.Right:o<0?_TouchDirection.Left:_TouchDirection.None:n>0?_TouchDirection.Down:n<0?_TouchDirection.Up:_TouchDirection.None},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"systemTouchInfo",{get:function(){return this._systemTouchInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"screenX",{get:function(){return this._screenX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"screenY",{get:function(){return this._screenY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clientX",{get:function(){return this._clientX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clientY",{get:function(){return this._clientY},enumerable:!0,configurable:!0}),e}();exports._TouchInfo=_TouchInfo;var _SpeedReducer=function(){function e(){this._timeInterval=50,this._speedInterval=5}return Object.defineProperty(e.prototype,"timeInterval",{get:function(){return this._timeInterval},set:function(e){this._timeInterval=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"speedInterval",{get:function(){return this._speedInterval},set:function(e){this._speedInterval=e},enumerable:!0,configurable:!0}),e.prototype.stop=function(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)},e.prototype.start=function(e,t,o){var n=this;if(this.stop(),o){var i=e>=0?1:-1,r=t>=0?1:-1,a=Math.abs(e*this._timeInterval),s=Math.abs(t*this._timeInterval),c=Math.max(a,s),u=Math.floor(c/this.speedInterval),p=Math.floor(a/u),l=Math.floor(s/u);this._timer=setInterval(function(){a-=p,s-=l,a=Math.max(0,a),s=Math.max(0,s),a&&s?o(a*i,s*r):n.stop()},this._timeInterval)}},e}();exports._SpeedReducer=_SpeedReducer;var _Scroller=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.getScrollbarWidth=function(e){var o,n;return t._scrollbarWidth&&!e||((o=document.createElement("div")).style.width="50px",o.style.height="50px",o.style.overflow="auto",document.body.appendChild(o),(n=document.createElement("div")).style.height="60px",o.appendChild(n),t._scrollbarWidth=o.offsetWidth-o.clientWidth,document.body.removeChild(o)),t._scrollbarWidth},t._scrollbarWidth=null,t}(wijmo_1.Control);function _enumToArray(e){var t=[];for(var o in e)o&&o.length&&"_"!=o[0]&&!isNaN(parseInt(o))&&t.push({text:e[o],value:o});return t}exports._Scroller=_Scroller,exports._enumToArray=_enumToArray;var _RubberbandOnAppliedEventArgs=function(e){function t(t){var o=e.call(this)||this;return o._rect=t,o}return __extends(t,e),Object.defineProperty(t.prototype,"rect",{get:function(){return this._rect},enumerable:!0,configurable:!0}),t}(wijmo_1.EventArgs);exports._RubberbandOnAppliedEventArgs=_RubberbandOnAppliedEventArgs;var _ParameterType,CatalogItemType,_LinkClickedEventArgs=function(e){function t(t){var o=e.call(this)||this;return o._a=t,o}return __extends(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._a},enumerable:!0,configurable:!0}),t}(wijmo_1.EventArgs);exports._LinkClickedEventArgs=_LinkClickedEventArgs,function(e){e[e.Boolean=0]="Boolean",e[e.DateTime=1]="DateTime",e[e.Time=2]="Time",e[e.Date=3]="Date",e[e.Integer=4]="Integer",e[e.Float=5]="Float",e[e.String=6]="String"}(_ParameterType=exports._ParameterType||(exports._ParameterType={})),function(e){e[e.Folder=0]="Folder",e[e.File=1]="File",e[e.Report=2]="Report"}(CatalogItemType=exports.CatalogItemType||(exports.CatalogItemType={}));var QueryLoadingDataEventArgs=function(e){function t(t){var o=e.call(this)||this;return o._data=t||{},o}return __extends(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t}(wijmo_1.EventArgs);exports.QueryLoadingDataEventArgs=QueryLoadingDataEventArgs;var _ActionKind,MouseMode,ViewMode,ZoomMode,_ViewerActionType,_RotateAngle,_PaperKind,_ExecutionStatus=function(){function e(){}return e.loaded="Loaded",e.rendering="Rendering",e.completed="Completed",e.stopped="Stopped",e.cleared="Cleared",e.notFound="NotFound",e}();exports._ExecutionStatus=_ExecutionStatus,function(e){e[e.Bookmark=0]="Bookmark",e[e.Custom=1]="Custom"}(_ActionKind=exports._ActionKind||(exports._ActionKind={})),function(e){e[e.SelectTool=0]="SelectTool",e[e.MoveTool=1]="MoveTool",e[e.RubberbandTool=2]="RubberbandTool",e[e.MagnifierTool=3]="MagnifierTool"}(MouseMode=exports.MouseMode||(exports.MouseMode={})),function(e){e[e.Single=0]="Single",e[e.Continuous=1]="Continuous"}(ViewMode=exports.ViewMode||(exports.ViewMode={})),function(e){e[e.Custom=0]="Custom",e[e.PageWidth=1]="PageWidth",e[e.WholePage=2]="WholePage"}(ZoomMode=exports.ZoomMode||(exports.ZoomMode={})),function(e){e[e.TogglePaginated=0]="TogglePaginated",e[e.Print=1]="Print",e[e.Portrait=2]="Portrait",e[e.Landscape=3]="Landscape",e[e.ShowPageSetupDialog=4]="ShowPageSetupDialog",e[e.FirstPage=5]="FirstPage",e[e.PrePage=6]="PrePage",e[e.NextPage=7]="NextPage",e[e.LastPage=8]="LastPage",e[e.PageNumber=9]="PageNumber",e[e.PageCountLabel=10]="PageCountLabel",e[e.Backward=11]="Backward",e[e.Forward=12]="Forward",e[e.SelectTool=13]="SelectTool",e[e.MoveTool=14]="MoveTool",e[e.Continuous=15]="Continuous",e[e.Single=16]="Single",e[e.ZoomOut=17]="ZoomOut",e[e.ZoomIn=18]="ZoomIn",e[e.ZoomValue=19]="ZoomValue",e[e.FitWholePage=20]="FitWholePage",e[e.FitPageWidth=21]="FitPageWidth",e[e.ToggleFullScreen=22]="ToggleFullScreen",e[e.ShowHamburgerMenu=23]="ShowHamburgerMenu",e[e.ShowViewMenu=24]="ShowViewMenu",e[e.ShowSearchBar=25]="ShowSearchBar",e[e.ShowThumbnails=26]="ShowThumbnails",e[e.ShowOutlines=27]="ShowOutlines",e[e.ShowExportsPanel=28]="ShowExportsPanel",e[e.ShowPageSetupPanel=29]="ShowPageSetupPanel",e[e.ShowZoomBar=30]="ShowZoomBar",e[e.ShowSearchOptions=31]="ShowSearchOptions",e[e.SearchPrev=32]="SearchPrev",e[e.SearchNext=33]="SearchNext",e[e.SearchMatchCase=34]="SearchMatchCase",e[e.SearchMatchWholeWord=35]="SearchMatchWholeWord",e[e.RubberbandTool=36]="RubberbandTool",e[e.MagnifierTool=37]="MagnifierTool",e[e.RotateDocument=38]="RotateDocument",e[e.RotatePage=39]="RotatePage"}(_ViewerActionType=exports._ViewerActionType||(exports._ViewerActionType={})),function(e){e[e.NoRotate=0]="NoRotate",e[e.Rotation90=1]="Rotation90",e[e.Rotation180=2]="Rotation180",e[e.Rotation270=3]="Rotation270"}(_RotateAngle=exports._RotateAngle||(exports._RotateAngle={})),function(e){e[e.Custom=0]="Custom",e[e.Letter=1]="Letter",e[e.LetterSmall=2]="LetterSmall",e[e.Tabloid=3]="Tabloid",e[e.Ledger=4]="Ledger",e[e.Legal=5]="Legal",e[e.Statement=6]="Statement",e[e.Executive=7]="Executive",e[e.A3=8]="A3",e[e.A4=9]="A4",e[e.A4Small=10]="A4Small",e[e.A5=11]="A5",e[e.B4=12]="B4",e[e.B5=13]="B5",e[e.Folio=14]="Folio",e[e.Quarto=15]="Quarto",e[e.Standard10x14=16]="Standard10x14",e[e.Standard11x17=17]="Standard11x17",e[e.Note=18]="Note",e[e.Number9Envelope=19]="Number9Envelope",e[e.Number10Envelope=20]="Number10Envelope",e[e.Number11Envelope=21]="Number11Envelope",e[e.Number12Envelope=22]="Number12Envelope",e[e.Number14Envelope=23]="Number14Envelope",e[e.CSheet=24]="CSheet",e[e.DSheet=25]="DSheet",e[e.ESheet=26]="ESheet",e[e.DLEnvelope=27]="DLEnvelope",e[e.C5Envelope=28]="C5Envelope",e[e.C3Envelope=29]="C3Envelope",e[e.C4Envelope=30]="C4Envelope",e[e.C6Envelope=31]="C6Envelope",e[e.C65Envelope=32]="C65Envelope",e[e.B4Envelope=33]="B4Envelope",e[e.B5Envelope=34]="B5Envelope",e[e.B6Envelope=35]="B6Envelope",e[e.ItalyEnvelope=36]="ItalyEnvelope",e[e.MonarchEnvelope=37]="MonarchEnvelope",e[e.PersonalEnvelope=38]="PersonalEnvelope",e[e.USStandardFanfold=39]="USStandardFanfold",e[e.GermanStandardFanfold=40]="GermanStandardFanfold",e[e.GermanLegalFanfold=41]="GermanLegalFanfold",e[e.IsoB4=42]="IsoB4",e[e.JapanesePostcard=43]="JapanesePostcard",e[e.Standard9x11=44]="Standard9x11",e[e.Standard10x11=45]="Standard10x11",e[e.Standard15x11=46]="Standard15x11",e[e.InviteEnvelope=47]="InviteEnvelope",e[e.LetterExtra=50]="LetterExtra",e[e.LegalExtra=51]="LegalExtra",e[e.TabloidExtra=52]="TabloidExtra",e[e.A4Extra=53]="A4Extra",e[e.LetterTransverse=54]="LetterTransverse",e[e.A4Transverse=55]="A4Transverse",e[e.LetterExtraTransverse=56]="LetterExtraTransverse",e[e.APlus=57]="APlus",e[e.BPlus=58]="BPlus",e[e.LetterPlus=59]="LetterPlus",e[e.A4Plus=60]="A4Plus",e[e.A5Transverse=61]="A5Transverse",e[e.B5Transverse=62]="B5Transverse",e[e.A3Extra=63]="A3Extra",e[e.A5Extra=64]="A5Extra",e[e.B5Extra=65]="B5Extra",e[e.A2=66]="A2",e[e.A3Transverse=67]="A3Transverse",e[e.A3ExtraTransverse=68]="A3ExtraTransverse",e[e.JapaneseDoublePostcard=69]="JapaneseDoublePostcard",e[e.A6=70]="A6",e[e.JapaneseEnvelopeKakuNumber2=71]="JapaneseEnvelopeKakuNumber2",e[e.JapaneseEnvelopeKakuNumber3=72]="JapaneseEnvelopeKakuNumber3",e[e.JapaneseEnvelopeChouNumber3=73]="JapaneseEnvelopeChouNumber3",e[e.JapaneseEnvelopeChouNumber4=74]="JapaneseEnvelopeChouNumber4",e[e.LetterRotated=75]="LetterRotated",e[e.A3Rotated=76]="A3Rotated",e[e.A4Rotated=77]="A4Rotated",e[e.A5Rotated=78]="A5Rotated",e[e.B4JisRotated=79]="B4JisRotated",e[e.B5JisRotated=80]="B5JisRotated",e[e.JapanesePostcardRotated=81]="JapanesePostcardRotated",e[e.JapaneseDoublePostcardRotated=82]="JapaneseDoublePostcardRotated",e[e.A6Rotated=83]="A6Rotated",e[e.JapaneseEnvelopeKakuNumber2Rotated=84]="JapaneseEnvelopeKakuNumber2Rotated",e[e.JapaneseEnvelopeKakuNumber3Rotated=85]="JapaneseEnvelopeKakuNumber3Rotated",e[e.JapaneseEnvelopeChouNumber3Rotated=86]="JapaneseEnvelopeChouNumber3Rotated",e[e.JapaneseEnvelopeChouNumber4Rotated=87]="JapaneseEnvelopeChouNumber4Rotated",e[e.B6Jis=88]="B6Jis",e[e.B6JisRotated=89]="B6JisRotated",e[e.Standard12x11=90]="Standard12x11",e[e.JapaneseEnvelopeYouNumber4=91]="JapaneseEnvelopeYouNumber4",e[e.JapaneseEnvelopeYouNumber4Rotated=92]="JapaneseEnvelopeYouNumber4Rotated",e[e.Prc16K=93]="Prc16K",e[e.Prc32K=94]="Prc32K",e[e.Prc32KBig=95]="Prc32KBig",e[e.PrcEnvelopeNumber1=96]="PrcEnvelopeNumber1",e[e.PrcEnvelopeNumber2=97]="PrcEnvelopeNumber2",e[e.PrcEnvelopeNumber3=98]="PrcEnvelopeNumber3",e[e.PrcEnvelopeNumber4=99]="PrcEnvelopeNumber4",e[e.PrcEnvelopeNumber5=100]="PrcEnvelopeNumber5",e[e.PrcEnvelopeNumber6=101]="PrcEnvelopeNumber6",e[e.PrcEnvelopeNumber7=102]="PrcEnvelopeNumber7",e[e.PrcEnvelopeNumber8=103]="PrcEnvelopeNumber8",e[e.PrcEnvelopeNumber9=104]="PrcEnvelopeNumber9",e[e.PrcEnvelopeNumber10=105]="PrcEnvelopeNumber10",e[e.Prc16KRotated=106]="Prc16KRotated",e[e.Prc32KRotated=107]="Prc32KRotated",e[e.Prc32KBigRotated=108]="Prc32KBigRotated",e[e.PrcEnvelopeNumber1Rotated=109]="PrcEnvelopeNumber1Rotated",e[e.PrcEnvelopeNumber2Rotated=110]="PrcEnvelopeNumber2Rotated",e[e.PrcEnvelopeNumber3Rotated=111]="PrcEnvelopeNumber3Rotated",e[e.PrcEnvelopeNumber4Rotated=112]="PrcEnvelopeNumber4Rotated",e[e.PrcEnvelopeNumber5Rotated=113]="PrcEnvelopeNumber5Rotated",e[e.PrcEnvelopeNumber6Rotated=114]="PrcEnvelopeNumber6Rotated",e[e.PrcEnvelopeNumber7Rotated=115]="PrcEnvelopeNumber7Rotated",e[e.PrcEnvelopeNumber8Rotated=116]="PrcEnvelopeNumber8Rotated",e[e.PrcEnvelopeNumber9Rotated=117]="PrcEnvelopeNumber9Rotated",e[e.PrcEnvelopeNumber10Rotated=118]="PrcEnvelopeNumber10Rotated"}(_PaperKind=exports._PaperKind||(exports._PaperKind={}));var _UnitType,RequestEventArgs=function(e){function t(t,o){var n=e.call(this)||this;return n._url=t,n._settings=o,n}return __extends(t,e),Object.defineProperty(t.prototype,"url",{get:function(){return this._url},set:function(e){this._url=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settings",{get:function(){return this._settings},set:function(e){this._settings=e},enumerable:!0,configurable:!0}),t}(wijmo_1.EventArgs);exports.RequestEventArgs=RequestEventArgs,wijmo_1._addCultureInfo("Viewer",{cancel:"Cancel",ok:"OK",bottom:"Bottom:",top:"Top:",right:"Right:",left:"Left:",margins:"Margins(inches)",orientation:"Orientation:",paperKind:"Paper Kind:",pageSetup:"Page Setup",landscape:"Landscape",portrait:"Portrait",pageNumber:"Page Number",zoomFactor:"Zoom Factor",paginated:"Print Layout",print:"Print",search:"Search",matchCase:"Match case",wholeWord:"Match whole word only",searchResults:"Search Results",previousPage:"Previous Page",nextPage:"Next Page",firstPage:"First Page",lastPage:"Last Page",backwardHistory:"Backward",forwardHistory:"Forward",pageCount:"Page Count",selectTool:"Select Tool",moveTool:"Move Tool",continuousMode:"Continuous Page View",singleMode:"Single Page View",wholePage:"Fit Whole Page",pageWidth:"Fit Page Width",zoomOut:"Zoom Out",zoomIn:"Zoom In",rubberbandTool:"Zoom by Selection",magnifierTool:"Magnifier",rotatePage:"Rotate Page",rotateDocument:"Rotate Document",exports:"Export",fullScreen:"Full Screen",exitFullScreen:"Exit Full Screen",hamburgerMenu:"Tools",showSearchBar:"Show Search Bar",viewMenu:"Layout Options",searchOptions:"Search Options",matchCaseMenuItem:"Match Case",wholeWordMenuItem:"Match Whole Word",thumbnails:"Page Thumbnails",outlines:"Document Map",loading:"Loading...",pdfExportName:"Adobe PDF",docxExportName:"Open XML Word",xlsxExportName:"Open XML Excel",docExportName:"Microsoft Word",xlsExportName:"Microsoft Excel",mhtmlExportName:"Web archive (MHTML)",htmlExportName:"HTML document",rtfExportName:"RTF document",metafileExportName:"Compressed metafiles",csvExportName:"CSV",tiffExportName:"Tiff images",bmpExportName:"BMP images",emfExportName:"Enhanced metafile",gifExportName:"GIF images",jpgExportName:"JPEG images",jpegExportName:"JPEG images",pngExportName:"PNG images",abstractMethodException:"It is an abstract method, please implement it.",cannotRenderPageNoViewPage:"Cannot render page without document source and view page.",cannotRenderPageNoDoc:"Cannot render page without document source and view page.",exportFormat:"Export format:",exportOptionTitle:"Export options",documentRestrictionsGroup:"Document restrictions",passwordSecurityGroup:"Password security",outputRangeGroup:"Output range",documentInfoGroup:"Document info",generalGroup:"General",docInfoTitle:"Title",docInfoAuthor:"Author",docInfoManager:"Manager",docInfoOperator:"Operator",docInfoCompany:"Company",docInfoSubject:"Subject",docInfoComment:"Comment",docInfoCreator:"Creator",docInfoProducer:"Producer",docInfoCreationTime:"Creation time",docInfoRevisionTime:"Revision time",docInfoKeywords:"Keywords",embedFonts:"Embed TrueType fonts",pdfACompatible:"PDF/A compatible (level 2B)",useCompression:"Use compression",useOutlines:"Generate outlines",allowCopyContent:"Allow content copying or extraction",allowEditAnnotations:"Allow annotations editing",allowEditContent:"Allow content editing",allowPrint:"Allow printing",ownerPassword:"Permissions (owner) password:",userPassword:"Document open (user) password:",encryptionType:"Encryption level:",paged:"Paged",showNavigator:"Show Navigator",navigatorPosition:"Navigator Position",singleFile:"Single File",tolerance:"Tolerance when detecting text bounds (points):",pictureLayer:"Use separate picture layer",metafileType:"Metafile Type:",monochrome:"Monochrome",resolution:"Resolution:",outputRange:"Page range:",outputRangeInverted:"Inverted",showZoomBar:"Zoom Bar",searchPrev:"Search Previous",searchNext:"Search Next",checkMark:"✓",exportOk:"Export...",cannotSearch:"Search requires a document source to be specified.",parameters:"Parameters",requiringParameters:"Please input parameters.",nullParameterError:"Value cannot be null.",invalidParameterError:"Invalid input.",parameterNoneItemsSelected:"(none)",parameterAllItemsSelected:"(all)",parameterSelectAllItemText:"(Select All)",selectParameterValue:"(select value)",apply:"Apply",errorOccured:"An error has occured."}),function(e){e[e.Document=0]="Document",e[e.Inch=1]="Inch",e[e.Mm=2]="Mm",e[e.Pica=3]="Pica",e[e.Point=4]="Point",e[e.Twip=5]="Twip",e[e.InHs=6]="InHs",e[e.Display=7]="Display",e[e.Cm=8]="Cm",e[e.Dip=9]="Dip"}(_UnitType=exports._UnitType||(exports._UnitType={}));var _Unit=function(){function e(t,o){if(void 0===o&&(o=_UnitType.Dip),e._initUnitTypeDic(),wijmo_1.isObject(t)){var n=t;t=n.value,o=n.units}else if(wijmo_1.isString(t)){var i=parseFloat(t);isNaN(i)||(o=e._unitTypeDic[t.substr(i.toString().length)],t=i)}this._value=t,this._units=o,this._valueInPixel=e.convertValue(t,o,_UnitType.Dip)}return e._initUnitTypeDic=function(){if(!e._unitTypeDic)for(var t in e._unitTypeDic={},e._unitTypes)e._unitTypeDic[e._unitTypeDic[t]=e._unitTypes[t]]=t},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"units",{get:function(){return this._units},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueInPixel",{get:function(){return this._valueInPixel},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return e.toString(this)},e.toString=function(t){return null==t.value?"":t.value+e._unitTypeDic[t.units]},e.convertValue=function(t,o,n){if(o===n)return t;var i;switch(o){case _UnitType.Document:i=t/e._DocumentUnitsPerInch;break;case _UnitType.Inch:i=t;break;case _UnitType.Mm:i=t/e._MmPerInch;break;case _UnitType.Pica:i=t/e._PicaPerInch;break;case _UnitType.Point:i=t/e._PointsPerInch;break;case _UnitType.Twip:i=t/e._TwipsPerInch;break;case _UnitType.InHs:i=t/100;break;case _UnitType.Display:i=t/e._DisplayPerInch;break;case _UnitType.Cm:i=t/e._CmPerInch;break;case _UnitType.Dip:i=t/e._DipPerInch;break;default:throw"Invalid from _UnitType: "+o}switch(n){case _UnitType.Document:return i*e._DocumentUnitsPerInch;case _UnitType.Inch:return i;case _UnitType.Mm:return i*e._MmPerInch;case _UnitType.Pica:return i*e._PicaPerInch;case _UnitType.Point:return i*e._PointsPerInch;case _UnitType.Twip:return i*e._TwipsPerInch;case _UnitType.InHs:return 100*i;case _UnitType.Display:return i*e._DisplayPerInch;case _UnitType.Cm:return i*e._CmPerInch;case _UnitType.Dip:return i*e._DipPerInch;default:throw"Invalid to _UnitType: "+n}},e._MmPerInch=25.4,e._DocumentUnitsPerInch=300,e._PointsPerInch=72,e._TwipsPerInch=1440,e._PicaPerInch=6,e._CmPerInch=e._MmPerInch/10,e._DisplayPerInch=75,e._DipPerInch=96,e._unitTypes={doc:_UnitType.Document,in:_UnitType.Inch,mm:_UnitType.Mm,pc:_UnitType.Pica,pt:_UnitType.Point,tw:_UnitType.Twip,inhs:_UnitType.InHs,dsp:_UnitType.Display,cm:_UnitType.Cm,dip:_UnitType.Dip,px:_UnitType.Dip},e}();exports._Unit=_Unit;var _Promise=function(){function e(){this._callbacks=[]}return e.prototype.then=function(e,t){return this._callbacks.push({onFulfilled:e,onRejected:t}),this},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.resolve=function(e){var t=this;return setTimeout(function(){try{t.onFulfilled(e)}catch(e){t.onRejected(e)}},0),this},e.prototype.reject=function(e){var t=this;return setTimeout(function(){t.onRejected(e)},0),this},e.prototype.onFulfilled=function(e){for(var t;t=this._callbacks.shift();)if(t.onFulfilled){var o=t.onFulfilled(e);void 0!==o&&(e=o)}},e.prototype.onRejected=function(e){for(var t;t=this._callbacks.shift();)if(t.onRejected){var o=t.onRejected(e);return void this.onFulfilled(o)}throw e},e}();exports._Promise=_Promise;var _CompositedPromise=function(e){function t(t){var o=e.call(this)||this;return o._promises=t,o._init(),o}return __extends(t,e),t.prototype._init=function(){var e=this;if(this._promises&&this._promises.length){var t=this._promises.length,o=0,n=[],i=!1;this._promises.some(function(r){return r.then(function(r){i||(n.push(r),++o>=t&&e.resolve(n))}).catch(function(t){i=!0,e.reject(t)}),i})}else this.reject("No promises in current composited promise.")},t}(_Promise);exports._CompositedPromise=_CompositedPromise;var _wjEventsName="__wjEvents";function _pointMove(e,t,o,n){var i,r=e?1:-1;return o instanceof wijmo_1.Point?(i=o.x,n=o.y):(i=o,n=n||0),new wijmo_1.Point(t.x+r*i,t.y+r*n)}function _disableCache(e){return e+(-1==e.indexOf("?")?"?":"&")+"_="+(new Date).getTime()}function _removeChildren(e,t){if(e&&e.children)for(var o=e.children,n=o.length-1;n>-1;n--){var i=o[n];if(null==t||t(i)){var r=i.querySelector(".wj-control");r&&(r=wijmo_1.Control.getControl(r))&&r.dispose(),e.removeChild(i)}}}function _toDOMs(e){var t,o=document.createElement("div"),n=document.createDocumentFragment();for(o.innerHTML=e;t=o.firstChild;)n.appendChild(t);return n}function _addEvent(e,t,o,n){for(var i,r=t.split(","),a=0;a<r.length;a++)i=r[a].trim(),e.addEventListener?e.addEventListener(i,o,n):e.attachEvent?e.attachEvent("on"+i,o):e["on"+i]=o}function _removeEvent(e,t,o){for(var n,i=t.split(","),r=0;r<i.length;r++)n=i[r].trim(),e.removeEventListener?e.removeEventListener(n,o):e.detachEvent?e.detachEvent("on"+n,o):e["on"+n]=null}function _addWjHandler(e,t,o,n){if(e){var i=t[_wjEventsName];i||(i=t[_wjEventsName]={});var r=i[e];r||(r=i[e]=[]),r.push(o)}t.addHandler(o,n)}function _removeAllWjHandlers(e,t){if(e){var o=t[_wjEventsName];if(o){var n=o[e];n&&n.forEach(function(e){return t.removeHandler(e)})}}}function _getErrorMessage(e){var t;return _ArReportService.IsError(e)?t=e.json.Error.Description:(t=e,e.Message&&(t=e.Message,e.ExceptionMessage&&(t+="<br/>"+e.ExceptionMessage))),t||wijmo_1.culture.Viewer.errorOccured}function _twipToPixel(e){return _Unit.convertValue(e,_UnitType.Twip,_UnitType.Dip)}function _pixelToTwip(e){return _Unit.convertValue(e,_UnitType.Dip,_UnitType.Twip)}function _transformSvg(e,t,o,n,i){n=null==n?1:n;var r=e.querySelector("g");if(r){var a="scale("+n+")";if(null!=i)switch(i){case _RotateAngle.Rotation90:a+=" rotate(90)",a+=" translate(0 "+-o+")";break;case _RotateAngle.Rotation180:a+=" rotate(180)",a+=" translate("+-t+" "+-o+")";break;case _RotateAngle.Rotation270:a+=" rotate(270)",a+=" translate("+-t+" 0)"}r.setAttribute("transform",a),wijmo_1.isIE&&((e=r.parentNode).removeChild(r),e.appendChild(r))}return e}function _getTransformedPosition(e,t,o,n){var i,r,a={x:_twipToPixel(e.x),y:_twipToPixel(e.y),width:_twipToPixel(e.width),height:_twipToPixel(e.height)};switch(o){case _RotateAngle.NoRotate:i=a.y,r=a.x;break;case _RotateAngle.Rotation90:i=a.x,r=t.height.valueInPixel-a.y-a.height;break;case _RotateAngle.Rotation180:i=t.height.valueInPixel-a.y-a.height,r=t.width.valueInPixel-a.x-a.width;break;case _RotateAngle.Rotation270:i=t.width.valueInPixel-a.x-a.width,r=a.y}return new wijmo_1.Point(r*n,i*n)}function _getRotatedSize(e,t){return t===_RotateAngle.NoRotate||t===_RotateAngle.Rotation180?e:{width:e.height,height:e.width}}function _strEndsWith(e,t,o){return void 0===o&&(o=!1),o?e.slice(-t.length).toLowerCase()===t.toLowerCase():e.slice(-t.length)===t}function _isEqual(e,t){return e&&t&&wijmo_1.isFunction(e.valueOf)&&wijmo_1.isFunction(t.valueOf)?e.valueOf()===t.valueOf():e===t}exports._abstractMethodExceptionText="It is an abstract method, please implement it.",exports._hiddenCss="hidden",exports._pointMove=_pointMove,exports._disableCache=_disableCache,exports._removeChildren=_removeChildren,exports._toDOMs=_toDOMs,exports._addEvent=_addEvent,exports._removeEvent=_removeEvent,exports._addWjHandler=_addWjHandler,exports._removeAllWjHandlers=_removeAllWjHandlers,exports._getErrorMessage=_getErrorMessage,exports._twipToPixel=_twipToPixel,exports._pixelToTwip=_pixelToTwip,exports._transformSvg=_transformSvg,exports._getTransformedPosition=_getTransformedPosition,exports._getRotatedSize=_getRotatedSize,exports._strEndsWith=_strEndsWith,exports._isEqual=_isEqual;var _TouchEventType,_ParametersEditor=function(e){function t(t){var o=e.call(this,t)||this;return o._parameters={},o._errors=[],o._errorsVisible=!1,o.commit=new wijmo_1.Event,o.validate=new wijmo_1.Event,wijmo_1.addClass(o.hostElement,"wj-parameterscontainer"),o._updateErrorsVisible(),o}return __extends(t,e),t.prototype._setErrors=function(e){this._errors=e,this._updateErrorDiv()},Object.defineProperty(t.prototype,"parameters",{get:function(){return this._parameters},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._itemSources},set:function(e){this._itemSources=e,this._parameters={},this._render();var t=[];(e||[]).forEach(function(e){e.error&&t.push({key:e.name,value:e.error})}),this._setErrors(t)},enumerable:!0,configurable:!0}),t.prototype._reset=function(){this._lastEditedParam=null},t.prototype._setErrorsVisible=function(e){this._errorsVisible=e,this._updateErrorsVisible()},t.prototype._updateErrorsVisible=function(){this._errorsVisible?wijmo_1.removeClass(this.hostElement,t._errorsHiddenCss):wijmo_1.addClass(this.hostElement,t._errorsHiddenCss)},t.prototype.onCommit=function(){this.commit.raise(this,new wijmo_1.EventArgs)},t.prototype.onValidate=function(){this.validate.raise(this,new wijmo_1.EventArgs),this._setErrorsVisible(!1)},t.prototype._deferValidate=function(e,t,o){var n=this;null!=this._validateTimer&&(clearTimeout(this._validateTimer),this._validateTimer=null),this._validateTimer=setTimeout(function(){null!=t&&t(),n.onValidate(),null!=o&&o(),n._lastEditedParam=e,n._validateTimer=null},500)},t.prototype._updateErrorDiv=function(){for(var e=this._errors||[],o=this.hostElement.querySelectorAll(".error"),n=0;n<o.length;n++)o[n].parentNode.removeChild(o[n]);for(n=0;n<e.length;n++){var i,r=this.hostElement.querySelector("*["+t._paramIdAttr+'="'+e[n].key+'"]'),a=e[n].value;r&&((i=document.createElement("div")).innerHTML=a,i.className="error",r.appendChild(i))}},t.prototype._render=function(){var e,o=this;if(_removeChildren(this.hostElement,function(n){if(!o._lastEditedParam||n.getAttribute(t._paramIdAttr)!==o._lastEditedParam)return!0;e=n}),this._itemSources){this._itemSources.forEach(function(n){if(o._lastEditedParam===n.name)return o._lastEditedParam=null,void(e=null);if(!n.hidden){var i=document.createElement("div"),r=document.createElement("span"),a=null;if(i.className="wj-parametercontainer",r.className="wj-parameterhead",r.innerHTML=n.prompt||n.name,wijmo_1.isArray(n.allowedValues))a=o._generateComboEditor(n);else switch(n.dataType){case _ParameterType.Boolean:a=o._generateBoolEditor(n);break;case _ParameterType.DateTime:case _ParameterType.Time:case _ParameterType.Date:a=o._generateDateTimeEditor(n);break;case _ParameterType.Integer:case _ParameterType.Float:a=o._generateNumberEditor(n);break;case _ParameterType.String:a=o._generateStringEditor(n)}a&&(a.className+=" wj-parametercontrol",i.setAttribute(t._paramIdAttr,n.name),i.appendChild(r),i.appendChild(a),e?o.hostElement.insertBefore(i,e):o.hostElement.appendChild(i))}});var n=document.createElement("input");n.type="button",n.value=wijmo_1.culture.Viewer.apply,n.className="wj-applybutton",_addEvent(n,"click",function(){o._validateParameters()&&(o._errors=[],o.onCommit()),o._setErrorsVisible(!0)}),this.hostElement.appendChild(n)}},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),t&&(this._reset(),this._render())},t.prototype._validateParameters=function(){for(var e,o=this.hostElement.querySelectorAll("textarea"),n=[],i=this.itemsSource,r=0;r<i.length;r++){var a=i[r];e=this.hostElement.querySelector("["+t._paramIdAttr+'="'+a.name+'"]'),null!=a.value&&""!==a.value||a.nullable||a.dataType===_ParameterType.String&&a.allowBlank||this.parameters.hasOwnProperty(a.name)||this.parameters[a.name]||e&&n.push({key:a.name,value:wijmo_1.culture.Viewer.nullParameterError})}for(r=0;r<o.length;r++){var s=o.item(r),c=!0;switch(parseInt(s.getAttribute("data-type"))){case _ParameterType.Date:case _ParameterType.DateTime:case _ParameterType.Time:c=t._checkValueType(s.value,wijmo_1.isDate);break;case _ParameterType.Float:c=t._checkValueType(s.value,t._isFloat);break;case _ParameterType.Integer:c=t._checkValueType(s.value,wijmo_1.isInt)}c||n.push({key:s.parentElement.id,value:wijmo_1.culture.Viewer.invalidParameterError})}return this._setErrors(n),n.length<=0},t._isFloat=function(e){return!isNaN(parseFloat(e))},t._checkValueType=function(e,t){for(var o=e.split("\n"),n=0;n<o.length;n++)if(!(o[n].trim().length<=0||t(o[n].trim())))return!1;return!0},t.prototype._generateComboEditor=function(e){var t,o,n,i=this,r=[],a=document.createElement("div"),s=[],c=e.allowedValues&&e.allowedValues.length>0,u=c&&e.allowedValues.filter(function(t){return _isEqual(t.value,e.value)}).length>0;e.multiValue?t=new _MultiSelectEx(a):(t=new wijmo_input_1.ComboBox(a),e.nullable?r.push({name:wijmo_1.culture.Viewer.parameterNoneItemsSelected,value:null}):!c||null!=e.value&&u||r.push({name:wijmo_1.culture.Viewer.selectParameterValue,value:null})),t.isEditable=!1,t.displayMemberPath="name",t.selectedValuePath="value",t.isDisabled=!c;for(var p=0;p<e.allowedValues.length;p++)r.push({name:e.allowedValues[p].key,value:e.allowedValues[p].value});if(t.itemsSource=r,e.multiValue){if(o=t,c){if(e.value){for(p=0;p<e.value.length;p++)for(var l=0;l<o.itemsSource.length;l++)if(_isEqual(o.itemsSource[l].value,e.value[p])){s.push(o.itemsSource[l]);break}o.checkedItems=s}}else o.checkedItems=[];o.checkedItemsChanged.addHandler(function(){i._deferValidate(e.name,function(){n=[];for(var t=0;t<o.checkedItems.length;t++)n.push(o.checkedItems[t].value);i._updateParameters(e,n)},function(){n.length>0&&!e.nullable&&i._validateNullValueOfParameter(a)})})}else{t.selectedValue=c&&u?e.value:null;var h=!1;t.selectedIndexChanged.addHandler(function(t){i._deferValidate(e.name,function(){h||(i._updateParameters(e,t.selectedValue),t.selectedValue&&t.itemsSource[0].name===wijmo_1.culture.Viewer.selectParameterValue&&setTimeout(function(){h=!0;var e=t.selectedValue,o=t.selectedIndex;t.itemsSource.shift(),t.collectionView.refresh(),t.selectedValue=e,t.selectedIndex=o-1,h=!1}))},function(){return i._validateNullValueOfParameter(a)})})}return a},t.prototype._updateParameters=function(e,t){var o;this.itemsSource.some(function(t){return t.name===e.name&&(o=t,!0)}),this._parameters[e.name]=o.value=e.value=function(e,t){return t&&wijmo_1.isString(e)?e.split(/[\r\n]+/):e}(t,e.multiValue)},t.prototype._generateBoolEditor=function(e){var t,o,n=this,i=[];return e.nullable?(o=document.createElement("div"),(t=new wijmo_input_1.ComboBox(o)).isEditable=!1,t.displayMemberPath="name",t.selectedValuePath="value",i.push({name:"None",value:null}),i.push({name:"True",value:!0}),i.push({name:"False",value:!1}),t.itemsSource=i,t.selectedValue=e.value,t.selectedIndexChanged.addHandler(function(t){n._deferValidate(e.name,function(){return n._updateParameters(e,t.selectedValue)})})):((o=document.createElement("input")).type="checkbox",o.checked=e.value,_addEvent(o,"click",function(){n._deferValidate(e.name,function(){return n._updateParameters(e,o.checked)})})),o},t.prototype._generateStringEditor=function(e){var t;return e.multiValue?(t=this._createTextarea(e.value,e.dataType),e.maxLength>0&&(t.maxLength=e.maxLength)):((t=document.createElement("input")).type="text",e.value&&(t.value=e.value),e.maxLength>0&&(t.maxLength=e.maxLength)),this._bindTextChangedEvent(t,e),t},t.prototype._createTextarea=function(e,o){var n,i=document.createElement("textarea"),r=[];if(o!==_ParameterType.DateTime&&o!==_ParameterType.Time&&o!==_ParameterType.Date||(n=t._dateTimeFormat),e&&e.length>0)if(n){for(var a=0;a<e.length;a++)r.push(wijmo_1.Globalize.formatDate(new Date(e[a]),n));i.value=r.join("\n")}else i.value=e.join("\n");return i.wrap="off",i.setAttribute("data-type",o.toString()),i},t.prototype._bindTextChangedEvent=function(e,t){var o=this;_addEvent(e,"change,keyup,paste,input",function(n){n.target&&n.target.disabled||o._deferValidate(t.name,function(){return o._updateParameters(t,e.value)},function(){e.value&&!t.nullable&&o._validateNullValueOfParameter(e)})})},t.prototype._generateNumberEditor=function(e){var t,o,n=this;return e.multiValue?(t=this._createTextarea(e.value,e.dataType),this._bindTextChangedEvent(t,e)):(t=document.createElement("div"),(o=new wijmo_input_1.InputNumber(t)).format=e.dataType===_ParameterType.Integer?"n0":"n2",o.isRequired=!e.nullable,e.value&&(o.value=e.dataType===_ParameterType.Integer?parseInt(e.value):parseFloat(e.value)),o.valueChanged.addHandler(function(t){n._deferValidate(e.name,function(){return n._updateParameters(e,t.value)})})),t},t.prototype._generateDateTimeEditor=function(e){var o,n,i=this;return e.multiValue?((o=this._createTextarea(e.value,e.dataType)).title=t._dateTimeFormat,this._bindTextChangedEvent(o,e)):(o=document.createElement("div"),e.dataType==_ParameterType.Date?n=new wijmo_input_1.InputDate(o):e.dataType==_ParameterType.DateTime?(n=new wijmo_input_1.InputDateTime(o)).timeStep=60:(n=new wijmo_input_1.InputTime(o)).step=60,n.isRequired=!1,null!=e.value?n.value=new Date(e.value):n.value=null,n.isRequired=!e.nullable,n.valueChanged.addHandler(function(){i._deferValidate(e.name,function(){return i._updateParameters(e,n.value)})})),o},t.prototype._validateNullValueOfParameter=function(e){var o=this._errors;if(o&&o.length)for(var n=0;n<o.length;n++)if(o[n].key===e.parentElement.getAttribute(t._paramIdAttr)){var i=e.parentElement.querySelector(".error");if(i){e.parentElement.removeChild(i),o.splice(n,1);break}}},t._paramIdAttr="param-id",t._errorsHiddenCss="wj-parametererrors-hidden",t._dateTimeFormat="MM/dd/yyyy HH:mm",t}(wijmo_1.Control);exports._ParametersEditor=_ParametersEditor,function(e){e[e.Start=0]="Start",e[e.Move=1]="Move",e[e.End=2]="End"}(_TouchEventType=exports._TouchEventType||(exports._TouchEventType={}));var _TouchEventArgs=function(e){function t(o){var n=e.call(this)||this;return o instanceof t?(n._systemEvent=o.systemEvent,n._type=o.type,n._touchInfos=o.touchInfos,n):(n._systemEvent=o,_TouchManager._registerTouchInfo(o),n._type=_TouchManager._isTouchStart(o.type)?_TouchEventType.Start:_TouchManager._isTouchEnd(o.type)?_TouchEventType.End:_TouchEventType.Move,n._touchInfos=_TouchManager._allTouchInfos?_TouchManager._allTouchInfos.slice():[],n)}return __extends(t,e),Object.defineProperty(t.prototype,"timeStamp",{get:function(){return this.systemEvent.timeStamp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touchInfos",{get:function(){return this._touchInfos},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"systemEvent",{get:function(){return this._systemEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this.systemEvent.target},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentTarget",{get:function(){return this.systemEvent.currentTarget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointersCount",{get:function(){return this.touchInfos.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cancelBubble",{get:function(){return this._systemEvent.cancelBubble},set:function(e){this._systemEvent.cancelBubble=e},enumerable:!0,configurable:!0}),t.prototype.preventDefault=function(){this._systemEvent.preventDefault()},t}(wijmo_1.EventArgs);exports._TouchEventArgs=_TouchEventArgs;var _TouchEvent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.raise=function(t,o){e.prototype.raise.call(this,t,o)},t}(wijmo_1.Event);exports._TouchEvent=_TouchEvent;var _TouchTrigger=function(){function e(t){var o=this;this.touchMove=new _TouchEvent,this.touchStart=new _TouchEvent,this.touchEnd=new _TouchEvent;var n=wijmo_1.getElement(t);this._element=n;var i=e.getTrigger(n);if(i){var r=this._onTouchEvent.bind(this);return i.touchMove.addHandler(r),i.touchStart.addHandler(r),i.touchEnd.addHandler(r),void(this._disposeAction=function(){i.touchMove.removeHandler(r),i.touchStart.removeHandler(r),i.touchEnd.removeHandler(r),o._disposeAction=null})}var a=_getTouchEventMap(),s=this._onSystemTouchEvent.bind(this);_addEvent(n,a.startName,s),_addEvent(n,a.moveName,s),_addEvent(n,a.endName,s),e.bindElement(n,this),this._disposeAction=function(){_removeEvent(n,a.startName,s),_removeEvent(n,a.moveName,s),_removeEvent(n,a.endName,s),e.unbindElement(n),o._disposeAction=null}}return e.bindElement=function(t,o){if(t[e._elementDataName])throw"Cannot bind multi _TouchTrigger on the same element.";t[e._elementDataName]=o},e.unbindElement=function(t){t[e._elementDataName]=null},e.getTrigger=function(t){return t[e._elementDataName]},e.prototype._onSystemTouchEvent=function(e){var t=this._createTouchEventArgs(e);t&&this._onTouchEvent(this,t)},e.prototype._createTouchEventArgs=function(e){return _TouchManager._isTouchEvent(e)?new _TouchEventArgs(e):null},e.prototype.dispose=function(){this._disposeAction&&this._disposeAction()},Object.defineProperty(e.prototype,"hostElement",{get:function(){return this._element},enumerable:!0,configurable:!0}),e.prototype._onTouchEvent=function(e,t){switch(t.type){case _TouchEventType.Start:return void this.onTouchStart(t);case _TouchEventType.Move:return void this.onTouchMove(t);case _TouchEventType.End:this.onTouchEnd(t)}},e.prototype.onTouchEnd=function(e){this.touchEnd.raise(this,e)},e.prototype.onTouchStart=function(e){this.touchStart.raise(this,e)},e.prototype.onTouchMove=function(e){this.touchMove.raise(this,e)},e._elementDataName="__wjTouchTrigger",e}();exports._TouchTrigger=_TouchTrigger;var _PinchEventArgs=function(e){function t(t,o,n){var i=e.call(this,t)||this;return i._zoom=1,i._pinchType=o,i._pre=n||{},i.type==_TouchEventType.End?i:(i._pinchDistance=_TouchInfo.getDistance(i.touchInfos[0],i.touchInfos[1]),i._centerClient=_TouchInfo.getCenterClient(i.touchInfos[0],i.touchInfos[1]),i._centerScreen=_TouchInfo.getCenterScreen(i.touchInfos[0],i.touchInfos[1]),i.type==_TouchEventType.Start?i:(i._zoom=i.pinchDistance/i.prePinchDistance,i._centerClientDelta=new wijmo_1.Point(i.centerClient.x-i.preCenterClient.x,i.centerClient.y-i.preCenterClient.y),i._centerScreenDelta=new wijmo_1.Point(i.centerScreen.x-i.preCenterScreen.x,i.centerScreen.y-i.preCenterScreen.y),i))}return __extends(t,e),Object.defineProperty(t.prototype,"zoom",{get:function(){return this._zoom},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointersCount",{get:function(){return this.type==_TouchEventType.End?0:2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prePinchDistance",{get:function(){return this._pre.pinchDistance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pinchDistance",{get:function(){return this._pinchDistance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerScreenDelta",{get:function(){return this._centerScreenDelta},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerClientDelta",{get:function(){return this._centerClientDelta},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerClient",{get:function(){return this._centerClient},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preCenterClient",{get:function(){return this._pre.centerClient},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerScreen",{get:function(){return this._centerScreen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preCenterScreen",{get:function(){return this._pre.centerScreen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._pinchType},enumerable:!0,configurable:!0}),t}(_TouchEventArgs);exports._PinchEventArgs=_PinchEventArgs;var _PinchEvent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.raise=function(t,o){e.prototype.raise.call(this,t,o)},t}(_TouchEvent);exports._PinchEvent=_PinchEvent;var _PinchTrigger=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pinch=new _PinchEvent,t}return __extends(t,e),t.prototype.onPinch=function(e){this.pinch.raise(this,e)},t.prototype.onTouchStart=function(e){this._process(e)},t.prototype.onTouchend=function(e){this._process(e)},t.prototype.onTouchMove=function(e){this._process(e)},t.prototype._onPinching=function(e){var t=new _PinchEventArgs(e,this._preEventArgs?_TouchEventType.Move:_TouchEventType.Start,this._preEventArgs);this.onPinch(t),this._preEventArgs=t},t.prototype._onPinchEnd=function(e){if(this._preEventArgs){var t=new _PinchEventArgs(e,_TouchEventType.End,this._preEventArgs);this.onPinch(t),this._preEventArgs=null}},t.prototype._process=function(e){if(2==e.pointersCount)switch(e.type){case _TouchEventType.Start:case _TouchEventType.Move:return void this._onPinching(e);case _TouchEventType.End:return void this._onPinchEnd(e)}else this._onPinchEnd(e)},t}(_TouchTrigger);exports._PinchTrigger=_PinchTrigger;var _PanEventArgs=function(e){function t(t,o,n){var i=e.call(this,t)||this;return i._panType=null==n?t.type:n,i._client=new wijmo_1.Point(i.touchInfo.clientX,i.touchInfo.clientY),i._screen=new wijmo_1.Point(i.touchInfo.screenX,i.touchInfo.screenY),o&&(i._clientDelta=new wijmo_1.Point(i.client.x-o.client.x,i.client.y-o.client.y),i._screenDelta=new wijmo_1.Point(i.screen.x-o.screen.x,i.screen.y-o.screen.y)),i}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this._panType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientDelta",{get:function(){return this._clientDelta},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"screenDelta",{get:function(){return this._screenDelta},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"client",{get:function(){return this._client},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this._screen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointersCount",{get:function(){return this.type==_TouchEventType.End?0:1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touchInfo",{get:function(){return this.touchInfos[0]||{}},enumerable:!0,configurable:!0}),t}(_TouchEventArgs);exports._PanEventArgs=_PanEventArgs;var _PanEvent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.raise=function(t,o){e.prototype.raise.call(this,t,o)},t}(_TouchEvent);exports._PanEvent=_PanEvent;var _PanTrigger=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.panMove=new _PanEvent,t.panStart=new _PanEvent,t.panEnd=new _PanEvent,t}return __extends(t,e),t.prototype.onPanEnd=function(e){this.panEnd.raise(this,e)},t.prototype.onPanStart=function(e){this.panStart.raise(this,e)},t.prototype.onPanMove=function(e){this.panMove.raise(this,e)},t.prototype._prepareMove=function(e){var t=this;this._prePanEventArgs=e,this._panEvents.queue(function(){t.onPanMove(e)})},t.prototype._prepareStart=function(e){var o=this;this._prePanEventArgs=e,this._panEvents.queue(function(){o.onPanStart(e)}),this._clearPanStartTimer(),this._panStartTimer=setTimeout(function(){o._panEvents&&o._panEvents.start(),o._clearPanStartTimer()},t._threhold)},t.prototype._prepareEnd=function(e){var t=this;this._prePanEventArgs=null,this._panEvents.queue(function(){var o=e instanceof _PanEventArgs?e:new _PanEventArgs(e,null,_TouchEventType.End);t.onPanEnd(o),t._stopPan()})},t.prototype._clearPanStartTimer=function(){null!=this._panStartTimer&&(clearTimeout(this._panStartTimer),this._panStartTimer=null)},t.prototype._tryStopPan=function(e){this._panEvents&&this._panEvents.isStarted?this._prepareEnd(e):this._stopPan()},t.prototype._stopPan=function(){this._clearPanStartTimer(),this._panEvents=null,this._prePanEventArgs=null},t.prototype._processPan=function(e){var t=this._createPanEventArgs(e);if(t)switch(t.type){case _TouchEventType.Start:return void this._prepareStart(t);case _TouchEventType.Move:return void this._prepareMove(t);case _TouchEventType.End:return void this._prepareEnd(t)}else this._tryStopPan(e)},t.prototype.onTouchStart=function(t){e.prototype.onTouchStart.call(this,t),this._processPan(t)},t.prototype.onTouchMove=function(t){e.prototype.onTouchMove.call(this,t),this._processPan(t)},t.prototype.onTouchEnd=function(t){e.prototype.onTouchEnd.call(this,t);var o=this._createPanEventArgs(t);o?this._prepareEnd(o):this._tryStopPan(t)},t.prototype._createPanEventArgs=function(e){if(e.type==_TouchEventType.End&&0!=e.pointersCount||e.type!=_TouchEventType.End&&1!=e.pointersCount)return null;var t=new _PanEventArgs(e,this._prePanEventArgs);if(t.type!=_TouchEventType.Start){if(!this._panEvents)return null}else this._panEvents=new _ActionQueue;return t},t._threhold=10,t}(_TouchTrigger);exports._PanTrigger=_PanTrigger;var _SwipeEventArgs=function(e){function t(t,o,n,i){var r=e.call(this,n)||this;r._duration=i,r._startTouchInfo=t,r._endTouchInfo=o;var a=_pointMove(!1,new wijmo_1.Point(r.endTouchInfo.clientX,r.endTouchInfo.clientY),new wijmo_1.Point(r.startTouchInfo.clientX,r.startTouchInfo.clientY));return r._speed=new wijmo_1.Point(_SwipeTrigger.getSpeed(a.x,r.duration),_SwipeTrigger.getSpeed(a.y,r.duration)),r._direction=_TouchInfo._getDirection(r.startTouchInfo,r.endTouchInfo),r}return __extends(t,e),Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startTouchInfo",{get:function(){return this._startTouchInfo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endTouchInfo",{get:function(){return this._endTouchInfo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this._speed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointersCount",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},enumerable:!0,configurable:!0}),t}(_PanEventArgs);exports._SwipeEventArgs=_SwipeEventArgs;var _SwipeEvent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.raise=function(t,o){e.prototype.raise.call(this,t,o)},t}(_PanEvent);exports._SwipeEvent=_SwipeEvent;var _SwipeTrigger=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.swipe=new _SwipeEvent,t}return __extends(t,e),t.getSpeed=function(e,t){return e/t},t.prototype.onPanStart=function(t){e.prototype.onPanStart.call(this,t),this._panStartEventArgs=t},t.prototype.onPanMove=function(t){e.prototype.onPanMove.call(this,t),this._prePanMoveEventArgs=t},t.prototype.onPanEnd=function(t){e.prototype.onPanEnd.call(this,t);var o=this._createSwipeEventArgs(t);o&&this.onSwipe(o),this._panStartEventArgs=null,this._prePanMoveEventArgs=null},t.prototype.onSwipe=function(e){this.swipe.raise(this,e)},t.prototype._createSwipeEventArgs=function(e){if(!this._panStartEventArgs||!this._prePanMoveEventArgs)return null;var o=e.timeStamp-this._panStartEventArgs.timeStamp;return o>t.maxDuration?null:_TouchInfo.getDistance(this._panStartEventArgs.touchInfo,this._prePanMoveEventArgs.touchInfo)<t.minDistance?null:new _SwipeEventArgs(this._panStartEventArgs.touchInfo,this._prePanMoveEventArgs.touchInfo,e,o)},t.minDistance=50,t.maxDuration=300,t}(_PanTrigger);exports._SwipeTrigger=_SwipeTrigger;var _TouchManager=function(){function e(e,t){void 0===t&&(t=!0);var o=this;this.touchMove=new _TouchEvent,this.touchStart=new _TouchEvent,this.touchEnd=new _TouchEvent,this.panMove=new _PanEvent,this.panStart=new _PanEvent,this.panEnd=new _PanEvent,this.swipe=new _SwipeEvent,this.pinch=new _PinchEvent,this._trigger=new _SwipeTrigger(e),this._trigger.touchStart.addHandler(function(e,t){return o.onTouchStart(t)}),this._trigger.touchMove.addHandler(function(e,t){return o.onTouchMove(t)}),this._trigger.touchEnd.addHandler(function(e,t){return o.onTouchEnd(t)}),this._trigger.panStart.addHandler(function(e,t){return o.onPanStart(t)}),this._trigger.panMove.addHandler(function(e,t){return o.onPanMove(t)}),this._trigger.panEnd.addHandler(function(e,t){return o.onPanEnd(t)}),this._trigger.swipe.addHandler(function(e,t){return o.onSwipe(t)}),this._pinchTrigger=new _PinchTrigger(e),this._pinchTrigger.pinch.addHandler(function(e,t){return o.onPinch(t)}),this.removeDefaultTouch=t}return e._isTouchEvent=function(t){return t instanceof TouchEvent||(t.pointerType||"").toLowerCase()===e._touchPointerName},e._isTouchStart=function(t){return e._eventTypeContains(t,_getTouchEventMap().startName)},e._isTouchEnd=function(t){return e._eventTypeContains(t,_getTouchEventMap().endName)},e._isTouchMove=function(t){return e._eventTypeContains(t,_getTouchEventMap().moveName)},e._eventTypeContains=function(e,t){var o=t.split(",");e=e.toLowerCase();for(var n=0,i=o.length;n<i;n++){var r=o[n].trim().toLowerCase();if(e.indexOf(r)>-1)return!0}return!1},e._registerTouchInfo=function(t){if(e._isTouchEvent(t))if(t instanceof TouchEvent){e._allTouchInfos=[];for(var o=0,n=t.touches.length;o<n;o++)e._allTouchInfos.push(new _TouchInfo(t.touches.item(o)))}else if(t instanceof PointerEvent){if(e._allTouchInfos=e._allTouchInfos||[],e._isTouchEnd(t.type)){var i=0;for(n=e._allTouchInfos.length;i<n;i++)if(e._allTouchInfos[i].id==t.pointerId)return void e._allTouchInfos.splice(i,1);return}for(i=0,n=e._allTouchInfos.length;i<n;i++)if(e._allTouchInfos[i].id==t.pointerId)return void(e._allTouchInfos[i]=new _TouchInfo(t));e._allTouchInfos.push(new _TouchInfo(t))}},e.prototype.onPinch=function(e){this.pinch.raise(this,e)},e.prototype.onSwipe=function(e){this.swipe.raise(this,e)},e.prototype.onTouchEnd=function(e){this.touchEnd.raise(this,e)},e.prototype.onTouchStart=function(e){this.touchStart.raise(this,e)},e.prototype.onTouchMove=function(e){this.touchMove.raise(this,e)},e.prototype.onPanEnd=function(e){this.panEnd.raise(this,e)},e.prototype.onPanStart=function(e){this.panStart.raise(this,e)},e.prototype.onPanMove=function(e){this.panMove.raise(this,e)},Object.defineProperty(e.prototype,"removeDefaultTouch",{get:function(){return this._removeDefaultTouch},set:function(e){this._removeDefaultTouch=e;var t=this.hostElement.style;e?(t.touchAction="none",t.msTouchAction="none"):(t.touchAction=this._defaultTouchAction,t.msTouchAction=this._defaultMsTouchAction)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostElement",{get:function(){return this._pinchTrigger.hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentElement",{get:function(){return this.hostElement.children.length?this.hostElement.children[0]:null},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._pinchTrigger&&this._pinchTrigger.dispose(),this._trigger&&this._trigger.dispose(),this.removeDefaultTouch&&(this.removeDefaultTouch=!1)},e._touchPointerName="touch",e._allTouchInfos=[],e}();exports._TouchManager=_TouchManager;var _VScroller=function(e){function t(t){var o,n=e.call(this,t)||this;return n._height=100,n._max=100,n._desiredValue=0,n.valueChanged=new wijmo_1.Event,o=n.getTemplate(),n.applyTemplate(null,o,{_wrapper:"wrapper"}),n.hostElement.style.width=_Scroller.getScrollbarWidth()+1+"px",_addEvent(n.hostElement,"scroll",function(){n.onValueChanged()}),n}return __extends(t,e),t.prototype.onValueChanged=function(){this._desiredValue!=this.value&&this.valueChanged.raise(this)},t.prototype.preventScrollEvent=function(){this._desiredValue=this.hostElement.scrollTop},Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){e!==this._height&&(this._height=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.hostElement.scrollTop},set:function(e){this.hostElement.scrollTop=e,this.preventScrollEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max!==e&&(this._max=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t);var o=this._height+"px";this.hostElement.style.height!==o&&(this.hostElement.style.height=o);var n=this._max+this.hostElement.clientHeight+"px";this._wrapper.style.height!==n&&(this._wrapper.style.height=n),this.preventScrollEvent()},t.controlTemplate='<div class="wj-vscroller-wrapper" wj-part="wrapper"></div>',t}(_Scroller);exports._VScroller=_VScroller;var _ExportOptionEditor=function(e){function t(t){var o=e.call(this,t)||this;return o._options={},o._optionLabels=null,o._groupTitleField=null,wijmo_1.addClass(t,"wj-export-editor"),o}return __extends(t,e),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exportDescription",{get:function(){return this._exportDescription},set:function(e){this._exportDescription=e,this._options={},e&&(this._options.format=this.exportDescription.format,this._render())},enumerable:!0,configurable:!0}),t.prototype._skipOption=function(e){return t._skippedOptions.indexOf(e)>=0},t.prototype._render=function(){if(_removeChildren(this.hostElement),this.exportDescription){document.createElement("table");var e=this.exportDescription.optionDescriptions,o={};if(e)for(var n=0;n<e.length;n++){var i=e[n];this._skipOption(i.name)||(i.group?(o[i.group]||(o[i.group]=[]),o[i.group].push(i)):(o[t._generalGroupName]||(o[t._generalGroupName]=[]),i.group=t._generalGroupName,o[t._generalGroupName].push(i)))}for(var r in o)this.hostElement.appendChild(this._generateGroup(o[r]));this._updateEditors()}},t.prototype._generateEditor=function(e){var o;if(wijmo_1.isArray(e.allowedValues))o=this._generateComboEditor(e);else switch(e.type){case"bool":o=this._generateBoolEditor(e);break;case"int":case"float":o=this._generateNumberEditor(e);break;case"unit":e.defaultValue=new _Unit(e.defaultValue);case"string":default:o=this._generateStringEditor(e)}return o.setAttribute(t._optionIdAttr,e.name),o},t.prototype._generateComboEditor=function(e){for(var t,o=this,n=[],i=document.createElement("div"),r=0;r<e.allowedValues.length;r++)n.push(e.allowedValues[r]);return(t=new wijmo_input_1.ComboBox(i)).isEditable=!1,t.itemsSource=n,t.selectedValue=e.defaultValue,t.selectedIndexChanged.addHandler(function(t){o._setOptionValue(e.name,t.selectedValue.toString())}),i},t.prototype._generateBoolEditor=function(e){var t,o=this;if(e.nullable){t=document.createElement("div");var n=new wijmo_input_1.ComboBox(t),i=[];n.isEditable=!1,n.displayMemberPath="name",n.selectedValuePath="value",i.push({name:"None",value:null}),i.push({name:"True",value:!0}),i.push({name:"False",value:!1}),n.itemsSource=i,n.selectedValue=e.defaultValue,n.selectedIndexChanged.addHandler(function(t){o._setOptionValue(e.name,t.selectedValue),o._updateEditors(e.name)})}else{(t=document.createElement("input")).type="checkbox";var r=wijmo_1.changeType(e.defaultValue,wijmo_1.DataType.Boolean,null);t.checked=r,_addEvent(t,"click",function(){o._setOptionValue(e.name,t.checked),o._updateEditors(e.name)})}return t},t.prototype._generateNumberEditor=function(e){var t,o,n=this,i="int"===e.type;return t=document.createElement("div"),(o=new wijmo_input_1.InputNumber(t)).format=i?"n0":"n2",o.isRequired=!e.nullable,o.value=e.defaultValue,o.valueChanged.addHandler(function(t){n._setOptionValue(e.name,t.value)}),t},t.prototype._generateStringEditor=function(e){var t,o=this;return t=document.createElement("input"),e.name.match(/password/i)?t.type="password":t.type="text",t.value=e.defaultValue,_addEvent(t,"change,keyup,paste,input",function(){o._setOptionValue(e.name,t.value)}),t},t.prototype._generateGroup=function(e){var o=document.createElement("fieldset"),n=document.createElement("legend"),i=e[0].group;wijmo_1.addClass(o,"wj-exportformats-group"),n.innerHTML=this._groupTitle[i],n.setAttribute(t._optionNameAttr,i),o.appendChild(n);for(var r=document.createElement("table"),a=0;a<e.length;a++){var s=e[a],c=document.createElement("tr"),u=document.createElement("td"),p=document.createElement("td");u.innerHTML=this._getOptionLabel(s.name),u.setAttribute(t._optionNameAttr,s.name),p.appendChild(this._generateEditor(s)),c.appendChild(u),c.appendChild(p),r.appendChild(c)}return o.appendChild(r),o},t.prototype._updateEditors=function(e){if("pdfACompatible"!==e&&e){if("paged"===e||!e){var o=this.hostElement.querySelector("["+t._optionIdAttr+'="showNavigator"]');if(o){var n=wijmo_1.changeType(this._getOptionValue("paged"),wijmo_1.DataType.Boolean,null);n?(o.checked=this._previousShowNavigator,this._setOptionValue("showNavigator",this._previousShowNavigator)):(this._previousShowNavigator=o.checked,o.checked=!1,this._setOptionValue("showNavigator",!1)),o.disabled=!n}}}else{var i=this.hostElement.querySelector("["+t._optionIdAttr+'="embedFonts"]');if(i){var r=wijmo_1.changeType(this._getOptionValue("pdfACompatible"),wijmo_1.DataType.Boolean,null);r?(this._previousEmbedFonts=i.checked,i.checked=!0,this._setOptionValue("embedFonts",!0)):(i.checked=this._previousEmbedFonts,this._setOptionValue("embedFonts",this._previousEmbedFonts)),i.disabled=r}}},t.prototype._getOptionLabel=function(e){var t=this._optionLabelsText[e];return t||e[0].toUpperCase()+e.substring(1)},t.prototype._getOptionDescByName=function(e){var t=null;return this._exportDescription.optionDescriptions.some(function(o){return o.name===e&&(t=o,!0)}),t},t.prototype._getOptionValue=function(e){return void 0!==this._options[e]?this._options[e]:this._getOptionDescByName(e).defaultValue},t.prototype._setOptionValue=function(e,t){var o=this._getOptionDescByName(e),n=o.defaultValue;"unit"===o.type&&(n=o.defaultValue.toString()),t!==n?this._options[e]=t:void 0!==this._options[e]&&delete this._options[e]},Object.defineProperty(t.prototype,"_optionLabelsText",{get:function(){if(!this._optionLabels){var e=wijmo_1.culture.Viewer;this._optionLabels={title:e.docInfoTitle,author:e.docInfoAuthor,manager:e.docInfoManager,operator:e.docInfoOperator,company:e.docInfoCompany,subject:e.docInfoSubject,comment:e.docInfoComment,creator:e.docInfoCreator,producer:e.docInfoProducer,creationTime:e.docInfoCreationTime,revisionTime:e.docInfoRevisionTime,keywords:e.docInfoKeywords,embedFonts:e.embedFonts,pdfACompatible:e.pdfACompatible,useCompression:e.useCompression,useOutlines:e.useOutlines,allowCopyContent:e.allowCopyContent,allowEditAnnotations:e.allowEditAnnotations,allowEditContent:e.allowEditContent,allowPrint:e.allowPrint,ownerPassword:e.ownerPassword,userPassword:e.userPassword,encryptionType:e.encryptionType,paged:e.paged,showNavigator:e.showNavigator,navigatorPosition:e.navigatorPosition,singleFile:e.singleFile,tolerance:e.tolerance,pictureLayer:e.pictureLayer,metafileType:e.metafileType,monochrome:e.monochrome,resolution:e.resolution,outputRange:e.outputRange,outputRangeInverted:e.outputRangeInverted}}return this._optionLabels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_groupTitle",{get:function(){return this._groupTitleField||(this._groupTitleField={documentRestrictions:wijmo_1.culture.Viewer.documentRestrictionsGroup,passwordSecurity:wijmo_1.culture.Viewer.passwordSecurityGroup,outputRange:wijmo_1.culture.Viewer.outputRangeGroup,documentInfo:wijmo_1.culture.Viewer.documentInfoGroup,general:wijmo_1.culture.Viewer.generalGroup}),this._groupTitleField},enumerable:!0,configurable:!0}),t.prototype._globalize=function(){for(var e=this.hostElement.querySelectorAll("["+t._optionNameAttr+"]"),o=0;o<e.length;o++){var n=e[o];n instanceof HTMLLegendElement?n.innerHTML=this._groupTitle[n.getAttribute(t._optionNameAttr)]:n.innerHTML=this._getOptionLabel(n.getAttribute(t._optionNameAttr))}},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),t&&(this._optionLabels=null,this._groupTitleField=null,this._globalize())},t._optionIdAttr="option-id",t._optionNameAttr="option-name",t._skippedOptions=["shapesWord2007Compatible","sheetName","navigatorPositions"],t._generalGroupName="general",t}(wijmo_1.Control);function _saveBlob(e,t){if(e&&e instanceof Blob&&t)if(navigator.msSaveBlob)navigator.msSaveBlob(e,t);else{var o=document.createElement("a"),n=function(e){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)};if("download"in o){var i=window.URL||window.webkitURL||window,r=i.createObjectURL(e);o.href=r,o.target="_blank",o.download=t,n(o),o=null,window.setTimeout(function(){i.revokeObjectURL(r)},3e4)}else{var a=new FileReader;a.onloadend=function(e){o.download=t,o.href=a.result,n(o),o=null},a.readAsDataURL(e)}}}function _statusJsonReviver(e,t){if(wijmo_1.isString(t)){if(_strEndsWith(e,"DateTime"))return new Date(t);if("width"===e||"height"===e||_strEndsWith(e,"Margin"))return new _Unit(t)}return t}function _pageSettingsJsonReviver(e,t){return wijmo_1.isString(t)&&("width"===e||"height"===e||_strEndsWith(e,"Margin"))?new _Unit(t):t}function _appendQueryString(e,t){t=t||{};var o=[];for(var n in t)o.push(n+"="+t[n]);o.length&&(e+=(e.indexOf("?")<0?"?":"&")+o.join("&"));return e}function _joinUrl(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o=[],n=0,i=e.length;n<i;n++){var r=e[n];r&&("string"!=typeof r?o=o.concat(_joinStringUrl(r)):o.push(_prepareStringUrl(r).join("/")))}return o.join("/")}function _joinStringUrl(e){if(null==e)return null;for(var t=[],o=0,n=e.length;o<n;o++)t=t.concat(_prepareStringUrl(e[o]));return t}function _prepareStringUrl(e){var t=e.split("/");return t.length>0&&!t[t.length-1].length&&t.splice(t.length-1),t}function _parseReportExecutionInfo(e){return JSON.parse(e,_statusJsonReviver)}function _httpRequest(e,t,o){if((o&&o.cache||(e=_disableCache(e)),o)&&"GET"!==(o.method||"GET").toUpperCase()){if(o.data&&!1!==o.urlEncode){var n=_objToParams(o.data);null!=n&&(o.data=n)}!1!==o.urlEncode&&(o.requestHeaders?o.requestHeaders["Content-Type"]||(o.requestHeaders["Content-Type"]="application/x-www-form-urlencoded"):o.requestHeaders={"Content-Type":"application/x-www-form-urlencoded"})}t&&t.requestHeaders&&((o=o||{}).requestHeaders=o.requestHeaders||{},Object.keys(t.requestHeaders).forEach(function(e){o.requestHeaders[e]=t.requestHeaders[e]}));var i=new RequestEventArgs(e,o);return t&&t.beforeSend&&t.beforeSend(i),wijmo_1.httpRequest(i.url,i.settings)}function _objToParams(e){var t=[];for(var o in e=e||{})if(null!==e[o]&&void 0!==e[o])if(wijmo_1.isArray(e[o]))if(e[o].length>0)for(var n=0;n<e[o].length;n++)t.push(o+"="+encodeURIComponent(e[o][n]));else t.push(o+"=");else t.push(o+"="+encodeURIComponent(e[o]));return t.join("&")}exports._ExportOptionEditor=_ExportOptionEditor,exports._saveBlob=_saveBlob,exports._statusJsonReviver=_statusJsonReviver,exports._pageSettingsJsonReviver=_pageSettingsJsonReviver,exports._appendQueryString=_appendQueryString,exports._joinUrl=_joinUrl,exports._joinStringUrl=_joinStringUrl,exports._prepareStringUrl=_prepareStringUrl,exports._parseReportExecutionInfo=_parseReportExecutionInfo,exports._httpRequest=_httpRequest;var _ArActionKind,_ArParameterType,_ArParameterState,_HistoryManager=function(){function e(){this._items=[{}],this._position=0,this.statusChanged=new wijmo_1.Event}return e.prototype._onStatusChanged=function(){this.statusChanged.raise(this,new wijmo_1.EventArgs)},Object.defineProperty(e.prototype,"current",{get:function(){return this._items[this._position]},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._items=[{}],this._position=0,this._onStatusChanged()},e.prototype.add=function(){this._items.splice(++this._position),this._items.push({}),this._onStatusChanged()},e.prototype.forward=function(){if(!this.canForward())return null;var e=this._items[++this._position];return this._onStatusChanged(),e},e.prototype.backward=function(){if(!this.canBackward())return null;var e=this._items[--this._position];return this._onStatusChanged(),e},e.prototype.canForward=function(){return this._position<this._items.length-1},e.prototype.canBackward=function(){return this._position>0},e}();exports._HistoryManager=_HistoryManager,function(e){e.Hyperlink="hyperlink",e.Bookmark="bookmark",e.Drillthrough="drillthrough",e.Sort="sort",e.Toggle="toggle"}(_ArActionKind=exports._ArActionKind||(exports._ArActionKind={})),function(e){e[e.String=0]="String",e[e.DateTime=1]="DateTime",e[e.Boolean=2]="Boolean",e[e.Integer=3]="Integer",e[e.Float=4]="Float"}(_ArParameterType=exports._ArParameterType||(exports._ArParameterType={})),function(e){e[e.OK=0]="OK",e[e.ExpectValue=1]="ExpectValue",e[e.HasOutstandingDependencies=2]="HasOutstandingDependencies",e[e.ValuesValidationFailed=3]="ValuesValidationFailed",e[e.DynamicValuesUnavailable=4]="DynamicValuesUnavailable"}(_ArParameterState=exports._ArParameterState||(exports._ArParameterState={}));var _DocumentService=function(){function e(e,t){this._url="",this._url=e.serviceUrl||"",this._documentPath=e.filePath,this._httpHandler=t}return Object.defineProperty(e.prototype,"serviceUrl",{get:function(){return this._url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filePath",{get:function(){return this._documentPath},enumerable:!0,configurable:!0}),e.prototype.getStatus=function(){throw exports._abstractMethodExceptionText},e.prototype.setPageSettings=function(e){throw exports._abstractMethodExceptionText},e.prototype.getBookmark=function(e){throw exports._abstractMethodExceptionText},e.prototype.executeCustomAction=function(e){throw exports._abstractMethodExceptionText},e.prototype.load=function(e){throw exports._abstractMethodExceptionText},e.prototype.dispose=function(){throw exports._abstractMethodExceptionText},e.prototype.getOutlines=function(){throw exports._abstractMethodExceptionText},e.prototype.renderToFilter=function(e){throw exports._abstractMethodExceptionText},e.prototype.search=function(e){throw exports._abstractMethodExceptionText},e.prototype.getRenderToFilterUrl=function(e){throw exports._abstractMethodExceptionText},e.prototype.getExportedUrl=function(e){throw exports._abstractMethodExceptionText},e.prototype.getSupportedExportDescriptions=function(){throw exports._abstractMethodExceptionText},e.prototype.getFeatures=function(){throw exports._abstractMethodExceptionText},e.prototype.getPingTimeout=function(){return 100},e.prototype.getFileName=function(){var e=/([^\\/]+)$/.exec(this.filePath)[1];return e.lastIndexOf(".")>=0?e.substr(0,e.lastIndexOf(".")):e},e.prototype.downloadDataUrl=function(e){var t=new _Promise;return this.downloadBlob(e).then(function(e){var o=new FileReader;o.onloadend=function(e){t.resolve(o.result)},o.readAsDataURL(e)}),t},e.prototype.downloadBlob=function(e){var t=new _Promise;return this.httpRequest(e,{beforeSend:function(e){e.responseType="blob"}}).then(function(e){t.resolve(e.response)}),t},e.prototype.httpRequest=function(e,t){var o=this;t=t||{};var n=new _Promise,i=t.error,r=t.success;return t.error=function(e){wijmo_1.isFunction(i)&&i.call(o,e),n.reject(e)},t.success=function(e){wijmo_1.isFunction(r)&&r.call(o,e),n.resolve(e)},_httpRequest(e,this._httpHandler,t),n},e}();exports._DocumentService=_DocumentService;var _ReportServiceBase=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){throw exports._abstractMethodExceptionText},t}(_DocumentService);exports._ReportServiceBase=_ReportServiceBase;var _ReportService=function(e){function t(t,o){var n=e.call(this,t,o)||this;return n._reportName=t.reportName,n}return __extends(t,e),Object.defineProperty(t.prototype,"isCleared",{get:function(){return!this._instanceId&&this._status==_ExecutionStatus.cleared},enumerable:!0,configurable:!0}),t.getReportNames=function(e,o,n){return t.getReports(e,o,null,n).then(function(e){if(!e)return null;var t=[];return e.items.forEach(function(e){e.type===CatalogItemType.Report&&t.push(e.name)}),t})},t.getReports=function(e,t,o,n){var i=new _Promise;return _httpRequest(_joinUrl(e,t),n,{data:o,success:function(e){i.resolve(JSON.parse(e.responseText))},error:function(e){return i.reject(e)}}),i},Object.defineProperty(t.prototype,"reportName",{get:function(){return this._reportName},enumerable:!0,configurable:!0}),t.prototype.getBookmark=function(e){var o=new _Promise;return this._checkReportInstanceController(o)?(this.httpRequest(this._getReportInstancesUrl(t._bookmarkAction,e)).then(function(e){o.resolve(JSON.parse(e.responseText))}),o):o},t.prototype.executeCustomAction=function(e){var o={};return o[t._customActionParam]=e.data,this.render(o)},t.prototype.getStatus=function(){var e=new _Promise;return this.httpRequest(this._statusLocation).then(function(t){e.resolve(JSON.parse(t.responseText,_statusJsonReviver))}),e},t.prototype.getDocumentStatus=function(){return this._getReportCache()},t.prototype._getReportCache=function(){var e=new _Promise;return this._checkReportInstanceController(e)?(this.httpRequest(this._getReportInstancesUrl()).then(function(t){e.resolve(_parseReportExecutionInfo(t.responseText))}),e):e},t.prototype.getParameters=function(){var e=new _Promise;return this._checkReportInstanceController(e)?(this.httpRequest(this._getReportInstancesUrl(t._parametersAction)).then(function(t){e.resolve(JSON.parse(t.responseText))}),e):e},t.prototype._getUrlMainPart=function(){return _joinUrl(this.serviceUrl,this.filePath,this.reportName)},t.prototype._getReportUrl=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return _joinUrl(this._getUrlMainPart(),t._reportCommand,e)},t.prototype._getReportInstancesUrl=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return _joinUrl(this._getUrlMainPart(),t._instancesCommand,this._instanceId,e)},t.prototype._checkReportController=function(e){if(null!=this.serviceUrl&&this.filePath&&(!(_strEndsWith(this.filePath,".flxr",!0)||_strEndsWith(this.filePath,".xml",!0))||this.reportName))return!0;return e&&e.reject(t._invalidReportControllerError),!1},t.prototype._checkReportInstanceController=function(e){return!(!this._checkReportController(e)||!this._instanceId)||(e&&e.reject(t._invalidReportCacheControllerError),!1)},t.prototype._getError=function(e){var t=e.responseText;try{t&&(t=JSON.parse(t))}finally{return t}},t.prototype.render=function(e){var o=this,n=new _Promise;return this._checkReportInstanceController(n)?(this.httpRequest(this._getReportInstancesUrl(t._renderAction),{method:"POST",data:e}).then(function(e){var t=202===e.status?{status:_ExecutionStatus.rendering}:_parseReportExecutionInfo(e.responseText);o._status=t.status,n.resolve(t)},function(e){n.reject(o._getError(e))}),n):n},t.prototype.renderToFilter=function(e){var t=this,o=new _Promise;return this._checkReportInstanceController(o)?(this.getRenderToFilterUrl(e).then(function(e){t.httpRequest(e,{cache:!0}).then(function(e){o.resolve(e)},function(e){o.reject(t._getError(e))})}),o):o},t.prototype.load=function(e){var t=this,o=new _Promise;return this._checkReportController(o)?(this.httpRequest(this._getReportInstancesUrl(),{method:"POST",data:e}).then(function(e){var n=_parseReportExecutionInfo(e.responseText);t._instanceId=n.id,t._status=_ExecutionStatus.loaded,t._outlinesLocation=n.outlinesLocation,t._statusLocation=n.statusLocation,t._pageSettingsLocation=n.pageSettingsLocation,t._featuresLocation=n.featuresLocation,t._parametersLocation=n.parametersLocation,o.resolve(n)},function(e){o.reject(t._getError(e))}),o):o},t.prototype.cancel=function(){var e=this,o=new _Promise;return this._checkReportInstanceController(o)?this._status!==_ExecutionStatus.rendering?(o.reject("Cannot execute cancel when the report is not rendering."),o):(this.httpRequest(this._getReportInstancesUrl(t._cancelAction),{method:"POST"}).then(function(t){var n=_parseReportExecutionInfo(t.responseText);e._status=n.status.status,o.resolve(n)}),o):o},t.prototype.dispose=function(){var e=this,t=new _Promise;return this._checkReportInstanceController()?(this.httpRequest(this._getReportInstancesUrl(),{method:"DELETE"}).then(function(o){e._status=_ExecutionStatus.cleared,e._instanceId="",t.resolve()}),t):t},t.prototype.getOutlines=function(){var e=new _Promise;return this._checkReportInstanceController(e)?(this.httpRequest(this._getReportInstancesUrl(t._outlinesAction)).then(function(t){e.resolve(JSON.parse(t.responseText))}),e):e},t.prototype.getRenderToFilterUrl=function(e){var o=new _Promise,n=null;return this._checkReportInstanceController()&&(n=_appendQueryString(n=_disableCache(n=this._getReportInstancesUrl(t._exportAction)),e),o.resolve(n)),o.resolve(n),o},t.prototype.getExportedUrl=function(e){return this.getRenderToFilterUrl(e)},t.prototype.search=function(e){var o=new _Promise;return this._checkReportInstanceController(o)?(this.httpRequest(this._getReportInstancesUrl(t._searchAction),{data:e}).then(function(e){o.resolve(JSON.parse(e.responseText))}),o):o},t.prototype.setPageSettings=function(e){var o=this,n=new _Promise;if(!this._checkReportInstanceController(n))return n;var i=this._getReportInstancesUrl(t._pageSettingsAction);return this.httpRequest(i,{method:"PUT",data:e}).then(function(e){n.resolve(JSON.parse(e.responseText,_pageSettingsJsonReviver))},function(e){n.reject(o._getError(e))}),n},t.prototype.setParameters=function(e){var o=this,n=new _Promise;if(!this._checkReportInstanceController(n))return n;Object.keys(e).forEach(function(t){null===e[t]&&(e[t]=""),e[t]instanceof Date&&(e[t]=wijmo_1.Globalize.formatDate(e[t],"yyyy/MM/dd HH:mm:ss"))});var i=this._getReportInstancesUrl(t._parametersAction);return this.httpRequest(i,{method:"PATCH",data:e}).then(function(e){n.resolve(JSON.parse(e.responseText))},function(e){n.reject(o._getError(e))}),n},t.prototype.getSupportedExportDescriptions=function(){var e=new _Promise;return this._checkReportInstanceController(e)?(this.httpRequest(this._getReportInstancesUrl(t._supportedFormatsAction)).then(function(t){e.resolve(JSON.parse(t.responseText))}),e):e},t.prototype.getFeatures=function(){var e=new _Promise;return this._checkReportInstanceController(e)?(this.httpRequest(this._featuresLocation).then(function(t){e.resolve(JSON.parse(t.responseText))}),e):e},t._reportCommand="$report",t._instancesCommand="$instances",t._customActionParam="actionString",t._renderAction="render",t._searchAction="search",t._cancelAction="stop",t._outlinesAction="outlines",t._exportAction="export",t._parametersAction="parameters",t._bookmarkAction="bookmarks",t._pageSettingsAction="pagesettings",t._supportedFormatsAction="supportedformats",t._invalidReportControllerError="Cannot call the service without service url, document path or report name.",t._invalidReportCacheControllerError="Cannot call the service when service url is not set or the report is not loaded.",t}(_ReportServiceBase);exports._ReportService=_ReportService;var _DocumentSource=function(){function e(e,t){this._hasOutlines=!1,this._pageCount=0,this._supportedExportDescriptions=[],this._isLoadCompleted=!1,this._isInstanceCreated=!1,this._isDisposed=!1,this._errors=[],this.pageCountChanged=new wijmo_1.Event,this.disposed=new wijmo_1.Event,this.pageSettingsChanged=new wijmo_1.Event,this.loading=new wijmo_1.Event,this.loadCompleted=new wijmo_1.Event,this.queryLoadingData=new wijmo_1.Event,this._httpHandler=t,this._service=this._createDocumentService(e),this._paginated=e.paginated}return e.prototype.onQueryLoadingData=function(e){this.queryLoadingData.raise(this,e)},e.prototype._updateIsLoadCompleted=function(e){this._isLoadCompleted!==e&&(this._isLoadCompleted=e,e&&this.onLoadCompleted())},e.prototype._updateIsDisposed=function(e){this._isDisposed!==e&&(this._isDisposed=e,this.onDisposed())},e.prototype._getIsDisposed=function(){return this._isDisposed},e.prototype._checkHasOutlines=function(e){return e.hasOutlines},e.prototype._checkIsLoadCompleted=function(e){return e.status===_ExecutionStatus.completed||e.status===_ExecutionStatus.stopped||e.status===_ExecutionStatus.loaded},Object.defineProperty(e.prototype,"encodeRequestParams",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"executionDateTime",{get:function(){return this._executionDateTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expiredDateTime",{get:function(){return this._expiredDateTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoadCompleted",{get:function(){return this._isLoadCompleted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInstanceCreated",{get:function(){return this._isInstanceCreated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._getIsDisposed()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"features",{get:function(){return this._features},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSettings",{get:function(){return this._pageSettings},enumerable:!0,configurable:!0}),e.prototype.onPageSettingsChanged=function(e){this.pageSettingsChanged.raise(this,e||new wijmo_1.EventArgs)},e.prototype.onLoadCompleted=function(e){this.loadCompleted.raise(this,e||new wijmo_1.EventArgs)},e.prototype.onLoading=function(e){this.loading.raise(this,e||new wijmo_1.EventArgs)},e.prototype.onDisposed=function(e){this.disposed.raise(this,e||new wijmo_1.EventArgs)},e.prototype.setPageSettings=function(e){var t=this;return this._innerService.setPageSettings(e).then(function(e){return t._updatePageSettings(e)})},e.prototype._updatePageSettings=function(e){this._pageSettings=e,this.onPageSettingsChanged()},Object.defineProperty(e.prototype,"_innerService",{get:function(){return this._service},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paginated",{get:function(){return this.pageSettings?this.pageSettings.paginated:this._paginated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasThumbnails",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasOutlines",{get:function(){return this._hasOutlines},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageCount",{get:function(){return this._pageCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"initialPosition",{get:function(){return this._initialPosition},set:function(e){this._initialPosition=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"service",{get:function(){return this._service},enumerable:!0,configurable:!0}),e.prototype.getSupportedExportDescriptions=function(){return this._innerService.getSupportedExportDescriptions()},e.prototype.getBookmark=function(e){return this._innerService.getBookmark(e)},e.prototype.executeCustomAction=function(e){return this._innerService.executeCustomAction(e)},e.prototype.getOutlines=function(){return this._innerService.getOutlines()},e.prototype.getFeatures=function(){var e=this;return this._innerService.getFeatures().then(function(t){e._features=t})},e.prototype.dispose=function(){var e=this;return this._innerService.dispose().then(function(){return e._updateIsDisposed(!0)})},e.prototype.load=function(){var e=this;this.onLoading();var t={};null!=this._paginated&&(t["pageSettings.paginated"]=this.paginated);var o=new QueryLoadingDataEventArgs(t);return this.onQueryLoadingData(o),this._innerService.load(o.data).then(function(t){e._updateExecutionInfo(t)})},e.prototype._updateExecutionInfo=function(e){null!=e&&(this._executionDateTime=this._getExecutionDateTime(e),this._expiredDateTime=this._getExpiredDateTime(e),this._updatePageSettings(e.pageSettings),this._features=e.features,this._isInstanceCreated=null!=e.status&&e.status.status!==_ExecutionStatus.notFound&&e.status.status!==_ExecutionStatus.cleared,this._updateDocumentStatus(e.status))},e.prototype._updateDocumentStatus=function(e){e&&(this._errors=e.errorList,this._initialPosition=e.initialPosition,this._updatePageCount(this._getPageCount(e)),this._expiredDateTime=this._getExpiredDateTime(e),this._hasOutlines=this._checkHasOutlines(e),this._updateIsLoadCompleted(this._checkIsLoadCompleted(e)))},e.prototype._getExecutionDateTime=function(e){return e.loadedDateTime},e.prototype._getExpiredDateTime=function(e){return e.expiredDateTime},e.prototype._getPageCount=function(e){return e.pageCount},e.prototype._updatePageCount=function(e){this._pageCount!==e&&(this._pageCount=e,this.onPageCountChanged())},e.prototype.getStatus=function(){var e=this;return this._innerService.getStatus().then(function(t){e._updateDocumentStatus(t)})},e.prototype._createDocumentService=function(t){throw e._abstractMethodException},e.prototype.onPageCountChanged=function(e){this.pageCountChanged.raise(this,e||new wijmo_1.EventArgs)},e.prototype.export=function(e){var t=this;this.getExportedUrl(e).then(function(o){t._innerService.downloadBlob(o).then(function(o){var n=e.format;n.match("bmp|emf|gif|html|jpeg|jpg|png|tif|tiff")&&"application/zip"===o.type&&(n="zip"),"zip"===n&&"application/x-emf"===o.type&&(n="emf"),_saveBlob(o,t._innerService.getFileName()+"."+n)})})},e.prototype.print=function(e){var t=this;if(wijmo_1.isMobile())this.export({format:"pdf"});else{var o=new wijmo_1.PrintDocument({title:"Document"});this.renderToFilter({format:"html"}).then(function(n){o.append(n.responseText),o._getDocument().close(),window.setTimeout(function(){t._removeScript(o),t._rotate(o,e),o.print()},100)})}},Object.defineProperty(e.prototype,"httpHandler",{get:function(){return this._httpHandler},enumerable:!0,configurable:!0}),e.prototype._removeScript=function(e){for(var t=e._getDocument().querySelectorAll("script"),o=0;o<t.length;o++){var n=t.item(o);n.parentElement.removeChild(n)}},e.prototype._rotate=function(e,t){if(t&&t.length)for(var o=e._getDocument().querySelectorAll("svg"),n=0;n<o.length;n++){var i=t[n];if(i){for(var r=o[n],a=document.createElementNS("http://www.w3.org/2000/svg","g");r.hasChildNodes();)a.appendChild(r.firstChild);r.appendChild(a);var s={width:new _Unit(r.width.baseVal.value),height:new _Unit(r.height.baseVal.value)},c=_getRotatedSize(s,i),u=r.parentNode;u.style.width=c.width.valueInPixel+"px",u.style.height=c.height.valueInPixel+"px",r.setAttribute("width",c.width.valueInPixel.toString()+"px"),r.setAttribute("height",c.height.valueInPixel.toString()+"px"),_transformSvg(o[n],s.width.valueInPixel,s.height.valueInPixel,1,i)}}},e.prototype.renderToFilter=function(e){return this._innerService.renderToFilter(e)},e.prototype.getRenderToFilterUrl=function(e){return this._innerService.getRenderToFilterUrl(e)},e.prototype.getExportedUrl=function(e,t){var o=this;void 0===t&&(t=!1);var n=new _Promise;return this._innerService.getExportedUrl(e).then(function(e){var i=new RequestEventArgs(e,null);t&&o.httpHandler.beforeSend(i),n.resolve(i.url)}),n},e.prototype.search=function(e){return this._innerService.search(e)},e._abstractMethodException="It is an abstract method, please implement it.",e}();exports._DocumentSource=_DocumentSource;var _ReportSourceBase=function(e){function t(t,o){var n=e.call(this,t,o)||this;return n._status=_ExecutionStatus.notFound,n.statusChanged=new wijmo_1.Event,n}return __extends(t,e),Object.defineProperty(t.prototype,"autoRun",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasParameters",{get:function(){throw _DocumentSource._abstractMethodException},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},set:function(e){e!==this._status&&(this._status=e,this.onStatusChanged(wijmo_1.EventArgs.empty))},enumerable:!0,configurable:!0}),t.prototype.getParameters=function(){throw _DocumentSource._abstractMethodException},t.prototype.setParameters=function(e){throw _DocumentSource._abstractMethodException},t.prototype.render=function(){var e=this;return this._innerService.render().then(function(t){return e._updateDocumentStatus(t)})},t.prototype.executeCustomAction=function(e){var t=this;return this._innerService.executeCustomAction(e).then(function(e){return t._updateDocumentStatus(e)})},t.prototype.onStatusChanged=function(e){this.statusChanged.raise(this,e)},Object.defineProperty(t.prototype,"_innerService",{get:function(){return this.service},enumerable:!0,configurable:!0}),t.prototype._updateDocumentStatus=function(t){t&&(this.status=t.status),e.prototype._updateDocumentStatus.call(this,t)},t}(_DocumentSource);exports._ReportSourceBase=_ReportSourceBase;var _Report=function(e){function t(t,o){var n=e.call(this,t,o)||this;return n._hasParameters=!1,n}return __extends(t,e),t.getReportNames=function(e,t,o){return _ReportService.getReportNames(e,t,o)},t.getReports=function(e,t,o,n){return wijmo_1.isBoolean(o)&&(o={recursive:o}),_ReportService.getReports(e,t,o,n)},Object.defineProperty(t.prototype,"reportName",{get:function(){return this._innerService?this._innerService.reportName:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasParameters",{get:function(){return this._hasParameters},enumerable:!0,configurable:!0}),t.prototype.load=function(){return e.prototype.load.call(this)},t.prototype.cancel=function(){var e=this;return this._innerService.cancel().then(function(t){return e._updateDocumentStatus(t)})},t.prototype.dispose=function(){return e.prototype.dispose.call(this)},t.prototype.setParameters=function(e){var t=this;return this._innerService.setParameters(e).then(function(e){t._parameters=e})},t.prototype.getParameters=function(){var e=this;if(this._parameters&&this._parameters.length){var t=new _Promise;return t.resolve(this._parameters),t}return this._innerService.getParameters().then(function(t){e._parameters=t})},t.prototype._getIsDisposed=function(){return e.prototype._getIsDisposed.call(this)||this._innerService.isCleared},t.prototype._updateExecutionInfo=function(t){null==t||this.isDisposed||(this._hasParameters=!!t.hasParameters,e.prototype._updateExecutionInfo.call(this,t))},t.prototype._checkIsLoadCompleted=function(e){return e.status===_ExecutionStatus.completed||e.status===_ExecutionStatus.stopped},t.prototype._createDocumentService=function(e){return new _ReportService(e,this.httpHandler)},Object.defineProperty(t.prototype,"_innerService",{get:function(){return this.service},enumerable:!0,configurable:!0}),t}(_ReportSourceBase);exports._Report=_Report;var _PdfDocumentSource=function(e){function t(t,o){var n=e.call(this,t,o)||this;return n._status=_ExecutionStatus.notFound,n}return __extends(t,e),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_innerService",{get:function(){return this.service},enumerable:!0,configurable:!0}),t.prototype._createDocumentService=function(e){return new _PdfDocumentService(e,this.httpHandler)},t.prototype.load=function(){return e.prototype.load.call(this)},t.prototype._updateStatus=function(e){this._status!==e&&(this._status=e)},t.prototype.getStatus=function(){var e=this,t=new QueryLoadingDataEventArgs;return this.onQueryLoadingData(t),this._innerService.getStatus(t.data).then(function(t){return e._updateDocumentStatus(t)})},t.prototype.renderToFilter=function(e){var t=new QueryLoadingDataEventArgs;return this.onQueryLoadingData(t),this._innerService.renderToFilter(e,t.data)},t.prototype._updateDocumentStatus=function(t){null!=t&&(this._updateStatus(t.status),e.prototype._updateDocumentStatus.call(this,t))},t}(_DocumentSource);exports._PdfDocumentSource=_PdfDocumentSource;var _PdfDocumentService=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype._getPdfUrl=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return _joinUrl(this.serviceUrl,this.filePath,t._pdfCommand,e)},t.prototype._getPdfStatus=function(e){var t=this,o=new _Promise;return this._checkPdfController(o)?(this.httpRequest(this._getPdfUrl(),{data:e}).then(function(e){var n=_parseExecutionInfo(e.responseText);t._status=_ExecutionStatus.loaded,t._statusLocation=n.statusLocation,t._featuresLocation=n.featuresLocation,o.resolve(n)},function(e){o.reject(e.statusText)}),o):o},t.prototype._checkPdfController=function(e){return!(null==this.serviceUrl||!this.filePath)||(e&&e.reject(t._invalidPdfControllerError),!1)},t.prototype.dispose=function(){var e=new _Promise;return e.resolve(),e},t.prototype.load=function(e){return this._getPdfStatus(e)},t.prototype.getStatus=function(e){var t=new _Promise;return this.httpRequest(this._statusLocation,{data:e}).then(function(e){t.resolve(JSON.parse(e.responseText))}),t},t.prototype.renderToFilter=function(e,t){var o=this,n=new _Promise;return this._checkPdfController(n)?(this.getRenderToFilterUrl(e).then(function(e){o.httpRequest(e,{data:t,cache:!0}).then(function(e){n.resolve(e)})}),n):n},t.prototype.getRenderToFilterUrl=function(e){var o=new _Promise,n=null;return this._checkPdfController()&&(n=_appendQueryString(n=_disableCache(n=this._getPdfUrl(t._exportAction)),e)),o.resolve(n),o},t.prototype.getExportedUrl=function(e){return this.getRenderToFilterUrl(e)},t.prototype.getSupportedExportDescriptions=function(){var e=new _Promise;return this._checkPdfController(e)?(this.httpRequest(this._getPdfUrl(t._supportedFormatsAction)).then(function(t){e.resolve(JSON.parse(t.responseText))}),e):e},t.prototype.getFeatures=function(){var e=new _Promise;return this._checkPdfController(e)?(this.httpRequest(this._featuresLocation).then(function(t){e.resolve(JSON.parse(t.responseText))}),e):e},t.prototype.search=function(e){var o=new _Promise;return this._checkPdfController(o)?(this.httpRequest(this._getPdfUrl(t._searchAction),{data:e}).then(function(e){o.resolve(JSON.parse(e.responseText))}),o):o},t._pdfCommand="$pdf",t._exportAction="export",t._supportedFormatsAction="supportedformats",t._searchAction="search",t._invalidPdfControllerError="Cannot call the service when service url is not set or the pdf is not loaded.",t}(_DocumentService);function _parseExecutionInfo(e){return JSON.parse(e,_statusJsonReviver)}exports._PdfDocumentService=_PdfDocumentService,exports._parseExecutionInfo=_parseExecutionInfo;var _SearchManager=function(){function e(){this._currentIndex=-1,this.currentChanged=new wijmo_1.Event,this.searchStarted=new wijmo_1.Event,this.searchCompleted=new wijmo_1.Event}return Object.defineProperty(e.prototype,"current",{get:function(){return this._currentIndex<0?null:this._searchResult[this._currentIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(e){var t=this;e!==this._currentIndex&&this._getSearchResults().then(function(o){t._currentIndex=e,t._onCurrentChanged()})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"documentSource",{get:function(){return this._documentSource},set:function(e){this._documentSource=e,this.clear()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matchCase",{get:function(){return this._matchCase},set:function(e){this._matchCase!==e&&(this._matchCase=e,this._needUpdate=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"searchResult",{get:function(){return this._searchResult},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(e){this._text!==e&&(this._text=e,this._needUpdate=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wholeWord",{get:function(){return this._wholeWord},set:function(e){this._wholeWord!==e&&(this._wholeWord=e,this._needUpdate=!0)},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._clearResults(),this._text=null,this._matchCase=!1,this._wholeWord=!1,this._currentIndex=-1},e.prototype.search=function(e){var t=this;this._needUpdate&&this._clearResults(),this._getSearchResults().then(function(o){var n=t._searchResult.length;e?(t._currentIndex--,t._currentIndex<0&&(t._currentIndex=n-1)):(t._currentIndex++,t._currentIndex>=n&&(t._currentIndex=0)),t._currentIndex=Math.max(Math.min(t._currentIndex,n-1),0),t._onCurrentChanged()})},e.prototype._clearResults=function(){this._currentIndex=-1,this._searchResult=null},e.prototype._getSearchResults=function(){var e=this,t=new _Promise;return this._searchResult?(t.resolve(this._searchResult),t):this.documentSource?null==this._text||0===this._text.length?t:(this._needUpdate=!1,this._onSearchStarted(),this.documentSource.search({text:this.documentSource.encodeRequestParams?encodeURIComponent(this.text):this.text,matchCase:this.matchCase,wholeWord:this.wholeWord}).then(function(t){e._searchResult=t,e._onSearchCompleted()})):(t.reject(wijmo_1.culture.Viewer.cannotSearch),t)},e.prototype._onCurrentChanged=function(){this.currentChanged.raise(this,new wijmo_1.EventArgs)},e.prototype._onSearchStarted=function(){this.searchStarted.raise(this,new wijmo_1.EventArgs)},e.prototype._onSearchCompleted=function(){this.searchCompleted.raise(this,new wijmo_1.EventArgs)},e}();exports._SearchManager=_SearchManager;var _Page=function(){function e(e,t,o){this._content=null,this._rotateAngle=_RotateAngle.NoRotate,this.linkClicked=new wijmo_1.Event,this._documentSource=e,this._index=t,this._size=o}return Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotateAngle",{get:function(){return this._rotateAngle},set:function(e){this._rotateAngle=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},enumerable:!0,configurable:!0}),e.prototype.getContent=function(){var e=this,t=new _Promise,o=this._documentSource;return o?this._content?(t.resolve(this._content),t):(o.renderToFilter({format:"html",paged:o.paginated,outputRange:(this.index+1).toString()}).then(function(n){if(e._documentSource===o){var i=document.createElement("div");i.innerHTML=e._processSvgResponse(e._addGlobalUniqueId(n.responseText));for(var r=i.querySelector("svg"),a=document.createElementNS("http://www.w3.org/2000/svg","g");r.hasChildNodes();)a.appendChild(r.firstChild);r.appendChild(a),e._size={width:new _Unit(r.width.baseVal.value),height:new _Unit(r.height.baseVal.value)},e._content=r,e._processActionLinks(r,function(t){_addEvent(t,"click",function(){e._onLinkClicked(new _LinkClickedEventArgs(t))})}),t.resolve(e._content)}}),t):(t.reject(wijmo_1.culture.Viewer.cannotRenderPageNoDoc),t)},e.prototype._processSvgResponse=function(e){return e},e.prototype._extractSize=function(e){if(e){var t=e.querySelector("svg");if(t)return{width:new _Unit(t.width.baseVal.value),height:new _Unit(t.height.baseVal.value)}}return null},e.prototype._onLinkClicked=function(e){this.linkClicked.raise(this,e)},e.prototype._processActionLinks=function(t,o){for(var n=t.querySelectorAll("a"),i=0;i<n.length;i++){var r=n.item(i),a=r.href?r.href.baseVal:"";if(a.indexOf("navigate")>0){var s=e._bookmarkReg.exec(a);s&&(s[1]&&s[1].length>0?(r.href.baseVal=e._invalidHref,r.setAttribute(e._bookmarkAttr,s[1]),o(r)):r.removeAttribute("xlink:href"))}else e._customActionReg.test(a)&&(r.href.baseVal=e._invalidHref,r.setAttribute(e._customActionAttr,a.substr(3)),o(r))}},e.prototype._addGlobalUniqueId=function(t){var o=(new Date).getTime().toString();return t=(t=t.replace(e._idReg,"$1$2"+o+"$3$4")).replace(e._idReferReg,"$1$2"+o+"$3$4")},e._bookmarkReg=/javascript\:navigate\(['|"](.*)['|"]\)/,e._bookmarkAttr="bookmark",e._customActionReg=/^CA\:/,e._customActionAttr="customAction",e._idReg=/(\<[^\>]+)(id=['|"])(\w+)(['|"])/g,e._idReferReg=/(\<[^\>]+)(url\(#)(\w+)(\))/g,e._invalidHref="javascript:void(0)",e}();exports._Page=_Page;var _ArPage=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype._processSvgResponse=function(t){t=e.prototype._processSvgResponse.call(this,t);var o=(new DOMParser).parseFromString(t,"text/xml");return t=(new XMLSerializer).serializeToString(o)},t.prototype._processActionLinks=function(e,t){for(var o=e.querySelectorAll("rect[arsvg\\:data-action-type]"),n=0;n<o.length;n++)t(o[n])},t}(_Page);exports._ArPage=_ArPage;var _PageViewBase=function(e){function t(t){var o,n=e.call(this,t)||this;return n._autoHeightCalculated=!1,n._startX=null,n._startY=null,n._panMode=!1,n._pageIndex=-1,n._zoomFactor=1,n._zoomMode=ZoomMode.Custom,n._zoomModeUpdating=!1,n.pageIndexChanged=new wijmo_1.Event,n.zoomFactorChanged=new wijmo_1.Event,n.zoomModeChanged=new wijmo_1.Event,n.positionChanged=new wijmo_1.Event,n.rotateAngleChanged=new wijmo_1.Event,o=n.getTemplate(),n.applyTemplate("wj-pageview",o,n._getTemplateParts()),n._fBorderBoxMode="border-box"===getComputedStyle(t).boxSizing,n._init(),n}return __extends(t,e),t.prototype._getTemplateParts=function(){return{_pagesWrapper:"pages-wrapper"}},t.prototype._getPagesContainer=function(){return this.hostElement},t.prototype._init=function(){this._bindEvents()},t.prototype.dispose=function(){this._touchManager&&this._touchManager.dispose(),e.prototype.dispose.call(this)},t.prototype._bindTouchEvents=function(e){var t=this;e.touchStart.addHandler(function(){t.hostElement.focus()}),e.panMove.addHandler(function(t,o){e.hostElement.scrollTop-=o.clientDelta.y,e.hostElement.scrollLeft-=o.clientDelta.x}),e.pinch.addHandler(this._zoomByPinch,this)},t.prototype._initTouchEvents=function(){var e=this._pagesWrapper.parentElement,t=new _TouchManager(e);this._touchManager=t,this._bindTouchEvents(t)},Object.defineProperty(t.prototype,"_borderBoxMode",{get:function(){return this._fBorderBoxMode},enumerable:!0,configurable:!0}),t.prototype._zoomByPinch=function(e,t){if(t.preventDefault(),t.type==_TouchEventType.Move){var o=wijmo_1.getElementRect(e.contentElement),n=getComputedStyle(e.contentElement),i=parseInt(n.marginTop),r=parseInt(n.marginLeft),a=_pointMove(!1,t.preCenterClient,o.left-r,o.top-i);this._zoom(e.hostElement,t.zoom,a,t.centerClientDelta)}},t.prototype._getFixedPosition=function(e){return new wijmo_1.Point(t._pageMargin,t._pageMargin+this._getAbovePageCount(e.y)*t._pageMargin)},t.prototype._getAbovePageCount=function(e){return 0},t.prototype._zoom=function(e,t,o,n){var i=_pointMove(!1,o,e.scrollLeft,e.scrollTop),r=this._getFixedPosition(o),a=this.zoomFactor;this.zoomFactor=this.zoomFactor*t;var s=this.zoomFactor/a,c=_pointMove(!1,new wijmo_1.Point((o.x-r.x)*s+r.x,(o.y-r.y)*s+r.y),_pointMove(!0,i,n));e.scrollTop=Math.round(c.y),e.scrollLeft=Math.round(c.x)},Object.defineProperty(t.prototype,"pageIndex",{get:function(){return this._pageIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pages",{get:function(){return this._pages},set:function(e){this._pages=e,this._reserveViewPage()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this.hostElement.scrollTop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollLeft",{get:function(){return this.hostElement.scrollLeft},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomFactor",{get:function(){return this._zoomFactor},set:function(e){if(e=Math.max(.05,Math.min(10,e)),this._zoomFactor!=e){var t=this._zoomFactor;this._zoomFactor=e,this._updatePageViewTransform(),this._zoomModeUpdating||(this.zoomMode=ZoomMode.Custom),this._onZoomFactorChanged(t,e)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomMode",{get:function(){return this._zoomMode},set:function(e){if(this._zoomMode!=e){this._zoomModeUpdating=!0;var t=this._zoomMode;this._calcZoomModeZoom(e),this._zoomMode=e,this._onZoomModeChanged(t,e),this._zoomModeUpdating=!1}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"panMode",{get:function(){return this._panMode},set:function(e){this._panMode!=e&&(this._panMode=e)},enumerable:!0,configurable:!0}),t.prototype._bindEvents=function(){var e=this;_addEvent(document,"mousemove",function(t){null!==e._startX&&null!==e._startY&&e._panning(t)}),_addEvent(document,"mouseup",function(t){e._stopPanning()}),this._initTouchEvents()},t.prototype._startPanning=function(e){this._startX=e.screenX,this._startY=e.screenY},t.prototype._panning=function(e){var t=this._getPagesContainer();t.scrollLeft+=this._startX-e.screenX,t.scrollTop+=this._startY-e.screenY,this._startX=e.screenX,this._startY=e.screenY},t.prototype._stopPanning=function(){this._startX=null,this._startY=null},t.prototype._onPageIndexChanged=function(){this.pageIndexChanged.raise(this)},t.prototype._onZoomFactorChanged=function(e,t){this.zoomFactorChanged.raise(this,{oldValue:e,newValue:t})},t.prototype._onZoomModeChanged=function(e,t){this.zoomModeChanged.raise(this,{oldValue:e,newValue:t})},t.prototype._onPositionChanged=function(){this.positionChanged.raise(this)},t.prototype._onRotateAngleChanged=function(){this.rotateAngleChanged.raise(this)},t.prototype._onPageLoaded=function(e){},t.prototype._renderViewPage=function(e,t){var o,n=this,i=new _Promise;if(t=t<0?0:t,!e)return i.reject(wijmo_1.culture.Viewer.cannotRenderPageNoViewPage),i;if(_removeChildren(e),this._pages[t].content){var r=this._pages[t].content;return e.appendChild(r),this._setPageTransform(e,t),i.resolve(t),i}return(o=document.createElement("div")).className="wj-loading",o.style.height=e.style.height,o.style.lineHeight=e.style.height,o.innerHTML=wijmo_1.culture.Viewer.loading,e.appendChild(o),this._pages[t].getContent().then(function(o){if(n.pages){var r=o;_removeChildren(e),e.appendChild(r),n._setPageTransform(e,t),n._onPageLoaded(t),i.resolve(t)}}).catch(function(e){o.innerHTML=_getErrorMessage(e)}),i},t.prototype._reserveViewPage=function(){throw wijmo_1.culture.Viewer.abstractMethodException},t.prototype._getViewPortHeight=function(){var e=this._pagesWrapper.currentStyle||window.getComputedStyle(this._pagesWrapper);return this.hostElement.offsetHeight-parseFloat(e.marginBottom)-parseFloat(e.marginTop)},t.prototype._getViewPortWidth=function(){var e=this._pagesWrapper.currentStyle||window.getComputedStyle(this._pagesWrapper);return this.hostElement.offsetWidth-parseFloat(e.marginLeft)-parseFloat(e.marginRight)},t.prototype._setPageTransform=function(e,t){var o;if(e&&!(t<0)){var n=this._getPageSize(t),i=this._pages[t].rotateAngle;e.style.height=n.height.valueInPixel*this._zoomFactor+"px",e.style.width=n.width.valueInPixel*this._zoomFactor+"px",(o=e.querySelector("g"))&&(o.parentNode.setAttribute("height",n.height.valueInPixel*this._zoomFactor+"px"),o.parentNode.setAttribute("width",n.width.valueInPixel*this._zoomFactor+"px"),_transformSvg(o.parentNode,this._pages[t].size.width.valueInPixel,this._pages[t].size.height.valueInPixel,this._zoomFactor,i))}},t.prototype._addViewPage=function(){var e=this,t=document.createElement("div");return t.className="wj-view-page",_addEvent(t,"mousedown",function(t){e._panMode&&e._startPanning(t)}),_addEvent(t,"dragstart",function(t){e._panMode&&t.preventDefault()}),this._pagesWrapper.appendChild(t),t},t.prototype._getPageSize=function(e){if(e<0||e>=this._pages.length)return null;var t=this._pages[e];return _getRotatedSize(t.size,t.rotateAngle)},t.prototype._render=function(e){throw wijmo_1.culture.Viewer.abstractMethodException},t.prototype._moveToPagePosition=function(e){throw wijmo_1.culture.Viewer.abstractMethodException},t.prototype._updatePageViewTransform=function(){throw wijmo_1.culture.Viewer.abstractMethodException},t.prototype._updatePageIndex=function(e){this.pages&&(e=this.resolvePageIndex(e),this._pageIndex!==e&&(this._pageIndex=e,this._onPageIndexChanged()))},t.prototype.moveToPage=function(e){return this.moveToPosition({pageIndex:e})},t.prototype.resolvePageIndex=function(e){return Math.min((this.pages||[]).length-1,Math.max(e,0))},t.prototype.moveToPosition=function(e){var t=this,o=e.pageIndex||0,n=new _Promise,i=this.pageIndex;return!this.pages||o<0?(n.resolve(o),n):(o=this.resolvePageIndex(o),e.pageIndex=o,o!==i?(this._updatePageIndex(o),n=this._render(o)):n.resolve(o),n.then(function(){t.pages&&(e.samePage=o===i,t._moveToPagePosition(e))}),n.then(function(e){return o}).then(function(){t._calcZoomModeZoom(),t._onPositionChanged()}))},t.prototype._calcZoomModeZoom=function(e){switch(this._zoomModeUpdating=!0,e=null==e?this.zoomMode:e){case ZoomMode.PageWidth:this._zoomToViewWidth();break;case ZoomMode.WholePage:this._zoomToView()}this._zoomModeUpdating=!1},t.prototype._zoomToView=function(){var e=this._getViewPortHeight(),t=this._getViewPortWidth(),o=this._getPageSize(this.pageIndex);o&&(this.zoomFactor=Math.min(e/o.height.valueInPixel,t/o.width.valueInPixel))},t.prototype._zoomToViewWidth=function(){throw wijmo_1.culture.Viewer.abstractMethodException},t.prototype._getTransformedPoint=function(e,t,o){t/=this.zoomFactor,o/=this.zoomFactor;var n=this.pages[e],i=n.size;switch(n.rotateAngle){case _RotateAngle.Rotation90:var r=t;t=i.height.valueInPixel-o,o=r;break;case _RotateAngle.Rotation180:t=i.height.valueInPixel-t,o=i.width.valueInPixel-o;break;case _RotateAngle.Rotation270:r=t;t=o,o=i.width.valueInPixel-r}return new wijmo_1.Point(o,t)},t.prototype._hitTestPagePosition=function(e){if(!e||e.pageIndex<0)return null;var o=e.y,n=e.x,i=e.pageIndex;o-=t._pageMargin+t._pageBorderWidth,n-=t._pageMargin+t._pageBorderWidth;var r=this._getTransformedPoint(e.pageIndex,o,n);o=r.y,n=r.x;var a=_pixelToTwip(o),s=_pixelToTwip(n),c=this.pages[i].size;return{pageIndex:i,x:s,y:a,hitWorkingArea:o>=0&&o<=c.height.valueInPixel&&n>=0&&n<=c.width.valueInPixel}},t.prototype.rotatePageTo=function(e,t){this._pages[e].rotateAngle=t,this._updatePageViewTransform(),this._onRotateAngleChanged()},t.prototype.hitTest=function(e,t){if(this._pointInViewPanelClientArea(e,t)){var o=this._panelViewPntToPageView(e,t);return this._hitTestPagePosition(o)}return null},t.prototype.resetPages=function(){this._pageIndex=-1,this._pages=null,_removeChildren(this._pagesWrapper),this._addViewPage(),this.invalidate()},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this._autoHeightCalculated=!1,!this.pages||0==this.pages.length||this.pageIndex<0||this.pageIndex>=this.pages.length||(this._render(this.pageIndex),this._calcZoomModeZoom())},t.prototype.isPageContentLoaded=function(e){var t=this.pages;return!!t&&e>=0&&e<t.length&&!!t[e].content},t.prototype._hitTestPageIndex=function(e){throw wijmo_1.culture.Viewer.abstractMethodException},t.prototype._pointInViewPanelClientArea=function(e,t){throw wijmo_1.culture.Viewer.abstractMethodException},t.prototype._panelViewPntToPageView=function(e,t){throw wijmo_1.culture.Viewer.abstractMethodException},t._pageMargin=30,t._pageBorderWidth=1,t.controlTemplate='<div class="wj-pages-wrapper" wj-part="pages-wrapper"></div>',t}(wijmo_1.Control);exports._PageViewBase=_PageViewBase;var _ContinuousPageView=function(e){function t(t){var o=e.call(this,t)||this;return wijmo_1.addClass(t,"wj-pageview-continuous"),o}return __extends(t,e),t.prototype._init=function(){var t=this;e.prototype._init.call(this),_addEvent(this.hostElement,"click",function(e){t.hostElement.focus()}),_addEvent(this.hostElement,"scroll",function(){t._onPositionChanged(),clearTimeout(t._scrollingTimer),t._scrollingTimer=setTimeout(function(){t._ensurePageIndexPosition()},200)}),this.zoomFactorChanged.addHandler(function(){clearTimeout(t._zoomFactorTimer),t._zoomFactorTimer=setTimeout(function(){t._ensurePageIndexPosition()},200)})},t.prototype.dispose=function(){clearTimeout(this._scrollingTimer),clearTimeout(this._zoomFactorTimer),this._disposeBodyStopSwipe&&this._disposeBodyStopSwipe(),e.prototype.dispose.call(this)},t.prototype._stopSwip=function(){this._swipeSpeedReducer&&this._swipeSpeedReducer.stop()},t.prototype._bindTouchEvents=function(t){var o=this;e.prototype._bindTouchEvents.call(this,t),t.touchStart.addHandler(this._stopSwip,this),t.swipe.addHandler(function(e,n){o._swipeSpeedReducer||(o._swipeSpeedReducer=new _SpeedReducer),o._swipeSpeedReducer.start(n.speed.x,n.speed.y,function(e,n){var i=t.hostElement.scrollLeft,r=t.hostElement.scrollTop;t.hostElement.scrollLeft-=e,t.hostElement.scrollTop-=n,i==t.hostElement.scrollLeft&&r==t.hostElement.scrollTop&&o._stopSwip()})});var n=new _TouchManager(document.body,!1),i=this._stopSwip.bind(this);_addEvent(document.body,"mousedown",i,!0),n.touchStart.addHandler(i),this._disposeBodyStopSwipe=function(){o._stopSwip(),_removeEvent(document.body,"mousedown",i),n.touchStart.removeHandler(i),n.dispose(),o._disposeBodyStopSwipe=null}},t.prototype._getAbovePageCount=function(e){return this._hitTestPageIndex(e)},t.prototype.refresh=function(t){this._stopSwip(),e.prototype.refresh.call(this,t)},t.prototype._hitTestPageIndex=function(e){if(!this.pages)return this.pageIndex;for(var t=0,o=0;t<this.pages.length;t++)if(e<(o+=this._getPageSize(t).height.valueInPixel*this.zoomFactor+_PageViewBase._pageMargin)){if(o-e<1)continue;break}return Math.min(t,this.pages.length-1)},t.prototype._guessPageIndex=function(){return this.pages&&this.hostElement.scrollHeight-this.hostElement.clientHeight<=this.hostElement.scrollTop?this.pages.length-1:this._hitTestPageIndex(this.hostElement.scrollTop)},t.prototype._render=function(e){var o=this.pages.length,n=e-t._preFetchPageCount,i=e+t._preFetchPageCount,r=[];n=n<0?0:n,i=i>o-1?o-1:i;for(var a=n;a<=i;a++)r.push(this._renderViewPage(this._pagesWrapper.querySelectorAll(".wj-view-page").item(a),a));return new _CompositedPromise(r)},t.prototype._moveToPagePosition=function(e){this._stopSwip();for(var t=0,o=0,n=!e.pageBounds,i=e.pageBounds||{x:0,y:0,width:0,height:0},r=n?0:_PageViewBase._pageMargin,a=this.pages[this.pageIndex],s=0;s<e.pageIndex;s++)t+=this._getPageSize(s).height.valueInPixel*this.zoomFactor+_PageViewBase._pageMargin,this._borderBoxMode||(t+=2*_PageViewBase._pageBorderWidth);var c=_getTransformedPosition(i,a.size,n?_RotateAngle.NoRotate:a.rotateAngle,this.zoomFactor);t+=c.y+r,o+=c.x+r,o+=this._getPageViewOffsetLeft(e.pageIndex),this.hostElement.scrollTop=t,this.hostElement.scrollLeft=o},t.prototype._pointInViewPanelClientArea=function(e,t){return e>=0&&t>=0&&e<this.hostElement.clientWidth&&t<this.hostElement.clientHeight},t.prototype._panelViewPntToPageView=function(e,t){var o=this.hostElement.scrollTop+t,n=0;if(this.hostElement.scrollLeft>0)n=this.hostElement.scrollLeft+e;else{var i=this.hostElement.getBoundingClientRect();n=e-(this._pagesWrapper.getBoundingClientRect().left-i.left)+_PageViewBase._pageMargin}var r=this._hitTestPageIndex(o);if(r<0)return null;n-=this._getPageViewOffsetLeft(r);for(var a=0;a<r;a++)o-=this._getPageSize(a).height.valueInPixel*this.zoomFactor+_PageViewBase._pageMargin,this._borderBoxMode||(o-=2*_PageViewBase._pageBorderWidth);return{x:n,y:o,pageIndex:r}},t.prototype._reserveViewPage=function(){_removeChildren(this._pagesWrapper);for(var e=0;e<(this.pages||[]).length;e++){var t=this._addViewPage(),o=this._getPageSize(e);t.style.height=o.height.valueInPixel*this.zoomFactor+"px",t.style.width=o.width.valueInPixel*this.zoomFactor+"px"}},t.prototype._updatePageViewTransform=function(){if(this.pages&&this.pages.length){var e;e=this._pagesWrapper.querySelectorAll(".wj-view-page");for(var t=0;t<e.length;t++)this._setPageTransform(e.item(t),t)}},t.prototype._zoomToViewWidth=function(){if(this.pages&&0!=this.pages.length){var e,t;e=this._getViewPortHeight(),t=this._getViewPortWidth();for(var o=0,n=0,i=0;i<this.pages.length;i++){var r=this._getPageSize(i);r.width.valueInPixel>o&&(o=r.width.valueInPixel),n+=r.height.valueInPixel}t/o>e/n&&(t-=_Scroller.getScrollbarWidth()),this.zoomFactor=t/o}},t.prototype._ensurePageIndexPosition=function(){var e=this._guessPageIndex();this.pageIndex!==e&&(this._render(e),this._updatePageIndex(e))},t.prototype._getPageViewOffsetLeft=function(e){var t=this._pagesWrapper.querySelectorAll(".wj-view-page").item(e);return t?t.offsetLeft-this._pagesWrapper.offsetLeft:0},t._preFetchPageCount=3,t}(_PageViewBase);exports._ContinuousPageView=_ContinuousPageView;var _SinglePageView=function(e){function t(t){var o=e.call(this,t)||this;return o._innerNavigating=!1,o._virtualScrollMode=!0,wijmo_1.addClass(t,"wj-pageview-single"),o}return __extends(t,e),t.prototype._init=function(){e.prototype._init.call(this),this._initScroller(),this._initEvents()},t.prototype._initScroller=function(){var e=this;new _VScroller(this._vscroller).valueChanged.addHandler(function(){setTimeout(function(){return e._doScrollerValueChanged()})})},t.prototype._initEvents=function(){var e=this;_addEvent(this._pagesContainer,"wheel",function(t){e._doContainerWheel(t)}),_addEvent(this._pagesContainer,"scroll",function(t){e._doContainerScroll()}),_addEvent(this._pagesContainer,"keydown",function(t){e._doContainerKeyDown()}),_addEvent(this._pagesContainer,"click",function(t){e._pagesContainer.focus()})},t.prototype._bindTouchEvents=function(t){var o=this;e.prototype._bindTouchEvents.call(this,t),t.swipe.addHandler(function(e,t){switch(t.direction){case _TouchDirection.Down:var n=o.resolvePageIndex(o.pageIndex-1);n!=o.pageIndex&&o.moveToPage(n);break;case _TouchDirection.Up:var i=o.resolvePageIndex(o.pageIndex+1);i!=o.pageIndex&&o.moveToPage(i)}})},t.prototype._getTemplateParts=function(){return{_pagesWrapper:"pages-wrapper",_pagesContainer:"pages-container",_vscroller:"vscroller"}},t.prototype.applyTemplate=function(e,t,o){var n=this.hostElement;if(wijmo_1.addClass(n,e),n.appendChild(_toDOMs(t)),o)for(var i in o){var r=o[i];if(this[i]=n.querySelector('[wj-part="'+r+'"]'),null==this[i]&&n.getAttribute("wj-part")==r&&(this[i]=t),null==this[i])throw'Missing template part: "'+r+'"'}return n},Object.defineProperty(t.prototype,"virtualScrollMode",{get:function(){return this._virtualScrollMode},set:function(e){this._virtualScrollMode!==e&&(this._virtualScrollMode=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_isScrollerVisible",{get:function(){return this._virtualScrollMode&&this.pages&&this.pages.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_scroller",{get:function(){return wijmo_1.Control.getControl(this._vscroller)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_hasPageVScrollBar",{get:function(){return this._hasScrollbar(this._pagesContainer)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_hasPageHScrollBar",{get:function(){return this._hasScrollbar(this._pagesContainer,!0)},enumerable:!0,configurable:!0}),t.prototype._getPagesContainer=function(){return this._pagesContainer},t.prototype._getPageHeightWithoutZoom=function(e){var t=this._pagesContainer.clientHeight,o=this._getPageSize(e).height.valueInPixel+2*_PageViewBase._pageMargin;return Math.max(o,t)},t.prototype._hasScrollbar=function(e,t){return t?e.scrollWidth>e.clientWidth:e.scrollHeight>e.clientHeight},t.prototype._updateScroller=function(){if(this._isScrollerVisible){var e=this._scroller;e.height=this._pagesContainer.clientHeight;for(var t=0,o=0;o<this.pages.length;o++)t+=this._getPageHeightWithoutZoom(o);e.max=t,this._updateScrollerValue()}},t.prototype._updateScrollerValue=function(){if(this._isScrollerVisible){var e=this.pageIndex;if(!(e<0)){var t=0;this._pagesContainer.scrollTop>0&&(t=this._pagesContainer.scrollTop/(this._pagesContainer.scrollHeight-this._pagesContainer.clientHeight));for(var o=this._scroller,n=this.pages.length,i=0,r=0;r<e;r++)i+=this._getPageHeightWithoutZoom(r);i+=this._getPageHeightWithoutZoom(e)*t,e>=n-1&&!this._hasPageVScrollBar&&(i=o.max),o.value=i}}},t.prototype._doScrollerValueChanged=function(){if(this._isScrollerVisible){for(var e=this._scroller,t=this.pages.length,o=e.value,n=0,i=1;n<t;n++){var r=this._getPageHeightWithoutZoom(n);if(!(o>r)){i=o/r;break}o-=r}n>=t&&(n=t-1),this._innerMoveToPage(n,i)}},t.prototype._doContainerWheel=function(e){if(this._isScrollerVisible&&0!=e.deltaY){var t=e.deltaY<0;if(this._hasPageVScrollBar)if(t){if(this._pagesContainer.scrollTop>0)return}else if(this._pagesContainer.scrollTop<this._pagesContainer.scrollHeight-this._pagesContainer.clientHeight)return;t?this._innerMoveToPreviousPageAtBottom(e):this._innerMoveToNextPageAtTop(e)}},t.prototype._doContainerScroll=function(){this._isScrollerVisible&&this._pagesContainer.scrollTop!=this._desiredPageScrollTop&&(this._updateScrollerValue(),this._onPositionChanged())},t.prototype._doContainerKeyDown=function(){if(this._isScrollerVisible){var e=event;if(this._hasPageVScrollBar)switch(e.keyCode){case wijmo_1.Key.PageDown:this._pagesContainer.scrollTop>=this._pagesContainer.scrollHeight-this._pagesContainer.clientHeight&&this._innerMoveToNextPageAtTop(e);break;case wijmo_1.Key.PageUp:0==this._pagesContainer.scrollTop&&this._innerMoveToPreviousPageAtBottom(e)}else switch(e.keyCode){case wijmo_1.Key.Down:case wijmo_1.Key.PageDown:this._innerMoveToNextPageAtTop(e);break;case wijmo_1.Key.Up:case wijmo_1.Key.PageUp:this._innerMoveToPreviousPageAtBottom(e)}}},t.prototype._preventContainerScroll=function(){this._desiredPageScrollTop=this._pagesContainer.scrollTop},t.prototype._innerMoveToPreviousPageAtBottom=function(e){this.pageIndex>0&&(e&&e.preventDefault(),this._innerMoveToPage(this.pageIndex-1,1),this._updateScrollerValue())},t.prototype._innerMoveToNextPageAtTop=function(e){this.pageIndex<this.pages.length-1&&(e&&e.preventDefault(),this._innerMoveToPage(this.pageIndex+1,0),this._updateScrollerValue())},t.prototype._innerMoveToPage=function(e,t){var o=this;this._innerNavigating=!0;var n={pageIndex:e};this.moveToPosition(n).then(function(e){o._innerMoveToPagePosition(t),o._innerNavigating=!1})},t.prototype._innerMoveToPagePosition=function(e){if(this._hasPageVScrollBar){var t=(this._pagesContainer.scrollHeight-this._pagesContainer.clientHeight)*e;this._pagesContainer.scrollTop=t,this._preventContainerScroll()}},t.prototype.moveToPosition=function(t){var o=e.prototype.moveToPosition.call(this,t);return this._innerNavigating||this._updateScrollerValue(),o},t.prototype._moveToPagePosition=function(e){var t=e.pageBounds||{x:0,y:0,width:0,height:0},o=e.pageBounds?_PageViewBase._pageMargin:0,n=this.pages[this.pageIndex],i=_getTransformedPosition(t,n.size,n.rotateAngle,this.zoomFactor);e.samePage||(this._pagesContainer.scrollTop=i.y+o,this._pagesContainer.scrollLeft=i.x+o)},t.prototype._hitTestPageIndex=function(e){return this.pageIndex},t.prototype._pointInViewPanelClientArea=function(e,t){return e>=0&&t>=0&&e<this._pagesContainer.clientWidth&&t<this._pagesContainer.clientHeight},t.prototype._panelViewPntToPageView=function(e,t){if(this.pageIndex<0)return null;var o=this._pagesContainer.scrollTop+t,n=0;if(this._pagesContainer.scrollLeft>0)n=this._pagesContainer.scrollLeft+e;else{var i=this._pagesContainer.getBoundingClientRect();n=e-(this._pagesWrapper.getBoundingClientRect().left-i.left)+_PageViewBase._pageMargin}return{x:n,y:o,pageIndex:this.pageIndex}},t.prototype._render=function(e){return this._renderViewPage(this._pagesWrapper.querySelector(".wj-view-page"),e)},t.prototype._guessPageIndex=function(){return this.pageIndex},t.prototype._reserveViewPage=function(){_removeChildren(this._pagesWrapper),this._addViewPage(),this.invalidate()},t.prototype._updatePageViewTransform=function(){var e;e=this._pagesWrapper.querySelector(".wj-view-page"),this._setPageTransform(e,this.pageIndex)},t.prototype._onPageLoaded=function(t){e.prototype._onPageLoaded.call(this,t),this._updateScroller()},t.prototype._onZoomFactorChanged=function(t,o){e.prototype._onZoomFactorChanged.call(this,t,o),this._updateScroller()},t.prototype._zoomToViewWidth=function(){var e,t;e=this._getViewPortHeight(),t=this._getViewPortWidth();var o=this._getPageSize(this.pageIndex);if(o){var n=o.height.valueInPixel,i=o.width.valueInPixel;t/i>e/n&&(t-=_Scroller.getScrollbarWidth()),this.zoomFactor=t/i}},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this._isScrollerVisible?wijmo_1.addClass(this.hostElement,"virtual"):wijmo_1.removeClass(this.hostElement,"virtual"),this._updateScroller()},t.controlTemplate='<div class="wj-pageview-pagescontainer" wj-part="pages-container" tabindex="0">   <div class="wj-pages-wrapper" wj-part="pages-wrapper"></div></div><div class="wj-pageview-vscroller" wj-part="vscroller" tabindex="-1"></div> ',t}(_PageViewBase);exports._SinglePageView=_SinglePageView;var _CompositePageView=function(e){function t(t){var o,n=e.call(this,t)||this;return n._viewMode=ViewMode.Single,n.pageIndexChanged=new wijmo_1.Event,n.zoomFactorChanged=new wijmo_1.Event,n.zoomModeChanged=new wijmo_1.Event,n.positionChanged=new wijmo_1.Event,n.rotateAngleChanged=new wijmo_1.Event,o=n.getTemplate(),n.applyTemplate("wj-viewpanel-container",o,{_singlePageView:"single-pageview",_continuousPageView:"continuous-pageview"}),n._initPageView(),n}return __extends(t,e),t.prototype.applyTemplate=function(e,t,o){var n=this.hostElement;if(wijmo_1.addClass(n,e),n.appendChild(_toDOMs(t)),o)for(var i in o){var r=o[i];if(this[i]=n.querySelector('[wj-part="'+r+'"]'),null==this[i]&&n.getAttribute("wj-part")==r&&(this[i]=t),null==this[i])throw'Missing template part: "'+r+'"'}return n},Object.defineProperty(t.prototype,"pageIndex",{get:function(){return this._activePageView.pageIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pages",{get:function(){return this._activePageView.pages},set:function(e){this._activePageView.pages=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomMode",{get:function(){return this._activePageView.zoomMode},set:function(e){this._activePageView.zoomMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomFactor",{get:function(){return this._activePageView.zoomFactor},set:function(e){this._activePageView.zoomFactor=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"panMode",{get:function(){return this._activePageView.panMode},set:function(e){this._activePageView.panMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewMode",{get:function(){return this._viewMode},set:function(e){this._viewMode!==e&&(this._viewMode=e,this._updateActivePageView())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this._activePageView.scrollTop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollLeft",{get:function(){return this._activePageView.scrollLeft},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_activePageViewElement",{get:function(){return this.viewMode===ViewMode.Single?this._singlePageView:this._continuousPageView},enumerable:!0,configurable:!0}),t.prototype.onPageIndexChanged=function(){this.pageIndexChanged.raise(this)},t.prototype.onZoomFactorChanged=function(e,t){this.zoomFactorChanged.raise(this,{oldValue:e,newValue:t})},t.prototype.onZoomModeChanged=function(e,t){this.zoomModeChanged.raise(this,{oldValue:e,newValue:t})},t.prototype.onPositionChanged=function(){this.positionChanged.raise(this)},t.prototype.onRotateAngleChanged=function(){this.rotateAngleChanged.raise(this)},t.prototype._updateActivePageView=function(){var e=this._activePageView.pageIndex,t=this._activePageView.pages,o=this._activePageView.zoomFactor,n=this._activePageView.zoomMode,i=this._activePageView.panMode;this._removePageViewHandlers(this._activePageView),this._activePageView=wijmo_1.Control.getControl(this._activePageViewElement),this._addPageViewHandlers(this._activePageView),this._activePageView.pages||(this._activePageView.pages=t),this._activePageView.invalidate(),this._activePageView.moveToPage(e),this._activePageView.zoomFactor=o,this._activePageView.zoomMode=n,this._activePageView.panMode=i,this._updatePageViewsVisible()},t.prototype._initPageView=function(){this._activePageView=new _SinglePageView(this._singlePageView),this._addPageViewHandlers(this._activePageView),new _ContinuousPageView(this._continuousPageView),this._updatePageViewsVisible()},t.prototype._addPageViewHandlers=function(e){var t=this;this._activePageView.pageIndexChanged.addHandler(function(){t.onPageIndexChanged()}),this._activePageView.zoomFactorChanged.addHandler(function(e,o){t.onZoomFactorChanged(o.oldValue,o.newValue)}),this._activePageView.zoomModeChanged.addHandler(function(e,o){t.onZoomModeChanged(o.oldValue,o.newValue)}),this._activePageView.positionChanged.addHandler(function(){t.onPositionChanged()}),this._activePageView.rotateAngleChanged.addHandler(function(){t.onRotateAngleChanged()})},t.prototype._removePageViewHandlers=function(e){e.pageIndexChanged.removeHandler(this.onPageIndexChanged,this),e.zoomFactorChanged.removeHandler(this.onZoomFactorChanged,this),e.zoomModeChanged.removeHandler(this.onZoomModeChanged,this),e.positionChanged.removeHandler(this.onPositionChanged,this),e.rotateAngleChanged.removeHandler(this.onRotateAngleChanged,this)},t.prototype._updatePageViewsVisible=function(){this.viewMode===ViewMode.Single?(wijmo_1.removeClass(this._singlePageView,exports._hiddenCss),wijmo_1.hasClass(this._continuousPageView,exports._hiddenCss)||wijmo_1.addClass(this._continuousPageView,exports._hiddenCss)):(wijmo_1.removeClass(this._continuousPageView,exports._hiddenCss),wijmo_1.hasClass(this._singlePageView,exports._hiddenCss)||wijmo_1.addClass(this._singlePageView,exports._hiddenCss))},t.prototype.moveToPage=function(e){return this._activePageView.moveToPage(e)},t.prototype.moveToPosition=function(e){return this._activePageView.moveToPosition(e)},t.prototype.rotatePageTo=function(e,t){this._activePageView.rotatePageTo(e,t)},t.prototype.hitTest=function(e,t){return this._activePageView.hitTest(e,t)},t.prototype.resetPages=function(){wijmo_1.Control.getControl(this._singlePageView).resetPages(),wijmo_1.Control.getControl(this._continuousPageView).resetPages()},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),wijmo_1.Control.getControl(this._activePageViewElement).invalidate(),this._activePageView.refresh()},t.prototype.isPageContentLoaded=function(e){return this._activePageView.isPageContentLoaded(e)},t.controlTemplate='<div class="wj-pageview" wj-part="single-pageview"></div><div class="wj-pageview" wj-part="continuous-pageview"></div>',t}(wijmo_1.Control);exports._CompositePageView=_CompositePageView;var _isIOS="undefined"!=typeof navigator&&null!=navigator.userAgent.match(/iPhone|iPad|iPod/i),_svgStart='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" xml:space="preserve">',_svgEnd="</svg>",_checkedCss="wj-state-active",_disabledCss="wj-state-disabled";function isIOS(){return _isIOS}function _createSvgBtn(e){var t=_toDOM(_svgStart+e+_svgEnd);wijmo_1.addClass(t,"wj-svg-btn");var o=document.createElement("a");return o.appendChild(t),wijmo_1.addClass(o,"wj-btn"),o.tabIndex=0,o}function _checkImageButton(e,t){t?wijmo_1.addClass(e,_checkedCss):wijmo_1.removeClass(e,_checkedCss)}function _checkSeparatorShown(e){for(var t,o,n,i,r=!0,a=0;a<e.children.length;a++)o=e.children[a],t=wijmo_1.hasClass(o,"wj-separator"),n=wijmo_1.hasClass(o,exports._hiddenCss),t||n?t&&(r?n||wijmo_1.addClass(o,exports._hiddenCss):(n&&wijmo_1.removeClass(o,exports._hiddenCss),i=o),r=!0):r=!1;r&&i&&wijmo_1.addClass(i,"hidden")}function _disableImageButton(e,t){t?wijmo_1.addClass(e,_disabledCss):wijmo_1.removeClass(e,_disabledCss)}function _getPositionByHitTestInfo(e){return e?{pageIndex:e.pageIndex,pageBounds:{x:e.x,y:e.y,width:0,height:0}}:{pageIndex:0,pageBounds:{x:0,y:0,width:0,height:0}}}function _setLandscape(e,t){if(e.landscape!==t){e.landscape=t;var o=e.width;e.width=e.height,e.height=o;var n=e.leftMargin;t?(e.leftMargin=e.bottomMargin,e.bottomMargin=e.rightMargin,e.rightMargin=e.topMargin,e.topMargin=n):(e.leftMargin=e.topMargin,e.topMargin=e.rightMargin,e.rightMargin=e.bottomMargin,e.bottomMargin=n)}}function _showImageButton(e,t){t?wijmo_1.removeClass(e,exports._hiddenCss):wijmo_1.addClass(e,exports._hiddenCss)}function _isDisabledImageButton(e){return wijmo_1.hasClass(e,_disabledCss)}function _isCheckedImageButton(e){return wijmo_1.hasClass(e,_checkedCss)}function _toDOM(e){return _toDOMs(e).firstChild}exports._commandTagAttr="command-tag",exports.isIOS=isIOS,exports._createSvgBtn=_createSvgBtn,exports._checkImageButton=_checkImageButton,exports._checkSeparatorShown=_checkSeparatorShown,exports._disableImageButton=_disableImageButton,exports._getPositionByHitTestInfo=_getPositionByHitTestInfo,exports._setLandscape=_setLandscape,exports._showImageButton=_showImageButton,exports._isDisabledImageButton=_isDisabledImageButton,exports._isCheckedImageButton=_isCheckedImageButton,exports._toDOM=_toDOM;var _Toolbar=function(e){function t(t){var o,n=e.call(this,t)||this;return n._disposed=!1,n.svgButtonClicked=new wijmo_1.Event,o=n.getTemplate(),n.applyTemplate("wj-toolbar",o,{_toolbarWrapper:"toolbar-wrapper",_toolbarContainer:"toolbar-container",_toolbarLeft:"toolbar-left",_toolbarRight:"toolbar-right"}),_addEvent(n._toolbarLeft,"mouseover",function(){n._scrollLeft()}),_addEvent(n._toolbarLeft,"mouseout",function(){n._clearToolbarMoveTimer()}),_addEvent(n._toolbarRight,"mouseover",function(){n._scrollRight()}),_addEvent(n._toolbarRight,"mouseout",function(){n._clearToolbarMoveTimer()}),n}return __extends(t,e),t.prototype.applyTemplate=function(e,t,o){var n=this.hostElement;if(wijmo_1.addClass(n,e),n.appendChild(_toDOMs(t)),o)for(var i in o){var r=o[i];if(this[i]=n.querySelector('[wj-part="'+r+'"]'),null==this[i]&&n.getAttribute("wj-part")==r&&(this[i]=t),null==this[i])throw'Missing template part: "'+r+'"'}return n},t.prototype.dispose=function(){this._disposed=!0,e.prototype.dispose.call(this)},t.prototype._clearToolbarMoveTimer=function(){null!=this._toolbarMoveTimer&&(clearTimeout(this._toolbarMoveTimer),this._toolbarMoveTimer=null)},t.prototype._scrollRight=function(){var e=this,o=this._toolbarContainer.offsetWidth-this._toolbarWrapper.offsetWidth,n=this._toolbarWrapper.style,i=(n.left?parseInt(n.left):0)-t._moveStep;this._checkMoveButtonEnabled(),i<o||(n.left=i+"px",this._toolbarMoveTimer=setTimeout(function(){return e._scrollRight()},t._moveInterval))},t.prototype._scrollLeft=function(){var e=this,o=this._toolbarWrapper.style,n=(o.left?parseInt(o.left):0)+t._moveStep;this._checkMoveButtonEnabled(),n>0||(o.left=n+"px",this._toolbarMoveTimer=setTimeout(function(){return e._scrollLeft()},t._moveInterval))},t.prototype._checkMoveButtonEnabled=function(){var e=this._toolbarLeft.getBoundingClientRect().width,o=this._toolbarWrapper.offsetLeft-e+t._moveStep<=0,n=wijmo_1.hasClass(this._toolbarLeft,t._enabledCss);o?n||wijmo_1.addClass(this._toolbarLeft,t._enabledCss):n&&wijmo_1.removeClass(this._toolbarLeft,t._enabledCss);var i=this._toolbarRight.getBoundingClientRect().width,r=this._toolbarContainer.getBoundingClientRect().width-this._toolbarWrapper.getBoundingClientRect().width,a=this._toolbarWrapper.offsetLeft-i-t._moveStep>=r,s=wijmo_1.hasClass(this._toolbarRight,t._enabledCss);a?s||wijmo_1.addClass(this._toolbarRight,t._enabledCss):s&&wijmo_1.removeClass(this._toolbarRight,t._enabledCss)},t.prototype._showToolbarMoveButton=function(e){var t=e?"visible":"hidden";this._toolbarLeft.style.visibility=t,this._toolbarRight.style.visibility=t,this._checkMoveButtonEnabled()},t.prototype._globalize=function(){},t.prototype.resetWidth=function(){var e=this._toolbarLeft.getBoundingClientRect().width,t=this._toolbarRight.getBoundingClientRect().width,o=this.hostElement.getBoundingClientRect().width;this._toolbarContainer.style.width="1500px",this._toolbarWrapper.style.width="auto";var n=this._toolbarWrapper.getBoundingClientRect().width+2;this._toolbarWrapper.style.width=n+"px",this._toolbarContainer.style.width=o-e-t+"px";var i=e+t+n>o;this._showToolbarMoveButton(i),i||(this._toolbarWrapper.style.left="0px")},t.prototype.addSeparator=function(){var e=document.createElement("span");return e.className="wj-separator",this._toolbarWrapper.appendChild(e),e},t.prototype.onSvgButtonClicked=function(e){this.svgButtonClicked.raise(this,e)},t.prototype.addCustomItem=function(e,t){wijmo_1.isString(e)&&(e=_toDOM(e)),null!=t&&e.setAttribute(exports._commandTagAttr,t.toString()),this._toolbarWrapper.appendChild(e)},t.prototype.addSvgButton=function(e,t,o,n){var i=this,r=_createSvgBtn(t);return r.title=e,r.setAttribute(exports._commandTagAttr,o.toString()),this._toolbarWrapper.appendChild(r),_addEvent(r,"click,keydown",function(e){var t=e||window.event;("keydown"!==t.type||t.keyCode!==wijmo_1.Key.Enter)&&"click"!==t.type||_isDisabledImageButton(r)||!n&&_isCheckedImageButton(r)||i.onSvgButtonClicked({commandTag:o})}),r},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),t&&this._globalize()},t._moveStep=4,t._moveInterval=5,t._enabledCss="enabled",t.controlTemplate='<div class="wj-toolbar-move left" wj-part="toolbar-left"><span class="wj-glyph-left"></span></div><div class="wj-toolbarcontainer" wj-part="toolbar-container"><div class="wj-toolbarwrapper wj-btn-group" wj-part="toolbar-wrapper"></div></div><div class="wj-toolbar-move right" wj-part="toolbar-right"><span class="wj-glyph-right"></span></div>',t}(wijmo_1.Control);exports._Toolbar=_Toolbar;var _ViewerToolbarBase=function(e){function t(t,o){var n=e.call(this,t)||this;n._viewer=o,n._initToolbarItems();var i=function(){return n.isDisabled=!n._viewer._getDocumentSource()};return n._viewer._documentSourceChanged.addHandler(i),i(),n._viewer._viewerActionStatusChanged.addHandler(function(e,t){var o=t.action,i=n.hostElement.querySelector('[command-tag="'+o.actionType.toString()+'"]');_checkImageButton(i,o.checked),_disableImageButton(i,o.disabled),_showImageButton(i,o.shown),_checkSeparatorShown(n._toolbarWrapper)}),n}return __extends(t,e),t.prototype._initToolbarItems=function(){throw wijmo_1.culture.Viewer.abstractMethodException},t.prototype.onSvgButtonClicked=function(t){e.prototype.onSvgButtonClicked.call(this,t),this._viewer._executeAction(parseInt(t.commandTag))},Object.defineProperty(t.prototype,"viewer",{get:function(){return this._viewer},enumerable:!0,configurable:!0}),t._initToolbarZoomValue=function(e,t){var o,n,i,r,a=wijmo_1.Control.getControl(e),s=document.createElement("div"),c=ViewerBase._defaultZoomValues;s.className="wj-input-zoom",a.addCustomItem(s,_ViewerActionType.ZoomValue),(o=new wijmo_input_1.ComboBox(s)).deferUpdate(function(){for(i=0;i<c.length;i++)for(r=i+1;r<c.length;r++)c[i].value>c[r].value&&(n=c[i],c[i]=c[r],c[r]=n);o.itemsSource=c,o.isEditable=!0,o.displayMemberPath="name",o.selectedValuePath="value",o.selectedValue=1}),o.selectedIndexChanged.addHandler(function(){if(o.isDroppedDown){var e=o.selectedValue;if(null==e){var n=o.text.replace(",","");e=parseFloat(n),isNaN(e)&&(e=100),e*=.01}t.zoomFactor=e}}),o.textChanged.addHandler(function(){var e,n=o.text;if(n.length>0){var i=new RegExp(wijmo_1.culture.Globalize.numberFormat["%"],"g");n=n.replace(i,""),e=wijmo_1.Globalize.parseFloat(n),isNaN(e)||(t.zoomFactor=.01*e)}}),_addEvent(s.querySelector(".wj-form-control"),"blur",function(e){o.text=wijmo_1.Globalize.format(t.zoomFactor,"p0")}),t.zoomFactorChanged.addHandler(function(e,n){o.containsFocus()||(o.text=wijmo_1.Globalize.format(t.zoomFactor,"p0")),o.isDroppedDown=!1})},t._initToolbarPageNumberInput=function(e,t){var o,n=wijmo_1.Control.getControl(e),i=document.createElement("div"),r=document.createElement("span"),a=function(){var e=t._getDocumentSource();e&&null!=e.pageCount&&(o.value=t.pageIndex+1)},s=function(){var e=t._getDocumentSource();e&&null!=e.pageCount&&(r.innerHTML=e.pageCount.toString(),o.max=e.pageCount,o.min=Math.min(e.pageCount,1),a())},c=function(){var e=t._getDocumentSource();e&&(s(),_addWjHandler(t._documentEventKey,e.pageCountChanged,s),_addWjHandler(t._documentEventKey,e.loadCompleted,s))};i.className="wj-pagenumber",n.addCustomItem(i,_ViewerActionType.PageNumber),(o=new wijmo_input_1.InputNumber(i)).format="n0",_addEvent(i,"keyup",function(e){(e||window.event).keyCode===wijmo_1.Key.Enter&&t.moveToPage(o.value-1)}),_addEvent(o.inputElement,"blur",function(e){t.moveToPage(o.value-1)}),n.addCustomItem('<span class="slash">/</span>'),r.className="wj-pagecount",n.addCustomItem(r,_ViewerActionType.PageCountLabel),t.pageIndexChanged.addHandler(a),t._getDocumentSource()&&c(),t._documentSourceChanged.addHandler(c)},t}(_Toolbar);exports._ViewerToolbarBase=_ViewerToolbarBase;var _SideTabs=function(e){function t(t){var o=e.call(this,t)||this;o._idCounter=0,o._tabPages=[],o._tabPageDic={},o.tabPageActived=new wijmo_1.Event,o.tabPageVisibilityChanged=new wijmo_1.Event,o.expanded=new wijmo_1.Event,o.collapsed=new wijmo_1.Event;var n=o.getTemplate();return o.applyTemplate("wj-control",n,{_headersContainer:"wj-headers",_contentsContainer:"wj-contents"}),o}return __extends(t,e),t.prototype.applyTemplate=function(e,t,o){var n=this.hostElement;if(wijmo_1.addClass(n,e),n.appendChild(_toDOMs(t)),o)for(var i in o){var r=o[i];if(this[i]=n.querySelector('[wj-part="'+r+'"]'),null==this[i]&&n.getAttribute("wj-part")==r&&(this[i]=t),null==this[i])throw'Missing template part: "'+r+'"'}return n},Object.defineProperty(t.prototype,"tabPages",{get:function(){return this._tabPages},enumerable:!0,configurable:!0}),t.prototype.getTabPage=function(e){return this._tabPageDic[e]},t.prototype.getFirstShownTabPage=function(e){var t;return this._tabPages.some(function(o){return!o.isHidden&&o!==e&&(t=o,!0)}),t},Object.defineProperty(t.prototype,"visibleTabPagesCount",{get:function(){var e=0;return this._tabPages.forEach(function(t){t.isHidden||e++}),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activedTabPage",{get:function(){var e;return this._tabPages.some(function(t){return!!t.isActived&&(e=t,!0)}),e},enumerable:!0,configurable:!0}),t.prototype.removePage=function(e){var t;if(t="string"==typeof e?this.getTabPage(e):e){var o=t.id,n=this._tabPages.indexOf(t);if(!(n<0)){if(this._tabPages.splice(n,1),this._tabPageDic[o]=void 0,!this.isCollapsed&&t.isActived){var i=this.getFirstShownTabPage();i?this.active(i):this.collapse()}this._headersContainer.removeChild(t.header),this._contentsContainer.removeChild(t.outContent)}}},t.prototype.addPage=function(e,t,o){var n=this,i=this._getNewTabPageId(),r=document.createElement("li"),a=_toDOM('<div class="wj-tabpane"><div class="wj-tabtitle-wrapper"><h3 class="wj-tabtitle">'+e+'</h3><span class="wj-close">×</span></div><div class="wj-tabcontent-wrapper"><div class="wj-tabcontent-inner"></div></div></div>'),s=_createSvgBtn(t);r.appendChild(s),o=null==o?this._tabPages.length:o,(o=Math.min(Math.max(o,0),this._tabPages.length))>=this._tabPages.length?(this._headersContainer.appendChild(r),this._contentsContainer.appendChild(a)):(this._headersContainer.insertBefore(r,this._tabPages[o].header),this._contentsContainer.insertBefore(a,this._tabPages[o].outContent)),_addEvent(a.querySelector(".wj-close"),"click",function(){n.collapse()}),_addEvent(r.querySelector("a"),"click,keydown",function(e){var t=n.getTabPage(i);t&&(("keydown"===e.type&&e.keyCode===wijmo_1.Key.Enter||"click"===e.type)&&n.active(t))});var c=new _TabPage(a,r,i);(o>=this._tabPages.length?this._tabPages.push(c):this._tabPages.splice(o,0,c),this._tabPageDic[i]=c,this.isCollapsed)||(this.activedTabPage||this.active(c));return c},Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return wijmo_1.hasClass(this.hostElement,t._collapsedCss)},enumerable:!0,configurable:!0}),t.prototype.hide=function(e){var t="string"==typeof e?this.getTabPage(e):e;t&&(wijmo_1.hasClass(t.header,exports._hiddenCss)||(wijmo_1.addClass(t.header,exports._hiddenCss),this.onTabPageVisibilityChanged(t),this.deactive(t)))},t.prototype.show=function(e){var t="string"==typeof e?this.getTabPage(e):e;t&&(wijmo_1.hasClass(t.header,exports._hiddenCss)&&(wijmo_1.removeClass(t.header,exports._hiddenCss),this.onTabPageVisibilityChanged(t),this.isCollapsed||this.activedTabPage||this.active(t)))},t.prototype.deactive=function(e){var o="string"==typeof e?this.getTabPage(e):e;if(o&&o.isActived){wijmo_1.removeClass(o.outContent,t._activedCss),_checkImageButton(o.header.querySelector("a"),!1);var n=this.getFirstShownTabPage(o);n?this.active(n):this.collapse()}},t.prototype.active=function(e){var o="string"==typeof e?this.getTabPage(e):e;o&&(this.expand(),o.isActived||(this._clearActiveStyles(),this.show(o),wijmo_1.addClass(o.outContent,t._activedCss),_checkImageButton(o.header.querySelector("a"),!0),this.onTabPageActived()))},t.prototype.enable=function(e,t){void 0===t&&(t=!0);var o="string"==typeof e?this.getTabPage(e):e;o&&o.enable(t)},t.prototype.enableAll=function(e){void 0===e&&(e=!0),this._tabPages.forEach(function(t){t.enable(e)})},t.prototype.onTabPageActived=function(){this.tabPageActived.raise(this,new wijmo_1.EventArgs)},t.prototype.onTabPageVisibilityChanged=function(e){this.tabPageVisibilityChanged.raise(this,{tabPage:e})},t.prototype.onExpanded=function(){this.expanded.raise(this,new wijmo_1.EventArgs)},t.prototype.onCollapsed=function(){this.collapsed.raise(this,new wijmo_1.EventArgs)},t.prototype.collapse=function(){this.isCollapsed||(this._clearActiveStyles(),wijmo_1.addClass(this.hostElement,t._collapsedCss),this.onCollapsed())},t.prototype.expand=function(){if(this.isCollapsed){if(wijmo_1.removeClass(this.hostElement,t._collapsedCss),!this.activedTabPage){var e=this.getFirstShownTabPage();e&&this.active(e)}this.onExpanded()}},t.prototype.toggle=function(){this.isCollapsed?this.expand():this.collapse()},t.prototype._clearActiveStyles=function(){this._tabPages.forEach(function(e){wijmo_1.removeClass(e.outContent,t._activedCss),_checkImageButton(e.header.querySelector("a"),!1)})},t.prototype._getNewTabPageId=function(){for(;this._tabPageDic[(this._idCounter++).toString()];);return this._idCounter.toString()},t._activedCss="active",t._collapsedCss="collapsed",t.controlTemplate='<ul class="wj-nav wj-btn-group" wj-part="wj-headers"></ul><div class="wj-tabcontent" wj-part="wj-contents"></div>',t}(wijmo_1.Control);exports._SideTabs=_SideTabs;var _TabPage=function(){function e(e,t,o){this._header=t,this._outContent=e,this._content=e.querySelector(".wj-tabcontent-inner"),this._id=o}return Object.defineProperty(e.prototype,"isActived",{get:function(){return wijmo_1.hasClass(this.outContent,_SideTabs._activedCss)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHidden",{get:function(){return wijmo_1.hasClass(this.header,exports._hiddenCss)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"header",{get:function(){return this._header},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outContent",{get:function(){return this._outContent},enumerable:!0,configurable:!0}),e.prototype.enable=function(e){void 0===e&&(e=!0),wijmo_1.enable(this._header,e),wijmo_1.enable(this._content,e)},e.prototype.format=function(e){e(this)},e}();exports._TabPage=_TabPage;var _PageSetupEditor=function(e){function t(t){var o=e.call(this,t)||this;o._uiUpdating=!1;var n;wijmo_1.assert(null!=wijmo_input_1.ComboBox,"Missing dependency: _PageSetupEditor requires wijmo.input."),n=o.getTemplate(),o.applyTemplate("wj-control",n,{_divPaperKind:"div-paper-kind",_divOrientation:"div-page-orientation",_divMarginsLeft:"div-margins-left",_divMarginsRight:"div-margins-right",_divMarginsTop:"div-margins-top",_divMarginsBottom:"div-margins-bottom",_gPaperKind:"g-paperkind",_gOrientation:"g-orientation",_gMargins:"g-margins",_gLeft:"g-left",_gRight:"g-right",_gTop:"g-top",_gBottom:"g-bottom"});var i={format:"n2",min:0,max:4,step:.25,valueChanged:o._updateValue.bind(o)};return o._numMarginsLeft=new wijmo_input_1.InputNumber(o._divMarginsLeft,i),o._numMarginsRight=new wijmo_input_1.InputNumber(o._divMarginsRight,i),o._numMarginsTop=new wijmo_input_1.InputNumber(o._divMarginsTop,i),o._numMarginsBottom=new wijmo_input_1.InputNumber(o._divMarginsBottom,i),o._cmbPaperKind=new wijmo_input_1.ComboBox(o._divPaperKind,{itemsSource:_enumToArray(_PaperKind),displayMemberPath:"text",selectedValuePath:"value",isEditable:!1}),o._cmbPaperKind.selectedIndexChanged.addHandler(o._updateValue,o),o._cmbOrientation=new wijmo_input_1.ComboBox(o._divOrientation,{itemsSource:[wijmo_1.culture.Viewer.portrait,wijmo_1.culture.Viewer.landscape],isEditable:!1}),o._cmbOrientation.selectedIndexChanged.addHandler(o._updateValue,o),o._globalize(),o}return __extends(t,e),Object.defineProperty(t.prototype,"pageSettings",{get:function(){return this._pageSettings},set:function(e){var t=this._clonePageSettings(e);this._pageSettings=t,this._updateUI(),this._cmbPaperKind.focus()},enumerable:!0,configurable:!0}),t.prototype._globalize=function(){var e=wijmo_1.culture.Viewer;this._gPaperKind.textContent=e.paperKind,this._gOrientation.textContent=e.orientation,this._gMargins.textContent=e.margins,this._gLeft.textContent=e.left,this._gRight.textContent=e.right,this._gTop.textContent=e.top,this._gBottom.textContent=e.bottom;var t=this._cmbOrientation.selectedIndex;this._cmbOrientation.itemsSource=[wijmo_1.culture.Viewer.portrait,wijmo_1.culture.Viewer.landscape],this._cmbOrientation.selectedIndex=t},t.prototype._updateValue=function(){if(!this._uiUpdating){var e=this.pageSettings;e&&(e.bottomMargin=new _Unit(this._numMarginsBottom.value,_UnitType.Inch),e.leftMargin=new _Unit(this._numMarginsLeft.value,_UnitType.Inch),e.rightMargin=new _Unit(this._numMarginsRight.value,_UnitType.Inch),e.topMargin=new _Unit(this._numMarginsTop.value,_UnitType.Inch),e.paperSize=this._cmbPaperKind.selectedValue,_setLandscape(e,this._cmbOrientation.text===wijmo_1.culture.Viewer.landscape),this._updateUI())}},t.prototype._clonePageSettings=function(e){if(!e)return null;var t={};return t.height=e.height?new _Unit(e.height):null,t.width=e.width?new _Unit(e.width):null,t.bottomMargin=e.bottomMargin?new _Unit(e.bottomMargin):null,t.leftMargin=e.leftMargin?new _Unit(e.leftMargin):null,t.rightMargin=e.rightMargin?new _Unit(e.rightMargin):null,t.topMargin=e.topMargin?new _Unit(e.topMargin):null,t.landscape=e.landscape,t.paperSize=e.paperSize,t},t.prototype._updateUI=function(){this._uiUpdating=!0;var e=this.pageSettings,t=function(e,t){e.value=_Unit.convertValue(t.value,t.units,_UnitType.Inch)};e&&(this._cmbPaperKind.selectedValue=e.paperSize,this._cmbOrientation.text=e.landscape?wijmo_1.culture.Viewer.landscape:wijmo_1.culture.Viewer.portrait,t(this._numMarginsLeft,e.leftMargin),t(this._numMarginsRight,e.rightMargin),t(this._numMarginsTop,e.topMargin),t(this._numMarginsBottom,e.bottomMargin)),this._uiUpdating=!1},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),t&&this._globalize()},t.controlTemplate='<div><div style="padding:12px;"><table style="table-layout:fixed"><tr><td wj-part="g-paperkind"></td><td><div wj-part="div-paper-kind"></div></td></tr><tr><td wj-part="g-orientation"></td><td><div wj-part="div-page-orientation"></div></td></tr></table><fieldset style="margin-top: 12px"><legend wj-part="g-margins"></legend><table style="table-layout:fixed"><tr><td wj-part="g-left"></td><td><div wj-part="div-margins-left"></div></td></tr><tr><td wj-part="g-right"></td><td><div wj-part="div-margins-right"></div></td></tr><tr><td wj-part="g-top"></td><td><div wj-part="div-margins-top"></div></td></tr><tr><td wj-part="g-bottom"></td><td><div wj-part="div-margins-bottom"></div></td></tr></table></fieldset></div></div>',t}(wijmo_1.Control);exports._PageSetupEditor=_PageSetupEditor;var _PageSetupDialog=function(e){function t(t){var o,n=e.call(this,t)||this;return n.applied=new wijmo_1.Event,n.modal=!0,n.hideTrigger=wijmo_input_1.PopupTrigger.None,o=n.getTemplate(),n.applyTemplate("wj-control wj-content",o,{_gHeader:"g-header",_pageSetupEditorElement:"pagesetup-editor",_btnApply:"btn-apply",_btnCancel:"btn-cancel",_btnClose:"a-close"}),n._pageSetupEditor=new _PageSetupEditor(n._pageSetupEditorElement),n._globalize(),n._addEvents(),n}return __extends(t,e),Object.defineProperty(t.prototype,"pageSettings",{get:function(){return this._pageSetupEditor.pageSettings},enumerable:!0,configurable:!0}),t.prototype._globalize=function(){var e=wijmo_1.culture.Viewer;this._gHeader.textContent=e.pageSetup,this._btnApply.textContent=e.ok,this._btnCancel.textContent=e.cancel},t.prototype._addEvents=function(){var e=this;_addEvent(e._btnClose,"click",function(){e.hide()}),_addEvent(e._btnCancel,"click",function(){e.hide()}),_addEvent(e._btnApply,"click",function(){e._apply(),e.hide()})},t.prototype._apply=function(){this.onApplied()},t.prototype.onApplied=function(){this.applied.raise(this,new wijmo_1.EventArgs)},t.prototype.showWithValue=function(t){this._pageSetupEditor.pageSettings=t,e.prototype.show.call(this)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),t&&(this._globalize(),this._pageSetupEditor.refresh())},t.controlTemplate='<div><div wj-part="g-header" class="wj-dialog-header"><a class="wj-hide" wj-part="a-close" style="float:right;outline:none;text-decoration:none;padding:0px 6px" href="" tabindex="-1" draggable="false">&times;</a></div><div style="padding:12px;"><div wj-part="pagesetup-editor"></div></div><div class="wj-dialog-footer"><a wj-part="btn-apply" class="wj-hide wj-btn" tabindex="-1"></a>&nbsp;&nbsp;<a wj-part="btn-cancel" class="wj-hide wj-btn" tabindex="-1"></a></div></div>',t}(wijmo_input_1.Popup);exports._PageSetupDialog=_PageSetupDialog;var _MouseTool=function(e){function t(t,o,n,i,r,a,s){var c=e.call(this,t)||this;return c._stopOnClientOut=i,c._css=r,c._activeCss=a,c._visibleCss=s,c._pageView=n,c._viewPanelContainer=o,c._initElement(),c._bindEvents(),c}return __extends(t,e),t.prototype.activate=function(){this._isActive||(this._isActive=!0,wijmo_1.addClass(this._viewPanelContainer,this._activeCss))},t.prototype.deactivate=function(){this._isActive&&(this._isActive=!1,wijmo_1.removeClass(this._viewPanelContainer,this._activeCss))},t.prototype.reset=function(){this._innerStop(null)},Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startPnt",{get:function(){return this._startPnt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageView",{get:function(){return this._pageView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewPanelContainer",{get:function(){return this._viewPanelContainer},enumerable:!0,configurable:!0}),t.prototype._initElement=function(){this.applyTemplate(this._css,this.getTemplate(),this._getTemplateParts()),this._viewPanelContainer.appendChild(this.hostElement)},t.prototype._innerStop=function(e){try{this._stop(e)}finally{this._isStarted=!1,this._startPnt=null}},t.prototype._getTemplateParts=function(){return null},t.prototype._onMouseDown=function(e){var t=this._toClientPoint(e),o=this._testPageWorkingAreaHit(t);o&&this.pageView.isPageContentLoaded(o.pageIndex)&&(void 0!==window.getSelection&&getSelection().removeAllRanges(),this._isStarted=!0,this._startPnt=t,this._start(o))},t.prototype._onMouseMove=function(e){if(this._isStarted){var t=this._toClientPoint(e),o=this._testPageWorkingAreaHit(t);o&&this.pageView.isPageContentLoaded(o.pageIndex)?this._move(t,o):this._stopOnClientOut&&this._stop(t)}},t.prototype._onMouseUp=function(e){this._isStarted&&this._innerStop(this._toClientPoint(e))},t.prototype._start=function(e){wijmo_1.addClass(this.hostElement,this._visibleCss)},t.prototype._move=function(e,t){},t.prototype._stop=function(e){wijmo_1.removeClass(this.hostElement,this._visibleCss)},t.prototype._bindEvents=function(){var e=this;this.addEventListener(this._viewPanelContainer,"mousedown",function(t){e._isActive&&e._onMouseDown(t)}),this.addEventListener(this._viewPanelContainer,"mousemove",function(t){e._isActive&&e._onMouseMove(t)}),this.addEventListener(document,"mouseup",function(t){e._isActive&&e._onMouseUp(t)})},t.prototype._toClientPoint=function(e){var t=this._viewPanelContainer.getBoundingClientRect();return new wijmo_1.Point(e.clientX-t.left,e.clientY-t.top)},t.prototype._testPageWorkingAreaHit=function(e){var t=this._pageView.hitTest(e.x,e.y);return t&&t.hitWorkingArea?t:null},t}(wijmo_1.Control);exports._MouseTool=_MouseTool;var _Rubberband=function(e){function t(t,o,n){var i=e.call(this,t,o,n,!1,"wj-rubberband","rubberband-actived","show")||this;return i.applied=new wijmo_1.Event,i}return __extends(t,e),t.prototype._start=function(t){e.prototype._start.call(this,t),this.hostElement.style.left=this.startPnt.x+"px",this.hostElement.style.top=this.startPnt.y+"px"},t.prototype._move=function(e,t){if(this.startPnt){this.viewPanelContainer.getBoundingClientRect();this.hostElement.style.width=e.x-this.startPnt.x+"px",this.hostElement.style.height=e.y-this.startPnt.y+"px"}},t.prototype._stop=function(t){if(t){var o=this.hostElement.getBoundingClientRect();o.width>5&&o.height>5&&this._onApplied(new _RubberbandOnAppliedEventArgs(new wijmo_1.Rect(this.startPnt.x,this.startPnt.y,o.width,o.height)))}this.hostElement.style.width="0px",this.hostElement.style.height="0px",e.prototype._stop.call(this,t)},t.prototype._onApplied=function(e){this.applied.raise(this,e)},t}(_MouseTool);exports._Rubberband=_Rubberband;var _Magnifier=function(e){function t(t,o,n){var i=e.call(this,t,o,n,!0,"wj-magnifier","magnifier-actived","show")||this;return i._Magnification=2,i._currentPageIndex=-1,i}return __extends(t,e),t.prototype.deactivate=function(){e.prototype.deactivate.call(this),this._currentPageIndex=-1},t.prototype.reset=function(){e.prototype.reset.call(this),this._currentPageIndex=-1},t.prototype._getTemplateParts=function(){return{_viewPageDiv:"view-page-div"}},t.prototype._bindEvents=function(){var t=this;e.prototype._bindEvents.call(this);var o=function(){if(!(t._currentPageIndex<0)){var e=t.pageView.pages[t._currentPageIndex],o=_getRotatedSize(e.size,e.rotateAngle),n=t._viewPageDiv.querySelector("svg");t._viewPageDiv.style.height=o.height.valueInPixel*t.pageView.zoomFactor*t._Magnification+"px",t._viewPageDiv.style.width=o.width.valueInPixel*t.pageView.zoomFactor*t._Magnification+"px",n.setAttribute("width",t._viewPageDiv.style.width),n.setAttribute("height",t._viewPageDiv.style.height),_transformSvg(n,e.size.width.valueInPixel,e.size.height.valueInPixel,t._Magnification*t.pageView.zoomFactor,e.rotateAngle)}};this.pageView.zoomFactorChanged.addHandler(function(){o()}),this.pageView.rotateAngleChanged.addHandler(function(){o()})},t.prototype._start=function(t){e.prototype._start.call(this,t),this._showMagnifer(this.startPnt,t)},t.prototype._move=function(e,t){this._showMagnifer(e,t)},t.prototype._showMagnifer=function(e,t){var o=this.hostElement.getBoundingClientRect(),n=_getPositionByHitTestInfo(t);this.hostElement.style.left=e.x-o.width/2+"px",this.hostElement.style.top=e.y-o.height/2+"px",this._fillPage(n),this._showHitPosition(n)},t.prototype._fillPage=function(e){var t=this;e.pageIndex!==this._currentPageIndex&&(this._currentPageIndex=e.pageIndex,this.pageView.pages[this._currentPageIndex].getContent().then(function(e){var o=e.cloneNode(!0);t._viewPageDiv.innerHTML="",t._viewPageDiv.appendChild(o),o.setAttribute("width",new _Unit(o.getAttribute("width")).valueInPixel*t._Magnification+"px"),o.setAttribute("height",new _Unit(o.getAttribute("height")).valueInPixel*t._Magnification+"px");var n=t.pageView.pages[t._currentPageIndex].size;_transformSvg(o,n.width.valueInPixel,n.height.valueInPixel,t._Magnification*t.pageView.zoomFactor,t.pageView.pages[t._currentPageIndex].rotateAngle),t._viewPageDiv.style.width=o.getAttribute("width"),t._viewPageDiv.style.height=o.getAttribute("height")}))},t.prototype._showHitPosition=function(e){var t=this.hostElement.getBoundingClientRect(),o=this.pageView.pages[this._currentPageIndex],n=_getTransformedPosition(e.pageBounds,o.size,o.rotateAngle,this.pageView.zoomFactor);this._viewPageDiv.style.left=-n.x*this._Magnification+t.width/2+"px",this._viewPageDiv.style.top=-n.y*this._Magnification+t.height/2+"px"},t.controlTemplate='<div wj-part="view-page-div" class="wj-view-page"></div>',t}(_MouseTool);exports._Magnifier=_Magnifier;var ViewerBase=function(e){function t(t,o){var n=e.call(this,t,o,!0)||this;return n._pages=[],n._pageIndex=0,n._mouseMode=MouseMode.SelectTool,n._viewMode=ViewMode.Single,n._needBind=!1,n._historyManager=new _HistoryManager,n._fullScreen=!1,n._miniToolbarPinnedTimer=null,n._autoHeightCalculated=!1,n._searchManager=new _SearchManager,n._thresholdWidth=767,n._historyMoving=!1,n._documentSourceChanged=new wijmo_1.Event,n.pageIndexChanged=new wijmo_1.Event,n.viewModeChanged=new wijmo_1.Event,n.selectMouseModeChanged=new wijmo_1.Event,n.mouseModeChanged=new wijmo_1.Event,n.fullScreenChanged=new wijmo_1.Event,n.zoomFactorChanged=new wijmo_1.Event,n.queryLoadingData=new wijmo_1.Event,n.beforeSendRequest=new wijmo_1.Event,n._viewerActionStatusChanged=new wijmo_1.Event,n._documentEventKey=(new Date).getTime().toString(),n._init(o),n}return __extends(t,e),t.prototype._getProductInfo=function(){return"QNI5,ViewerBase"},Object.defineProperty(t.prototype,"serviceUrl",{get:function(){return this._serviceUrl},set:function(e){e!=this._serviceUrl&&(this._serviceUrl=e,this._needBindDocumentSource(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filePath",{get:function(){return this._filePath},set:function(e){e!=this._filePath&&(this._filePath=e,this._needBindDocumentSource(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"requestHeaders",{get:function(){return this._requestHeaders},set:function(e){this._requestHeaders=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thresholdWidth",{get:function(){return this._thresholdWidth},set:function(e){e!=this._thresholdWidth&&(this._thresholdWidth=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_innerPaginated",{get:function(){return this._documentSource&&!this._needBind?this._documentSource.paginated:this._paginated},set:function(e){this._documentSource&&!this._needBind?this._setPaginated(e):this._paginated=null==e?null:wijmo_1.asBoolean(e),this._setViewerAction(_ViewerActionType.TogglePaginated,!0)},enumerable:!0,configurable:!0}),t.prototype.reload=function(){this._needBindDocumentSource(),this.invalidate()},t.prototype.refresh=function(o){if(void 0===o&&(o=!0),e.prototype.refresh.call(this,o),this._needBind&&(this._setDocumentSource(this._getSource()),this._needBind=!1),o){var n=wijmo_1.Control.getControl(this._toolbar);n&&n.refresh();var i=wijmo_1.Control.getControl(this._miniToolbar);i&&i.refresh();var r=wijmo_1.Control.getControl(this._mobileToolbar);r&&r.refresh();var a=wijmo_1.Control.getControl(this._zoomBar);a&&a.refresh();var s=wijmo_1.Control.getControl(this._searchBar);s&&s.refresh(),this._hamburgerMenu&&this._hamburgerMenu.refresh(),this._viewMenu&&this._viewMenu.refresh(),this._searchOptionsMenu&&this._searchOptionsMenu.refresh(),t._exportItems=null,this._updateExportTab(!0),this._globalize(),this._updateLayout()}this._resetMiniToolbarPosition(),this._resetToolbarWidth(),this._resetViewPanelContainerWidth(),this._autoHeightCalculated=!1},t.prototype._updateLayout=function(){this._switchTemplate(this._isMobileTemplate())},t.prototype._switchTemplate=function(e){var t=this.hostElement.querySelector(".wj-viewer-outer"),o=wijmo_1.Control.getControl(this._sidePanel),n=o.getTabPage(this._pageSetupPageId);e?(wijmo_1.addClass(t,"mobile"),o.show(n)):(wijmo_1.removeClass(t,"mobile"),o.hide(n))},t.prototype._getSource=function(){return this.filePath?new _DocumentSource({serviceUrl:this._serviceUrl,filePath:this._filePath},this):null},t.prototype._needBindDocumentSource=function(){this._needBind=!0},t.prototype._supportsPageSettingActions=function(){return!1},t.prototype._isMobileTemplate=function(){return this.thresholdWidth>this.hostElement.getBoundingClientRect().width},t.prototype._init=function(e){var t=this;this._createChildren(),this._autoCalculateHeight(),this._resetToolbarWidth(),this._resetViewPanelContainerWidth(),this._bindEvents(),this._initTools(),this.deferUpdate(function(){t.initialize(e)})},t.prototype._initTools=function(){var e=this;this._rubberband=new _Rubberband(document.createElement("div"),this._viewpanelContainer,this._pageView),this._rubberband.applied.addHandler(function(t,o){var n=o.rect,i=e._pageView.hitTest(n.left,n.top),r=e._viewpanelContainer.getBoundingClientRect();n.width>n.height?e._pageView.zoomFactor*=r.width/n.width:e._pageView.zoomFactor*=r.height/n.height,e._pageView.moveToPosition(_getPositionByHitTestInfo(i)),e._setActualZoomBoxValue()}),this._magnifier=new _Magnifier(document.createElement("div"),this._viewpanelContainer,this._pageView)},t.prototype._globalize=function(){var e=wijmo_1.culture.Viewer;this._gSearchTitle.textContent=e.search,this._gMatchCase.innerHTML="&nbsp;&nbsp;&nbsp;"+e.matchCase,this._gWholeWord.innerHTML="&nbsp;&nbsp;&nbsp;"+e.wholeWord,this._gSearchResults.textContent=e.searchResults,this._gThumbnailsTitle.textContent=e.thumbnails,this._gOutlinesTitle.textContent=e.outlines,this._gPageSetupTitle.textContent=e.pageSetup,this._gPageSetupApplyBtn.textContent=e.ok,this._gExportsPageTitle.textContent=e.exports,this._gExportsPageApplyBtn.textContent=e.exportOk,this._gExportFormatTitle.textContent=e.exportFormat},t.prototype._autoCalculateHeight=function(){if(this._shouldAutoHeight()){var e=this._viewpanelContainer.style.height;this._viewpanelContainer.style.height="100%",this._viewerContainer.style.height=Math.max(this._viewpanelContainer.getBoundingClientRect().height,t._viewpanelContainerMinHeight)+"px",this._viewpanelContainer.style.height=e}},t.prototype._bindEvents=function(){var e=this;_addEvent(window,"unload",function(){e._documentSource&&e._documentSource.dispose()}),_addEvent(document,"mousemove",function(t){if(e.fullScreen&&e._miniToolbar){var o=e._checkMiniToolbarVisible(t);null!=e._miniToolbarPinnedTimer&&o?(clearTimeout(e._miniToolbarPinnedTimer),e._miniToolbarPinnedTimer=null,e._showMiniToolbar(o)):null==e._miniToolbarPinnedTimer&&e._showMiniToolbar(o)}}),_addEvent(document,"keydown",function(t){t.keyCode===wijmo_1.Key.Escape&&(e.fullScreen=!1)}),this._historyManager.statusChanged.addHandler(this._onHistoryManagerStatusUpdated,this),this._onHistoryManagerStatusUpdated(),this._pageView.pageIndexChanged.addHandler(function(){e._addHistory(!1,!0),e._updatePageIndex(e._pageView.pageIndex)}),this._pageView.zoomFactorChanged.addHandler(function(t,o){e.zoomMode===ZoomMode.Custom&&e._addHistory(!1,!0,{zoomFactor:o.oldValue}),e.onZoomFactorChanged()}),this._pageView.zoomModeChanged.addHandler(function(t,o){e._addHistory(!1,!0,{zoomMode:o.oldValue}),e._updateZoomModeActions()}),this._pageView.positionChanged.addHandler(function(){setTimeout(function(){e._historyManager.current.position=e._getCurrentPosition()},t._historyTimeout)});var o=!1;this._searchManager.currentChanged.addHandler(function(){if(!o){var t=e._searchManager.current;t&&(o=!0,e._highlightPosition(t.pageIndex,t.boundsList),o=!1)}})},t.prototype._checkMiniToolbarVisible=function(e){var t=e.clientX,o=e.clientY,n=this._miniToolbar.getBoundingClientRect(),i=n.left-60,r=n.right+60,a=n.top-60,s=n.bottom+60;return t>=i&&t<=r&&o>=a&&o<=s},t.prototype._showMiniToolbar=function(e){var t,o=parseFloat(getComputedStyle(this._miniToolbar,"").opacity),n=this._miniToolbar;t=e?setInterval(function(){o>=.8?window.clearInterval(t):(o+=.01,n.style.opacity=o.toString())},1):setInterval(function(){o<0?window.clearInterval(t):(o-=.01,n.style.opacity=o.toString())},1)},t.prototype._goToBookmark=function(e){var t=this;this._documentSource&&e.data&&this._documentSource.getBookmark(e.data).then(function(e){e&&t._scrollToPosition(e,!0)})},t.prototype._executeCustomAction=function(e){var t=this;if(this._documentSource&&e.data){this._initialPosition={pageIndex:this._pageIndex,pageBounds:{x:0,y:0,width:0,height:0}},this._resetDocument(),this._showViewPanelMessage(),this._setDocumentRendering();var o=this._documentSource;this._documentSource.executeCustomAction(e).then(function(e){t._initialPosition=e||t._initialPosition,t._getStatusUtilCompleted(o)}).catch(function(e){t._showViewPanelErrorMessage(_getErrorMessage(e))})}},t.prototype._getStatusUtilCompleted=function(e){var t=this;!e||e.isLoadCompleted||e.isDisposed||e.getStatus().then(function(o){t._documentSource===e&&setTimeout(function(){return t._getStatusUtilCompleted(e)},e._innerService.getPingTimeout())}).catch(function(e){t._showViewPanelErrorMessage(e)})},t.prototype._initChildren=function(){this._initPageView(),this._initToolbar(),this._initSidePanel(),this._initSplitter(),this._initFooter(),this._initSearchBar(),this._initMiniToolbar()},t.prototype._initSearchBar=function(){new _SearchBar(this._searchBar,this),this._showSearchBar(!1)},t.prototype._showSearchBar=function(e){var t=this.hostElement.querySelector(".wj-viewer-outer");e?(wijmo_1.removeClass(this._searchBar,exports._hiddenCss),wijmo_1.addClass(t,"with-searchbar")):(wijmo_1.addClass(this._searchBar,exports._hiddenCss),wijmo_1.removeClass(t,"with-searchbar"))},t.prototype._initFooter=function(){var e=this;new _ViewerZoomBar(this._zoomBar,this),_addEvent(this._footer.querySelector(".wj-close"),"click",function(){e._showFooter(!1)})},t.prototype._showFooter=function(e){var t=this.hostElement.querySelector(".wj-viewer-outer");e?(wijmo_1.removeClass(this._footer,exports._hiddenCss),wijmo_1.addClass(t,"with-footer")):(wijmo_1.addClass(this._footer,exports._hiddenCss),wijmo_1.removeClass(t,"with-footer"))},t.prototype._createChildren=function(){var e=this.getTemplate();this.applyTemplate("wj-viewer wj-control",e,{_viewpanelContainer:"viewpanel-container",_toolbar:"toolbar",_mobileToolbar:"mobile-toolbar",_miniToolbar:"mini-toolbar",_leftPanel:"viewer-left-panel",_sidePanel:"side-panel",_viewerContainer:"viewer-container",_splitter:"splitter",_footer:"viewer-footer",_zoomBar:"zoom-bar",_searchBar:"search-bar"}),this._initChildren()},t.prototype._initPageView=function(){new _CompositePageView(this._viewpanelContainer).viewMode=this.viewMode},Object.defineProperty(t.prototype,"_pageView",{get:function(){return wijmo_1.Control.getControl(this._viewpanelContainer)},enumerable:!0,configurable:!0}),t.prototype._initSplitter=function(){var e=this;_addEvent(this._splitter,"click",function(){return e._toggleSplitter()})},t.prototype._toggleSplitter=function(e){var t=this._splitter.querySelector("span"),o=wijmo_1.Control.getControl(this._sidePanel);if(!0===e){if(wijmo_1.hasClass(t,"wj-glyph-right"))return}else if(!1===e){if(wijmo_1.hasClass(t,"wj-glyph-left"))return}else e=wijmo_1.hasClass(t,"wj-glyph-left");if(e)o.collapse(),t.className="wj-glyph-right";else{if(0===o.visibleTabPagesCount)return;t.className="wj-glyph-left",o.expand()}this._resetViewPanelContainerWidth()},t.prototype._resetMiniToolbarPosition=function(){if(this._miniToolbar){var e=this.hostElement.getBoundingClientRect().width,t=this._miniToolbar.getBoundingClientRect().width;this._miniToolbar.style.left=(e-t)/2+"px"}},t.prototype._resetToolbarWidth=function(){wijmo_1.Control.getControl(this._toolbar).resetWidth()},t.prototype._resetViewPanelContainerWidth=function(){!this._isMobileTemplate()&&this.hostElement.getBoundingClientRect().width<=t._narrowWidthThreshold?wijmo_1.addClass(this.hostElement,t._narrowCss):wijmo_1.removeClass(this.hostElement,t._narrowCss);var e=this._splitter?this._splitter.getBoundingClientRect().width:0,o=this._leftPanel?this._leftPanel.getBoundingClientRect().width:0;this._viewpanelContainer.style.width=this._viewerContainer.getBoundingClientRect().width-e-o+"px",this._pageView.invalidate()},t.prototype._shouldAutoHeight=function(){return("100%"===this.hostElement.style.height||"auto"===this.hostElement.style.height)&&!this.fullScreen},t.prototype._initSidePanel=function(){var e=this,t=new _SideTabs(this._sidePanel);t.collapse(),t.collapsed.addHandler(function(){e._toggleSplitter(!0)}),t.expanded.addHandler(function(){e._toggleSplitter(!1);var t=e._splitter?e._splitter.getBoundingClientRect().width:0;e._sidePanel.getBoundingClientRect().width+t>e._viewerContainer.getBoundingClientRect().width&&wijmo_1.addClass(e._sidePanel,"collapsed")}),t.tabPageVisibilityChanged.addHandler(function(o,n){(!n.tabPage.isHidden&&1==t.visibleTabPagesCount||n.tabPage.isHidden&&0==t.visibleTabPagesCount)&&e._resetViewPanelContainerWidth()}),this._initSidePanelThumbnails(),this._initSidePanelOutlines(),this._initSidePanelSearch(),this._initSidePanelExports(),this._initSidePanelPageSetup()},t.prototype._clearPreHightLights=function(){this._pages.forEach(function(e){var t;if(e.content){t=e.content.querySelectorAll(".highlight");for(var o=0;o<t.length;o++)t.item(o).parentNode.removeChild(t.item(o))}})},t.prototype._highlightPosition=function(e,t){var o,n=this,i=(this._pageIndex,this._pageView.scrollTop,this._pageView.scrollLeft,{pageIndex:e,pageBounds:t.length>0?t[0]:null});this._scrollToPosition(i,!0).then(function(e){n._clearPreHightLights(),n._pages[n.pageIndex].getContent().then(function(e){o=e.querySelector("g");for(var n=0;n<t.length;n++){var i=document.createElementNS("http://www.w3.org/2000/svg","rect");i.setAttributeNS(null,"x",_twipToPixel(t[n].x).toString()),i.setAttributeNS(null,"y",_twipToPixel(t[n].y).toString()),i.setAttributeNS(null,"height",_twipToPixel(t[n].height).toString()),i.setAttributeNS(null,"width",_twipToPixel(t[n].width).toString()),i.setAttributeNS(null,"class","highlight"),o.appendChild(i)}})})},t.prototype._scrollToPosition=function(e,t){return!0===t&&this._addHistory(!0,!1),e.pageIndex=e.pageIndex||0,this._pageView.moveToPosition(e)},t.prototype._initSidePanelSearch=function(){var e=this,t=wijmo_1.Control.getControl(this._sidePanel),o=t.addPage(wijmo_1.culture.Viewer.search,exports.icons.search);this._gSearchTitle=o.outContent.querySelector(".wj-tabtitle"),o.format(function(n){var i=_toDOMs('<div class="wj-searchcontainer"><input class="wj-searchbox" wj-part="search-box" type="text"/><div class="wj-btn-group"><button class="wj-btn wj-btn-searchpre">'+_createSvgBtn(exports.icons.searchPrevious).innerHTML+'</button><button class="wj-btn wj-btn-searchnext">'+_createSvgBtn(exports.icons.searchNext).innerHTML+'</button></div></div><div class="wj-searchoption"><label><span wj-part="g-matchCase">&nbsp;&nbsp;&nbsp;'+wijmo_1.culture.Viewer.matchCase+'</span><input type="checkbox" wj-part="match-case" /></label></div><div class="wj-searchoption"><label><span wj-part="g-wholeWord">&nbsp;&nbsp;&nbsp;'+wijmo_1.culture.Viewer.wholeWord+'</span><input type="checkbox" wj-part="whole-word" /></label></div><h3 wj-part="g-searchResults" class="wj-searchresult">'+wijmo_1.culture.Viewer.searchResults+"</h3>");e._gMatchCase=i.querySelector('[wj-part="g-matchCase"]'),e._gWholeWord=i.querySelector('[wj-part="g-wholeWord"]'),e._gSearchResults=i.querySelector('[wj-part="g-searchResults"]'),n.outContent.querySelector(".wj-tabtitle-wrapper").appendChild(i);var r=n.outContent.querySelectorAll('input[type="checkbox"]')[0],a=n.outContent.querySelectorAll('input[type="checkbox"]')[1],s=n.outContent.querySelector('input[type="text"]'),c=n.outContent.querySelector(".wj-btn-searchpre"),u=n.outContent.querySelector(".wj-btn-searchnext");wijmo_1.addClass(n.content.parentElement,"search-wrapper"),wijmo_1.addClass(n.content,"wj-searchresultlist");var p=new wijmo_input_1.ListBox(n.content),l=!1,h=!1;p.formatItem.addHandler(function(e,t){var o=t.item,n=t.data,i=document.createElement("div"),r=document.createElement("div");o.innerHTML="",r.innerHTML=n.nearText,r.className="wj-search-text",i.innerHTML="Page "+(n.pageIndex+1),i.className="wj-search-page",wijmo_1.addClass(o,"wj-search-item"),o.setAttribute("tabIndex","-1"),o.appendChild(r),o.appendChild(i)}),p.selectedIndexChanged.addHandler(function(){return e._searchManager.currentIndex=p.selectedIndex});var d=function(e){void 0===e&&(e=!0);for(var t=o.outContent.querySelectorAll("input"),n=0;n<t.length;n++)t.item(n).disabled=!e};e._searchManager.searchStarted.addHandler(function(){d(!1)}),e._searchManager.searchCompleted.addHandler(function(){l=!0,e._clearPreHightLights(),p.itemsSource=e._searchManager.searchResult,l=!1,d(!0)}),e._searchManager.currentChanged.addHandler(function(){l||h||e._searchManager.current&&(h=!0,p.selectedIndex=e._searchManager.currentIndex,h=!1)});var _=function(){e._searchManager.clear(),p.itemsSource=null,r.checked=!1,a.checked=!1,s.value="",e._documentSource&&e._documentSource.features&&(!e._documentSource.paginated||e._documentSource.features.textSearchInPaginatedMode)?t.show(n):t.hide(n)};e._documentSourceChanged.addHandler(function(){e._documentSource&&_addWjHandler(e._documentEventKey,e._documentSource.loadCompleted,_),_()}),_addEvent(r,"click",function(){e._searchManager.matchCase=r.checked}),_addEvent(a,"click",function(){e._searchManager.wholeWord=a.checked}),_addEvent(s,"input",function(){e._searchManager.text=s.value}),_addEvent(s,"keyup",function(t){var o=t||window.event;o.keyCode===wijmo_1.Key.Enter&&e._searchManager.search(o.shiftKey)}),_addEvent(u,"click",function(){return e._searchManager.search()}),_addEvent(c,"click",function(){return e._searchManager.search(!0)}),_addEvent(n.header,"keydown",function(t){var o,n=e._toolbar;t.keyCode===wijmo_1.Key.Tab&&(o=n.querySelector("[tabIndex=0]")||n.querySelector('input:not([type="hidden"])')||n)&&o.focus&&(o.focus(),t.preventDefault())})})},t.prototype._initSidePanelOutlines=function(){var e=this,t=wijmo_1.Control.getControl(this._sidePanel),o=t.addPage(wijmo_1.culture.Viewer.outlines,exports.icons.outlines);this._gOutlinesTitle=o.outContent.querySelector(".wj-tabtitle"),this._outlinesPageId=o.id,o.format(function(o){wijmo_1.addClass(o.content,"wj-outlines-tree");var n=new wijmo_grid_1.FlexGrid(o.content);n.initialize({autoGenerateColumns:!1,columns:[{binding:"caption",width:"*"}],isReadOnly:!0,childItemsPath:"children",allowResizing:wijmo_grid_1.AllowResizing.None,headersVisibility:wijmo_grid_1.HeadersVisibility.None}),n.itemFormatter=function(e,t,o,n){var i;i=n.firstElementChild?n.firstElementChild.outerHTML:"&nbsp;&nbsp;&nbsp;&nbsp;";var r=e.rows[t].dataItem;n.innerHTML=i+"<a>"+r.caption+"</a>"};var i=!0;n.selectionChanged.addHandler(function(o,n){if(!i){var r=n.panel.rows[n.row];if(r){var a=r.dataItem;if(a.position)e._scrollToPosition(a.position,!0);else if(a.target){if(!e._documentSource)return;e._documentSource.getBookmark(a.target).then(function(t){a.position=t,o.getSelectedState(n.row,n.col)!=wijmo_grid_1.SelectedState.None&&e._scrollToPosition(t,!0)},function(e){})}e._isMobileTemplate()&&t.collapse()}}});var r=!1,a=function(){r||t.isCollapsed||!o.isActived||o.isHidden||(n.refresh(),r=!0)},s=function(){if(!e._documentSource)return n.itemsSource=null,void t.hide(o);_addWjHandler(e._documentEventKey,e._documentSource.loadCompleted,function(){if(!e._documentSource.hasOutlines)return n.itemsSource=null,void t.hide(o);e._documentSource.getOutlines().then(function(e){r=!1,n.itemsSource=e,t.show(o),a(),i=!1})})};e._documentSourceChanged.addHandler(s),t.expanded.addHandler(a),t.tabPageActived.addHandler(a),s()})},t.prototype._initSidePanelThumbnails=function(){var e=this,o=wijmo_1.Control.getControl(this._sidePanel),n=o.addPage(wijmo_1.culture.Viewer.thumbnails,exports.icons.thumbnails);this._gThumbnailsTitle=n.outContent.querySelector(".wj-tabtitle"),this._thumbnailsPageId=n.id,n.format(function(n){wijmo_1.addClass(n.content,"wj-thumbnaillist");var i=new wijmo_input_1.ListBox(n.content),r=null,a=!1;i.formatItem.addHandler(function(o,n){var i=n.item,r=n.data;if(i.innerHTML="",e._pageView.pages){var a=document.createElement("div"),c=_toDOM('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml: space = "preserve" ></svg>'),u=document.createElementNS("http://www.w3.org/2000/svg","g"),p=document.createElementNS("http://www.w3.org/2000/svg","image"),l=document.createElement("div"),h=e._pageView.pages[n.index],d=h.size.height.valueInPixel*t._thumbnailWidth/h.size.width.valueInPixel;wijmo_1.addClass(i,"wj-thumbnail-item"),r().then(function(e){p.setAttributeNS("http://www.w3.org/1999/xlink","href",e)}),p.setAttribute("x","0"),p.setAttribute("y","0"),p.setAttribute("width",t._thumbnailWidth.toString()),p.setAttribute("height",d.toString()),wijmo_1.addClass(a,"wj-pagethumbnail"),a.setAttribute("tabIndex","-1"),u.appendChild(p),c.appendChild(u),a.appendChild(c),i.appendChild(a),s(c,h),l.className="page-index",l.innerHTML=(n.index+1).toString(),i.appendChild(l)}}),i.selectedIndexChanged.addHandler(function(){a||i.selectedIndex<0||i.selectedIndex==e._pageIndex||(e.moveToPage(i.selectedIndex),e._isMobileTemplate()&&o.collapse())}),e.pageIndexChanged.addHandler(function(){return i.selectedIndex=e._pageIndex});var s=function(e,o){var n=t._thumbnailWidth,i=o.size.height.valueInPixel*n/o.size.width.valueInPixel,r=e.parentNode;switch(_transformSvg(e,n,i,1,o.rotateAngle),o.rotateAngle){case _RotateAngle.Rotation90:case _RotateAngle.Rotation270:var a=i;i=n,n=a}r.style.width=n+"px",r.style.height=i+"px",e.setAttribute("width",n.toString()),e.setAttribute("height",i.toString())},c=function(){!o.isCollapsed&&n.isActived&&(r=r||function(){if(!e._documentSource||!e._documentSource.isLoadCompleted||!e._documentSource.pageCount)return null;for(var t=[],o=0;o<e._documentSource.pageCount;o++)!function(o){t.push(function(){var t=new _Promise;return e._documentSource.getExportedUrl({format:"png",resolution:50,outputRange:o+1}).then(function(o){e._documentSource&&e._documentSource._innerService&&!e._documentSource.isDisposed||t.resolve(null),e._documentSource._innerService.downloadDataUrl(o).then(function(e){t.resolve(e)},function(e){return t.resolve(null)})},function(e){return t.resolve(null)}),t})}(o);return t}(),n.isActived&&i.itemsSource!==r&&i.deferUpdate(function(){a=!0,i.itemsSource=r,i.selectedIndex=e._pageIndex,a=!1}))},u=function(){if(!e._documentSource||!e._documentSource.paginated||!e._documentSource.hasThumbnails)return o.hide(n),void(i.itemsSource=null);o.show(n),r=null,c()},p=function(){if(!e._documentSource||!e._documentSource.hasThumbnails)return o.hide(n),void(i.itemsSource=null);_addWjHandler(e._documentEventKey,e._documentSource.loadCompleted,u),_addWjHandler(e._documentEventKey,e._documentSource.pageCountChanged,u),_addWjHandler(e._documentEventKey,e._documentSource.pageSettingsChanged,u),u()};e._documentSourceChanged.addHandler(p),p(),o.expanded.addHandler(function(){o.activedTabPage.id===e._thumbnailsPageId&&c()}),o.tabPageActived.addHandler(function(){o.activedTabPage.id===e._thumbnailsPageId&&c()}),c(),e._pageView.rotateAngleChanged.addHandler(function(){for(var t=i.hostElement.querySelectorAll("svg"),o=0;o<t.length;o++)s(t.item(o),e._pageView.pages[o])})})},t.prototype._initSidePanelExports=function(){var e=this,t=wijmo_1.Control.getControl(this._sidePanel),o=t.addPage(wijmo_1.culture.Viewer.exports,exports.icons.exports);this._gExportsPageTitle=o.outContent.querySelector(".wj-tabtitle"),this._exportsPageId=o.id,o.format(function(o){var n=_toDOMs('<div class="wj-exportcontainer"><label wj-part="g-wj-exportformat">'+wijmo_1.culture.Viewer.exportFormat+'</label><div class="wj-exportformats"></div></div>');o.outContent.querySelector(".wj-tabtitle-wrapper").appendChild(n),e._gExportFormatTitle=o.outContent.querySelector('[wj-part="g-wj-exportformat"]');var i=o.outContent.querySelector(".wj-exportformats");new wijmo_input_1.ComboBox(i),wijmo_1.addClass(o.content.parentElement,"wj-exportformats-wrapper");var r=document.createElement("div"),a=new _ExportOptionEditor(r);o.content.appendChild(r);var s=_toDOMs('<div class="wj-exportformats-footer"><a wj-part="btn-apply" class="wj-btn wj-applybutton" tabindex="-1">'+wijmo_1.culture.Viewer.exportOk+"</a></div>");o.content.appendChild(s);var c=o.content.querySelector('[wj-part="btn-apply"]');e._gExportsPageApplyBtn=c,_addEvent(c,"click",function(){e._documentSource.export(a.options),t.collapse()})});var n=!0;this._documentSourceChanged.addHandler(function(){n=!0,e._documentSource&&_addWjHandler(e._documentEventKey,e._documentSource.loadCompleted,function(){n&&e._ensureExportFormatsLoaded().then(function(){e._updateExportTab(),n=null==e._exportFormats})})}),t.tabPageActived.addHandler(function(){n&&t.activedTabPage.id===e._exportsPageId&&e._ensureExportFormatsLoaded().then(function(){e._updateExportTab(),n=null==e._exportFormats})})},t.prototype._ensureExportFormatsLoaded=function(){var e=this;if(!this._exportFormats&&this._documentSource&&!this._documentSource.isDisposed&&this._documentSource.isInstanceCreated)return this._documentSource.getSupportedExportDescriptions().then(function(t){e._exportFormats=t,e._setViewerAction(_ViewerActionType.ShowExportsPanel)});var t=new _Promise;return t.resolve(),t},t.prototype._updateExportTab=function(e){var t=this;if(this._exportFormats){var o=wijmo_1.Control.getControl(this._sidePanel).getTabPage(this._exportsPageId),n=wijmo_1.Control.getControl(o.outContent.querySelector(".wj-exportformats")),i=wijmo_1.Control.getControl(o.content.firstElementChild);if(e)i.refresh(),n.itemsSource&&n.itemsSource.forEach(function(e){e.name=t._exportItemDescriptions[e.format].name}),n.refresh();else{var r=[];this._exportFormats.forEach(function(e){var o=t._exportItemDescriptions[e.format];isIOS()&&!o.supportIOS||(e.name=o.name,r.push(e))}),n.selectedIndexChanged.addHandler(function(){i.exportDescription=n.selectedItem}),n.itemsSource=r,n.displayMemberPath="name",n.selectedValuePath="format",n.selectedIndex=-1}}},t.prototype._initSidePanelPageSetup=function(){var e=this,t=wijmo_1.Control.getControl(this._sidePanel),o=t.addPage(wijmo_1.culture.Viewer.pageSetup,exports.icons.pageSetup);this._gPageSetupTitle=o.outContent.querySelector(".wj-tabtitle"),this._pageSetupPageId=o.id,o.format(function(o){var n=document.createElement("div"),i=new _PageSetupEditor(n);o.content.appendChild(n),wijmo_1.addClass(n,"wj-pagesetupcontainer");var r=_toDOMs('<div class="wj-pagesetup-footer"><a wj-part="btn-apply" class="wj-btn wj-applybutton" tabindex="-1">'+wijmo_1.culture.Viewer.ok+"</a></div>");o.content.appendChild(r);var a=o.content.querySelector('[wj-part="btn-apply"]');e._gPageSetupApplyBtn=a,_addEvent(a,"click",function(){e._setPageSettings(i.pageSettings),t.collapse()});var s=function(){i.pageSettings=e._documentSource.pageSettings},c=function(){e._documentSource&&(_addWjHandler(e._documentEventKey,e._documentSource.pageSettingsChanged,s),s())};e._documentSourceChanged.addHandler(c),c()})},t.prototype._executeAction=function(e){if(!this._actionIsDisabled(e))switch(e){case _ViewerActionType.TogglePaginated:this._innerPaginated=!this._innerPaginated;break;case _ViewerActionType.Print:this._documentSource&&this._documentSource.print(this._pages.map(function(e){return e.rotateAngle}));break;case _ViewerActionType.ShowExportsPanel:wijmo_1.Control.getControl(this._sidePanel).active(this._exportsPageId);break;case _ViewerActionType.Portrait:this._setPageLandscape(!1);break;case _ViewerActionType.Landscape:this._setPageLandscape(!0);break;case _ViewerActionType.ShowPageSetupDialog:this.showPageSetupDialog();break;case _ViewerActionType.FirstPage:this.moveToPage(0);break;case _ViewerActionType.LastPage:this._moveToLastPage();break;case _ViewerActionType.PrePage:this.moveToPage(this._pageIndex-1);break;case _ViewerActionType.NextPage:this.moveToPage(this._pageIndex+1);break;case _ViewerActionType.Backward:this._moveBackwardHistory();break;case _ViewerActionType.Forward:this._moveForwardHistory();break;case _ViewerActionType.SelectTool:this.mouseMode=MouseMode.SelectTool;break;case _ViewerActionType.MoveTool:this.mouseMode=MouseMode.MoveTool;break;case _ViewerActionType.Continuous:this._addHistory(!1,!0),this.viewMode=ViewMode.Continuous;break;case _ViewerActionType.Single:this._addHistory(!1,!0),this.viewMode=ViewMode.Single;break;case _ViewerActionType.FitPageWidth:this.zoomMode=ZoomMode.PageWidth,this._setActualZoomBoxValue();break;case _ViewerActionType.FitWholePage:this.zoomMode=ZoomMode.WholePage,this._setActualZoomBoxValue();break;case _ViewerActionType.ZoomOut:this._zoomBtnClicked(!1,t._defaultZoomValues),this._setActualZoomBoxValue();break;case _ViewerActionType.ZoomIn:this._zoomBtnClicked(!0,t._defaultZoomValues),this._setActualZoomBoxValue();break;case _ViewerActionType.ToggleFullScreen:this.fullScreen=!this.fullScreen;break;case _ViewerActionType.ShowHamburgerMenu:this._hamburgerMenu.showMenu();break;case _ViewerActionType.ShowViewMenu:this._viewMenu.showMenu();break;case _ViewerActionType.ShowSearchBar:this._showSearchBar(wijmo_1.hasClass(this._searchBar,exports._hiddenCss)),this._setViewerAction(_ViewerActionType.ShowSearchBar);break;case _ViewerActionType.ShowThumbnails:wijmo_1.Control.getControl(this._sidePanel).active(this._thumbnailsPageId);break;case _ViewerActionType.ShowOutlines:wijmo_1.Control.getControl(this._sidePanel).active(this._outlinesPageId);break;case _ViewerActionType.ShowPageSetupPanel:wijmo_1.Control.getControl(this._sidePanel).active(this._pageSetupPageId);break;case _ViewerActionType.ShowZoomBar:this._showFooter(!0);break;case _ViewerActionType.SearchPrev:this._searchManager.search(!0);break;case _ViewerActionType.SearchNext:this._searchManager.search();break;case _ViewerActionType.ShowSearchOptions:this._searchOptionsMenu.showMenu(!0);break;case _ViewerActionType.SearchMatchCase:this._searchManager.matchCase=!this._searchManager.matchCase;break;case _ViewerActionType.SearchMatchWholeWord:this._searchManager.wholeWord=!this._searchManager.wholeWord;break;case _ViewerActionType.RubberbandTool:this.mouseMode=MouseMode.RubberbandTool;break;case _ViewerActionType.MagnifierTool:this.mouseMode=MouseMode.MagnifierTool;break;case _ViewerActionType.RotateDocument:this._rotateDocument();break;case _ViewerActionType.RotatePage:this._rotatePage()}},t.prototype._setActualZoomBoxValue=function(){this.onZoomFactorChanged({updateZoomBox:!0})},t.prototype._initSearchOptionsMenu=function(e){this._searchOptionsMenu=new _SearchOptionsMenu(this,e)},t.prototype._initHamburgerMenu=function(e){this._hamburgerMenu=new _HamburgerMenu(this,e)},t.prototype._initViewMenu=function(e){this._viewMenu=new _ViewMenu(this,e)},t.prototype._initToolbar=function(){new _ViewerToolbar(this._toolbar,this),new _ViewerMobileToolbar(this._mobileToolbar,this)},t.prototype._clearExportFormats=function(){this._exportFormats=null},Object.defineProperty(t.prototype,"_exportItemDescriptions",{get:function(){return t._exportItems||(t._exportItems={pdf:{name:wijmo_1.culture.Viewer.pdfExportName,supportIOS:!0},doc:{name:wijmo_1.culture.Viewer.docExportName,supportIOS:!1},docx:{name:wijmo_1.culture.Viewer.docxExportName,supportIOS:!1},rtf:{name:wijmo_1.culture.Viewer.rtfExportName,supportIOS:!1},xlsx:{name:wijmo_1.culture.Viewer.xlsxExportName,supportIOS:!0},xls:{name:wijmo_1.culture.Viewer.xlsExportName,supportIOS:!0},mhtml:{name:wijmo_1.culture.Viewer.mhtmlExportName,supportIOS:!0},html:{name:wijmo_1.culture.Viewer.htmlExportName,supportIOS:!0},zip:{name:wijmo_1.culture.Viewer.metafileExportName,supportIOS:!1},csv:{name:wijmo_1.culture.Viewer.csvExportName,supportIOS:!0},tiff:{name:wijmo_1.culture.Viewer.tiffExportName,supportIOS:!0},bmp:{name:wijmo_1.culture.Viewer.bmpExportName,supportIOS:!1},emf:{name:wijmo_1.culture.Viewer.emfExportName,supportIOS:!1},gif:{name:wijmo_1.culture.Viewer.gifExportName,supportIOS:!1},jpeg:{name:wijmo_1.culture.Viewer.jpegExportName,suportIOS:!1},jpg:{name:wijmo_1.culture.Viewer.jpegExportName,supportIOS:!1},png:{name:wijmo_1.culture.Viewer.pngExportName,supportIOS:!1},xml:{name:"XML document",supportIOS:!1}}),t._exportItems},enumerable:!0,configurable:!0}),t.prototype._actionIsChecked=function(e){switch(e){case _ViewerActionType.TogglePaginated:return!0===this._innerPaginated;case _ViewerActionType.Landscape:return!(!this._documentSource||!this._documentSource.pageSettings)&&this._documentSource.pageSettings.landscape;case _ViewerActionType.Portrait:return!(!this._documentSource||!this._documentSource.pageSettings)&&!this._documentSource.pageSettings.landscape;case _ViewerActionType.SelectTool:return this.mouseMode===MouseMode.SelectTool;case _ViewerActionType.MoveTool:return this.mouseMode===MouseMode.MoveTool;case _ViewerActionType.RubberbandTool:return this.mouseMode===MouseMode.RubberbandTool;case _ViewerActionType.MagnifierTool:return this.mouseMode===MouseMode.MagnifierTool;case _ViewerActionType.Continuous:return this.viewMode==ViewMode.Continuous;case _ViewerActionType.Single:return this.viewMode==ViewMode.Single;case _ViewerActionType.ToggleFullScreen:return this.fullScreen;case _ViewerActionType.FitPageWidth:return this.zoomMode==ZoomMode.PageWidth;case _ViewerActionType.FitWholePage:return this.zoomMode==ZoomMode.WholePage;case _ViewerActionType.SearchMatchCase:return this._searchManager.matchCase;case _ViewerActionType.SearchMatchWholeWord:return this._searchManager.wholeWord;case _ViewerActionType.ShowSearchBar:return!wijmo_1.hasClass(this._searchBar,exports._hiddenCss)}return!1},t.prototype._isDocumentSourceLoaded=function(){return this._documentSource&&this._documentSource.isLoadCompleted},t.prototype._actionIsDisabled=function(e){if(!(this._isDocumentSourceLoaded()&&this._documentSource.pageCount>0))return!0;switch(e){case _ViewerActionType.TogglePaginated:return null==this._innerPaginated;case _ViewerActionType.ShowExportsPanel:return!this._exportFormats||0===this._exportFormats.length;case _ViewerActionType.Landscape:case _ViewerActionType.Portrait:case _ViewerActionType.ShowPageSetupDialog:case _ViewerActionType.ShowPageSetupPanel:return!this._documentSource||!this._documentSource.pageSettings||!this._documentSource.paginated;case _ViewerActionType.FirstPage:case _ViewerActionType.PrePage:return this._pageIndex<=0;case _ViewerActionType.LastPage:case _ViewerActionType.NextPage:return this._pageIndex>=this._documentSource.pageCount-1;case _ViewerActionType.Backward:return!this._historyManager.canBackward();case _ViewerActionType.Forward:return!this._historyManager.canForward();case _ViewerActionType.Continuous:case _ViewerActionType.Single:return!this._documentSource||!this._documentSource.paginated;case _ViewerActionType.ZoomOut:return this.zoomFactor<=t._defaultZoomValues[0].value;case _ViewerActionType.ZoomIn:var o=t._defaultZoomValues;return this.zoomFactor>=o[o.length-1].value}return!1},t.prototype._actionIsShown=function(e){var t=this._documentSource?this._documentSource.features:null;switch(e){case _ViewerActionType.TogglePaginated:return t&&t.paginated&&t.nonPaginated;case _ViewerActionType.Landscape:case _ViewerActionType.Portrait:case _ViewerActionType.ShowPageSetupDialog:case _ViewerActionType.ShowPageSetupPanel:return t?t.pageSettings:this._supportsPageSettingActions();case _ViewerActionType.SelectTool:case _ViewerActionType.MoveTool:case _ViewerActionType.MagnifierTool:case _ViewerActionType.RubberbandTool:return!wijmo_1.isMobile();case _ViewerActionType.ShowSearchBar:return t&&(!this._documentSource.paginated||t.textSearchInPaginatedMode);case _ViewerActionType.ShowOutlines:return this._documentSource&&this._documentSource.hasOutlines;case _ViewerActionType.ShowThumbnails:return this._documentSource&&this._documentSource.hasThumbnails}return!0},t.prototype._onViewerActionStatusChanged=function(e){this._viewerActionStatusChanged.raise(this,e)},t.prototype._setViewerAction=function(e,t,o,n){var i={actionType:e,disabled:t||this._actionIsDisabled(e),checked:o||this._actionIsChecked(e),shown:n||this._actionIsShown(e)};this._onViewerActionStatusChanged({action:i})},t.prototype._updateViewerActions=function(){this._updatePageSettingsActions(),this._updateViewModeActions(),this._updateMouseModeActions(),this._setViewerAction(_ViewerActionType.ShowExportsPanel)},t.prototype._updateViewModeActions=function(){this._setViewerAction(_ViewerActionType.Continuous),this._setViewerAction(_ViewerActionType.Single)},t.prototype._updatePageSettingsActions=function(){this._setViewerAction(_ViewerActionType.TogglePaginated),this._setViewerAction(_ViewerActionType.Landscape),this._setViewerAction(_ViewerActionType.Portrait),this._setViewerAction(_ViewerActionType.ShowPageSetupDialog)},t.prototype._updateMouseModeActions=function(){this._setViewerAction(_ViewerActionType.SelectTool),this._setViewerAction(_ViewerActionType.MoveTool),this._setViewerAction(_ViewerActionType.MagnifierTool),this._setViewerAction(_ViewerActionType.RubberbandTool)},t.prototype._updateZoomModeActions=function(){this._setViewerAction(_ViewerActionType.FitPageWidth),this._setViewerAction(_ViewerActionType.FitWholePage)},t.prototype._updateZoomFactorActions=function(){this._setViewerAction(_ViewerActionType.ZoomOut),this._setViewerAction(_ViewerActionType.ZoomIn)},t.prototype._onPageSettingsUpdated=function(){this._updatePageSettingsActions(),this._updateViewModeActions(),this._resetToolbarWidth()},t.prototype._onPageCountUpdated=function(){this._updatePageNavActions(),this._resetToolbarWidth()},t.prototype._updatePageNavActions=function(){this._setViewerAction(_ViewerActionType.FirstPage),this._setViewerAction(_ViewerActionType.LastPage),this._setViewerAction(_ViewerActionType.PrePage),this._setViewerAction(_ViewerActionType.NextPage)},t.prototype._onHistoryManagerStatusUpdated=function(){this._setViewerAction(_ViewerActionType.Backward),this._setViewerAction(_ViewerActionType.Forward)},t.prototype._updateUI=function(){var e=this;Object.keys(_ViewerActionType).forEach(function(t){isNaN(t)||e._setViewerAction(_ViewerActionType[_ViewerActionType[t]])});var t=wijmo_1.Control.getControl(this._sidePanel);t&&t.enableAll(this._isDocumentSourceLoaded())},t.prototype._updateViewContainerCursor=function(){this.mouseMode===MouseMode.MoveTool?wijmo_1.hasClass(this._viewpanelContainer,"move")||wijmo_1.addClass(this._viewpanelContainer,"move"):wijmo_1.hasClass(this._viewpanelContainer,"move")&&wijmo_1.removeClass(this._viewpanelContainer,"move")},t.prototype._updateFullScreenStyle=function(){var e=document.body;this.fullScreen?(this._bodyOriginScrollLeft=document.documentElement&&document.documentElement.scrollLeft||e.scrollLeft,this._bodyOriginScrollTop=document.documentElement&&document.documentElement.scrollTop||e.scrollTop,wijmo_1.addClass(this.hostElement,"full-screen"),wijmo_1.addClass(e,"full-screen"),this._hostOriginWidth=this.hostElement.style.width,this._hostOriginHeight=this.hostElement.style.height,this.hostElement.style.width="100%",this.hostElement.style.height="100%",window.scrollTo(0,0)):(wijmo_1.removeClass(this.hostElement,"full-screen"),wijmo_1.removeClass(e,"full-screen"),this.hostElement.style.width=this._hostOriginWidth,this.hostElement.style.height=this._hostOriginHeight,wijmo_1.isNumber(this._bodyOriginScrollLeft)&&(document.documentElement&&(document.documentElement.scrollLeft=this._bodyOriginScrollLeft),e.scrollLeft=this._bodyOriginScrollLeft),wijmo_1.isNumber(this._bodyOriginScrollTop)&&(document.documentElement&&(document.documentElement.scrollTop=this._bodyOriginScrollTop),e.scrollTop=this._bodyOriginScrollTop)),this.refresh()},t.prototype.showPageSetupDialog=function(){this._pageSetupDialog||this._createPageSetupDialog(),this._pageSetupDialog.showWithValue(this._documentSource.pageSettings)},t.prototype._createPageSetupDialog=function(){var e=this,t=document.createElement("div");t.style.display="none",e.hostElement.appendChild(t),e._pageSetupDialog=new _PageSetupDialog(t),e._pageSetupDialog.applied.addHandler(function(){return e._setPageSettings(e._pageSetupDialog.pageSettings)})},t.prototype.zoomToView=function(){wijmo_1._deprecated("zoomToView","zoomMode"),this._documentSource&&(this.zoomMode=ZoomMode.WholePage)},t.prototype.zoomToViewWidth=function(){wijmo_1._deprecated("zoomToViewWidth","zoomMode"),this._documentSource&&(this.zoomMode=ZoomMode.PageWidth)},t.prototype._setPageLandscape=function(e){var t=this._documentSource.pageSettings;_setLandscape(t,e),this._setPageSettings(t)},t.prototype._setPaginated=function(e){var t=this._documentSource.features,o=this._documentSource.pageSettings;t&&o&&e!=o.paginated&&(e&&t.paginated?(o.paginated=!0,this._setPageSettings(o)):!e&&t.nonPaginated&&(o.paginated=!1,this._setPageSettings(o)))},t.prototype._setPageSettings=function(e){var t=this;return this._showViewPanelMessage(),this._setDocumentRendering(),this._documentSource.setPageSettings(e).then(function(e){t._resetDocument(),t._reRenderDocument()}).catch(function(e){t._showViewPanelErrorMessage(_getErrorMessage(e))})},t.prototype._showViewPanelErrorMessage=function(e){this._showViewPanelMessage(e,"errormessage")},t.prototype._showViewPanelMessage=function(e,t){var o=this._viewpanelContainer.querySelector(".wj-viewer-loading");o||((o=document.createElement("div")).innerHTML='<span class="verticalalign"></span><span class="textspan"></span>',this._viewpanelContainer.appendChild(o)),o.className="wj-viewer-loading",t&&wijmo_1.addClass(o,t);var n=o.querySelector(".textspan");n&&(n.innerHTML=e||wijmo_1.culture.Viewer.loading)},t.prototype._removeViewPanelMessage=function(){var e=this._viewpanelContainer.querySelector(".wj-viewer-loading");e&&this._viewpanelContainer.removeChild(e)},t.prototype._reRenderDocument=function(){this._documentSource&&(this._showViewPanelMessage(),this._documentSource.load())},t.prototype._zoomBtnClicked=function(e,t){var o,n;for(o=0;o<t.length;o++){if(t[o].value>this.zoomFactor){n=o-.5;break}if(t[o].value===this.zoomFactor){n=o;break}}null==n&&(n=t.length-.5),n<=0&&!e||n>=t.length-1&&e||(n=e?Math.floor(n)+1:Math.ceil(n)-1,this.zoomFactor=t[n].value)},t.prototype._getDocumentSource=function(){return this._documentSource},t.prototype._setDocumentSource=function(e){var t=this;this._loadDocument(e).then(function(o){t._documentSource==e&&t._ensureExportFormatsLoaded()})},t.prototype._loadDocument=function(e,t,o){var n=this;void 0===t&&(t=!1),void 0===o&&(o=!0);var i=new _Promise;return this._documentSource!==e||t?(this._disposeDocument(o),this._documentSource=e,e&&(_addWjHandler(this._documentEventKey,e.loading,function(){n._updateUI()},this),_addWjHandler(this._documentEventKey,e.loadCompleted,this._onDocumentSourceLoadCompleted,this),_addWjHandler(this._documentEventKey,e.queryLoadingData,function(e,t){n.onQueryLoadingData(t)},this),e.isLoadCompleted?(this._onDocumentSourceLoadCompleted(),this._keepServiceConnection(),i.resolve()):(this._showViewPanelMessage(),e.load().then(function(e){n._keepServiceConnection(),i.resolve(e)}).catch(function(e){n._showViewPanelErrorMessage(_getErrorMessage(e))}))),this._onDocumentSourceChanged(),i):i},t.prototype._actionElementClicked=function(e){var t=this._getActionInfo(e);t&&(t.kind===_ActionKind.Bookmark?this._goToBookmark(t):t.kind===_ActionKind.Custom&&this._executeCustomAction(t))},t.prototype._getActionInfo=function(e){var t=e.getAttribute(_Page._bookmarkAttr);return t?{kind:_ActionKind.Bookmark,data:t}:(t=e.getAttribute(_Page._customActionAttr))?{kind:_ActionKind.Custom,data:t}:null},t.prototype._onDocumentSourceLoadCompleted=function(){var e=this,t=this._documentSource.errors;if(this._documentSource.isLoadCompleted){if(this._removeViewPanelMessage(),this._pages.length=0,this._documentSource.pageCount<=0)return void this._updateUI();for(var o={width:this._documentSource.pageSettings.width,height:this._documentSource.pageSettings.height},n=0;n<this._documentSource.pageCount;n++){var i=this._createPage(n,o);i.linkClicked.addHandler(function(t,o){e._magnifier&&e._magnifier.isActive||e._rubberband&&e._rubberband.isActive||e._actionElementClicked(o.element)}),this._pages.push(i)}this._pageView.pages=this._pages,this._autoHeightCalculated||(this._autoCalculateHeight(),this._autoHeightCalculated=!0);var r=this._documentSource.initialPosition||this._initialPosition;if(this._documentSource.initialPosition=null,this._initialPosition=null,r&&0!=r.pageIndex||(this._pageIndex=0,r={pageIndex:0}),this._scrollToPosition(r),this._updateHistoryCurrent(),this._documentSource.paginated||(this.viewMode=ViewMode.Single),t&&t.length>0)for(n=0;n<t.length;n++)t[n]+"\r\n";this._updateUI()}},t.prototype._createPage=function(e,t){return new _Page(this._documentSource,e,t)},t.prototype._clearKeepSerConnTimer=function(){null!=this._keepSerConnTimer&&clearTimeout(this._keepSerConnTimer)},t.prototype._keepServiceConnection=function(){var e=this;this._clearKeepSerConnTimer();var t=this._documentSource;t&&(this._keepSerConnTimer=setTimeout(function(){e._documentSource===t&&e._documentSource.getStatus().then(function(t){return e._keepServiceConnection()})},this._getExpiredTime()))},t.prototype._getExpiredTime=function(){if(this._expiredTime)return this._expiredTime;var e=this._documentSource;return e&&e.expiredDateTime&&e.executionDateTime?(this._expiredTime=e.expiredDateTime.getTime()-e.executionDateTime.getTime(),this._expiredTime=Math.max(this._expiredTime-12e4,0),this._expiredTime):6e3},t.prototype._disposeDocument=function(e){void 0===e&&(e=!0),this._documentSource&&(_removeAllWjHandlers(this._documentEventKey,this._documentSource.disposed),_removeAllWjHandlers(this._documentEventKey,this._documentSource.pageCountChanged),_removeAllWjHandlers(this._documentEventKey,this._documentSource.pageSettingsChanged),_removeAllWjHandlers(this._documentEventKey,this._documentSource.loadCompleted),_removeAllWjHandlers(this._documentEventKey,this._documentSource.queryLoadingData),e&&this._documentSource.dispose()),this._resetDocument()},t.prototype._resetDocument=function(){this._pages.length=0,this._pageView.resetPages(),this._pageIndex=0,clearTimeout(this._historyTimer),this._historyManager.clear(),this._rubberband&&this._rubberband.reset(),this._magnifier&&this._magnifier.reset()},t.prototype._setDocumentRendering=function(){this._documentSource._updateIsLoadCompleted(!1)},t.prototype.moveToPage=function(e){return this._innerMoveToPage(e)},t.prototype._getCurrentPosition=function(){return _getPositionByHitTestInfo(this._pageView.hitTest(0,0))},t.prototype._resolvePageIndex=function(e){return Math.min(this._documentSource.pageCount-1,Math.max(e,0))},t.prototype._innerMoveToPage=function(e){return this._resolvePageIndex(e)!=this.pageIndex&&this._addHistory(!1,!0),this._updatePageIndex(e),this._pageView.moveToPage(e)},t.prototype._moveToLastPage=function(){var e=new _Promise;return this._ensureDocumentLoadCompleted(e)?this._innerMoveToPage(this._documentSource.pageCount-1):e},t.prototype._moveBackwardHistory=function(){if(this._ensureDocumentLoadCompleted()&&this._historyManager.canBackward()){var e=this._historyManager.backward();this._moveToHistory(e)}},t.prototype._moveForwardHistory=function(){if(this._ensureDocumentLoadCompleted()&&this._historyManager.canForward()){var e=this._historyManager.forward();this._moveToHistory(e)}},t.prototype._moveToHistory=function(e){var t=this;if(e){this._historyMoving=!0,this.viewMode=e.viewMode,e.zoomMode===ZoomMode.Custom?this.zoomFactor=e.zoomFactor:this.zoomMode=e.zoomMode,this._scrollToPosition(e.position).then(function(e){t._historyMoving=!1});for(var o=0;o<e.pageAngles.length;o++)this._pageView.rotatePageTo(o,e.pageAngles[o])}},t.prototype._isPositionEquals=function(e,t,o){return e.pageIndex===t.pageIndex&&(!o||(e.pageBounds==t.pageBounds||null!=e.pageBounds&&null!=t.pageBounds&&(e.pageBounds.x===t.pageBounds.x&&e.pageBounds.y===t.pageBounds.y)))},t.prototype._isPageAnglesChanged=function(e){if(e.length!=this._pageView.pages.length)return!0;for(var t=e.length,o=0;o<t;o++)if(e[o]!==this._pageView.pages[o].rotateAngle)return!0;return!1},t.prototype._updateHistoryCurrent=function(){this._historyManager.current.position=this._getCurrentPosition(),this._historyManager.current.zoomMode=this.zoomMode,this._historyManager.current.zoomFactor=this.zoomFactor,this._historyManager.current.viewMode=this.viewMode,this._updateCurrentPageAngles(this._historyManager.current)},t.prototype._innerAddHistory=function(e){var t=this._getCurrentPosition(),o=this._historyManager.current;this._isPositionEquals(t,o.position,e)&&this.viewMode===o.viewMode&&this.zoomMode===o.zoomMode&&this.zoomFactor===o.zoomFactor&&!this._isPageAnglesChanged(o.pageAngles)||(o.position=o.position||this._getCurrentPosition(),o.viewMode=null==o.viewMode?this.viewMode:o.viewMode,o.zoomMode=null==o.zoomMode?this.zoomMode:o.zoomMode,o.zoomFactor=null==o.zoomFactor?this.zoomFactor:o.zoomFactor,o.pageAngles||this._updateCurrentPageAngles(o),this._historyManager.add(),this._updateHistoryCurrent())},t.prototype._addHistory=function(e,o,n){var i=this;this.isUpdating||this._historyMoving||!this._isDocumentSourceLoaded()||(o?(this._mergeHistory(n),null!=this._historyTimer&&clearTimeout(this._historyTimer),this._historyTimer=setTimeout(function(){i._historyTimer=null,i._innerAddHistory(e)},t._historyTimeout)):this._innerAddHistory(e))},t.prototype._updateCurrentPageAngles=function(e){e.pageAngles||(e.pageAngles=new Array);for(var t=this._pageView.pages.length,o=0;o<t;o++)e.pageAngles[o]=this._pageView.pages[o].rotateAngle},t.prototype._mergeHistory=function(e){var t=this._historyManager.current;if(!e)return t.viewMode=this.viewMode,t.zoomMode=this.zoomMode,t.zoomFactor=this.zoomFactor,void this._updateCurrentPageAngles(t);if(null!=e.viewMode&&(t.viewMode=e.viewMode),null!=e.zoomMode&&(t.zoomMode=e.zoomMode),null!=e.zoomFactor&&(t.zoomFactor=e.zoomFactor),e.pageAngles){t.pageAngles=new Array;for(var o=this._pageView.pages.length,n=0;n<o;n++)t.pageAngles[n]=e.pageAngles[n]}},t.prototype._ensureDocumentLoadCompleted=function(e){return this._documentSource?!!this._documentSource.isLoadCompleted||(e&&e.reject("Cannot set page index when document source is not loaded completely."),!1):(e&&e.reject("Cannot set page index without document source."),!1)},t.prototype._updatePageIndex=function(e){this._documentSource&&(e=Math.min(this._documentSource.pageCount-1,Math.max(e,0)),this._pageIndex!==e&&(this._pageIndex=e,this.onPageIndexChanged()))},t.prototype._getRotatedAngle=function(e){switch(e){case _RotateAngle.NoRotate:return _RotateAngle.Rotation90;case _RotateAngle.Rotation90:return _RotateAngle.Rotation180;case _RotateAngle.Rotation180:return _RotateAngle.Rotation270;case _RotateAngle.Rotation270:return _RotateAngle.NoRotate}return _RotateAngle.NoRotate},t.prototype._rotateDocument=function(){this._addHistory(!1,!0);for(var e=this._pageView.pages.length,t=0;t<e;t++)this._pageView.rotatePageTo(t,this._getRotatedAngle(this._pageView.pages[t].rotateAngle))},t.prototype._rotatePage=function(){this._addHistory(!1,!0);var e=this._pageView.pages[this._pageIndex];this._pageView.rotatePageTo(this._pageIndex,this._getRotatedAngle(e.rotateAngle))},Object.defineProperty(t.prototype,"zoomMode",{get:function(){return this._pageView.zoomMode},set:function(e){this._pageView.zoomMode=wijmo_1.asEnum(e,ZoomMode),this._updateZoomModeActions()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomFactor",{get:function(){return this._pageView.zoomFactor},set:function(e){this._pageView.zoomFactor=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewMode",{get:function(){return this._viewMode},set:function(e){e=wijmo_1.asEnum(e,ViewMode),this._viewMode!==e&&(this._viewMode=e,this.onViewModeChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectMouseMode",{get:function(){return this._mouseMode===MouseMode.SelectTool},set:function(e){wijmo_1._deprecated("selectMouseMode","mouseMode"),e&&this._mouseMode===MouseMode.SelectTool||!e&&this._mouseMode!==MouseMode.SelectTool||(this.mouseMode=e?MouseMode.SelectTool:MouseMode.MoveTool)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mouseMode",{get:function(){return this._mouseMode},set:function(e){if(this._mouseMode!==(e=wijmo_1.asEnum(e,MouseMode))){var t=this.selectMouseMode;switch(this._mouseMode=e,this._mouseMode){case MouseMode.RubberbandTool:this._rubberband.activate(),this._magnifier.deactivate();break;case MouseMode.MagnifierTool:this._magnifier.activate(),this._rubberband.deactivate();break;default:this._magnifier.deactivate(),this._rubberband.deactivate()}this.onMouseModeChanged(),t!=this.selectMouseMode&&this.onSelectMouseModeChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullScreen",{get:function(){return this._fullScreen},set:function(e){this._fullScreen!==e&&(this._fullScreen=e,this.onFullScreenChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageIndex",{get:function(){return this._pageIndex},enumerable:!0,configurable:!0}),t.prototype._initMiniToolbar=function(){wijmo_1.Control.getControl(this._miniToolbar)||(new _ViewerMiniToolbar(this._miniToolbar,this),wijmo_1.addClass(this._miniToolbar,"wj-mini-toolbar"))},t.prototype._pinMiniToolbar=function(){var e=this;this._showMiniToolbar(!0),this._miniToolbarPinnedTimer=setTimeout(function(){e._showMiniToolbar(!1),e._miniToolbarPinnedTimer=null},t._miniToolbarPinnedTime)},t.prototype._onDocumentSourceChanged=function(e){this._clearExportFormats(),this._documentSourceChanged.raise(this,e||new wijmo_1.EventArgs),this._updateViewerActions(),this._onPageSettingsUpdated(),this._onPageCountUpdated(),this._updateViewModeActions(),this._searchManager.documentSource=this._documentSource,this._documentSource&&(_addWjHandler(this._documentEventKey,this._documentSource.pageSettingsChanged,this._onPageSettingsUpdated,this),_addWjHandler(this._documentEventKey,this._documentSource.pageCountChanged,this._onPageCountUpdated,this),_addWjHandler(this._documentEventKey,this._documentSource.loadCompleted,this._onPageCountUpdated,this))},t.prototype.onPageIndexChanged=function(e){this.pageIndexChanged.raise(this,e||new wijmo_1.EventArgs),this._updatePageNavActions()},t.prototype.onViewModeChanged=function(e){this.viewModeChanged.raise(this,e||new wijmo_1.EventArgs),this._updateViewModeActions(),this._pageView.viewMode=this.viewMode},t.prototype.onSelectMouseModeChanged=function(e){this.selectMouseModeChanged.hasHandlers&&wijmo_1._deprecated("selectMouseModeChanged","mouseModeChanged"),this.selectMouseModeChanged.raise(this,e)},t.prototype.onMouseModeChanged=function(e){this.mouseModeChanged.raise(this,e||new wijmo_1.EventArgs),(this.mouseMode!==MouseMode.MoveTool&&this.mouseMode!==MouseMode.SelectTool||!wijmo_1.isMobile())&&(this._updateMouseModeActions(),this._updateViewContainerCursor(),this._pageView.panMode=this.mouseMode===MouseMode.MoveTool)},t.prototype.onFullScreenChanged=function(e){this.fullScreenChanged.raise(this,e||new wijmo_1.EventArgs),this._setViewerAction(_ViewerActionType.ToggleFullScreen),this._updateFullScreenStyle(),this.fullScreen&&this._pinMiniToolbar()},t.prototype.onZoomFactorChanged=function(e){this.zoomFactorChanged.raise(this,e||new wijmo_1.EventArgs),this._updateZoomFactorActions(),this._updateZoomModeActions()},t.prototype.onQueryLoadingData=function(e){this.queryLoadingData.raise(this,e)},t.prototype.onBeforeSendRequest=function(e){this.beforeSendRequest.raise(this,e)},t.prototype.beforeSend=function(e){this.onBeforeSendRequest(e)},t._seperatorHtml="<div class='wj-separator' style='width:100%;height: 1px;margin: 3px 0;background-color:rgba(0,0,0,.2)'></div>",t._viewpanelContainerMinHeight=300,t._miniToolbarPinnedTime=3e3,t._narrowCss="narrow",t._narrowWidthThreshold=400,t._thumbnailWidth=100,t._historyTimeout=300,t._defaultZoomValues=[{name:wijmo_1.Globalize.format(.05,"p0"),value:.05},{name:wijmo_1.Globalize.format(.25,"p0"),value:.25},{name:wijmo_1.Globalize.format(.5,"p0"),value:.5},{name:wijmo_1.Globalize.format(.75,"p0"),value:.75},{name:wijmo_1.Globalize.format(1,"p0"),value:1},{name:wijmo_1.Globalize.format(2,"p0"),value:2},{name:wijmo_1.Globalize.format(3,"p0"),value:3},{name:wijmo_1.Globalize.format(4,"p0"),value:4},{name:wijmo_1.Globalize.format(8,"p0"),value:8},{name:wijmo_1.Globalize.format(10,"p0"),value:10}],t.controlTemplate='<div class="wj-viewer-outer wj-content with-footer"><div wj-part="toolbar"></div><div wj-part="mobile-toolbar"></div><div class="wj-viewer-container" wj-part="viewer-container"><div class="wj-viewer-leftpanel" wj-part="viewer-left-panel"><div class="wj-viewer-tabsleft" wj-part="side-panel"></div></div><div class="wj-viewer-splitter" wj-part="splitter"><button class="wj-btn wj-btn-default"><span class="wj-glyph-right"></span></button></div><div class="wj-viewpanel-container" wj-part="viewpanel-container"></div></div><div wj-part="mini-toolbar"></div><div class="wj-searchbar mobile" wj-part="search-bar"></div><div class="wj-viewer-footer mobile" class="wj-viewer-footer" wj-part="viewer-footer"><div wj-part="zoom-bar"></div><span class="wj-close">×</span></div></div>',t}(wijmo_1.Control);exports.ViewerBase=ViewerBase;var PdfViewer=function(e){function t(t,o){return e.call(this,t,o)||this}return __extends(t,e),t.prototype._getProductInfo=function(){return"QNI5,PdfViewer"},Object.defineProperty(t.prototype,"_innerDocumentSource",{get:function(){return this._getDocumentSource()},enumerable:!0,configurable:!0}),t.prototype._getSource=function(){return this.filePath?new _PdfDocumentSource({serviceUrl:this.serviceUrl,filePath:this.filePath},this):null},t}(ViewerBase);exports.PdfViewer=PdfViewer;var _ViewerMiniToolbar=function(e){function t(t,o){return e.call(this,t,o)||this}return __extends(t,e),t.prototype._initToolbarItems=function(){var e=wijmo_1.culture.Viewer;this._gPrint=this.addSvgButton(e.print,exports.icons.print,_ViewerActionType.Print),this.addSeparator(),this._gPreviousPage=this.addSvgButton(e.previousPage,exports.icons.previousPage,_ViewerActionType.PrePage),this._gNextPage=this.addSvgButton(e.nextPage,exports.icons.nextPage,_ViewerActionType.NextPage),_ViewerToolbarBase._initToolbarPageNumberInput(this.hostElement,this.viewer),this.addSeparator(),this._gZoomOut=this.addSvgButton(e.zoomOut,exports.icons.zoomOut,_ViewerActionType.ZoomOut),this._gZoomIn=this.addSvgButton(e.zoomIn,exports.icons.zoomIn,_ViewerActionType.ZoomIn),this._gExitFullScreen=this.addSvgButton(e.exitFullScreen,exports.icons.exitFullScreen,_ViewerActionType.ToggleFullScreen,!0)},t.prototype._globalize=function(){var e=wijmo_1.culture.Viewer;this._gPrint.title=e.print,this._gPreviousPage.title=e.previousPage,this._gNextPage.title=e.nextPage,this._gZoomOut.title=e.zoomOut,this._gZoomIn.title=e.zoomIn,this._gExitFullScreen.title=e.exitFullScreen},t}(_ViewerToolbarBase);exports._ViewerMiniToolbar=_ViewerMiniToolbar;var _ViewerToolbar=function(e){function t(t,o){return e.call(this,t,o)||this}return __extends(t,e),t.prototype._globalize=function(){var e=wijmo_1.culture.Viewer;this._gPaginated.title=e.paginated,this._gPrint.title=e.print,this._gExports.title=e.exports,this._gPortrait.title=e.portrait,this._gLandscape.title=e.landscape,this._gPageSetup.title=e.pageSetup,this._gFirstPage.title=e.firstPage,this._gPreviousPage.title=e.previousPage,this._gNextPage.title=e.nextPage,this._gLastPage.title=e.lastPage,this._gBackwardHistory.title=e.backwardHistory,this._gForwardHistory.title=e.forwardHistory,this._gSelectTool.title=e.selectTool,this._gMoveTool.title=e.moveTool,this._gContinuousMode.title=e.continuousMode,this._gSingleMode.title=e.singleMode,this._gWholePage.title=e.wholePage,this._gPageWidth.title=e.pageWidth,this._gZoomOut.title=e.zoomOut,this._gZoomIn.title=e.zoomIn,this._gRubberbandTool.title=e.rubberbandTool,this._gMagnifierTool.title=e.magnifierTool,this._gRotateDocument.title=e.rotateDocument,this._gRotatePage.title=e.rotatePage,this._gFullScreen.title=e.fullScreen},t.prototype._initToolbarItems=function(){var e=wijmo_1.culture.Viewer;this._gPaginated=this.addSvgButton(e.paginated,exports.icons.paginated,_ViewerActionType.TogglePaginated,!0),this._gPrint=this.addSvgButton(e.print,exports.icons.print,_ViewerActionType.Print),this._gExports=this.addSvgButton(e.exports,exports.icons.exports,_ViewerActionType.ShowExportsPanel),this.addSeparator(),this._gPortrait=this.addSvgButton(e.portrait,exports.icons.portrait,_ViewerActionType.Portrait),this._gLandscape=this.addSvgButton(e.landscape,exports.icons.landscape,_ViewerActionType.Landscape),this._gPageSetup=this.addSvgButton(e.pageSetup,exports.icons.pageSetup,_ViewerActionType.ShowPageSetupDialog),this.addSeparator(),this._gFirstPage=this.addSvgButton(e.firstPage,exports.icons.firstPage,_ViewerActionType.FirstPage),this._gPreviousPage=this.addSvgButton(e.previousPage,exports.icons.previousPage,_ViewerActionType.PrePage),this._gNextPage=this.addSvgButton(e.nextPage,exports.icons.nextPage,_ViewerActionType.NextPage),this._gLastPage=this.addSvgButton(e.lastPage,exports.icons.lastPage,_ViewerActionType.LastPage),_ViewerToolbarBase._initToolbarPageNumberInput(this.hostElement,this.viewer),this.addSeparator(),this._gBackwardHistory=this.addSvgButton(e.backwardHistory,exports.icons.backwardHistory,_ViewerActionType.Backward),this._gForwardHistory=this.addSvgButton(e.forwardHistory,exports.icons.forwardHistory,_ViewerActionType.Forward),this.addSeparator(),this._gSelectTool=this.addSvgButton(e.selectTool,exports.icons.selectTool,_ViewerActionType.SelectTool),this._gMoveTool=this.addSvgButton(e.moveTool,exports.icons.moveTool,_ViewerActionType.MoveTool),this._gContinuousMode=this.addSvgButton(e.continuousMode,exports.icons.continuousView,_ViewerActionType.Continuous),this._gSingleMode=this.addSvgButton(e.singleMode,exports.icons.singleView,_ViewerActionType.Single),this.addSeparator(),this._gWholePage=this.addSvgButton(e.wholePage,exports.icons.fitWholePage,_ViewerActionType.FitWholePage),this._gPageWidth=this.addSvgButton(e.pageWidth,exports.icons.fitPageWidth,_ViewerActionType.FitPageWidth),this._gZoomOut=this.addSvgButton(e.zoomOut,exports.icons.zoomOut,_ViewerActionType.ZoomOut),this._gZoomIn=this.addSvgButton(e.zoomIn,exports.icons.zoomIn,_ViewerActionType.ZoomIn),this._gRubberbandTool=this.addSvgButton(e.rubberbandTool,exports.icons.rubberbandTool,_ViewerActionType.RubberbandTool),this._gMagnifierTool=this.addSvgButton(e.magnifierTool,exports.icons.magnifierTool,_ViewerActionType.MagnifierTool),this._gRotateDocument=this.addSvgButton(e.rotateDocument,exports.icons.rotateDocument,_ViewerActionType.RotateDocument),this._gRotatePage=this.addSvgButton(e.rotatePage,exports.icons.rotatePage,_ViewerActionType.RotatePage),_ViewerToolbarBase._initToolbarZoomValue(this.hostElement,this.viewer),this._gFullScreen=this.addSvgButton(e.fullScreen,exports.icons.fullScreen,_ViewerActionType.ToggleFullScreen,!0)},t}(_ViewerToolbarBase);exports._ViewerToolbar=_ViewerToolbar;var _ViewerMobileToolbarBase=function(e){function t(t,o){var n=e.call(this,t,o)||this;return wijmo_1.addClass(n.hostElement,"mobile"),n}return __extends(t,e),t}(_ViewerToolbarBase);exports._ViewerMobileToolbarBase=_ViewerMobileToolbarBase;var _ViewerZoomBar=function(e){function t(t,o){var n=e.call(this,t,o)||this;return wijmo_1.addClass(n.hostElement,"wj-zoombar"),n}return __extends(t,e),t.prototype._initToolbarItems=function(){var e=wijmo_1.culture.Viewer;this._gZoomOut=this.addSvgButton(e.zoomOut,exports.icons.zoomOut,_ViewerActionType.ZoomOut),_ViewerToolbarBase._initToolbarZoomValue(this.hostElement,this.viewer),this._gZoomIn=this.addSvgButton(e.zoomIn,exports.icons.zoomIn,_ViewerActionType.ZoomIn)},t.prototype._globalize=function(){var e=wijmo_1.culture.Viewer;this._gZoomOut.title=e.zoomOut,this._gZoomIn.title=e.zoomIn},t}(_ViewerMobileToolbarBase);exports._ViewerZoomBar=_ViewerZoomBar;var _ViewerMobileToolbar=function(e){function t(t,o){return e.call(this,t,o)||this}return __extends(t,e),t.prototype._initToolbarItems=function(){var e=wijmo_1.culture.Viewer;this._gShowHamburgerMenu=this.addSvgButton(e.hamburgerMenu,exports.icons.hamburgerMenu,_ViewerActionType.ShowHamburgerMenu),this.viewer._initHamburgerMenu(this._gShowHamburgerMenu),this._gPrevPage=this.addSvgButton(e.previousPage,exports.icons.previousPage,_ViewerActionType.PrePage),this._gNextPage=this.addSvgButton(e.nextPage,exports.icons.nextPage,_ViewerActionType.NextPage),_ViewerToolbarBase._initToolbarPageNumberInput(this.hostElement,this.viewer),this._gShowViewMenu=this.addSvgButton(e.viewMenu,exports.icons.viewMenu,_ViewerActionType.ShowViewMenu),this.viewer._initViewMenu(this._gShowViewMenu),this._gShowSearchBar=this.addSvgButton(e.showSearchBar,exports.icons.search,_ViewerActionType.ShowSearchBar,!0),this._gFullScreen=this.addSvgButton(e.fullScreen,exports.icons.fullScreen,_ViewerActionType.ToggleFullScreen,!0)},t.prototype._globalize=function(){var e=wijmo_1.culture.Viewer;this._gShowHamburgerMenu.title=e.hamburgerMenu,this._gPrevPage.title=e.previousPage,this._gNextPage.title=e.nextPage,this._gShowViewMenu.title=e.viewMenu,this._gShowSearchBar.title=e.showSearchBar,this._gFullScreen.title=e.fullScreen},t}(_ViewerMobileToolbarBase);exports._ViewerMobileToolbar=_ViewerMobileToolbar;var _SearchBar=function(e){function t(t,o){return e.call(this,t,o)||this}return __extends(t,e),t.prototype._initToolbarItems=function(){var e=wijmo_1.culture.Viewer;this._gSearchOptions=this.addSvgButton(e.searchOptions,exports.icons.searchOptions,_ViewerActionType.ShowSearchOptions),this.viewer._initSearchOptionsMenu(this._gSearchOptions),this._initSearchInput(),this._initSearchBtnGroups()},t.prototype._initSearchInput=function(){var e=this,t=_toDOM('<div class="wj-searchcontainer"><input class="wj-searchbox" wj-part="search-box" type="text"/><div class="wj-btn-group"><button class="wj-btn wj-btn-search">'+_createSvgBtn(exports.icons.search).innerHTML+"</button></div></div>"),o=t.querySelector('input[type="text"]'),n=t.querySelector(".wj-btn-search");_addEvent(o,"input",function(){e.viewer._searchManager.text=o.value}),_addEvent(n,"click",function(){e.viewer._searchManager.search()}),this.viewer._searchManager.searchStarted.addHandler(function(){o.disabled=!0}),this.viewer._searchManager.searchCompleted.addHandler(function(){o.disabled=!1}),this.addCustomItem(t)},t.prototype._initSearchBtnGroups=function(){var e=_toDOM('<div class="wj-searchbtn-groups wj-btn-group wj-toolbarwrapper"></div>'),t=wijmo_1.culture.Viewer;this._gSearchPrev=this.addSvgButton(t.searchPrev,exports.icons.searchLeft,_ViewerActionType.SearchPrev),this._gSearchNext=this.addSvgButton(t.searchNext,exports.icons.searchRight,_ViewerActionType.SearchNext),e.appendChild(this._gSearchPrev),e.appendChild(this._gSearchNext),this.addCustomItem(e)},t.prototype._globalize=function(){var e=wijmo_1.culture.Viewer;this._gSearchOptions.title=e.searchOptions,this._gSearchPrev.title=e.searchPrev,this._gSearchNext.title=e.searchNext},t}(_ViewerMobileToolbarBase);exports._SearchBar=_SearchBar;var _ViewerMenuBase=function(e){function t(t,o,n){var i=e.call(this,document.createElement("div"),n)||this;return i.owner=o,i.hostElement.style.display="none",i.owner.appendChild(i.hostElement),i.showDropDownButton=!1,i.itemClicked.addHandler(i._onItemClicked,i),i.formatItem.addHandler(i._formatItem,i),i._viewer=t,i._bindMenuItems(),i.displayMemberPath="title",i.selectedValuePath="commandTag",i._viewer._viewerActionStatusChanged.addHandler(function(e,t){var o=i.dropDown.querySelector("["+exports._commandTagAttr+'="'+t.action.actionType.toString()+'"]');i._updateActionStatusCore(o,t.action)}),i}return __extends(t,e),Object.defineProperty(t.prototype,"viewer",{get:function(){return this._viewer},enumerable:!0,configurable:!0}),t.prototype._bindMenuItems=function(){this.itemsSource=this._initItems()},t.prototype._initItems=function(){throw wijmo_1.culture.Viewer.abstractMethodException},t.prototype._internalFormatItem=function(e,t){if(e&&void 0!==e.commandTag){if(_removeChildren(t),e.icon){var o=document.createElement("span");o.appendChild(_createSvgBtn(e.icon)),t.insertBefore(o,t.firstChild)}t.setAttribute(exports._commandTagAttr,e.commandTag.toString()),this._updateActionStatus(t,e.commandTag)}},t.prototype._formatItem=function(e,t){this._internalFormatItem(this.itemsSource[t.index],t.item)},t.prototype._onItemClicked=function(e){this._viewer._executeAction(parseInt(e.selectedItem.commandTag))},t.prototype._updateActionStatus=function(e,t){this._updateActionStatusCore(e,{actionType:t,checked:this._viewer._actionIsChecked(t),disabled:this._viewer._actionIsDisabled(t),shown:this._viewer._actionIsShown(t)})},t.prototype._updateActionStatusCore=function(e,t){_checkImageButton(e,t.checked),_disableImageButton(e,t.disabled),_showImageButton(e,t.shown)},t.prototype._updateItemsStatus=function(){for(var e=this.dropDown.querySelectorAll("["+exports._commandTagAttr+"]"),t=0;t<e.length;t++){var o=e[t],n=o.getAttribute(exports._commandTagAttr);null!=n&&this._updateActionStatus(o,parseInt(n))}_checkSeparatorShown(this.dropDown)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),t&&this._bindMenuItems(),this.isDroppedDown&&this.showMenu()},t.prototype.showMenu=function(e){this.selectedIndex=-1,wijmo_1.showPopup(this.dropDown,this.owner,e,!1,!1),this.dropDown.style.color=this._viewer.hostElement.style.color,wijmo_1.addClass(this.dropDown,"wj-btn-group-vertical"),wijmo_1.addClass(this.dropDown,"wj-viewer-menu"),this._updateItemsStatus(),this.dropDown.focus()},t}(wijmo_input_1.Menu);exports._ViewerMenuBase=_ViewerMenuBase;var _SearchOptionsMenu=function(e){function t(t,o,n){return e.call(this,t,o,n)||this}return __extends(t,e),t.prototype._initItems=function(){var e=[];return e.push({title:wijmo_1.culture.Viewer.wholeWordMenuItem,commandTag:_ViewerActionType.SearchMatchWholeWord}),e.push({title:wijmo_1.culture.Viewer.matchCaseMenuItem,commandTag:_ViewerActionType.SearchMatchCase}),e},t.prototype._internalFormatItem=function(t,o){if(e.prototype._internalFormatItem.call(this,t,o),t&&void 0!==t.commandTag){var n=document.createElement("span");n.innerHTML=wijmo_1.culture.Viewer.checkMark,wijmo_1.addClass(n,"checkIcon"),o.insertBefore(n,o.firstChild)}},t.prototype._updateActionStatus=function(t,o){e.prototype._updateActionStatus.call(this,t,o),this.viewer._actionIsChecked(o)?wijmo_1.addClass(t,"checked"):wijmo_1.removeClass(t,"checked")},t}(_ViewerMenuBase);exports._SearchOptionsMenu=_SearchOptionsMenu;var _HamburgerMenu=function(e){function t(t,o,n){return e.call(this,t,o,n)||this}return __extends(t,e),t.prototype._initItems=function(){var e=[],t=wijmo_1.culture.Viewer;return e.push({title:t.thumbnails,icon:exports.icons.thumbnails,commandTag:_ViewerActionType.ShowThumbnails}),e.push({title:t.outlines,icon:exports.icons.outlines,commandTag:_ViewerActionType.ShowOutlines}),e.push({title:t.exports,icon:exports.icons.exports,commandTag:_ViewerActionType.ShowExportsPanel}),e.push({title:ViewerBase._seperatorHtml}),e.push({title:t.portrait,icon:exports.icons.portrait,commandTag:_ViewerActionType.Portrait}),e.push({title:t.landscape,icon:exports.icons.landscape,commandTag:_ViewerActionType.Landscape}),e.push({title:t.pageSetup,icon:exports.icons.pageSetup,commandTag:_ViewerActionType.ShowPageSetupPanel}),e.push({title:ViewerBase._seperatorHtml}),e.push({title:t.showZoomBar,icon:exports.icons.showZoomBar,commandTag:_ViewerActionType.ShowZoomBar}),e.push({title:ViewerBase._seperatorHtml}),e.push({title:t.paginated,icon:exports.icons.paginated,commandTag:_ViewerActionType.TogglePaginated}),e.push({title:t.print,icon:exports.icons.print,commandTag:_ViewerActionType.Print}),e.push({title:ViewerBase._seperatorHtml}),e.push({title:t.backwardHistory,icon:exports.icons.backwardHistory,commandTag:_ViewerActionType.Backward}),e.push({title:t.forwardHistory,icon:exports.icons.forwardHistory,commandTag:_ViewerActionType.Forward}),e},t}(_ViewerMenuBase);exports._HamburgerMenu=_HamburgerMenu;var _ViewMenu=function(e){function t(t,o,n){return e.call(this,t,o,n)||this}return __extends(t,e),t.prototype._initItems=function(){var e=[];return e.push({title:wijmo_1.culture.Viewer.singleMode,icon:exports.icons.singleView,commandTag:_ViewerActionType.Single}),e.push({title:wijmo_1.culture.Viewer.continuousMode,icon:exports.icons.continuousView,commandTag:_ViewerActionType.Continuous}),e.push({title:ViewerBase._seperatorHtml}),e.push({title:wijmo_1.culture.Viewer.wholePage,icon:exports.icons.fitWholePage,commandTag:_ViewerActionType.FitWholePage}),e.push({title:wijmo_1.culture.Viewer.pageWidth,icon:exports.icons.fitPageWidth,commandTag:_ViewerActionType.FitPageWidth}),e},t}(_ViewerMenuBase);exports._ViewMenu=_ViewMenu;var _ArReportFormat,_ArDocumentFormat,_ArLoadState,_ArErrorCode,_ReportHamburgerMenu=function(e){function t(t,o,n){return e.call(this,t,o,n)||this}return __extends(t,e),t.prototype._initItems=function(){var t=e.prototype._initItems.call(this);return t.splice(2,0,{title:wijmo_1.culture.Viewer.parameters,icon:exports.parametersIcon,commandTag:ReportViewer._parameterCommandTag}),t},t}(_HamburgerMenu);exports._ReportHamburgerMenu=_ReportHamburgerMenu,function(e){e[e.Rpx=0]="Rpx",e[e.Rdf=1]="Rdf",e[e.Rdlx=2]="Rdlx"}(_ArReportFormat||(_ArReportFormat={})),function(e){e[e.Image=3]="Image",e[e.Pdf=4]="Pdf",e[e.Html=5]="Html",e[e.Word=6]="Word",e[e.Xls=7]="Xls",e[e.Xml=8]="Xml",e[e.Svg=9]="Svg"}(_ArDocumentFormat=exports._ArDocumentFormat||(exports._ArDocumentFormat={})),function(e){e[e.NotStarted=0]="NotStarted",e[e.Rendering=1]="Rendering",e[e.Rendered=2]="Rendered",e[e.Cancelling=3]="Cancelling",e[e.Cancelled=4]="Cancelled",e[e.Error=5]="Error"}(_ArLoadState=exports._ArLoadState||(exports._ArLoadState={})),function(e){e[e.InvalidCulture=0]="InvalidCulture",e[e.InvalidVersion=1]="InvalidVersion",e[e.UnknownReportType=2]="UnknownReportType",e[e.NoSuchReport=3]="NoSuchReport",e[e.ParametersNotSet=4]="ParametersNotSet",e[e.RuntimeIsBusy=5]="RuntimeIsBusy",e[e.InternalError=6]="InternalError",e[e.ParameterNotExists=7]="ParameterNotExists",e[e.NoAcceptableFormats=8]="NoAcceptableFormats",e[e.InvalidToken=9]="InvalidToken",e[e.UnsupportedFormat=10]="UnsupportedFormat",e[e.InvalidSetOfParameters=11]="InvalidSetOfParameters",e[e.MethodNotSupported=12]="MethodNotSupported",e[e.NoValidLicenseFound=13]="NoValidLicenseFound"}(_ArErrorCode=exports._ArErrorCode||(exports._ArErrorCode={}));var ticksOffsetFromUnixEpoch=621355968e9,ticksInMillisecond=1e4,millisecondsInMinute=6e4,_ArReportService=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lifeTime=6e5,t._drillthroughData=null,t._canChangeRenderMode=!1,t._uid=(new Date).getTime().toString(),t._isDisposed=!1,t._hasOutlines=void 0,t}return __extends(t,e),t.StateToStatus=function(e){switch(e){case _ArLoadState.NotStarted:return _ExecutionStatus.notFound;case _ArLoadState.Rendered:return _ExecutionStatus.completed;case _ArLoadState.Rendering:return _ExecutionStatus.rendering;case _ArLoadState.Cancelled:return _ExecutionStatus.stopped;default:throw"Not supported state: "+e}},t.ConvertFormat=function(e){switch(e){case"doc":case"docx":return _ArDocumentFormat.Word;case"html":return _ArDocumentFormat.Svg;case"mhtml":return _ArDocumentFormat.Html;case"pdf":return _ArDocumentFormat.Pdf;case"svg":return _ArDocumentFormat.Svg;case"tiff":case"png":return _ArDocumentFormat.Image;case"xml":return _ArDocumentFormat.Xml;case"xlsx":case"xls":return _ArDocumentFormat.Xls;default:throw"Not supported format: "+e}},t.IsError=function(e){return!!(e&&e.json&&e.json.Error)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoRun",{get:function(){return this._autoRun},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canChangeRenderMode",{get:function(){return this._canChangeRenderMode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parameters",{get:function(){return this._parameters||[]},enumerable:!0,configurable:!0}),t.prototype.getStatus=function(){var e=this,o=new _Promise;return this._isDisposed?o.resolve({status:_ExecutionStatus.cleared}):this._token?(this._ajax(this.serviceUrl+"/GetStatus",{method:"POST",data:{token:this._token}}).then(function(n){var i=t.StateToStatus(n.json.LoadState),r={errorList:n.json.Error?[n.json.Error.Description]:[],pageCount:n.json.AvailablePages,hasOutlines:!!e._hasOutlines,progress:0,status:i};i===_ExecutionStatus.completed&&null==e._hasOutlines?e.getOutlines(!0).then(function(t){r.hasOutlines=e._hasOutlines=(t||[]).length>0,o.resolve(r)}):o.resolve(r)},function(t){o.reject(e._getError(t))}),o):o.resolve({status:_ExecutionStatus.notFound})},t.prototype.setPageSettings=function(e){throw _DocumentSource._abstractMethodException},t.prototype.getBookmark=function(e){var t=new _Promise,o=e.split("|");return t.resolve({pageIndex:parseInt(o[0],10)-1,pageBounds:function(e){if(e){var t=e.split(" ");return{x:_Unit.convertValue(parseFloat(t[0]),_UnitType.Dip,_UnitType.Twip),y:_Unit.convertValue(parseFloat(t[1]),_UnitType.Dip,_UnitType.Twip)}}}(o[1])})},t.prototype.executeCustomAction=function(e){switch(e.arKind){case _ArActionKind.Drillthrough:var t=JSON.parse(e.data);return(new _Promise).resolve(t);case _ArActionKind.Toggle:return this.processOnClick(e.data);default:return(new _Promise).reject("Not implemented action: "+e.arKind)}},t.prototype.load=function(e){var t=this,o=[];if(e){Object.keys(e).forEach(function(t){0===t.indexOf("parameters.")&&(o.push({Name:t.substring("parameters.".length),Value:e[t]}),delete e[t])})}if(this._drillthroughData)return o.length&&this._mergeParameters(o,this._drillthroughData.Parameters||[]),this.loadDrillthroughReport(this._drillthroughData);var n=new _Promise;return this._ajax(this.serviceUrl+"/OpenReport",{method:"POST",data:this._merge(e,{acceptedFormats:[_ArDocumentFormat.Svg],culture:"en-US",lifeTime:this._lifeTime/1e3,reportPath:this.filePath,version:4})}).then(function(e){t._hasDelayedContent=e.json.HasDelayedContent,t._autoRun=!!e.json.AutoRun,t._documentFormat=e.json.DocumentFormat,t._parameters=(e.json.ParameterCollection||[]).map(function(e){return t._convertFromServiceParameter(e)}),t._token=e.json.Token,t._isDisposed=!1;var o=new Date,n=new Date(o.getTime()+t._lifeTime);return{expiredDateTime:n,loadedDateTime:o,features:{nonPaginated:!1,paginated:!0,pageSettings:!1,textSearchInPaginatedMode:!0},pageSettings:{height:new _Unit(1056,_UnitType.Dip),width:new _Unit(816,_UnitType.Dip),leftMargin:new _Unit(48,_UnitType.Dip),rightMargin:new _Unit(48,_UnitType.Dip),topMargin:new _Unit(48,_UnitType.Dip),bottomMargin:new _Unit(48,_UnitType.Dip),paginated:!0},status:{errorList:e.json.Error?[e.json.Error.Description]:[],expiredDateTime:n,pageCount:0,progress:0,status:_ExecutionStatus.loaded}}}).then(function(e){t.getReportProperty("ChangeRenderModeSupported").then(function(i){if(t._canChangeRenderMode=!!i,o&&o.length){var r=t._mergeParameters(o,t._parameters);t.setParameters(r).then(function(t){n.resolve(e)})}else n.resolve(e)})}).catch(function(e){n.reject(t._getError(e))}),n},t.prototype.loadDrillthroughReport=function(e){var t=this,o=new _Promise;return this._ajax(this.serviceUrl+"/OpenDrillthroughReport",{method:"POST",data:{token:this._token,lifeTime:this._lifeTime/1e3,reportPath:e.ReportName}}).then(function(n){t.dispose(!1).then(function(){t._hasDelayedContent=n.json.HasDelayedContent,t._autoRun=!!n.json.AutoRun,t._documentFormat=n.json.DocumentFormat,t._parameters=(n.json.ParameterCollection||[]).map(function(e){return t._convertFromServiceParameter(e)}),t._token=n.json.Token,t._isDisposed=!1;var i=new Date,r=new Date(i.getTime()+t._lifeTime),a={expiredDateTime:r,loadedDateTime:i,features:{nonPaginated:!1,paginated:!0,pageSettings:!1,textSearchInPaginatedMode:!0},pageSettings:{height:new _Unit(1056,_UnitType.Dip),width:new _Unit(816,_UnitType.Dip),leftMargin:new _Unit(48,_UnitType.Dip),rightMargin:new _Unit(48,_UnitType.Dip),topMargin:new _Unit(48,_UnitType.Dip),bottomMargin:new _Unit(48,_UnitType.Dip),paginated:!0},status:{errorList:n.json.Error?[n.json.Error.Description]:[],expiredDateTime:r,pageCount:0,progress:0,status:_ExecutionStatus.loaded}};t.getReportProperty("ChangeRenderModeSupported").then(function(n){t._canChangeRenderMode=!!n,wijmo_1.isArray(e.Parameters)&&e.Parameters.length?t.setParameters(e.Parameters).then(function(e){o.resolve(a)}):o.resolve(a)})})},function(e){o.reject(t._getError(e))}),o},t.prototype.processOnClick=function(e){var t=this,o=new _Promise;return this._ajax(this.serviceUrl+"/ProcessOnClick",{method:"POST",data:{token:this._token,data:{Action:"toggle",Data:e}}}).then(function(e){o.resolve({status:_ExecutionStatus.rendering})},function(e){o.reject(t._getError(e))}),o},t.prototype.getReportProperty=function(e){return this._ajax(this.serviceUrl+"/GetReportProperty",{method:"POST",data:{token:this._token,propertyName:e}}).then(function(e){return e.json.Error?null:e.json.PropertyValue}).catch(function(e){return null})},t.prototype.render=function(e){var t=this;return this._ajax(this.serviceUrl+"/RunReport",{method:"POST",data:{token:this._token}}).then(function(e){return t._isDisposed=!1,{errorList:e.json.Error?[e.json.Error.Description]:[],status:_ExecutionStatus.rendering}})},t.prototype.setDrillthroughData=function(e){this._drillthroughData=e},t.prototype.dispose=function(e){var t=this;return void 0===e&&(e=!0),this._token?this._ajax(this.serviceUrl+"/CloseReport",{method:"POST",async:e,data:{token:this._token}}).then(function(){return t._isDisposed=!0,t._token=null,t._hasOutlines=void 0,{status:_ExecutionStatus.cleared}}):new _Promise},t.prototype.getOutlines=function(e){return void 0===e&&(e=!1),this._getBookmarks(-1,0,e?1:100,!e)},t.prototype._getError=function(e){var o=e;return t.IsError(o)?'ErrorCode: "'+o.json.Error.ErrorCode+'". Description: "'+o.json.Error.Description+'"':e.responseText},t.prototype._getBookmarks=function(e,t,o,n){var i=this;void 0===n&&(n=!0);var r=new _Promise;return this._ajax(this.serviceUrl+"/GetBookmarks",{method:"POST",data:{token:this._token,parentId:e,fromChild:t,count:o}}).then(function(a){var s=(a.json.Bookmarks||[]).map(function(e){return{caption:e.Name,children:e.ChildrenCount>0?function(){return i._getBookmarks(e.ID,0,o)}:null,position:{pageBounds:{height:_Unit.convertValue(e.Size.Width||0,_UnitType.Inch,_UnitType.Twip),width:_Unit.convertValue(e.Size.Height||0,_UnitType.Inch,_UnitType.Twip),x:_Unit.convertValue(e.Location.X||0,_UnitType.Inch,_UnitType.Twip),y:_Unit.convertValue(e.Location.Y||0,_UnitType.Inch,_UnitType.Twip)},pageIndex:e.Page},target:""}}),c=t+s.length;!n||c>=a.json.ChildrenCount||c>=1e5?r.resolve(s):i._getBookmarks(e,c,o).then(function(e){r.resolve(s.concat(e))})}),r},t.prototype.renderToFilter=function(e){var o=this,n=new _Promise;return this.getRenderToFilterUrl(e).then(function(i){o._ajax(i+"&WebViewerControlClientId="+o._uid+(e.outputRange?"&Page="+e.outputRange:""),{method:"GET",parseResponse:!1}).then(function(e){n.resolve(e.xhr)},function(i){t.IsError(i)&&i.json.Error.ErrorCode==_ArErrorCode.RuntimeIsBusy?setTimeout(function(){return o.renderToFilter(e)},o.getPingTimeout()):n.reject(i)})}),n},t.prototype.search=function(e){var t=new _Promise;return this._ajax(this.serviceUrl+"/Search",{method:"POST",data:{token:this._token,options:{Text:e.text,MatchCase:e.matchCase,WholeWord:e.wholeWord},startFrom:{PageIndex:-1},numberOfResults:100}}).then(function(e){var o=e.json.SearchResults.map(function(e){return{nearText:e.DisplayText,positionInNearText:e.TextStart,pageIndex:e.PageIndex,boundsList:[{height:_Unit.convertValue(e.ItemArea.Height||0,_UnitType.Inch,_UnitType.Twip),width:_Unit.convertValue(e.ItemArea.Width||0,_UnitType.Inch,_UnitType.Twip),x:_Unit.convertValue(e.ItemArea.Left||0,_UnitType.Inch,_UnitType.Twip),y:_Unit.convertValue(e.ItemArea.Top||0,_UnitType.Inch,_UnitType.Twip)}]}});t.resolve(o)},function(e){return t.reject(e)}),t},t.prototype.setParameters=function(e){var o=this,n=new _Promise;return this._ajax(this.serviceUrl+"/SetParameters",{method:"POST",data:{token:this._token,parametersSetAtClient:(e||[]).map(function(e){return o._convertToServiceParameter(e)})}}).then(function(e){n.resolve(o._parameters=(e.json.ParameterCollection||[]).map(function(e){return o._convertFromServiceParameter(e)}))}).catch(function(e){t.IsError(e)&&e.json.Error.ErrorCode==_ArErrorCode.ParametersNotSet?n.resolve(o._parameters=(e.json.ParameterCollection||[]).map(function(e){return o._convertFromServiceParameter(e)})):n.reject(e)}),n},t.prototype.validateParameter=function(e){return this._ajax(this.serviceUrl+"/ValidateParameter",{method:"POST",data:{token:this._token,parametersSetAtClient:this._convertToServiceParameter(e)}}).then(function(e){return null})},t.prototype.getRenderToFilterUrl=function(e){var o=this,n=new _Promise;return this._ajax(this.serviceUrl+"/GetRenderedReportLink",{method:"POST",data:{token:this._token}}).then(function(e){n.resolve(e.json.ReportLink.Uri)},function(i){t.IsError(i)&&i.json.Error.ErrorCode==_ArErrorCode.RuntimeIsBusy?setTimeout(function(){return o.getRenderToFilterUrl(e)},o.getPingTimeout()):n.reject(i)}),n},t.prototype.getExportedUrl=function(e){var o,n=this,i=t.ConvertFormat(e.format),r=(o={FileName:n.getFileName()},i==_ArDocumentFormat.Pdf&&(o.EmbedFonts="All"),i==_ArDocumentFormat.Image&&("png"===e.format&&(o.ImageType="PNG"),e.outputRange&&(o.StartPage=e.outputRange.toString(),o.EndPage=e.outputRange.toString()),e.resolution&&(o.DpiX=e.resolution.toString(),o.DpiY=e.resolution.toString())),e.printing&&i==_ArDocumentFormat.Pdf&&(o.PrintOnOpen=!0),o),a=new _Promise;return this._ajax(this.serviceUrl+"/GetExportedReportLink",{method:"POST",data:{token:this._token,format:i,exportingParameters:r,pageRange:null}}).then(function(t){a.resolve(t.json.ReportLink.Uri+(wijmo_1.isNumber(e.outputRange)?"&outputRange="+e.outputRange:"")+(e.printing?"":"&Attachment=1"))},function(o){t.IsError(o)&&o.json.Error.ErrorCode==_ArErrorCode.RuntimeIsBusy?setTimeout(function(){return n.getExportedUrl(e)},n.getPingTimeout()):a.reject(o)}),a},t.prototype.getPingTimeout=function(){return 1e3},t.prototype.getSupportedExportDescriptions=function(){var e=new _Promise;return e.resolve([{name:"TIFF image",format:"tiff"},{name:"Adobe PDF",format:"pdf"},{name:"Web archive (MHTML)",format:"mhtml"},{name:"Microsoft Word",format:"doc"},{name:"Microsoft Excel",format:"xls"},{name:"XML document",format:"xml"}]),e},t.prototype.getFeatures=function(){throw _DocumentSource._abstractMethodException},t.prototype._ajax=function(e,t){var o=new _Promise;return(t=t||{}).urlEncode=!1,this.httpRequest(e,t).then(function(e){var n={xhr:e};try{if(e.responseText&&!1!==t.parseResponse&&(n.json=JSON.parse(e.responseText).d),n.json&&n.json.Error)throw"";o.resolve(n)}catch(e){o.reject(n)}},function(e){o.reject(e)}),o},t.prototype._convertFromServiceParameter=function(e){var t=function(e,t){return null!=e&&_ArParameterType.DateTime,e};return e.Value=t(e.Value,e.ParameterType),e.AvailableValues=(e.AvailableValues||[]).map(function(o){return{Label:o.Label,Value:t(o.Value,e.ParameterType)}}),e},t.prototype._convertToServiceParameter=function(e){var t=function(e,t){return null!=e&&_ArParameterType.DateTime,e};return e.Value=t(e.Value,e.ParameterType),e.Values&&e.Values.forEach(function(o){o.Value=t(o.Value,e.ParameterType)}),e},t.prototype._merge=function(e,t){if(e&&t){for(var o in e)t[o]=e[o];return t}},t.prototype._mergeParameters=function(e,t){var o=[],n=t.map(function(t){var n=t.Name.toLowerCase();o.push(n);var i=e.filter(function(e){return n===e.Name.toLowerCase()});return i.length?(t.Value=i[0].Value,t):t});return n.push.apply(n,e.filter(function(e){return o.indexOf(e.Name.toLowerCase())<0})),n},t.prototype._parseXml=function(e){return(new DOMParser).parseFromString(e,"text/xml")},t}(_DocumentService);exports._ArReportService=_ArReportService;var _ArReportSource=function(e){function t(t,o){return e.call(this,t,o)||this}return __extends(t,e),Object.defineProperty(t.prototype,"autoRun",{get:function(){return this._innerService.autoRun},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"encodeRequestParams",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasParameters",{get:function(){var e=this._innerService.parameters;return e&&e.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasThumbnails",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_innerService",{get:function(){return this.service},enumerable:!0,configurable:!0}),t.prototype.getParameters=function(){var e=new _Promise,t=this._convertParameters(this._innerService.parameters);return e.resolve(t)},t.prototype.setParameters=function(e){var t=this,o=new _Promise,n=[],i={};return this._innerService.parameters.forEach(function(e){i[e.Name]=e}),Object.keys(e).forEach(function(t){var o;n.push(o={AllowEmpty:i[t].AllowEmpty,DateOnly:i[t].DateOnly,MultiLine:i[t].MultiLine,MultiValue:i[t].MultiValue,Name:t,Nullable:i[t].Nullable,ParameterType:i[t].ParameterType}),o.MultiValue&&wijmo_1.isArray(e[t])?o.Values=e[t].map(function(e){return{Value:e}}):o.Value=e[t]}),this._innerService.setParameters(n).then(function(e){t._convertParameters(e.filter(function(e){return e.State!==_ArParameterState.OK}));o.resolve(t._convertParameters(e))}),o},t.prototype.print=function(e){this.getExportedUrl({format:"pdf",printing:!0},!0).then(function(e){if(e)try{var t=window.open(e,"_blank");t&&t.focus()}catch(t){window.location.assign(e+"&Attachment=1")}})},t.prototype._createDocumentService=function(e){return new _ArReportService(e,this.httpHandler)},t.prototype._getIsDisposed=function(){return e.prototype._getIsDisposed.call(this)||this._innerService.isDisposed},t.prototype._updateExecutionInfo=function(t){e.prototype._updateExecutionInfo.call(this,t)},t.prototype._checkIsLoadCompleted=function(e){return e.status===_ExecutionStatus.completed||e.status===_ExecutionStatus.stopped},t.prototype._convertParameters=function(e){return e.map(function(e){return{allowedValues:e.AvailableValues&&e.AvailableValues.length?e.AvailableValues.map(function(e){return{key:e.Label,value:e.Value}}):void 0,allowBlank:e.AllowEmpty,dataType:e.ParameterType===_ArParameterType.Boolean?_ParameterType.Boolean:e.ParameterType===_ArParameterType.DateTime?_ParameterType.DateTime:e.ParameterType===_ArParameterType.Float?_ParameterType.Float:e.ParameterType===_ArParameterType.Integer?_ParameterType.Integer:_ParameterType.String,error:e.ExtendedErrorInfo,hidden:!1,name:e.Name,nullable:!!e.Nullable,maxLength:0,multiValue:e.MultiValue,prompt:e.Prompt,value:e.MultiValue&&e.Values&&e.Values.length?e.Values.map(function(e){return e.Value}):e.Value}})},t}(_ReportSourceBase);exports._ArReportSource=_ArReportSource;var ReportViewer=function(e){function t(t,o){var n=e.call(this,t,o)||this;return n._initSidePanelParameters(),n}return __extends(t,e),t.prototype._getProductInfo=function(){return"QNI5,ReportViewer"},Object.defineProperty(t.prototype,"reportName",{get:function(){return this._reportName},set:function(e){e!=this._reportName&&(this._reportName=e,this._needBindDocumentSource(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paginated",{get:function(){return this._innerPaginated},set:function(e){this._innerPaginated=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parameters",{get:function(){return this._clientParameters},set:function(e){e!=this._clientParameters&&(this._clientParameters=e,this._needBindDocumentSource(),this.invalidate())},enumerable:!0,configurable:!0}),t.getReportNames=function(e,t,o){return _Report.getReportNames(e,t,o)},t.getReports=function(e,t,o,n){return _Report.getReports(e,t,o,n)},t.prototype.onQueryLoadingData=function(t){var o=this;this.parameters&&Object.keys(this.parameters).forEach(function(e){return t.data["parameters."+e]=o.parameters[e]}),e.prototype.onQueryLoadingData.call(this,t)},t.prototype._globalize=function(){e.prototype._globalize.call(this);var t=wijmo_1.culture.Viewer;this._gParameterTitle.textContent=t.parameters},t.prototype._executeAction=function(o){if(e.prototype._executeAction.call(this,o),!this._actionIsDisabled(o))switch(o){case t._parameterCommandTag:wijmo_1.Control.getControl(this._sidePanel).active(this._parametersPageId)}},t.prototype._executeCustomAction=function(t){if(this._isArReport()&&t.arKind===_ArActionKind.Drillthrough){var o=JSON.parse(t.data),n=this._getDocumentSource();n._innerService.setDrillthroughData(o),n._updateIsLoadCompleted(!1),this._loadDocument(n,!0,!1)}else e.prototype._executeCustomAction.call(this,t)},t.prototype._actionIsDisabled=function(o){switch(o){case t._parameterCommandTag:return!this._innerDocumentSource||!this._innerDocumentSource.hasParameters}return e.prototype._actionIsDisabled.call(this,o)},t.prototype._initHamburgerMenu=function(e){this._hamburgerMenu=new _ReportHamburgerMenu(this,e)},t.prototype._initSidePanelParameters=function(){var e=this,t=wijmo_1.Control.getControl(this._sidePanel),o=t.addPage(wijmo_1.culture.Viewer.parameters,exports.parametersIcon,2);this._parametersPageId=o.id,this._gParameterTitle=o.outContent.querySelector(".wj-tabtitle"),o.format(function(o){e._paramsEditor=new _ParametersEditor(o.content),e._paramsEditor.commit.addHandler(function(){e._innerDocumentSource&&e._innerDocumentSource.hasParameters&&(e._showViewPanelMessage(),e._innerDocumentSource.setParameters(e._paramsEditor.parameters).then(function(t){var o=t||[],n=o.some(function(e){return!!e.error});e._paramsEditor._reset(),n?e._paramsEditor.itemsSource=o:(e._resetDocument(),e._paramsEditor.isDisabled=!0,e._renderDocumentSource())}).catch(function(t){e._showViewPanelErrorMessage(_getErrorMessage(t))}),e._isMobileTemplate()&&t.collapse())}),e._paramsEditor.validate.addHandler(function(){e._innerDocumentSource&&e._innerDocumentSource.hasParameters&&(e._paramsEditor.isDisabled=!0,e._innerDocumentSource.setParameters(e._paramsEditor.parameters).then(function(t){e._paramsEditor.itemsSource=t,e._paramsEditor.isDisabled=!1},function(t){e._paramsEditor.isDisabled=!1}))});var n=function(){var n=e._innerDocumentSource;n.status===_ExecutionStatus.cleared||n.status===_ExecutionStatus.notFound?_removeChildren(o.content):n.status===_ExecutionStatus.rendering?e._paramsEditor.isDisabled=!0:n.status===_ExecutionStatus.completed&&(e._paramsEditor.isDisabled=!1),n.status===_ExecutionStatus.loaded&&(n.hasParameters?n.getParameters().then(function(i){i.filter(function(e){return!e.hidden}).length?(t.show(o),t.active(o)):t.hide(o),e._innerDocumentSource!=n||n.isDisposed||(e._paramsEditor.itemsSource=i,i.filter(function(e){return null==e.value&&!e.nullable&&!e.hidden}).length?(e._showViewPanelMessage(wijmo_1.culture.Viewer.requiringParameters),e._updateUI(),wijmo_1.Control.getControl(e._sidePanel).enable(e._parametersPageId)):(e._paramsEditor.isDisabled=!0,e._renderDocumentSource()))}):t.hide(o))},i=function(){e._innerDocumentSource&&(_addWjHandler(e._documentEventKey,e._innerDocumentSource.statusChanged,n),n())};e._documentSourceChanged.addHandler(i),i()})},Object.defineProperty(t.prototype,"_innerDocumentSource",{get:function(){return this._getDocumentSource()},enumerable:!0,configurable:!0}),t.prototype._loadDocument=function(t,o,n){void 0===o&&(o=!1),void 0===n&&(n=!0);var i=this._innerDocumentSource!==t&&!o,r=e.prototype._loadDocument.call(this,t,o,n);return t&&i&&_addWjHandler(this._documentEventKey,t.statusChanged,this._onDocumentStatusChanged,this),r},t.prototype._reRenderDocument=function(){this._renderDocumentSource()},t.prototype._onDocumentStatusChanged=function(){this._innerDocumentSource&&this._innerDocumentSource.status===_ExecutionStatus.loaded&&!this._innerDocumentSource.hasParameters&&this._innerDocumentSource.autoRun&&this._renderDocumentSource()},t.prototype._renderDocumentSource=function(){var e=this;if(this._innerDocumentSource){this._setDocumentRendering();var t=this._innerDocumentSource;t.render().then(function(o){return e._getStatusUtilCompleted(t)})}},t.prototype._disposeDocument=function(t){void 0===t&&(t=!0),this._innerDocumentSource&&_removeAllWjHandlers(this._documentEventKey,this._innerDocumentSource.statusChanged),e.prototype._disposeDocument.call(this,t)},t.prototype._setDocumentRendering=function(){this._innerDocumentSource.status=_ExecutionStatus.rendering,e.prototype._setDocumentRendering.call(this)},t.prototype._getSource=function(){return this.filePath?this._isArReport()?new _ArReportSource({serviceUrl:this.serviceUrl,filePath:this.filePath},this):new _Report({serviceUrl:this.serviceUrl,filePath:this.filePath,reportName:this.reportName,paginated:this.paginated},this):null},t.prototype._supportsPageSettingActions=function(){return!0},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),t&&this._paramsEditor.refresh()},t.prototype._isArReport=function(){return!!this.filePath&&_strEndsWith(this.filePath,".rdlx",!0)},t.prototype._createPage=function(t,o){return this._isArReport()?new _ArPage(this._getDocumentSource(),t,o):e.prototype._createPage.call(this,t,o)},t.prototype._actionElementClicked=function(t){if(this._isArReport()){var o=this._getActionInfo(t);o&&o.arKind===_ArActionKind.Hyperlink?window.open(o.data,"_blank"):e.prototype._actionElementClicked.call(this,t)}else e.prototype._actionElementClicked.call(this,t)},t.prototype._getActionInfo=function(t){if(!this._isArReport())return e.prototype._getActionInfo.call(this,t);var o=t.attributes["arsvg:data-action-type"].value,n=t.attributes["arsvg:data-action-data"].value.replace(/&quot;/g,'"'),i=t.attributes["arsvg:data-action-page"].value;if(o)switch(o){case _ArActionKind.Bookmark:return{kind:_ActionKind.Bookmark,data:n?i+"|"+n:i,arKind:o};default:return{kind:_ActionKind.Custom,data:n,arKind:o}}return null},t._parameterCommandTag=99,t}(ViewerBase);exports.ReportViewer=ReportViewer,wijmo_1._registerModule("wijmo.viewer",selfModule);

/***/ }),

/***/ 0:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("../../../../../src/main.ts");


/***/ }),

/***/ 1:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 3:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 4:
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

},[0]);
//# sourceMappingURL=main.bundle.js.map